(function(){"use strict";var _documentCurrentScript=typeof document<"u"?document.currentScript:null;const App$1={};window.App=App$1,(function(){let e=[],r=[];(()=>{let p="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(n=>n?parseInt(n,36):1);for(let n=0,s=0;n<p.length;n++)(n%2?r:e).push(s=s+p[n])})();function o(p){if(p<768)return!1;for(let n=0,s=e.length;;){let c=n+s>>1;if(p<e[c])s=c;else if(p>=r[c])n=c+1;else return!0;if(n==s)return!1}}function qe(p){return p>=127462&&p<=127487}const bt=8205;function Nt(p,n,s=!0,c=!0){return(s?Na:ld)(p,n,c)}function Na(p,n,s){if(n==p.length)return n;n&&hd(p.charCodeAt(n))&&dd(p.charCodeAt(n-1))&&n--;let c=fd(p,n);for(n+=gd(c);n<p.length;){let Ae=fd(p,n);if(c==bt||Ae==bt||s&&o(Ae))n+=gd(Ae),c=Ae;else if(qe(Ae)){let yt=0,wt=n-2;for(;wt>=0&&qe(fd(p,wt));)yt++,wt-=2;if(yt%2==0)break;n+=2}else break}return n}function ld(p,n,s){for(;n>0;){let c=Na(p,n-2,s);if(c<n)return c;n--}return 0}function fd(p,n){let s=p.charCodeAt(n);if(!dd(s)||n+1==p.length)return s;let c=p.charCodeAt(n+1);return hd(c)?(s-55296<<10)+(c-56320)+65536:s}function hd(p){return p>=56320&&p<57344}function dd(p){return p>=55296&&p<56320}function gd(p){return p<65536?1:2}class yd{lineAt(n){if(n<0||n>this.length)throw new RangeError(`Invalid position ${n} in document of length ${this.length}`);return this.lineInner(n,!1,1,0)}line(n){if(n<1||n>this.lines)throw new RangeError(`Invalid line number ${n} in ${this.lines}-line document`);return this.lineInner(n,!0,1,0)}replace(n,s,c){[n,s]=Gd(this,n,s);let Ae=[];return this.decompose(0,n,Ae,2),c.length&&c.decompose(0,c.length,Ae,3),this.decompose(s,this.length,Ae,1),Ad.from(Ae,this.length-(s-n)+c.length)}append(n){return this.replace(this.length,this.length,n)}slice(n,s=this.length){[n,s]=Gd(this,n,s);let c=[];return this.decompose(n,s,c,0),Ad.from(c,s-n)}eq(n){if(n==this)return!0;if(n.length!=this.length||n.lines!=this.lines)return!1;let s=this.scanIdentical(n,1),c=this.length-this.scanIdentical(n,-1),Ae=new Td(this),yt=new Td(n);for(let wt=s,Wa=s;;){if(Ae.next(wt),yt.next(wt),wt=0,Ae.lineBreak!=yt.lineBreak||Ae.done!=yt.done||Ae.value!=yt.value)return!1;if(Wa+=Ae.value.length,Ae.done||Wa>=c)return!0}}iter(n=1){return new Td(this,n)}iterRange(n,s=this.length){return new Bd(this,n,s)}iterLines(n,s){let c;if(n==null)c=this.iter();else{s==null&&(s=this.lines+1);let Ae=this.line(n).from;c=this.iterRange(Ae,Math.max(Ae,s==this.lines+1?this.length:s<=1?0:this.line(s-1).to))}return new Md(c)}toString(){return this.sliceString(0)}toJSON(){let n=[];return this.flatten(n),n}constructor(){}static of(n){if(n.length==0)throw new RangeError("A document must have at least one line");return n.length==1&&!n[0]?yd.empty:n.length<=32?new _d(n):Ad.from(_d.split(n,[]))}}class _d extends yd{constructor(n,s=xd(n)){super(),this.text=n,this.length=s}get lines(){return this.text.length}get children(){return null}lineInner(n,s,c,Ae){for(let yt=0;;yt++){let wt=this.text[yt],Wa=Ae+wt.length;if((s?c:Wa)>=n)return new Ed(Ae,Wa,c,wt);Ae=Wa+1,c++}}decompose(n,s,c,Ae){let yt=n<=0&&s>=this.length?this:new _d(Dd(this.text,n,s),Math.min(s,this.length)-Math.max(0,n));if(Ae&1){let wt=c.pop(),Wa=Cd(yt.text,wt.text.slice(),0,yt.length);if(Wa.length<=32)c.push(new _d(Wa,wt.length+yt.length));else{let ja=Wa.length>>1;c.push(new _d(Wa.slice(0,ja)),new _d(Wa.slice(ja)))}}else c.push(yt)}replace(n,s,c){if(!(c instanceof _d))return super.replace(n,s,c);[n,s]=Gd(this,n,s);let Ae=Cd(this.text,Cd(c.text,Dd(this.text,0,n)),s),yt=this.length+c.length-(s-n);return Ae.length<=32?new _d(Ae,yt):Ad.from(_d.split(Ae,[]),yt)}sliceString(n,s=this.length,c=`
`){[n,s]=Gd(this,n,s);let Ae="";for(let yt=0,wt=0;yt<=s&&wt<this.text.length;wt++){let Wa=this.text[wt],ja=yt+Wa.length;yt>n&&wt&&(Ae+=c),n<ja&&s>yt&&(Ae+=Wa.slice(Math.max(0,n-yt),s-yt)),yt=ja+1}return Ae}flatten(n){for(let s of this.text)n.push(s)}scanIdentical(){return 0}static split(n,s){let c=[],Ae=-1;for(let yt of n)c.push(yt),Ae+=yt.length+1,c.length==32&&(s.push(new _d(c,Ae)),c=[],Ae=-1);return Ae>-1&&s.push(new _d(c,Ae)),s}}class Ad extends yd{constructor(n,s){super(),this.children=n,this.length=s,this.lines=0;for(let c of n)this.lines+=c.lines}lineInner(n,s,c,Ae){for(let yt=0;;yt++){let wt=this.children[yt],Wa=Ae+wt.length,ja=c+wt.lines-1;if((s?ja:Wa)>=n)return wt.lineInner(n,s,c,Ae);Ae=Wa+1,c=ja+1}}decompose(n,s,c,Ae){for(let yt=0,wt=0;wt<=s&&yt<this.children.length;yt++){let Wa=this.children[yt],ja=wt+Wa.length;if(n<=ja&&s>=wt){let pd=Ae&((wt<=n?1:0)|(ja>=s?2:0));wt>=n&&ja<=s&&!pd?c.push(Wa):Wa.decompose(n-wt,s-wt,c,pd)}wt=ja+1}}replace(n,s,c){if([n,s]=Gd(this,n,s),c.lines<this.lines)for(let Ae=0,yt=0;Ae<this.children.length;Ae++){let wt=this.children[Ae],Wa=yt+wt.length;if(n>=yt&&s<=Wa){let ja=wt.replace(n-yt,s-yt,c),pd=this.lines-wt.lines+ja.lines;if(ja.lines<pd>>4&&ja.lines>pd>>6){let md=this.children.slice();return md[Ae]=ja,new Ad(md,this.length-(s-n)+c.length)}return super.replace(yt,Wa,ja)}yt=Wa+1}return super.replace(n,s,c)}sliceString(n,s=this.length,c=`
`){[n,s]=Gd(this,n,s);let Ae="";for(let yt=0,wt=0;yt<this.children.length&&wt<=s;yt++){let Wa=this.children[yt],ja=wt+Wa.length;wt>n&&yt&&(Ae+=c),n<ja&&s>wt&&(Ae+=Wa.sliceString(n-wt,s-wt,c)),wt=ja+1}return Ae}flatten(n){for(let s of this.children)s.flatten(n)}scanIdentical(n,s){if(!(n instanceof Ad))return 0;let c=0,[Ae,yt,wt,Wa]=s>0?[0,0,this.children.length,n.children.length]:[this.children.length-1,n.children.length-1,-1,-1];for(;;Ae+=s,yt+=s){if(Ae==wt||yt==Wa)return c;let ja=this.children[Ae],pd=n.children[yt];if(ja!=pd)return c+ja.scanIdentical(pd,s);c+=ja.length+1}}static from(n,s=n.reduce((c,Ae)=>c+Ae.length+1,-1)){let c=0;for(let kd of n)c+=kd.lines;if(c<32){let kd=[];for(let Zd of n)Zd.flatten(kd);return new _d(kd,s)}let Ae=Math.max(32,c>>5),yt=Ae<<1,wt=Ae>>1,Wa=[],ja=0,pd=-1,md=[];function vd(kd){let Zd;if(kd.lines>yt&&kd instanceof Ad)for(let Id of kd.children)vd(Id);else kd.lines>wt&&(ja>wt||!ja)?($d(),Wa.push(kd)):kd instanceof _d&&ja&&(Zd=md[md.length-1])instanceof _d&&kd.lines+Zd.lines<=32?(ja+=kd.lines,pd+=kd.length+1,md[md.length-1]=new _d(Zd.text.concat(kd.text),Zd.length+1+kd.length)):(ja+kd.lines>Ae&&$d(),ja+=kd.lines,pd+=kd.length+1,md.push(kd))}function $d(){ja!=0&&(Wa.push(md.length==1?md[0]:Ad.from(md,pd)),pd=-1,ja=md.length=0)}for(let kd of n)vd(kd);return $d(),Wa.length==1?Wa[0]:new Ad(Wa,s)}}yd.empty=new _d([""],0);function xd(p){let n=-1;for(let s of p)n+=s.length+1;return n}function Cd(p,n,s=0,c=1e9){for(let Ae=0,yt=0,wt=!0;yt<p.length&&Ae<=c;yt++){let Wa=p[yt],ja=Ae+Wa.length;ja>=s&&(ja>c&&(Wa=Wa.slice(0,c-Ae)),Ae<s&&(Wa=Wa.slice(s-Ae)),wt?(n[n.length-1]+=Wa,wt=!1):n.push(Wa)),Ae=ja+1}return n}function Dd(p,n,s){return Cd(p,[""],n,s)}class Td{constructor(n,s=1){this.dir=s,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[n],this.offsets=[s>0?1:(n instanceof _d?n.text.length:n.children.length)<<1]}nextInner(n,s){for(this.done=this.lineBreak=!1;;){let c=this.nodes.length-1,Ae=this.nodes[c],yt=this.offsets[c],wt=yt>>1,Wa=Ae instanceof _d?Ae.text.length:Ae.children.length;if(wt==(s>0?Wa:0)){if(c==0)return this.done=!0,this.value="",this;s>0&&this.offsets[c-1]++,this.nodes.pop(),this.offsets.pop()}else if((yt&1)==(s>0?0:1)){if(this.offsets[c]+=s,n==0)return this.lineBreak=!0,this.value=`
`,this;n--}else if(Ae instanceof _d){let ja=Ae.text[wt+(s<0?-1:0)];if(this.offsets[c]+=s,ja.length>Math.max(0,n))return this.value=n==0?ja:s>0?ja.slice(n):ja.slice(0,ja.length-n),this;n-=ja.length}else{let ja=Ae.children[wt+(s<0?-1:0)];n>ja.length?(n-=ja.length,this.offsets[c]+=s):(s<0&&this.offsets[c]--,this.nodes.push(ja),this.offsets.push(s>0?1:(ja instanceof _d?ja.text.length:ja.children.length)<<1))}}}next(n=0){return n<0&&(this.nextInner(-n,-this.dir),n=this.value.length),this.nextInner(n,this.dir)}}class Bd{constructor(n,s,c){this.value="",this.done=!1,this.cursor=new Td(n,s>c?-1:1),this.pos=s>c?n.length:0,this.from=Math.min(s,c),this.to=Math.max(s,c)}nextInner(n,s){if(s<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;n+=Math.max(0,s<0?this.pos-this.to:this.from-this.pos);let c=s<0?this.pos-this.from:this.to-this.pos;n>c&&(n=c),c-=n;let{value:Ae}=this.cursor.next(n);return this.pos+=(Ae.length+n)*s,this.value=Ae.length<=c?Ae:s<0?Ae.slice(Ae.length-c):Ae.slice(0,c),this.done=!this.value,this}next(n=0){return n<0?n=Math.max(n,this.from-this.pos):n>0&&(n=Math.min(n,this.to-this.pos)),this.nextInner(n,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class Md{constructor(n){this.inner=n,this.afterBreak=!0,this.value="",this.done=!1}next(n=0){let{done:s,lineBreak:c,value:Ae}=this.inner.next(n);return s&&this.afterBreak?(this.value="",this.afterBreak=!1):s?(this.done=!0,this.value=""):c?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=Ae,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(yd.prototype[Symbol.iterator]=function(){return this.iter()},Td.prototype[Symbol.iterator]=Bd.prototype[Symbol.iterator]=Md.prototype[Symbol.iterator]=function(){return this});class Ed{constructor(n,s,c,Ae){this.from=n,this.to=s,this.number=c,this.text=Ae}get length(){return this.to-this.from}}function Gd(p,n,s){return n=Math.max(0,Math.min(p.length,n)),[n,Math.max(n,Math.min(p.length,s))]}function Qd(p,n,s=!0,c=!0){return Nt(p,n,s,c)}function zd(p){return p>=56320&&p<57344}function nm(p){return p>=55296&&p<56320}function qd(p,n){let s=p.charCodeAt(n);if(!nm(s)||n+1==p.length)return s;let c=p.charCodeAt(n+1);return zd(c)?(s-55296<<10)+(c-56320)+65536:s}function dm(p){return p<=65535?String.fromCharCode(p):(p-=65536,String.fromCharCode((p>>10)+55296,(p&1023)+56320))}function im(p){return p<65536?1:2}const sm=/\r\n?|\n/;var mm=(function(p){return p[p.Simple=0]="Simple",p[p.TrackDel=1]="TrackDel",p[p.TrackBefore=2]="TrackBefore",p[p.TrackAfter=3]="TrackAfter",p})(mm||(mm={}));class Mm{constructor(n){this.sections=n}get length(){let n=0;for(let s=0;s<this.sections.length;s+=2)n+=this.sections[s];return n}get newLength(){let n=0;for(let s=0;s<this.sections.length;s+=2){let c=this.sections[s+1];n+=c<0?this.sections[s]:c}return n}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(n){for(let s=0,c=0,Ae=0;s<this.sections.length;){let yt=this.sections[s++],wt=this.sections[s++];wt<0?(n(c,Ae,yt),Ae+=yt):Ae+=wt,c+=yt}}iterChangedRanges(n,s=!1){t0(this,n,s)}get invertedDesc(){let n=[];for(let s=0;s<this.sections.length;){let c=this.sections[s++],Ae=this.sections[s++];Ae<0?n.push(c,Ae):n.push(Ae,c)}return new Mm(n)}composeDesc(n){return this.empty?n:n.empty?this:Zm(this,n)}mapDesc(n,s=!1){return n.empty?this:Cm(this,n,s)}mapPos(n,s=-1,c=mm.Simple){let Ae=0,yt=0;for(let wt=0;wt<this.sections.length;){let Wa=this.sections[wt++],ja=this.sections[wt++],pd=Ae+Wa;if(ja<0){if(pd>n)return yt+(n-Ae);yt+=Wa}else{if(c!=mm.Simple&&pd>=n&&(c==mm.TrackDel&&Ae<n&&pd>n||c==mm.TrackBefore&&Ae<n||c==mm.TrackAfter&&pd>n))return null;if(pd>n||pd==n&&s<0&&!Wa)return n==Ae||s<0?yt:yt+ja;yt+=ja}Ae=pd}if(n>Ae)throw new RangeError(`Position ${n} is out of range for changeset of length ${Ae}`);return yt}touchesRange(n,s=n){for(let c=0,Ae=0;c<this.sections.length&&Ae<=s;){let yt=this.sections[c++],wt=this.sections[c++],Wa=Ae+yt;if(wt>=0&&Ae<=s&&Wa>=n)return Ae<n&&Wa>s?"cover":!0;Ae=Wa}return!1}toString(){let n="";for(let s=0;s<this.sections.length;){let c=this.sections[s++],Ae=this.sections[s++];n+=(n?" ":"")+c+(Ae>=0?":"+Ae:"")}return n}toJSON(){return this.sections}static fromJSON(n){if(!Array.isArray(n)||n.length%2||n.some(s=>typeof s!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new Mm(n)}static create(n){return new Mm(n)}}class Om extends Mm{constructor(n,s){super(n),this.inserted=s}apply(n){if(this.length!=n.length)throw new RangeError("Applying change set to a document with the wrong length");return t0(this,(s,c,Ae,yt,wt)=>n=n.replace(Ae,Ae+(c-s),wt),!1),n}mapDesc(n,s=!1){return Cm(this,n,s,!0)}invert(n){let s=this.sections.slice(),c=[];for(let Ae=0,yt=0;Ae<s.length;Ae+=2){let wt=s[Ae],Wa=s[Ae+1];if(Wa>=0){s[Ae]=Wa,s[Ae+1]=wt;let ja=Ae>>1;for(;c.length<ja;)c.push(yd.empty);c.push(wt?n.slice(yt,yt+wt):yd.empty)}yt+=wt}return new Om(s,c)}compose(n){return this.empty?n:n.empty?this:Zm(this,n,!0)}map(n,s=!1){return n.empty?this:Cm(this,n,s,!0)}iterChanges(n,s=!1){t0(this,n,s)}get desc(){return Mm.create(this.sections)}filter(n){let s=[],c=[],Ae=[],yt=new cm(this);e:for(let wt=0,Wa=0;;){let ja=wt==n.length?1e9:n[wt++];for(;Wa<ja||Wa==ja&&yt.len==0;){if(yt.done)break e;let md=Math.min(yt.len,ja-Wa);km(Ae,md,-1);let vd=yt.ins==-1?-1:yt.off==0?yt.ins:0;km(s,md,vd),vd>0&&vm(c,s,yt.text),yt.forward(md),Wa+=md}let pd=n[wt++];for(;Wa<pd;){if(yt.done)break e;let md=Math.min(yt.len,pd-Wa);km(s,md,-1),km(Ae,md,yt.ins==-1?-1:yt.off==0?yt.ins:0),yt.forward(md),Wa+=md}}return{changes:new Om(s,c),filtered:Mm.create(Ae)}}toJSON(){let n=[];for(let s=0;s<this.sections.length;s+=2){let c=this.sections[s],Ae=this.sections[s+1];Ae<0?n.push(c):Ae==0?n.push([c]):n.push([c].concat(this.inserted[s>>1].toJSON()))}return n}static of(n,s,c){let Ae=[],yt=[],wt=0,Wa=null;function ja(md=!1){if(!md&&!Ae.length)return;wt<s&&km(Ae,s-wt,-1);let vd=new Om(Ae,yt);Wa=Wa?Wa.compose(vd.map(Wa)):vd,Ae=[],yt=[],wt=0}function pd(md){if(Array.isArray(md))for(let vd of md)pd(vd);else if(md instanceof Om){if(md.length!=s)throw new RangeError(`Mismatched change set length (got ${md.length}, expected ${s})`);ja(),Wa=Wa?Wa.compose(md.map(Wa)):md}else{let{from:vd,to:$d=vd,insert:kd}=md;if(vd>$d||vd<0||$d>s)throw new RangeError(`Invalid change range ${vd} to ${$d} (in doc of length ${s})`);let Zd=kd?typeof kd=="string"?yd.of(kd.split(c||sm)):kd:yd.empty,Id=Zd.length;if(vd==$d&&Id==0)return;vd<wt&&ja(),vd>wt&&km(Ae,vd-wt,-1),km(Ae,$d-vd,Id),vm(yt,Ae,Zd),wt=$d}}return pd(n),ja(!Wa),Wa}static empty(n){return new Om(n?[n,-1]:[],[])}static fromJSON(n){if(!Array.isArray(n))throw new RangeError("Invalid JSON representation of ChangeSet");let s=[],c=[];for(let Ae=0;Ae<n.length;Ae++){let yt=n[Ae];if(typeof yt=="number")s.push(yt,-1);else{if(!Array.isArray(yt)||typeof yt[0]!="number"||yt.some((wt,Wa)=>Wa&&typeof wt!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(yt.length==1)s.push(yt[0],0);else{for(;c.length<Ae;)c.push(yd.empty);c[Ae]=yd.of(yt.slice(1)),s.push(yt[0],c[Ae].length)}}}return new Om(s,c)}static createSet(n,s){return new Om(n,s)}}function km(p,n,s,c=!1){if(n==0&&s<=0)return;let Ae=p.length-2;Ae>=0&&s<=0&&s==p[Ae+1]?p[Ae]+=n:Ae>=0&&n==0&&p[Ae]==0?p[Ae+1]+=s:c?(p[Ae]+=n,p[Ae+1]+=s):p.push(n,s)}function vm(p,n,s){if(s.length==0)return;let c=n.length-2>>1;if(c<p.length)p[p.length-1]=p[p.length-1].append(s);else{for(;p.length<c;)p.push(yd.empty);p.push(s)}}function t0(p,n,s){let c=p.inserted;for(let Ae=0,yt=0,wt=0;wt<p.sections.length;){let Wa=p.sections[wt++],ja=p.sections[wt++];if(ja<0)Ae+=Wa,yt+=Wa;else{let pd=Ae,md=yt,vd=yd.empty;for(;pd+=Wa,md+=ja,ja&&c&&(vd=vd.append(c[wt-2>>1])),!(s||wt==p.sections.length||p.sections[wt+1]<0);)Wa=p.sections[wt++],ja=p.sections[wt++];n(Ae,pd,yt,md,vd),Ae=pd,yt=md}}}function Cm(p,n,s,c=!1){let Ae=[],yt=c?[]:null,wt=new cm(p),Wa=new cm(n);for(let ja=-1;;){if(wt.done&&Wa.len||Wa.done&&wt.len)throw new Error("Mismatched change set lengths");if(wt.ins==-1&&Wa.ins==-1){let pd=Math.min(wt.len,Wa.len);km(Ae,pd,-1),wt.forward(pd),Wa.forward(pd)}else if(Wa.ins>=0&&(wt.ins<0||ja==wt.i||wt.off==0&&(Wa.len<wt.len||Wa.len==wt.len&&!s))){let pd=Wa.len;for(km(Ae,Wa.ins,-1);pd;){let md=Math.min(wt.len,pd);wt.ins>=0&&ja<wt.i&&wt.len<=md&&(km(Ae,0,wt.ins),yt&&vm(yt,Ae,wt.text),ja=wt.i),wt.forward(md),pd-=md}Wa.next()}else if(wt.ins>=0){let pd=0,md=wt.len;for(;md;)if(Wa.ins==-1){let vd=Math.min(md,Wa.len);pd+=vd,md-=vd,Wa.forward(vd)}else if(Wa.ins==0&&Wa.len<md)md-=Wa.len,Wa.next();else break;km(Ae,pd,ja<wt.i?wt.ins:0),yt&&ja<wt.i&&vm(yt,Ae,wt.text),ja=wt.i,wt.forward(wt.len-md)}else{if(wt.done&&Wa.done)return yt?Om.createSet(Ae,yt):Mm.create(Ae);throw new Error("Mismatched change set lengths")}}}function Zm(p,n,s=!1){let c=[],Ae=s?[]:null,yt=new cm(p),wt=new cm(n);for(let Wa=!1;;){if(yt.done&&wt.done)return Ae?Om.createSet(c,Ae):Mm.create(c);if(yt.ins==0)km(c,yt.len,0,Wa),yt.next();else if(wt.len==0&&!wt.done)km(c,0,wt.ins,Wa),Ae&&vm(Ae,c,wt.text),wt.next();else{if(yt.done||wt.done)throw new Error("Mismatched change set lengths");{let ja=Math.min(yt.len2,wt.len),pd=c.length;if(yt.ins==-1){let md=wt.ins==-1?-1:wt.off?0:wt.ins;km(c,ja,md,Wa),Ae&&md&&vm(Ae,c,wt.text)}else wt.ins==-1?(km(c,yt.off?0:yt.len,ja,Wa),Ae&&vm(Ae,c,yt.textBit(ja))):(km(c,yt.off?0:yt.len,wt.off?0:wt.ins,Wa),Ae&&!wt.off&&vm(Ae,c,wt.text));Wa=(yt.ins>ja||wt.ins>=0&&wt.len>ja)&&(Wa||c.length>pd),yt.forward2(ja),wt.forward(ja)}}}}class cm{constructor(n){this.set=n,this.i=0,this.next()}next(){let{sections:n}=this.set;this.i<n.length?(this.len=n[this.i++],this.ins=n[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:n}=this.set,s=this.i-2>>1;return s>=n.length?yd.empty:n[s]}textBit(n){let{inserted:s}=this.set,c=this.i-2>>1;return c>=s.length&&!n?yd.empty:s[c].slice(this.off,n==null?void 0:this.off+n)}forward(n){n==this.len?this.next():(this.len-=n,this.off+=n)}forward2(n){this.ins==-1?this.forward(n):n==this.ins?this.next():(this.ins-=n,this.off+=n)}}class Xm{constructor(n,s,c){this.from=n,this.to=s,this.flags=c}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let n=this.flags&7;return n==7?null:n}get goalColumn(){let n=this.flags>>6;return n==16777215?void 0:n}map(n,s=-1){let c,Ae;return this.empty?c=Ae=n.mapPos(this.from,s):(c=n.mapPos(this.from,1),Ae=n.mapPos(this.to,-1)),c==this.from&&Ae==this.to?this:new Xm(c,Ae,this.flags)}extend(n,s=n){if(n<=this.anchor&&s>=this.anchor)return Hd.range(n,s);let c=Math.abs(n-this.anchor)>Math.abs(s-this.anchor)?n:s;return Hd.range(this.anchor,c)}eq(n,s=!1){return this.anchor==n.anchor&&this.head==n.head&&(!s||!this.empty||this.assoc==n.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(n){if(!n||typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return Hd.range(n.anchor,n.head)}static create(n,s,c){return new Xm(n,s,c)}}class Hd{constructor(n,s){this.ranges=n,this.mainIndex=s}map(n,s=-1){return n.empty?this:Hd.create(this.ranges.map(c=>c.map(n,s)),this.mainIndex)}eq(n,s=!1){if(this.ranges.length!=n.ranges.length||this.mainIndex!=n.mainIndex)return!1;for(let c=0;c<this.ranges.length;c++)if(!this.ranges[c].eq(n.ranges[c],s))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new Hd([this.main],0)}addRange(n,s=!0){return Hd.create([n].concat(this.ranges),s?0:this.mainIndex+1)}replaceRange(n,s=this.mainIndex){let c=this.ranges.slice();return c[s]=n,Hd.create(c,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(n=>n.toJSON()),main:this.mainIndex}}static fromJSON(n){if(!n||!Array.isArray(n.ranges)||typeof n.main!="number"||n.main>=n.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new Hd(n.ranges.map(s=>Xm.fromJSON(s)),n.main)}static single(n,s=n){return new Hd([Hd.range(n,s)],0)}static create(n,s=0){if(n.length==0)throw new RangeError("A selection needs at least one range");for(let c=0,Ae=0;Ae<n.length;Ae++){let yt=n[Ae];if(yt.empty?yt.from<=c:yt.from<c)return Hd.normalized(n.slice(),s);c=yt.to}return new Hd(n,s)}static cursor(n,s=0,c,Ae){return Xm.create(n,n,(s==0?0:s<0?8:16)|(c==null?7:Math.min(6,c))|(Ae??16777215)<<6)}static range(n,s,c,Ae){let yt=(c??16777215)<<6|(Ae==null?7:Math.min(6,Ae));return s<n?Xm.create(s,n,48|yt):Xm.create(n,s,(s>n?8:0)|yt)}static normalized(n,s=0){let c=n[s];n.sort((Ae,yt)=>Ae.from-yt.from),s=n.indexOf(c);for(let Ae=1;Ae<n.length;Ae++){let yt=n[Ae],wt=n[Ae-1];if(yt.empty?yt.from<=wt.to:yt.from<wt.to){let Wa=wt.from,ja=Math.max(yt.to,wt.to);Ae<=s&&s--,n.splice(--Ae,2,yt.anchor>yt.head?Hd.range(ja,Wa):Hd.range(Wa,ja))}}return new Hd(n,s)}}function r0(p,n){for(let s of p.ranges)if(s.to>n)throw new RangeError("Selection points outside of document")}let jm=0;class am{constructor(n,s,c,Ae,yt){this.combine=n,this.compareInput=s,this.compare=c,this.isStatic=Ae,this.id=jm++,this.default=n([]),this.extensions=typeof yt=="function"?yt(this):yt}get reader(){return this}static define(n={}){return new am(n.combine||(s=>s),n.compareInput||((s,c)=>s===c),n.compare||(n.combine?(s,c)=>s===c:Hm),!!n.static,n.enables)}of(n){return new _0([],this,0,n)}compute(n,s){if(this.isStatic)throw new Error("Can't compute a static facet");return new _0(n,this,1,s)}computeN(n,s){if(this.isStatic)throw new Error("Can't compute a static facet");return new _0(n,this,2,s)}from(n,s){return s||(s=c=>c),this.compute([n],c=>s(c.field(n)))}}function Hm(p,n){return p==n||p.length==n.length&&p.every((s,c)=>s===n[c])}class _0{constructor(n,s,c,Ae){this.dependencies=n,this.facet=s,this.type=c,this.value=Ae,this.id=jm++}dynamicSlot(n){var s;let c=this.value,Ae=this.facet.compareInput,yt=this.id,wt=n[yt]>>1,Wa=this.type==2,ja=!1,pd=!1,md=[];for(let vd of this.dependencies)vd=="doc"?ja=!0:vd=="selection"?pd=!0:(((s=n[vd.id])!==null&&s!==void 0?s:1)&1)==0&&md.push(n[vd.id]);return{create(vd){return vd.values[wt]=c(vd),1},update(vd,$d){if(ja&&$d.docChanged||pd&&($d.docChanged||$d.selection)||P0(vd,md)){let kd=c(vd);if(Wa?!X0(kd,vd.values[wt],Ae):!Ae(kd,vd.values[wt]))return vd.values[wt]=kd,1}return 0},reconfigure:(vd,$d)=>{let kd,Zd=$d.config.address[yt];if(Zd!=null){let Id=_m($d,Zd);if(this.dependencies.every(Ud=>Ud instanceof am?$d.facet(Ud)===vd.facet(Ud):Ud instanceof Vm?$d.field(Ud,!1)==vd.field(Ud,!1):!0)||(Wa?X0(kd=c(vd),Id,Ae):Ae(kd=c(vd),Id)))return vd.values[wt]=Id,0}else kd=c(vd);return vd.values[wt]=kd,1}}}}function X0(p,n,s){if(p.length!=n.length)return!1;for(let c=0;c<p.length;c++)if(!s(p[c],n[c]))return!1;return!0}function P0(p,n){let s=!1;for(let c of n)lm(p,c)&1&&(s=!0);return s}function c0(p,n,s){let c=s.map(ja=>p[ja.id]),Ae=s.map(ja=>ja.type),yt=c.filter(ja=>!(ja&1)),wt=p[n.id]>>1;function Wa(ja){let pd=[];for(let md=0;md<c.length;md++){let vd=_m(ja,c[md]);if(Ae[md]==2)for(let $d of vd)pd.push($d);else pd.push(vd)}return n.combine(pd)}return{create(ja){for(let pd of c)lm(ja,pd);return ja.values[wt]=Wa(ja),1},update(ja,pd){if(!P0(ja,yt))return 0;let md=Wa(ja);return n.compare(md,ja.values[wt])?0:(ja.values[wt]=md,1)},reconfigure(ja,pd){let md=P0(ja,c),vd=pd.config.facets[n.id],$d=pd.facet(n);if(vd&&!md&&Hm(s,vd))return ja.values[wt]=$d,0;let kd=Wa(ja);return n.compare(kd,$d)?(ja.values[wt]=$d,0):(ja.values[wt]=kd,1)}}}const C0=am.define({static:!0});class Vm{constructor(n,s,c,Ae,yt){this.id=n,this.createF=s,this.updateF=c,this.compareF=Ae,this.spec=yt,this.provides=void 0}static define(n){let s=new Vm(jm++,n.create,n.update,n.compare||((c,Ae)=>c===Ae),n);return n.provide&&(s.provides=n.provide(s)),s}create(n){let s=n.facet(C0).find(c=>c.field==this);return(s?.create||this.createF)(n)}slot(n){let s=n[this.id]>>1;return{create:c=>(c.values[s]=this.create(c),1),update:(c,Ae)=>{let yt=c.values[s],wt=this.updateF(yt,Ae);return this.compareF(yt,wt)?0:(c.values[s]=wt,1)},reconfigure:(c,Ae)=>{let yt=c.facet(C0),wt=Ae.facet(C0),Wa;return(Wa=yt.find(ja=>ja.field==this))&&Wa!=wt.find(ja=>ja.field==this)?(c.values[s]=Wa.create(c),1):Ae.config.address[this.id]!=null?(c.values[s]=Ae.field(this),0):(c.values[s]=this.create(c),1)}}}init(n){return[this,C0.of({field:this,create:n})]}get extension(){return this}}const w0={lowest:4,low:3,default:2,high:1,highest:0};function p0(p){return n=>new U0(n,p)}const x0={highest:p0(w0.highest),high:p0(w0.high),default:p0(w0.default),low:p0(w0.low),lowest:p0(w0.lowest)};class U0{constructor(n,s){this.inner=n,this.prec=s}}class Vd{of(n){return new Wd(this,n)}reconfigure(n){return Vd.reconfigure.of({compartment:this,extension:n})}get(n){return n.config.compartments.get(this)}}class Wd{constructor(n,s){this.compartment=n,this.inner=s}}class Xd{constructor(n,s,c,Ae,yt,wt){for(this.base=n,this.compartments=s,this.dynamicSlots=c,this.address=Ae,this.staticValues=yt,this.facets=wt,this.statusTemplate=[];this.statusTemplate.length<c.length;)this.statusTemplate.push(0)}staticFacet(n){let s=this.address[n.id];return s==null?n.default:this.staticValues[s>>1]}static resolve(n,s,c){let Ae=[],yt=Object.create(null),wt=new Map;for(let $d of Jd(n,s,wt))$d instanceof Vm?Ae.push($d):(yt[$d.facet.id]||(yt[$d.facet.id]=[])).push($d);let Wa=Object.create(null),ja=[],pd=[];for(let $d of Ae)Wa[$d.id]=pd.length<<1,pd.push(kd=>$d.slot(kd));let md=c?.config.facets;for(let $d in yt){let kd=yt[$d],Zd=kd[0].facet,Id=md&&md[$d]||[];if(kd.every(Ud=>Ud.type==0))if(Wa[Zd.id]=ja.length<<1|1,Hm(Id,kd))ja.push(c.facet(Zd));else{let Ud=Zd.combine(kd.map(tm=>tm.value));ja.push(c&&Zd.compare(Ud,c.facet(Zd))?c.facet(Zd):Ud)}else{for(let Ud of kd)Ud.type==0?(Wa[Ud.id]=ja.length<<1|1,ja.push(Ud.value)):(Wa[Ud.id]=pd.length<<1,pd.push(tm=>Ud.dynamicSlot(tm)));Wa[Zd.id]=pd.length<<1,pd.push(Ud=>c0(Ud,Zd,kd))}}let vd=pd.map($d=>$d(Wa));return new Xd(n,wt,vd,Wa,ja,yt)}}function Jd(p,n,s){let c=[[],[],[],[],[]],Ae=new Map;function yt(wt,Wa){let ja=Ae.get(wt);if(ja!=null){if(ja<=Wa)return;let pd=c[ja].indexOf(wt);pd>-1&&c[ja].splice(pd,1),wt instanceof Wd&&s.delete(wt.compartment)}if(Ae.set(wt,Wa),Array.isArray(wt))for(let pd of wt)yt(pd,Wa);else if(wt instanceof Wd){if(s.has(wt.compartment))throw new RangeError("Duplicate use of compartment in extensions");let pd=n.get(wt.compartment)||wt.inner;s.set(wt.compartment,pd),yt(pd,Wa)}else if(wt instanceof U0)yt(wt.inner,wt.prec);else if(wt instanceof Vm)c[Wa].push(wt),wt.provides&&yt(wt.provides,Wa);else if(wt instanceof _0)c[Wa].push(wt),wt.facet.extensions&&yt(wt.facet.extensions,w0.default);else{let pd=wt.extension;if(!pd)throw new Error(`Unrecognized extension value in extension set (${wt}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);yt(pd,Wa)}}return yt(p,w0.default),c.reduce((wt,Wa)=>wt.concat(Wa))}function lm(p,n){if(n&1)return 2;let s=n>>1,c=p.status[s];if(c==4)throw new Error("Cyclic dependency between fields and/or facets");if(c&2)return c;p.status[s]=4;let Ae=p.computeSlot(p,p.config.dynamicSlots[s]);return p.status[s]=2|Ae}function _m(p,n){return n&1?p.config.staticValues[n>>1]:p.values[n>>1]}const um=am.define(),Tm=am.define({combine:p=>p.some(n=>n),static:!0}),om=am.define({combine:p=>p.length?p[0]:void 0,static:!0}),Dm=am.define(),Lm=am.define(),h0=am.define(),s0=am.define({combine:p=>p.length?p[0]:!1});class zm{constructor(n,s){this.type=n,this.value=s}static define(){return new a0}}class a0{of(n){return new zm(this,n)}}class k0{constructor(n){this.map=n}of(n){return new xm(this,n)}}class xm{constructor(n,s){this.type=n,this.value=s}map(n){let s=this.type.map(this.value,n);return s===void 0?void 0:s==this.value?this:new xm(this.type,s)}is(n){return this.type==n}static define(n={}){return new k0(n.map||(s=>s))}static mapEffects(n,s){if(!n.length)return n;let c=[];for(let Ae of n){let yt=Ae.map(s);yt&&c.push(yt)}return c}}xm.reconfigure=xm.define(),xm.appendConfig=xm.define();class Jm{constructor(n,s,c,Ae,yt,wt){this.startState=n,this.changes=s,this.selection=c,this.effects=Ae,this.annotations=yt,this.scrollIntoView=wt,this._doc=null,this._state=null,c&&r0(c,s.newLength),yt.some(Wa=>Wa.type==Jm.time)||(this.annotations=yt.concat(Jm.time.of(Date.now())))}static create(n,s,c,Ae,yt,wt){return new Jm(n,s,c,Ae,yt,wt)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(n){for(let s of this.annotations)if(s.type==n)return s.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(n){let s=this.annotation(Jm.userEvent);return!!(s&&(s==n||s.length>n.length&&s.slice(0,n.length)==n&&s[n.length]=="."))}}Jm.time=zm.define(),Jm.userEvent=zm.define(),Jm.addToHistory=zm.define(),Jm.remote=zm.define();function Z0(p,n){let s=[];for(let c=0,Ae=0;;){let yt,wt;if(c<p.length&&(Ae==n.length||n[Ae]>=p[c]))yt=p[c++],wt=p[c++];else if(Ae<n.length)yt=n[Ae++],wt=n[Ae++];else return s;!s.length||s[s.length-1]<yt?s.push(yt,wt):s[s.length-1]<wt&&(s[s.length-1]=wt)}}function o0(p,n,s){var c;let Ae,yt,wt;return s?(Ae=n.changes,yt=Om.empty(n.changes.length),wt=p.changes.compose(n.changes)):(Ae=n.changes.map(p.changes),yt=p.changes.mapDesc(n.changes,!0),wt=p.changes.compose(Ae)),{changes:wt,selection:n.selection?n.selection.map(yt):(c=p.selection)===null||c===void 0?void 0:c.map(Ae),effects:xm.mapEffects(p.effects,Ae).concat(xm.mapEffects(n.effects,yt)),annotations:p.annotations.length?p.annotations.concat(n.annotations):n.annotations,scrollIntoView:p.scrollIntoView||n.scrollIntoView}}function $0(p,n,s){let c=n.selection,Ae=X1(n.annotations);return n.userEvent&&(Ae=Ae.concat(Jm.userEvent.of(n.userEvent))),{changes:n.changes instanceof Om?n.changes:Om.of(n.changes||[],s,p.facet(om)),selection:c&&(c instanceof Hd?c:Hd.single(c.anchor,c.head)),effects:X1(n.effects),annotations:Ae,scrollIntoView:!!n.scrollIntoView}}function I0(p,n,s){let c=$0(p,n.length?n[0]:{},p.doc.length);n.length&&n[0].filter===!1&&(s=!1);for(let yt=1;yt<n.length;yt++){n[yt].filter===!1&&(s=!1);let wt=!!n[yt].sequential;c=o0(c,$0(p,n[yt],wt?c.changes.newLength:p.doc.length),wt)}let Ae=Jm.create(p,c.changes,c.selection,c.effects,c.annotations,c.scrollIntoView);return fg(s?J0(Ae):Ae)}function J0(p){let n=p.startState,s=!0;for(let Ae of n.facet(Dm)){let yt=Ae(p);if(yt===!1){s=!1;break}Array.isArray(yt)&&(s=s===!0?yt:Z0(s,yt))}if(s!==!0){let Ae,yt;if(s===!1)yt=p.changes.invertedDesc,Ae=Om.empty(n.doc.length);else{let wt=p.changes.filter(s);Ae=wt.changes,yt=wt.filtered.mapDesc(wt.changes).invertedDesc}p=Jm.create(n,Ae,p.selection&&p.selection.map(yt),xm.mapEffects(p.effects,yt),p.annotations,p.scrollIntoView)}let c=n.facet(Lm);for(let Ae=c.length-1;Ae>=0;Ae--){let yt=c[Ae](p);yt instanceof Jm?p=yt:Array.isArray(yt)&&yt.length==1&&yt[0]instanceof Jm?p=yt[0]:p=I0(n,X1(yt),!1)}return p}function fg(p){let n=p.startState,s=n.facet(h0),c=p;for(let Ae=s.length-1;Ae>=0;Ae--){let yt=s[Ae](p);yt&&Object.keys(yt).length&&(c=o0(c,$0(n,yt,p.changes.newLength),!0))}return c==p?p:Jm.create(n,p.changes,p.selection,c.effects,c.annotations,c.scrollIntoView)}const Q1=[];function X1(p){return p==null?Q1:Array.isArray(p)?p:[p]}var Od=(function(p){return p[p.Word=0]="Word",p[p.Space=1]="Space",p[p.Other=2]="Other",p})(Od||(Od={}));const Pd=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let Sd;try{Sd=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function wd(p){if(Sd)return Sd.test(p);for(let n=0;n<p.length;n++){let s=p[n];if(/\w/.test(s)||s>"Â€"&&(s.toUpperCase()!=s.toLowerCase()||Pd.test(s)))return!0}return!1}function Rd(p){return n=>{if(!/\S/.test(n))return Od.Space;if(wd(n))return Od.Word;for(let s=0;s<p.length;s++)if(n.indexOf(p[s])>-1)return Od.Word;return Od.Other}}class Yd{constructor(n,s,c,Ae,yt,wt){this.config=n,this.doc=s,this.selection=c,this.values=Ae,this.status=n.statusTemplate.slice(),this.computeSlot=yt,wt&&(wt._state=this);for(let Wa=0;Wa<this.config.dynamicSlots.length;Wa++)lm(this,Wa<<1);this.computeSlot=null}field(n,s=!0){let c=this.config.address[n.id];if(c==null){if(s)throw new RangeError("Field is not present in this state");return}return lm(this,c),_m(this,c)}update(...n){return I0(this,n,!0)}applyTransaction(n){let s=this.config,{base:c,compartments:Ae}=s;for(let Wa of n.effects)Wa.is(Vd.reconfigure)?(s&&(Ae=new Map,s.compartments.forEach((ja,pd)=>Ae.set(pd,ja)),s=null),Ae.set(Wa.value.compartment,Wa.value.extension)):Wa.is(xm.reconfigure)?(s=null,c=Wa.value):Wa.is(xm.appendConfig)&&(s=null,c=X1(c).concat(Wa.value));let yt;s?yt=n.startState.values.slice():(s=Xd.resolve(c,Ae,this),yt=new Yd(s,this.doc,this.selection,s.dynamicSlots.map(()=>null),(ja,pd)=>pd.reconfigure(ja,this),null).values);let wt=n.startState.facet(Tm)?n.newSelection:n.newSelection.asSingle();new Yd(s,n.newDoc,wt,yt,(Wa,ja)=>ja.update(Wa,n),n)}replaceSelection(n){return typeof n=="string"&&(n=this.toText(n)),this.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:n},range:Hd.cursor(s.from+n.length)}))}changeByRange(n){let s=this.selection,c=n(s.ranges[0]),Ae=this.changes(c.changes),yt=[c.range],wt=X1(c.effects);for(let Wa=1;Wa<s.ranges.length;Wa++){let ja=n(s.ranges[Wa]),pd=this.changes(ja.changes),md=pd.map(Ae);for(let $d=0;$d<Wa;$d++)yt[$d]=yt[$d].map(md);let vd=Ae.mapDesc(pd,!0);yt.push(ja.range.map(vd)),Ae=Ae.compose(md),wt=xm.mapEffects(wt,md).concat(xm.mapEffects(X1(ja.effects),vd))}return{changes:Ae,selection:Hd.create(yt,s.mainIndex),effects:wt}}changes(n=[]){return n instanceof Om?n:Om.of(n,this.doc.length,this.facet(Yd.lineSeparator))}toText(n){return yd.of(n.split(this.facet(Yd.lineSeparator)||sm))}sliceDoc(n=0,s=this.doc.length){return this.doc.sliceString(n,s,this.lineBreak)}facet(n){let s=this.config.address[n.id];return s==null?n.default:(lm(this,s),_m(this,s))}toJSON(n){let s={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(n)for(let c in n){let Ae=n[c];Ae instanceof Vm&&this.config.address[Ae.id]!=null&&(s[c]=Ae.spec.toJSON(this.field(n[c]),this))}return s}static fromJSON(n,s={},c){if(!n||typeof n.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let Ae=[];if(c){for(let yt in c)if(Object.prototype.hasOwnProperty.call(n,yt)){let wt=c[yt],Wa=n[yt];Ae.push(wt.init(ja=>wt.spec.fromJSON(Wa,ja)))}}return Yd.create({doc:n.doc,selection:Hd.fromJSON(n.selection),extensions:s.extensions?Ae.concat([s.extensions]):Ae})}static create(n={}){let s=Xd.resolve(n.extensions||[],new Map),c=n.doc instanceof yd?n.doc:yd.of((n.doc||"").split(s.staticFacet(Yd.lineSeparator)||sm)),Ae=n.selection?n.selection instanceof Hd?n.selection:Hd.single(n.selection.anchor,n.selection.head):Hd.single(0);return r0(Ae,c.length),s.staticFacet(Tm)||(Ae=Ae.asSingle()),new Yd(s,c,Ae,s.dynamicSlots.map(()=>null),(yt,wt)=>wt.create(yt),null)}get tabSize(){return this.facet(Yd.tabSize)}get lineBreak(){return this.facet(Yd.lineSeparator)||`
`}get readOnly(){return this.facet(s0)}phrase(n,...s){for(let c of this.facet(Yd.phrases))if(Object.prototype.hasOwnProperty.call(c,n)){n=c[n];break}return s.length&&(n=n.replace(/\$(\$|\d*)/g,(c,Ae)=>{if(Ae=="$")return"$";let yt=+(Ae||1);return!yt||yt>s.length?c:s[yt-1]})),n}languageDataAt(n,s,c=-1){let Ae=[];for(let yt of this.facet(um))for(let wt of yt(this,s,c))Object.prototype.hasOwnProperty.call(wt,n)&&Ae.push(wt[n]);return Ae}charCategorizer(n){return Rd(this.languageDataAt("wordChars",n).join(""))}wordAt(n){let{text:s,from:c,length:Ae}=this.doc.lineAt(n),yt=this.charCategorizer(n),wt=n-c,Wa=n-c;for(;wt>0;){let ja=Qd(s,wt,!1);if(yt(s.slice(ja,wt))!=Od.Word)break;wt=ja}for(;Wa<Ae;){let ja=Qd(s,Wa);if(yt(s.slice(Wa,ja))!=Od.Word)break;Wa=ja}return wt==Wa?null:Hd.range(wt+c,Wa+c)}}Yd.allowMultipleSelections=Tm,Yd.tabSize=am.define({combine:p=>p.length?p[0]:4}),Yd.lineSeparator=om,Yd.readOnly=s0,Yd.phrases=am.define({compare(p,n){let s=Object.keys(p),c=Object.keys(n);return s.length==c.length&&s.every(Ae=>p[Ae]==n[Ae])}}),Yd.languageData=um,Yd.changeFilter=Dm,Yd.transactionFilter=Lm,Yd.transactionExtender=h0,Vd.reconfigure=xm.define();function Kd(p,n,s={}){let c={};for(let Ae of p)for(let yt of Object.keys(Ae)){let wt=Ae[yt],Wa=c[yt];if(Wa===void 0)c[yt]=wt;else if(!(Wa===wt||wt===void 0))if(Object.hasOwnProperty.call(s,yt))c[yt]=s[yt](Wa,wt);else throw new Error("Config merge conflict for field "+yt)}for(let Ae in n)c[Ae]===void 0&&(c[Ae]=n[Ae]);return c}class rm{eq(n){return this==n}range(n,s=n){return Sm.create(n,s,this)}}rm.prototype.startSide=rm.prototype.endSide=0,rm.prototype.point=!1,rm.prototype.mapMode=mm.TrackDel;let Sm=class sC{constructor(n,s,c){this.from=n,this.to=s,this.value=c}static create(n,s,c){return new sC(n,s,c)}};function Ym(p,n){return p.from-n.from||p.value.startSide-n.value.startSide}class l0{constructor(n,s,c,Ae){this.from=n,this.to=s,this.value=c,this.maxPoint=Ae}get length(){return this.to[this.to.length-1]}findIndex(n,s,c,Ae=0){let yt=c?this.to:this.from;for(let wt=Ae,Wa=yt.length;;){if(wt==Wa)return wt;let ja=wt+Wa>>1,pd=yt[ja]-n||(c?this.value[ja].endSide:this.value[ja].startSide)-s;if(ja==wt)return pd>=0?wt:Wa;pd>=0?Wa=ja:wt=ja+1}}between(n,s,c,Ae){for(let yt=this.findIndex(s,-1e9,!0),wt=this.findIndex(c,1e9,!1,yt);yt<wt;yt++)if(Ae(this.from[yt]+n,this.to[yt]+n,this.value[yt])===!1)return!1}map(n,s){let c=[],Ae=[],yt=[],wt=-1,Wa=-1;for(let ja=0;ja<this.value.length;ja++){let pd=this.value[ja],md=this.from[ja]+n,vd=this.to[ja]+n,$d,kd;if(md==vd){let Zd=s.mapPos(md,pd.startSide,pd.mapMode);if(Zd==null||($d=kd=Zd,pd.startSide!=pd.endSide&&(kd=s.mapPos(md,pd.endSide),kd<$d)))continue}else if($d=s.mapPos(md,pd.startSide),kd=s.mapPos(vd,pd.endSide),$d>kd||$d==kd&&pd.startSide>0&&pd.endSide<=0)continue;(kd-$d||pd.endSide-pd.startSide)<0||(wt<0&&(wt=$d),pd.point&&(Wa=Math.max(Wa,kd-$d)),c.push(pd),Ae.push($d-wt),yt.push(kd-wt))}return{mapped:c.length?new l0(Ae,yt,c,Wa):null,pos:wt}}}class Qm{constructor(n,s,c,Ae){this.chunkPos=n,this.chunk=s,this.nextLayer=c,this.maxPoint=Ae}static create(n,s,c,Ae){return new Qm(n,s,c,Ae)}get length(){let n=this.chunk.length-1;return n<0?0:Math.max(this.chunkEnd(n),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let n=this.nextLayer.size;for(let s of this.chunk)n+=s.value.length;return n}chunkEnd(n){return this.chunkPos[n]+this.chunk[n].length}update(n){let{add:s=[],sort:c=!1,filterFrom:Ae=0,filterTo:yt=this.length}=n,wt=n.filter;if(s.length==0&&!wt)return this;if(c&&(s=s.slice().sort(Ym)),this.isEmpty)return s.length?Qm.of(s):this;let Wa=new Im(this,null,-1).goto(0),ja=0,pd=[],md=new N0;for(;Wa.value||ja<s.length;)if(ja<s.length&&(Wa.from-s[ja].from||Wa.startSide-s[ja].value.startSide)>=0){let vd=s[ja++];md.addInner(vd.from,vd.to,vd.value)||pd.push(vd)}else Wa.rangeIndex==1&&Wa.chunkIndex<this.chunk.length&&(ja==s.length||this.chunkEnd(Wa.chunkIndex)<s[ja].from)&&(!wt||Ae>this.chunkEnd(Wa.chunkIndex)||yt<this.chunkPos[Wa.chunkIndex])&&md.addChunk(this.chunkPos[Wa.chunkIndex],this.chunk[Wa.chunkIndex])?Wa.nextChunk():((!wt||Ae>Wa.to||yt<Wa.from||wt(Wa.from,Wa.to,Wa.value))&&(md.addInner(Wa.from,Wa.to,Wa.value)||pd.push(Sm.create(Wa.from,Wa.to,Wa.value))),Wa.next());return md.finishInner(this.nextLayer.isEmpty&&!pd.length?Qm.empty:this.nextLayer.update({add:pd,filter:wt,filterFrom:Ae,filterTo:yt}))}map(n){if(n.empty||this.isEmpty)return this;let s=[],c=[],Ae=-1;for(let wt=0;wt<this.chunk.length;wt++){let Wa=this.chunkPos[wt],ja=this.chunk[wt],pd=n.touchesRange(Wa,Wa+ja.length);if(pd===!1)Ae=Math.max(Ae,ja.maxPoint),s.push(ja),c.push(n.mapPos(Wa));else if(pd===!0){let{mapped:md,pos:vd}=ja.map(Wa,n);md&&(Ae=Math.max(Ae,md.maxPoint),s.push(md),c.push(vd))}}let yt=this.nextLayer.map(n);return s.length==0?yt:new Qm(c,s,yt||Qm.empty,Ae)}between(n,s,c){if(!this.isEmpty){for(let Ae=0;Ae<this.chunk.length;Ae++){let yt=this.chunkPos[Ae],wt=this.chunk[Ae];if(s>=yt&&n<=yt+wt.length&&wt.between(yt,n-yt,s-yt,c)===!1)return}this.nextLayer.between(n,s,c)}}iter(n=0){return A0.from([this]).goto(n)}get isEmpty(){return this.nextLayer==this}static iter(n,s=0){return A0.from(n).goto(s)}static compare(n,s,c,Ae,yt=-1){let wt=n.filter(vd=>vd.maxPoint>0||!vd.isEmpty&&vd.maxPoint>=yt),Wa=s.filter(vd=>vd.maxPoint>0||!vd.isEmpty&&vd.maxPoint>=yt),ja=V1(wt,Wa,c),pd=new Rg(wt,ja,yt),md=new Rg(Wa,ja,yt);c.iterGaps((vd,$d,kd)=>o_(pd,vd,md,$d,kd,Ae)),c.empty&&c.length==0&&o_(pd,0,md,0,0,Ae)}static eq(n,s,c=0,Ae){Ae==null&&(Ae=999999999);let yt=n.filter(md=>!md.isEmpty&&s.indexOf(md)<0),wt=s.filter(md=>!md.isEmpty&&n.indexOf(md)<0);if(yt.length!=wt.length)return!1;if(!yt.length)return!0;let Wa=V1(yt,wt),ja=new Rg(yt,Wa,0).goto(c),pd=new Rg(wt,Wa,0).goto(c);for(;;){if(ja.to!=pd.to||!tO(ja.active,pd.active)||ja.point&&(!pd.point||!ja.point.eq(pd.point)))return!1;if(ja.to>Ae)return!0;ja.next(),pd.next()}}static spans(n,s,c,Ae,yt=-1){let wt=new Rg(n,null,yt).goto(s),Wa=s,ja=wt.openStart;for(;;){let pd=Math.min(wt.to,c);if(wt.point){let md=wt.activeForPoint(wt.to),vd=wt.pointFrom<s?md.length+1:wt.point.startSide<0?md.length:Math.min(md.length,ja);Ae.point(Wa,pd,wt.point,md,vd,wt.pointRank),ja=Math.min(wt.openEnd(pd),md.length)}else pd>Wa&&(Ae.span(Wa,pd,wt.active,ja),ja=wt.openEnd(pd));if(wt.to>c)return ja+(wt.point&&wt.to>c?1:0);Wa=wt.to,wt.next()}}static of(n,s=!1){let c=new N0;for(let Ae of n instanceof Sm?[n]:s?n0(n):n)c.add(Ae.from,Ae.to,Ae.value);return c.finish()}static join(n){if(!n.length)return Qm.empty;let s=n[n.length-1];for(let c=n.length-2;c>=0;c--)for(let Ae=n[c];Ae!=Qm.empty;Ae=Ae.nextLayer)s=new Qm(Ae.chunkPos,Ae.chunk,s,Math.max(Ae.maxPoint,s.maxPoint));return s}}Qm.empty=new Qm([],[],null,-1);function n0(p){if(p.length>1)for(let n=p[0],s=1;s<p.length;s++){let c=p[s];if(Ym(n,c)>0)return p.slice().sort(Ym);n=c}return p}Qm.empty.nextLayer=Qm.empty;class N0{finishChunk(n){this.chunks.push(new l0(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,n&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(n,s,c){this.addInner(n,s,c)||(this.nextLayer||(this.nextLayer=new N0)).add(n,s,c)}addInner(n,s,c){let Ae=n-this.lastTo||c.startSide-this.last.endSide;if(Ae<=0&&(n-this.lastFrom||c.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return Ae<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=n),this.from.push(n-this.chunkStart),this.to.push(s-this.chunkStart),this.last=c,this.lastFrom=n,this.lastTo=s,this.value.push(c),c.point&&(this.maxPoint=Math.max(this.maxPoint,s-n)),!0)}addChunk(n,s){if((n-this.lastTo||s.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,s.maxPoint),this.chunks.push(s),this.chunkPos.push(n);let c=s.value.length-1;return this.last=s.value[c],this.lastFrom=s.from[c]+n,this.lastTo=s.to[c]+n,!0}finish(){return this.finishInner(Qm.empty)}finishInner(n){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return n;let s=Qm.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(n):n,this.setMaxPoint);return this.from=null,s}}function V1(p,n,s){let c=new Map;for(let yt of p)for(let wt=0;wt<yt.chunk.length;wt++)yt.chunk[wt].maxPoint<=0&&c.set(yt.chunk[wt],yt.chunkPos[wt]);let Ae=new Set;for(let yt of n)for(let wt=0;wt<yt.chunk.length;wt++){let Wa=c.get(yt.chunk[wt]);Wa!=null&&(s?s.mapPos(Wa):Wa)==yt.chunkPos[wt]&&!s?.touchesRange(Wa,Wa+yt.chunk[wt].length)&&Ae.add(yt.chunk[wt])}return Ae}class Im{constructor(n,s,c,Ae=0){this.layer=n,this.skip=s,this.minPoint=c,this.rank=Ae}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(n,s=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(n,s,!1),this}gotoInner(n,s,c){for(;this.chunkIndex<this.layer.chunk.length;){let Ae=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(Ae)||this.layer.chunkEnd(this.chunkIndex)<n||Ae.maxPoint<this.minPoint))break;this.chunkIndex++,c=!1}if(this.chunkIndex<this.layer.chunk.length){let Ae=this.layer.chunk[this.chunkIndex].findIndex(n-this.layer.chunkPos[this.chunkIndex],s,!0);(!c||this.rangeIndex<Ae)&&this.setRangeIndex(Ae)}this.next()}forward(n,s){(this.to-n||this.endSide-s)<0&&this.gotoInner(n,s,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let n=this.layer.chunkPos[this.chunkIndex],s=this.layer.chunk[this.chunkIndex],c=n+s.from[this.rangeIndex];if(this.from=c,this.to=n+s.to[this.rangeIndex],this.value=s.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(n){if(n==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=n}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(n){return this.from-n.from||this.startSide-n.startSide||this.rank-n.rank||this.to-n.to||this.endSide-n.endSide}}class A0{constructor(n){this.heap=n}static from(n,s=null,c=-1){let Ae=[];for(let yt=0;yt<n.length;yt++)for(let wt=n[yt];!wt.isEmpty;wt=wt.nextLayer)wt.maxPoint>=c&&Ae.push(new Im(wt,s,c,yt));return Ae.length==1?Ae[0]:new A0(Ae)}get startSide(){return this.value?this.value.startSide:0}goto(n,s=-1e9){for(let c of this.heap)c.goto(n,s);for(let c=this.heap.length>>1;c>=0;c--)E0(this.heap,c);return this.next(),this}forward(n,s){for(let c of this.heap)c.forward(n,s);for(let c=this.heap.length>>1;c>=0;c--)E0(this.heap,c);(this.to-n||this.value.endSide-s)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let n=this.heap[0];this.from=n.from,this.to=n.to,this.value=n.value,this.rank=n.rank,n.value&&n.next(),E0(this.heap,0)}}}function E0(p,n){for(let s=p[n];;){let c=(n<<1)+1;if(c>=p.length)break;let Ae=p[c];if(c+1<p.length&&Ae.compare(p[c+1])>=0&&(Ae=p[c+1],c++),s.compare(Ae)<0)break;p[c]=s,p[n]=Ae,n=c}}class Rg{constructor(n,s,c){this.minPoint=c,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=A0.from(n,s,c)}goto(n,s=-1e9){return this.cursor.goto(n,s),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=n,this.endSide=s,this.openStart=-1,this.next(),this}forward(n,s){for(;this.minActive>-1&&(this.activeTo[this.minActive]-n||this.active[this.minActive].endSide-s)<0;)this.removeActive(this.minActive);this.cursor.forward(n,s)}removeActive(n){$_(this.active,n),$_(this.activeTo,n),$_(this.activeRank,n),this.minActive=ny(this.active,this.activeTo)}addActive(n){let s=0,{value:c,to:Ae,rank:yt}=this.cursor;for(;s<this.activeRank.length&&(yt-this.activeRank[s]||Ae-this.activeTo[s])>0;)s++;S_(this.active,s,c),S_(this.activeTo,s,Ae),S_(this.activeRank,s,yt),n&&S_(n,s,this.cursor.from),this.minActive=ny(this.active,this.activeTo)}next(){let n=this.to,s=this.point;this.point=null;let c=this.openStart<0?[]:null;for(;;){let Ae=this.minActive;if(Ae>-1&&(this.activeTo[Ae]-this.cursor.from||this.active[Ae].endSide-this.cursor.startSide)<0){if(this.activeTo[Ae]>n){this.to=this.activeTo[Ae],this.endSide=this.active[Ae].endSide;break}this.removeActive(Ae),c&&$_(c,Ae)}else if(this.cursor.value)if(this.cursor.from>n){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let yt=this.cursor.value;if(!yt.point)this.addActive(c),this.cursor.next();else if(s&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=yt,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=yt.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(c){this.openStart=0;for(let Ae=c.length-1;Ae>=0&&c[Ae]<n;Ae--)this.openStart++}}activeForPoint(n){if(!this.active.length)return this.active;let s=[];for(let c=this.active.length-1;c>=0&&!(this.activeRank[c]<this.pointRank);c--)(this.activeTo[c]>n||this.activeTo[c]==n&&this.active[c].endSide>=this.point.endSide)&&s.push(this.active[c]);return s.reverse()}openEnd(n){let s=0;for(let c=this.activeTo.length-1;c>=0&&this.activeTo[c]>n;c--)s++;return s}}function o_(p,n,s,c,Ae,yt){p.goto(n),s.goto(c);let wt=c+Ae,Wa=c,ja=c-n;for(;;){let pd=p.to+ja-s.to,md=pd||p.endSide-s.endSide,vd=md<0?p.to+ja:s.to,$d=Math.min(vd,wt);if(p.point||s.point?p.point&&s.point&&(p.point==s.point||p.point.eq(s.point))&&tO(p.activeForPoint(p.to),s.activeForPoint(s.to))||yt.comparePoint(Wa,$d,p.point,s.point):$d>Wa&&!tO(p.active,s.active)&&yt.compareRange(Wa,$d,p.active,s.active),vd>wt)break;(pd||p.openEnd!=s.openEnd)&&yt.boundChange&&yt.boundChange(vd),Wa=vd,md<=0&&p.next(),md>=0&&s.next()}}function tO(p,n){if(p.length!=n.length)return!1;for(let s=0;s<p.length;s++)if(p[s]!=n[s]&&!p[s].eq(n[s]))return!1;return!0}function $_(p,n){for(let s=n,c=p.length-1;s<c;s++)p[s]=p[s+1];p.pop()}function S_(p,n,s){for(let c=p.length-1;c>=n;c--)p[c+1]=p[c];p[n]=s}function ny(p,n){let s=-1,c=1e9;for(let Ae=0;Ae<n.length;Ae++)(n[Ae]-c||p[Ae].endSide-p[s].endSide)<0&&(s=Ae,c=n[Ae]);return s}function a_(p,n,s=p.length){let c=0;for(let Ae=0;Ae<s&&Ae<p.length;)p.charCodeAt(Ae)==9?(c+=n-c%n,Ae++):(c++,Ae=Qd(p,Ae));return c}function iO(p,n,s,c){for(let Ae=0,yt=0;;){if(yt>=n)return Ae;if(Ae==p.length)break;yt+=p.charCodeAt(Ae)==9?s-yt%s:1,Ae=Qd(p,Ae)}return c===!0?-1:p.length}const nO="Í¼",ry=typeof Symbol>"u"?"__"+nO:Symbol.for(nO),rO=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),sy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class vg{constructor(n,s){this.rules=[];let{finish:c}=s||{};function Ae(wt){return/^@/.test(wt)?[wt]:wt.split(/,\s*/)}function yt(wt,Wa,ja,pd){let md=[],vd=/^@(\w+)\b/.exec(wt[0]),$d=vd&&vd[1]=="keyframes";if(vd&&Wa==null)return ja.push(wt[0]+";");for(let kd in Wa){let Zd=Wa[kd];if(/&/.test(kd))yt(kd.split(/,\s*/).map(Id=>wt.map(Ud=>Id.replace(/&/,Ud))).reduce((Id,Ud)=>Id.concat(Ud)),Zd,ja);else if(Zd&&typeof Zd=="object"){if(!vd)throw new RangeError("The value of a property ("+kd+") should be a primitive value.");yt(Ae(kd),Zd,md,$d)}else Zd!=null&&md.push(kd.replace(/_.*/,"").replace(/[A-Z]/g,Id=>"-"+Id.toLowerCase())+": "+Zd+";")}(md.length||$d)&&ja.push((c&&!vd&&!pd?wt.map(c):wt).join(", ")+" {"+md.join(" ")+"}")}for(let wt in n)yt(Ae(wt),n[wt],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let n=sy[ry]||1;return sy[ry]=n+1,nO+n.toString(36)}static mount(n,s,c){let Ae=n[rO],yt=c&&c.nonce;Ae?yt&&Ae.setNonce(yt):Ae=new s2(n,yt),Ae.mount(Array.isArray(s)?s:[s],n)}}let oy=new Map;class s2{constructor(n,s){let c=n.ownerDocument||n,Ae=c.defaultView;if(!n.head&&n.adoptedStyleSheets&&Ae.CSSStyleSheet){let yt=oy.get(c);if(yt)return n[rO]=yt;this.sheet=new Ae.CSSStyleSheet,oy.set(c,this)}else this.styleTag=c.createElement("style"),s&&this.styleTag.setAttribute("nonce",s);this.modules=[],n[rO]=this}mount(n,s){let c=this.sheet,Ae=0,yt=0;for(let wt=0;wt<n.length;wt++){let Wa=n[wt],ja=this.modules.indexOf(Wa);if(ja<yt&&ja>-1&&(this.modules.splice(ja,1),yt--,ja=-1),ja==-1){if(this.modules.splice(yt++,0,Wa),c)for(let pd=0;pd<Wa.rules.length;pd++)c.insertRule(Wa.rules[pd],Ae++)}else{for(;yt<ja;)Ae+=this.modules[yt++].rules.length;Ae+=Wa.rules.length,yt++}}if(c)s.adoptedStyleSheets.indexOf(this.sheet)<0&&(s.adoptedStyleSheets=[this.sheet,...s.adoptedStyleSheets]);else{let wt="";for(let ja=0;ja<this.modules.length;ja++)wt+=this.modules[ja].getRules()+`
`;this.styleTag.textContent=wt;let Wa=s.head||s;this.styleTag.parentNode!=Wa&&Wa.insertBefore(this.styleTag,Wa.firstChild)}}setNonce(n){this.styleTag&&this.styleTag.getAttribute("nonce")!=n&&this.styleTag.setAttribute("nonce",n)}}for(var xg={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l_={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},o2=typeof navigator<"u"&&/Mac/.test(navigator.platform),a2=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),D0=0;D0<10;D0++)xg[48+D0]=xg[96+D0]=String(D0);for(var D0=1;D0<=24;D0++)xg[D0+111]="F"+D0;for(var D0=65;D0<=90;D0++)xg[D0]=String.fromCharCode(D0+32),l_[D0]=String.fromCharCode(D0);for(var sO in xg)l_.hasOwnProperty(sO)||(l_[sO]=xg[sO]);function l2(p){var n=o2&&p.metaKey&&p.shiftKey&&!p.ctrlKey&&!p.altKey||a2&&p.shiftKey&&p.key&&p.key.length==1||p.key=="Unidentified",s=!n&&p.key||(p.shiftKey?l_:xg)[p.keyCode]||p.key||"Unidentified";return s=="Esc"&&(s="Escape"),s=="Del"&&(s="Delete"),s=="Left"&&(s="ArrowLeft"),s=="Up"&&(s="ArrowUp"),s=="Right"&&(s="ArrowRight"),s=="Down"&&(s="ArrowDown"),s}function d0(){var p=arguments[0];typeof p=="string"&&(p=document.createElement(p));var n=1,s=arguments[1];if(s&&typeof s=="object"&&s.nodeType==null&&!Array.isArray(s)){for(var c in s)if(Object.prototype.hasOwnProperty.call(s,c)){var Ae=s[c];typeof Ae=="string"?p.setAttribute(c,Ae):Ae!=null&&(p[c]=Ae)}n++}for(;n<arguments.length;n++)ay(p,arguments[n]);return p}function ay(p,n){if(typeof n=="string")p.appendChild(document.createTextNode(n));else if(n!=null)if(n.nodeType!=null)p.appendChild(n);else if(Array.isArray(n))for(var s=0;s<n.length;s++)ay(p,n[s]);else throw new RangeError("Unsupported child node: "+n)}let V0=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},oO=typeof document<"u"?document:{documentElement:{style:{}}};const aO=/Edge\/(\d+)/.exec(V0.userAgent),ly=/MSIE \d/.test(V0.userAgent),lO=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(V0.userAgent),u_=!!(ly||lO||aO),uy=!u_&&/gecko\/(\d+)/i.test(V0.userAgent),uO=!u_&&/Chrome\/(\d+)/.exec(V0.userAgent),u2="webkitFontSmoothing"in oO.documentElement.style,cO=!u_&&/Apple Computer/.test(V0.vendor),cy=cO&&(/Mobile\/\w+/.test(V0.userAgent)||V0.maxTouchPoints>2);var Pm={mac:cy||/Mac/.test(V0.platform),windows:/Win/.test(V0.platform),linux:/Linux|X11/.test(V0.platform),ie:u_,ie_version:ly?oO.documentMode||6:lO?+lO[1]:aO?+aO[1]:0,gecko:uy,gecko_version:uy?+(/Firefox\/(\d+)/.exec(V0.userAgent)||[0,0])[1]:0,chrome:!!uO,chrome_version:uO?+uO[1]:0,ios:cy,android:/Android\b/.test(V0.userAgent),webkit_version:u2?+(/\bAppleWebKit\/(\d+)/.exec(V0.userAgent)||[0,0])[1]:0,safari:cO,safari_version:cO?+(/\bVersion\/(\d+(\.\d+)?)/.exec(V0.userAgent)||[0,0])[1]:0,tabSize:oO.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function hO(p,n){for(let s in p)s=="class"&&n.class?n.class+=" "+p.class:s=="style"&&n.style?n.style+=";"+p.style:n[s]=p[s];return n}const C_=Object.create(null);function Nd(p,n,s){if(p==n)return!0;p||(p=C_),n||(n=C_);let c=Object.keys(p),Ae=Object.keys(n);if(c.length-0!=Ae.length-0)return!1;for(let yt of c)if(yt!=s&&(Ae.indexOf(yt)==-1||p[yt]!==n[yt]))return!1;return!0}function Wm(p,n){for(let s=p.attributes.length-1;s>=0;s--){let c=p.attributes[s].name;n[c]==null&&p.removeAttribute(c)}for(let s in n){let c=n[s];s=="style"?p.style.cssText=c:p.getAttribute(s)!=c&&p.setAttribute(s,c)}}function Zg(p,n,s){let c=!1;if(n)for(let Ae in n)s&&Ae in s||(c=!0,Ae=="style"?p.style.cssText="":p.removeAttribute(Ae));if(s)for(let Ae in s)n&&n[Ae]==s[Ae]||(c=!0,Ae=="style"?p.style.cssText=s[Ae]:p.setAttribute(Ae,s[Ae]));return c}function W1(p){let n=Object.create(null);for(let s=0;s<p.attributes.length;s++){let c=p.attributes[s];n[c.name]=c.value}return n}class Y1{eq(n){return!1}updateDOM(n,s){return!1}compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(n){return!0}coordsAt(n,s,c){return null}get isHidden(){return!1}get editable(){return!1}destroy(n){}}var Am=(function(p){return p[p.Text=0]="Text",p[p.WidgetBefore=1]="WidgetBefore",p[p.WidgetAfter=2]="WidgetAfter",p[p.WidgetRange=3]="WidgetRange",p})(Am||(Am={}));class Rm extends rm{constructor(n,s,c,Ae){super(),this.startSide=n,this.endSide=s,this.widget=c,this.spec=Ae}get heightRelevant(){return!1}static mark(n){return new c_(n)}static widget(n){let s=Math.max(-1e4,Math.min(1e4,n.side||0)),c=!!n.block;return s+=c&&!n.inlineOrder?s>0?3e8:-4e8:s>0?1e8:-1e8,new Um(n,s,s,c,n.widget||null,!1)}static replace(n){let s=!!n.block,c,Ae;if(n.isBlockGap)c=-5e8,Ae=4e8;else{let{start:yt,end:wt}=tg(n,s);c=(yt?s?-3e8:-1:5e8)-1,Ae=(wt?s?2e8:1:-6e8)+1}return new Um(n,c,Ae,s,n.widget||null,!0)}static line(n){return new jg(n)}static set(n,s=!1){return Qm.of(n,s)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Rm.none=Qm.empty;class c_ extends Rm{constructor(n){let{start:s,end:c}=tg(n);super(s?-1:5e8,c?1:-6e8,null,n),this.tagName=n.tagName||"span",this.attrs=n.class&&n.attributes?hO(n.attributes,{class:n.class}):n.class?{class:n.class}:n.attributes||C_}eq(n){return this==n||n instanceof c_&&this.tagName==n.tagName&&Nd(this.attrs,n.attrs)}range(n,s=n){if(n>=s)throw new RangeError("Mark decorations may not be empty");return super.range(n,s)}}c_.prototype.point=!1;class jg extends Rm{constructor(n){super(-2e8,-2e8,null,n)}eq(n){return n instanceof jg&&this.spec.class==n.spec.class&&Nd(this.spec.attributes,n.spec.attributes)}range(n,s=n){if(s!=n)throw new RangeError("Line decoration ranges must be zero-length");return super.range(n,s)}}jg.prototype.mapMode=mm.TrackBefore,jg.prototype.point=!0;class Um extends Rm{constructor(n,s,c,Ae,yt,wt){super(s,c,yt,n),this.block=Ae,this.isReplace=wt,this.mapMode=Ae?s<=0?mm.TrackBefore:mm.TrackAfter:mm.TrackDel}get type(){return this.startSide!=this.endSide?Am.WidgetRange:this.startSide<=0?Am.WidgetBefore:Am.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(n){return n instanceof Um&&c2(this.widget,n.widget)&&this.block==n.block&&this.startSide==n.startSide&&this.endSide==n.endSide}range(n,s=n){if(this.isReplace&&(n>s||n==s&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&s!=n)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(n,s)}}Um.prototype.point=!0;function tg(p,n=!1){let{inclusiveStart:s,inclusiveEnd:c}=p;return s==null&&(s=p.inclusive),c==null&&(c=p.inclusive),{start:s??n,end:c??n}}function c2(p,n){return p==n||!!(p&&n&&p.compare(n))}function Ag(p,n,s,c=0){let Ae=s.length-1;Ae>=0&&s[Ae]+c>=p?s[Ae]=Math.max(s[Ae],n):s.push(p,n)}class Yg extends rm{constructor(n,s){super(),this.tagName=n,this.attributes=s}eq(n){return n==this||n instanceof Yg&&this.tagName==n.tagName&&Nd(this.attributes,n.attributes)}static create(n){return new Yg(n.tagName,n.attributes||C_)}static set(n,s=!1){return Qm.of(n,s)}}Yg.prototype.startSide=Yg.prototype.endSide=-1;function Ng(p){let n;return p.nodeType==11?n=p.getSelection?p:p.ownerDocument:n=p,n.getSelection()}function Gm(p,n){return n?p==n||p.contains(n.nodeType!=1?n.parentNode:n):!1}function M_(p,n){if(!n.anchorNode)return!1;try{return Gm(p,n.anchorNode)}catch{return!1}}function h_(p){return p.nodeType==3?ig(p,0,p.nodeValue.length).getClientRects():p.nodeType==1?p.getClientRects():[]}function q0(p,n,s,c){return s?hy(p,n,s,c,-1)||hy(p,n,s,c,1):!1}function $g(p){for(var n=0;;n++)if(p=p.previousSibling,!p)return n}function P_(p){return p.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(p.nodeName)}function hy(p,n,s,c,Ae){for(;;){if(p==s&&n==c)return!0;if(n==(Ae<0?0:pg(p))){if(p.nodeName=="DIV")return!1;let yt=p.parentNode;if(!yt||yt.nodeType!=1)return!1;n=$g(p)+(Ae<0?0:1),p=yt}else if(p.nodeType==1){if(p=p.childNodes[n+(Ae<0?-1:0)],p.nodeType==1&&p.contentEditable=="false")return!1;n=Ae<0?pg(p):0}else return!1}}function pg(p){return p.nodeType==3?p.nodeValue.length:p.childNodes.length}function w_(p,n){let s=n?p.left:p.right;return{left:s,right:s,top:p.top,bottom:p.bottom}}function k_(p){let n=p.visualViewport;return n?{left:0,right:n.width,top:0,bottom:n.height}:{left:0,right:p.innerWidth,top:0,bottom:p.innerHeight}}function fy(p,n){let s=n.width/p.offsetWidth,c=n.height/p.offsetHeight;return(s>.995&&s<1.005||!isFinite(s)||Math.abs(n.width-p.offsetWidth)<1)&&(s=1),(c>.995&&c<1.005||!isFinite(c)||Math.abs(n.height-p.offsetHeight)<1)&&(c=1),{scaleX:s,scaleY:c}}function h2(p,n,s,c,Ae,yt,wt,Wa){let ja=p.ownerDocument,pd=ja.defaultView||window;for(let md=p,vd=!1;md&&!vd;)if(md.nodeType==1){let $d,kd=md==ja.body,Zd=1,Id=1;if(kd)$d=k_(pd);else{if(/^(fixed|sticky)$/.test(getComputedStyle(md).position)&&(vd=!0),md.scrollHeight<=md.clientHeight&&md.scrollWidth<=md.clientWidth){md=md.assignedSlot||md.parentNode;continue}let pm=md.getBoundingClientRect();({scaleX:Zd,scaleY:Id}=fy(md,pm)),$d={left:pm.left,right:pm.left+md.clientWidth*Zd,top:pm.top,bottom:pm.top+md.clientHeight*Id}}let Ud=0,tm=0;if(Ae=="nearest")n.top<$d.top?(tm=n.top-($d.top+wt),s>0&&n.bottom>$d.bottom+tm&&(tm=n.bottom-$d.bottom+wt)):n.bottom>$d.bottom&&(tm=n.bottom-$d.bottom+wt,s<0&&n.top-tm<$d.top&&(tm=n.top-($d.top+wt)));else{let pm=n.bottom-n.top,fm=$d.bottom-$d.top;tm=(Ae=="center"&&pm<=fm?n.top+pm/2-fm/2:Ae=="start"||Ae=="center"&&s<0?n.top-wt:n.bottom-fm+wt)-$d.top}if(c=="nearest"?n.left<$d.left?(Ud=n.left-($d.left+yt),s>0&&n.right>$d.right+Ud&&(Ud=n.right-$d.right+yt)):n.right>$d.right&&(Ud=n.right-$d.right+yt,s<0&&n.left<$d.left+Ud&&(Ud=n.left-($d.left+yt))):Ud=(c=="center"?n.left+(n.right-n.left)/2-($d.right-$d.left)/2:c=="start"==Wa?n.left-yt:n.right-($d.right-$d.left)+yt)-$d.left,Ud||tm)if(kd)pd.scrollBy(Ud,tm);else{let pm=0,fm=0;if(tm){let Em=md.scrollTop;md.scrollTop+=tm/Id,fm=(md.scrollTop-Em)*Id}if(Ud){let Em=md.scrollLeft;md.scrollLeft+=Ud/Zd,pm=(md.scrollLeft-Em)*Zd}n={left:n.left-pm,top:n.top-fm,right:n.right-pm,bottom:n.bottom-fm},pm&&Math.abs(pm-Ud)<1&&(c="nearest"),fm&&Math.abs(fm-tm)<1&&(Ae="nearest")}if(kd)break;(n.top<$d.top||n.bottom>$d.bottom||n.left<$d.left||n.right>$d.right)&&(n={left:Math.max(n.left,$d.left),right:Math.min(n.right,$d.right),top:Math.max(n.top,$d.top),bottom:Math.min(n.bottom,$d.bottom)}),md=md.assignedSlot||md.parentNode}else if(md.nodeType==11)md=md.host;else break}function Ug(p){let n=p.ownerDocument,s,c;for(let Ae=p.parentNode;Ae&&!(Ae==n.body||s&&c);)if(Ae.nodeType==1)!c&&Ae.scrollHeight>Ae.clientHeight&&(c=Ae),!s&&Ae.scrollWidth>Ae.clientWidth&&(s=Ae),Ae=Ae.assignedSlot||Ae.parentNode;else if(Ae.nodeType==11)Ae=Ae.host;else break;return{x:s,y:c}}class Nm{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(n){return this.anchorNode==n.anchorNode&&this.anchorOffset==n.anchorOffset&&this.focusNode==n.focusNode&&this.focusOffset==n.focusOffset}setRange(n){let{anchorNode:s,focusNode:c}=n;this.set(s,Math.min(n.anchorOffset,s?pg(s):0),c,Math.min(n.focusOffset,c?pg(c):0))}set(n,s,c,Ae){this.anchorNode=n,this.anchorOffset=s,this.focusNode=c,this.focusOffset=Ae}}let m1=null;Pm.safari&&Pm.safari_version>=26&&(m1=!1);function fO(p){if(p.setActive)return p.setActive();if(m1)return p.focus(m1);let n=[];for(let s=p;s&&(n.push(s,s.scrollTop,s.scrollLeft),s!=s.ownerDocument);s=s.parentNode);if(p.focus(m1==null?{get preventScroll(){return m1={preventScroll:!0},!0}}:void 0),!m1){m1=!1;for(let s=0;s<n.length;){let c=n[s++],Ae=n[s++],yt=n[s++];c.scrollTop!=Ae&&(c.scrollTop=Ae),c.scrollLeft!=yt&&(c.scrollLeft=yt)}}}let pO;function ig(p,n,s=n){let c=pO||(pO=document.createRange());return c.setEnd(p,s),c.setStart(p,n),c}function dg(p,n,s,c){let Ae={key:n,code:n,keyCode:s,which:s,cancelable:!0};c&&({altKey:Ae.altKey,ctrlKey:Ae.ctrlKey,shiftKey:Ae.shiftKey,metaKey:Ae.metaKey}=c);let yt=new KeyboardEvent("keydown",Ae);yt.synthetic=!0,p.dispatchEvent(yt);let wt=new KeyboardEvent("keyup",Ae);return wt.synthetic=!0,p.dispatchEvent(wt),yt.defaultPrevented||wt.defaultPrevented}function py(p){for(;p;){if(p&&(p.nodeType==9||p.nodeType==11&&p.host))return p;p=p.assignedSlot||p.parentNode}return null}function f2(p,n){let s=n.focusNode,c=n.focusOffset;if(!s||n.anchorNode!=s||n.anchorOffset!=c)return!1;for(c=Math.min(c,pg(s));;)if(c){if(s.nodeType!=1)return!1;let Ae=s.childNodes[c-1];Ae.contentEditable=="false"?c--:(s=Ae,c=pg(s))}else{if(s==p)return!0;c=$g(s),s=s.parentNode}}function dy(p){return p.scrollTop>Math.max(1,p.scrollHeight-p.clientHeight-4)}function my(p,n){for(let s=p,c=n;;){if(s.nodeType==3&&c>0)return{node:s,offset:c};if(s.nodeType==1&&c>0){if(s.contentEditable=="false")return null;s=s.childNodes[c-1],c=pg(s)}else if(s.parentNode&&!P_(s))c=$g(s),s=s.parentNode;else return null}}function gy(p,n){for(let s=p,c=n;;){if(s.nodeType==3&&c<s.nodeValue.length)return{node:s,offset:c};if(s.nodeType==1&&c<s.childNodes.length){if(s.contentEditable=="false")return null;s=s.childNodes[c],c=0}else if(s.parentNode&&!P_(s))c=$g(s)+1,s=s.parentNode;else return null}}class L0{constructor(n,s,c=!0){this.node=n,this.offset=s,this.precise=c}static before(n,s){return new L0(n.parentNode,$g(n),s)}static after(n,s){return new L0(n.parentNode,$g(n)+1,s)}}var f0=(function(p){return p[p.LTR=0]="LTR",p[p.RTL=1]="RTL",p})(f0||(f0={}));const Lg=f0.LTR,dO=f0.RTL;function _y(p){let n=[];for(let s=0;s<p.length;s++)n.push(1<<+p[s]);return n}const p2=_y("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),d2=_y("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),mO=Object.create(null),ng=[];for(let p of["()","[]","{}"]){let n=p.charCodeAt(0),s=p.charCodeAt(1);mO[n]=s,mO[s]=-n}function Oy(p){return p<=247?p2[p]:1424<=p&&p<=1524?2:1536<=p&&p<=1785?d2[p-1536]:1774<=p&&p<=2220?4:8192<=p&&p<=8204?256:64336<=p&&p<=65023?4:1}const f_=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Q0{get dir(){return this.level%2?dO:Lg}constructor(n,s,c){this.from=n,this.to=s,this.level=c}side(n,s){return this.dir==s==n?this.to:this.from}forward(n,s){return n==(this.dir==s)}static find(n,s,c,Ae){let yt=-1;for(let wt=0;wt<n.length;wt++){let Wa=n[wt];if(Wa.from<=s&&Wa.to>=s){if(Wa.level==c)return wt;(yt<0||(Ae!=0?Ae<0?Wa.from<s:Wa.to>s:n[yt].level>Wa.level))&&(yt=wt)}}if(yt<0)throw new RangeError("Index out of range");return yt}}function gO(p,n){if(p.length!=n.length)return!1;for(let s=0;s<p.length;s++){let c=p[s],Ae=n[s];if(c.from!=Ae.from||c.to!=Ae.to||c.direction!=Ae.direction||!gO(c.inner,Ae.inner))return!1}return!0}const m0=[];function m2(p,n,s,c,Ae){for(let yt=0;yt<=c.length;yt++){let wt=yt?c[yt-1].to:n,Wa=yt<c.length?c[yt].from:s,ja=yt?256:Ae;for(let pd=wt,md=ja,vd=ja;pd<Wa;pd++){let $d=Oy(p.charCodeAt(pd));$d==512?$d=md:$d==8&&vd==4&&($d=16),m0[pd]=$d==4?2:$d,$d&7&&(vd=$d),md=$d}for(let pd=wt,md=ja,vd=ja;pd<Wa;pd++){let $d=m0[pd];if($d==128)pd<Wa-1&&md==m0[pd+1]&&md&24?$d=m0[pd]=md:m0[pd]=256;else if($d==64){let kd=pd+1;for(;kd<Wa&&m0[kd]==64;)kd++;let Zd=pd&&md==8||kd<s&&m0[kd]==8?vd==1?1:8:256;for(let Id=pd;Id<kd;Id++)m0[Id]=Zd;pd=kd-1}else $d==8&&vd==1&&(m0[pd]=1);md=$d,$d&7&&(vd=$d)}}}function yy(p,n,s,c,Ae){let yt=Ae==1?2:1;for(let wt=0,Wa=0,ja=0;wt<=c.length;wt++){let pd=wt?c[wt-1].to:n,md=wt<c.length?c[wt].from:s;for(let vd=pd,$d,kd,Zd;vd<md;vd++)if(kd=mO[$d=p.charCodeAt(vd)])if(kd<0){for(let Id=Wa-3;Id>=0;Id-=3)if(ng[Id+1]==-kd){let Ud=ng[Id+2],tm=Ud&2?Ae:Ud&4?Ud&1?yt:Ae:0;tm&&(m0[vd]=m0[ng[Id]]=tm),Wa=Id;break}}else{if(ng.length==189)break;ng[Wa++]=vd,ng[Wa++]=$d,ng[Wa++]=ja}else if((Zd=m0[vd])==2||Zd==1){let Id=Zd==Ae;ja=Id?0:1;for(let Ud=Wa-3;Ud>=0;Ud-=3){let tm=ng[Ud+2];if(tm&2)break;if(Id)ng[Ud+2]|=2;else{if(tm&4)break;ng[Ud+2]|=4}}}}}function by(p,n,s,c){for(let Ae=0,yt=c;Ae<=s.length;Ae++){let wt=Ae?s[Ae-1].to:p,Wa=Ae<s.length?s[Ae].from:n;for(let ja=wt;ja<Wa;){let pd=m0[ja];if(pd==256){let md=ja+1;for(;;)if(md==Wa){if(Ae==s.length)break;md=s[Ae++].to,Wa=Ae<s.length?s[Ae].from:n}else if(m0[md]==256)md++;else break;let vd=yt==1,$d=(md<n?m0[md]:c)==1,kd=vd==$d?vd?1:2:c;for(let Zd=md,Id=Ae,Ud=Id?s[Id-1].to:p;Zd>ja;)Zd==Ud&&(Zd=s[--Id].from,Ud=Id?s[Id-1].to:p),m0[--Zd]=kd;ja=md}else yt=pd,ja++}}}function _O(p,n,s,c,Ae,yt,wt){let Wa=c%2?2:1;if(c%2==Ae%2)for(let ja=n,pd=0;ja<s;){let md=!0,vd=!1;if(pd==yt.length||ja<yt[pd].from){let Id=m0[ja];Id!=Wa&&(md=!1,vd=Id==16)}let $d=!md&&Wa==1?[]:null,kd=md?c:c+1,Zd=ja;e:for(;;)if(pd<yt.length&&Zd==yt[pd].from){if(vd)break e;let Id=yt[pd];if(!md)for(let Ud=Id.to,tm=pd+1;;){if(Ud==s)break e;if(tm<yt.length&&yt[tm].from==Ud)Ud=yt[tm++].to;else{if(m0[Ud]==Wa)break e;break}}if(pd++,$d)$d.push(Id);else{Id.from>ja&&wt.push(new Q0(ja,Id.from,kd));let Ud=Id.direction==Lg!=!(kd%2);OO(p,Ud?c+1:c,Ae,Id.inner,Id.from,Id.to,wt),ja=Id.to}Zd=Id.to}else{if(Zd==s||(md?m0[Zd]!=Wa:m0[Zd]==Wa))break;Zd++}$d?_O(p,ja,Zd,c+1,Ae,$d,wt):ja<Zd&&wt.push(new Q0(ja,Zd,kd)),ja=Zd}else for(let ja=s,pd=yt.length;ja>n;){let md=!0,vd=!1;if(!pd||ja>yt[pd-1].to){let Id=m0[ja-1];Id!=Wa&&(md=!1,vd=Id==16)}let $d=!md&&Wa==1?[]:null,kd=md?c:c+1,Zd=ja;e:for(;;)if(pd&&Zd==yt[pd-1].to){if(vd)break e;let Id=yt[--pd];if(!md)for(let Ud=Id.from,tm=pd;;){if(Ud==n)break e;if(tm&&yt[tm-1].to==Ud)Ud=yt[--tm].from;else{if(m0[Ud-1]==Wa)break e;break}}if($d)$d.push(Id);else{Id.to<ja&&wt.push(new Q0(Id.to,ja,kd));let Ud=Id.direction==Lg!=!(kd%2);OO(p,Ud?c+1:c,Ae,Id.inner,Id.from,Id.to,wt),ja=Id.from}Zd=Id.from}else{if(Zd==n||(md?m0[Zd-1]!=Wa:m0[Zd-1]==Wa))break;Zd--}$d?_O(p,Zd,ja,c+1,Ae,$d,wt):Zd<ja&&wt.push(new Q0(Zd,ja,kd)),ja=Zd}}function OO(p,n,s,c,Ae,yt,wt){let Wa=n%2?2:1;m2(p,Ae,yt,c,Wa),yy(p,Ae,yt,c,Wa),by(Ae,yt,c,Wa),_O(p,Ae,yt,n,s,c,wt)}function g2(p,n,s){if(!p)return[new Q0(0,0,n==dO?1:0)];if(n==Lg&&!s.length&&!f_.test(p))return vy(p.length);if(s.length)for(;p.length>m0.length;)m0[m0.length]=256;let c=[],Ae=n==Lg?0:1;return OO(p,Ae,Ae,s,0,p.length,c),c}function vy(p){return[new Q0(0,p,0)]}let xy="";function _2(p,n,s,c,Ae){var yt;let wt=c.head-p.from,Wa=Q0.find(n,wt,(yt=c.bidiLevel)!==null&&yt!==void 0?yt:-1,c.assoc),ja=n[Wa],pd=ja.side(Ae,s);if(wt==pd){let $d=Wa+=Ae?1:-1;if($d<0||$d>=n.length)return null;ja=n[Wa=$d],wt=ja.side(!Ae,s),pd=ja.side(Ae,s)}let md=Qd(p.text,wt,ja.forward(Ae,s));(md<ja.from||md>ja.to)&&(md=pd),xy=p.text.slice(Math.min(wt,md),Math.max(wt,md));let vd=Wa==(Ae?n.length-1:0)?null:n[Wa+(Ae?1:-1)];return vd&&md==pd&&vd.level+(Ae?0:1)<ja.level?Hd.cursor(vd.side(!Ae,s)+p.from,vd.forward(Ae,s)?1:-1,vd.level):Hd.cursor(md+p.from,ja.forward(Ae,s)?-1:1,ja.level)}function O2(p,n,s){for(let c=n;c<s;c++){let Ae=Oy(p.charCodeAt(c));if(Ae==1)return Lg;if(Ae==2||Ae==4)return dO}return Lg}const Ay=am.define(),$y=am.define(),Sy=am.define(),E_=am.define(),yO=am.define(),Cy=am.define(),Qg=am.define(),bO=am.define(),vO=am.define(),My=am.define({combine:p=>p.some(n=>n)}),Py=am.define({combine:p=>p.some(n=>n)}),wy=am.define();class qg{constructor(n,s="nearest",c="nearest",Ae=5,yt=5,wt=!1){this.range=n,this.y=s,this.x=c,this.yMargin=Ae,this.xMargin=yt,this.isSnapshot=wt}map(n){return n.empty?this:new qg(this.range.map(n),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(n){return this.range.to<=n.doc.length?this:new qg(Hd.cursor(n.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const D_=xm.define({map:(p,n)=>p.map(n)}),ky=xm.define();function T0(p,n,s){let c=p.facet(E_);c.length?c[0](n):window.onerror&&window.onerror(String(n),s,void 0,void 0,n)||(s?console.error(s+":",n):console.error(n))}const mg=am.define({combine:p=>p.length?p[0]:!0});let y2=0;const Sg=am.define({combine(p){return p.filter((n,s)=>{for(let c=0;c<s;c++)if(p[c].plugin==n.plugin)return!1;return!0})}});class S0{constructor(n,s,c,Ae,yt){this.id=n,this.create=s,this.domEventHandlers=c,this.domEventObservers=Ae,this.baseExtensions=yt(this),this.extension=this.baseExtensions.concat(Sg.of({plugin:this,arg:void 0}))}of(n){return this.baseExtensions.concat(Sg.of({plugin:this,arg:n}))}static define(n,s){const{eventHandlers:c,eventObservers:Ae,provide:yt,decorations:wt}=s||{};return new S0(y2++,n,c,Ae,Wa=>{let ja=[];return wt&&ja.push(em.of(pd=>{let md=pd.plugin(Wa);return md?wt(md):Rm.none})),yt&&ja.push(yt(Wa)),ja})}static fromClass(n,s){return S0.define((c,Ae)=>new n(c,Ae),s)}}class bd{constructor(n){this.spec=n,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(n){if(this.value){if(this.mustUpdate){let s=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(s)}catch(c){if(T0(s.state,c,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(n,this.spec.arg)}catch(s){T0(n.state,s,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(n){var s;if(!((s=this.value)===null||s===void 0)&&s.destroy)try{this.value.destroy()}catch(c){T0(n.state,c,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const Fd=am.define(),Ld=am.define(),em=am.define(),Fm=am.define(),O0=am.define(),z0=am.define(),Bg=am.define();function ax(p,n){let s=p.state.facet(Bg);if(!s.length)return s;let c=s.map(yt=>yt instanceof Function?yt(p):yt),Ae=[];return Qm.spans(c,n.from,n.to,{point(){},span(yt,wt,Wa,ja){let pd=yt-n.from,md=wt-n.from,vd=Ae;for(let $d=Wa.length-1;$d>=0;$d--,ja--){let kd=Wa[$d].spec.bidiIsolate,Zd;if(kd==null&&(kd=O2(n.text,pd,md)),ja>0&&vd.length&&(Zd=vd[vd.length-1]).to==pd&&Zd.direction==kd)Zd.to=md,vd=Zd.inner;else{let Id={from:pd,to:md,direction:kd,inner:[]};vd.push(Id),vd=Id.inner}}}}),Ae}const lx=am.define();function b2(p){let n=0,s=0,c=0,Ae=0;for(let yt of p.state.facet(lx)){let wt=yt(p);wt&&(wt.left!=null&&(n=Math.max(n,wt.left)),wt.right!=null&&(s=Math.max(s,wt.right)),wt.top!=null&&(c=Math.max(c,wt.top)),wt.bottom!=null&&(Ae=Math.max(Ae,wt.bottom)))}return{left:n,right:s,top:c,bottom:Ae}}const xO=am.define();class rg{constructor(n,s,c,Ae){this.fromA=n,this.toA=s,this.fromB=c,this.toB=Ae}join(n){return new rg(Math.min(this.fromA,n.fromA),Math.max(this.toA,n.toA),Math.min(this.fromB,n.fromB),Math.max(this.toB,n.toB))}addToSet(n){let s=n.length,c=this;for(;s>0;s--){let Ae=n[s-1];if(!(Ae.fromA>c.toA)){if(Ae.toA<c.fromA)break;c=c.join(Ae),n.splice(s-1,1)}}return n.splice(s,0,c),n}static extendWithRanges(n,s){if(s.length==0)return n;let c=[];for(let Ae=0,yt=0,wt=0;;){let Wa=Ae<n.length?n[Ae].fromB:1e9,ja=yt<s.length?s[yt]:1e9,pd=Math.min(Wa,ja);if(pd==1e9)break;let md=pd+wt,vd=pd,$d=md;for(;;)if(yt<s.length&&s[yt]<=vd){let kd=s[yt+1];yt+=2,vd=Math.max(vd,kd);for(let Zd=Ae;Zd<n.length&&n[Zd].fromB<=vd;Zd++)wt=n[Zd].toA-n[Zd].toB;$d=Math.max($d,kd+wt)}else if(Ae<n.length&&n[Ae].fromB<=vd){let kd=n[Ae++];vd=Math.max(vd,kd.toB),$d=Math.max($d,kd.toA),wt=kd.toA-kd.toB}else break;c.push(new rg(md,$d,pd,vd))}return c}}class Ey{constructor(n,s,c){this.view=n,this.state=s,this.transactions=c,this.flags=0,this.startState=n.state,this.changes=Om.empty(this.startState.doc.length);for(let yt of c)this.changes=this.changes.compose(yt.changes);let Ae=[];this.changes.iterChangedRanges((yt,wt,Wa,ja)=>Ae.push(new rg(yt,wt,Wa,ja))),this.changedRanges=Ae}static create(n,s,c){return new Ey(n,s,c)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(n=>n.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const oC=[];class F0{constructor(n,s,c=0){this.dom=n,this.length=s,this.flags=c,this.parent=null,n.cmTile=this}get breakAfter(){return this.flags&1}get children(){return oC}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(n){if(this.flags|=2,this.flags&4){this.flags&=-5;let s=this.domAttrs;s&&Wm(this.dom,s)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(n){this.dom=n,n.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(n,s=this.posAtStart){let c=s;for(let Ae of this.children){if(Ae==n)return c;c+=Ae.length+Ae.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(n){return this.posBefore(n)+n.length}covers(n){return!0}coordsIn(n,s){return null}domPosFor(n,s){let c=$g(this.dom),Ae=this.length?n>0:s>0;return new L0(this.parent.dom,c+(Ae?1:0),n==0||n==this.length)}markDirty(n){this.flags&=-3,n&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let n=this;n;n=n.parent)if(n instanceof Ty)return n;return null}static get(n){return n.cmTile}}class Dy extends F0{constructor(n){super(n,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(n){this.children.push(n),n.parent=this}sync(n){if(this.flags&2)return;super.sync(n);let s=this.dom,c=null,Ae,yt=n?.node==s?n:null,wt=0;for(let Wa of this.children){if(Wa.sync(n),wt+=Wa.length+Wa.breakAfter,Ae=c?c.nextSibling:s.firstChild,yt&&Ae!=Wa.dom&&(yt.written=!0),Wa.dom.parentNode==s)for(;Ae&&Ae!=Wa.dom;)Ae=ux(Ae);else s.insertBefore(Wa.dom,Ae);c=Wa.dom}for(Ae=c?c.nextSibling:s.firstChild,yt&&Ae&&(yt.written=!0);Ae;)Ae=ux(Ae);this.length=wt}}function ux(p){let n=p.nextSibling;return p.parentNode.removeChild(p),n}class Ty extends Dy{constructor(n,s){super(s),this.view=n}owns(n){for(;n;n=n.parent)if(n==this)return!0;return!1}isBlock(){return!0}nearest(n){for(;;){if(!n)return null;let s=F0.get(n);if(s&&this.owns(s))return s;n=n.parentNode}}blockTiles(n){for(let s=[],c=this,Ae=0,yt=0;;)if(Ae==c.children.length){if(!s.length)return;c=c.parent,c.breakAfter&&yt++,Ae=s.pop()}else{let wt=c.children[Ae++];if(wt instanceof Hg)s.push(Ae),c=wt,Ae=0;else{let Wa=yt+wt.length,ja=n(wt,yt);if(ja!==void 0)return ja;yt=Wa+wt.breakAfter}}}resolveBlock(n,s){let c,Ae=-1,yt,wt=-1;if(this.blockTiles((Wa,ja)=>{let pd=ja+Wa.length;if(n>=ja&&n<=pd){if(Wa.isWidget()&&s>=-1&&s<=1){if(Wa.flags&32)return!0;Wa.flags&16&&(c=void 0)}(ja<n||n==pd&&(s<-1?Wa.length:Wa.covers(1)))&&(!c||!Wa.isWidget()&&c.isWidget())&&(c=Wa,Ae=n-ja),(pd>n||n==ja&&(s>1?Wa.length:Wa.covers(-1)))&&(!yt||!Wa.isWidget()&&yt.isWidget())&&(yt=Wa,wt=n-ja)}}),!c&&!yt)throw new Error("No tile at position "+n);return c&&s<0||!yt?{tile:c,offset:Ae}:{tile:yt,offset:wt}}}class Hg extends Dy{constructor(n,s){super(n),this.wrapper=s}isBlock(){return!0}covers(n){return this.children.length?n<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(n,s){let c=new Hg(s||document.createElement(n.tagName),n);return s||(c.flags|=4),c}}class T_ extends Dy{constructor(n,s){super(n),this.attrs=s}isLine(){return!0}static start(n,s,c){let Ae=new T_(s||document.createElement("div"),n);return(!s||!c)&&(Ae.flags|=4),Ae}get domAttrs(){return this.attrs}resolveInline(n,s,c){let Ae=null,yt=-1,wt=null,Wa=-1;function ja(md,vd){for(let $d=0,kd=0;$d<md.children.length&&kd<=vd;$d++){let Zd=md.children[$d],Id=kd+Zd.length;Id>=vd&&(Zd.isComposite()?ja(Zd,vd-kd):(!wt||wt.isHidden&&(s>0||c&&lC(wt,Zd)))&&(Id>vd||Zd.flags&32)?(wt=Zd,Wa=vd-kd):(kd<vd||Zd.flags&16&&!Zd.isHidden)&&(Ae=Zd,yt=vd-kd)),kd=Id}}ja(this,n);let pd=(s<0?Ae:wt)||Ae||wt;return pd?{tile:pd,offset:pd==Ae?yt:Wa}:null}coordsIn(n,s){let c=this.resolveInline(n,s,!0);return c?c.tile.coordsIn(Math.max(0,c.offset),s):aC(this)}domIn(n,s){let c=this.resolveInline(n,s);if(c){let{tile:Ae,offset:yt}=c;if(this.dom.contains(Ae.dom))return Ae.isText()?new L0(Ae.dom,Math.min(Ae.dom.nodeValue.length,yt)):Ae.domPosFor(yt,Ae.flags&16?1:Ae.flags&32?-1:s);let wt=c.tile.parent,Wa=!1;for(let ja of wt.children){if(Wa)return new L0(ja.dom,0);ja==c.tile&&(Wa=!0)}}return new L0(this.dom,0)}}function aC(p){let n=p.dom.lastChild;if(!n)return p.dom.getBoundingClientRect();let s=h_(n);return s[s.length-1]||null}function lC(p,n){let s=p.coordsIn(0,1),c=n.coordsIn(0,1);return s&&c&&c.top<s.bottom}class O1 extends Dy{constructor(n,s){super(n),this.mark=s}get domAttrs(){return this.mark.attrs}static of(n,s){let c=new O1(s||document.createElement(n.tagName),n);return s||(c.flags|=4),c}}class p_ extends F0{constructor(n,s){super(n,s.length),this.text=s}sync(n){this.flags&2||(super.sync(n),this.dom.nodeValue!=this.text&&(n&&n.node==this.dom&&(n.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(n,s){let c=this.dom.nodeValue.length;n>c&&(n=c);let Ae=n,yt=n,wt=0;n==0&&s<0||n==c&&s>=0?Pm.chrome||Pm.gecko||(n?(Ae--,wt=1):yt<c&&(yt++,wt=-1)):s<0?Ae--:yt<c&&yt++;let Wa=ig(this.dom,Ae,yt).getClientRects();if(!Wa.length)return null;let ja=Wa[(wt?wt<0:s>=0)?0:Wa.length-1];return Pm.safari&&!wt&&ja.width==0&&(ja=Array.prototype.find.call(Wa,pd=>pd.width)||ja),wt?w_(ja,wt<0):ja||null}static of(n,s){let c=new p_(s||document.createTextNode(n),n);return s||(c.flags|=2),c}}class F_ extends F0{constructor(n,s,c,Ae){super(n,s,Ae),this.widget=c}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(n){return this.flags&48?!1:(this.flags&(n<0?64:128))>0}coordsIn(n,s){return this.coordsInWidget(n,s,!1)}coordsInWidget(n,s,c){let Ae=this.widget.coordsAt(this.dom,n,s);if(Ae)return Ae;if(c)return w_(this.dom.getBoundingClientRect(),this.length?n==0:s<=0);{let yt=this.dom.getClientRects(),wt=null;if(!yt.length)return null;let Wa=this.flags&16?!0:this.flags&32?!1:n>0;for(let ja=Wa?yt.length-1:0;wt=yt[ja],!(n>0?ja==0:ja==yt.length-1||wt.top<wt.bottom);ja+=Wa?-1:1);return w_(wt,!Wa)}}get overrideDOMText(){if(!this.length)return yd.empty;let{root:n}=this;if(!n)return yd.empty;let s=this.posAtStart;return n.view.state.doc.slice(s,s+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(n,s,c,Ae,yt){return yt||(yt=n.toDOM(s),n.editable||(yt.contentEditable="false")),new F_(yt,c,n,Ae)}}class Fy extends F0{constructor(n){let s=document.createElement("img");s.className="cm-widgetBuffer",s.setAttribute("aria-hidden","true"),super(s,0,n)}get isHidden(){return!1}get overrideDOMText(){return yd.empty}coordsIn(n){return this.dom.getBoundingClientRect()}}class uC{constructor(n){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=n}advance(n,s,c){let{tile:Ae,index:yt,beforeBreak:wt,parents:Wa}=this;for(;n||s>0;)if(Ae.isComposite())if(wt){if(!n)break;c&&c.break(),n--,wt=!1}else if(yt==Ae.children.length){if(!n&&!Wa.length)break;c&&c.leave(Ae),wt=!!Ae.breakAfter,{tile:Ae,index:yt}=Wa.pop(),yt++}else{let ja=Ae.children[yt],pd=ja.breakAfter;(s>0?ja.length<=n:ja.length<n)&&(!c||c.skip(ja,0,ja.length)!==!1||!ja.isComposite)?(wt=!!pd,yt++,n-=ja.length):(Wa.push({tile:Ae,index:yt}),Ae=ja,yt=0,c&&ja.isComposite()&&c.enter(ja))}else if(yt==Ae.length)wt=!!Ae.breakAfter,{tile:Ae,index:yt}=Wa.pop(),yt++;else if(n){let ja=Math.min(n,Ae.length-yt);c&&c.skip(Ae,yt,yt+ja),n-=ja,yt+=ja}else break;return this.tile=Ae,this.index=yt,this.beforeBreak=wt,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class cC{constructor(n,s,c,Ae){this.from=n,this.to=s,this.wrapper=c,this.rank=Ae}}class hC{constructor(n,s,c){this.cache=n,this.root=s,this.blockWrappers=c,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(n,s,c,Ae){var yt;this.flushBuffer();let wt=this.ensureMarks(s,c),Wa=wt.lastChild;if(Wa&&Wa.isText()&&!(Wa.flags&8)){this.cache.reused.set(Wa,2);let ja=wt.children[wt.children.length-1]=new p_(Wa.dom,Wa.text+n);ja.parent=wt}else wt.append(Ae||p_.of(n,(yt=this.cache.find(p_))===null||yt===void 0?void 0:yt.dom));this.pos+=n.length,this.afterWidget=null}addComposition(n,s){let c=this.curLine;c.dom!=s.line.dom&&(c.setDOM(this.cache.reused.has(s.line)?v2(s.line.dom):s.line.dom),this.cache.reused.set(s.line,2));let Ae=c;for(let wt=s.marks.length-1;wt>=0;wt--){let Wa=s.marks[wt],ja=Ae.lastChild;if(ja instanceof O1&&ja.mark.eq(Wa.mark))ja.dom!=Wa.dom&&ja.setDOM(v2(Wa.dom)),Ae=ja;else{if(this.cache.reused.get(Wa)){let md=F0.get(Wa.dom);md&&md.setDOM(v2(Wa.dom))}let pd=O1.of(Wa.mark,Wa.dom);Ae.append(pd),Ae=pd}this.cache.reused.set(Wa,2)}let yt=new p_(n.text,n.text.nodeValue);yt.flags|=8,Ae.append(yt)}addInlineWidget(n,s,c){let Ae=this.afterWidget&&n.flags&48&&(this.afterWidget.flags&48)==(n.flags&48);Ae||this.flushBuffer();let yt=this.ensureMarks(s,c);!Ae&&!(n.flags&16)&&yt.append(this.getBuffer(1)),yt.append(n),this.pos+=n.length,this.afterWidget=n}addMark(n,s,c){this.flushBuffer(),this.ensureMarks(s,c).append(n),this.pos+=n.length,this.afterWidget=null}addBlockWidget(n){this.getBlockPos().append(n),this.pos+=n.length,this.lastBlock=n,this.endLine()}continueWidget(n){let s=this.afterWidget||this.lastBlock;s.length+=n,this.pos+=n}addLineStart(n,s){var c;n||(n=hx);let Ae=T_.start(n,s||((c=this.cache.find(T_))===null||c===void 0?void 0:c.dom),!!s);this.getBlockPos().append(this.lastBlock=this.curLine=Ae)}addLine(n){this.getBlockPos().append(n),this.pos+=n.length,this.lastBlock=n,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(n){this.blockPosCovered()||this.addLineStart(n)}ensureLine(n){this.curLine||this.addLineStart(n)}ensureMarks(n,s){var c;let Ae=this.curLine;for(let yt=n.length-1;yt>=0;yt--){let wt=n[yt],Wa;if(s>0&&(Wa=Ae.lastChild)&&Wa instanceof O1&&Wa.mark.eq(wt))Ae=Wa,s--;else{let ja=O1.of(wt,(c=this.cache.find(O1,pd=>pd.mark.eq(wt)))===null||c===void 0?void 0:c.dom);Ae.append(ja),Ae=ja,s=0}}return Ae}endLine(){if(this.curLine){this.flushBuffer();let n=this.curLine.lastChild;(!n||!cx(this.curLine,!1)||n.dom.nodeName!="BR"&&n.isWidget()&&!(Pm.ios&&cx(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(x2,0,32)||new F_(x2.toDOM(),0,x2,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let n=this.wrappers.length-1;n>=0;n--)this.wrappers[n].to<this.pos&&this.wrappers.splice(n,1);for(let n=this.blockWrappers;n.value&&n.from<=this.pos;n.next())if(n.to>=this.pos){let s=new cC(n.from,n.to,n.value,n.rank),c=this.wrappers.length;for(;c>0&&(this.wrappers[c-1].rank-s.rank||this.wrappers[c-1].to-s.to)<0;)c--;this.wrappers.splice(c,0,s)}this.wrapperPos=this.pos}getBlockPos(){var n;this.updateBlockWrappers();let s=this.root;for(let c of this.wrappers){let Ae=s.lastChild;if(c.from<this.pos&&Ae instanceof Hg&&Ae.wrapper.eq(c.wrapper))s=Ae;else{let yt=Hg.of(c.wrapper,(n=this.cache.find(Hg,wt=>wt.wrapper.eq(c.wrapper)))===null||n===void 0?void 0:n.dom);s.append(yt),s=yt}}return s}blockPosCovered(){let n=this.lastBlock;return n!=null&&!n.breakAfter&&(!n.isWidget()||(n.flags&160)>0)}getBuffer(n){let s=2|(n<0?16:32),c=this.cache.find(Fy,void 0,1);return c&&(c.flags=s),c||new Fy(s)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class fC{constructor(n){this.skipCount=0,this.text="",this.textOff=0,this.cursor=n.iter()}skip(n){this.textOff+n<=this.text.length?this.textOff+=n:(this.skipCount+=n-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(n){if(this.textOff==this.text.length){let{value:Ae,lineBreak:yt,done:wt}=this.cursor.next(this.skipCount);if(this.skipCount=0,wt)throw new Error("Ran out of text content when drawing inline views");this.text=Ae;let Wa=this.textOff=Math.min(n,Ae.length);return yt?null:Ae.slice(0,Wa)}let s=Math.min(this.text.length,this.textOff+n),c=this.text.slice(this.textOff,s);return this.textOff=s,c}}const Gy=[F_,T_,p_,O1,Fy,Hg,Ty];for(let p=0;p<Gy.length;p++)Gy[p].bucket=p;class pC{constructor(n){this.view=n,this.buckets=Gy.map(()=>[]),this.index=Gy.map(()=>0),this.reused=new Map}add(n){let s=n.constructor.bucket,c=this.buckets[s];c.length<6?c.push(n):c[this.index[s]=(this.index[s]+1)%6]=n}find(n,s,c=2){let Ae=n.bucket,yt=this.buckets[Ae],wt=this.index[Ae];for(let Wa=yt.length-1;Wa>=0;Wa--){let ja=(Wa+wt)%yt.length,pd=yt[ja];if((!s||s(pd))&&!this.reused.has(pd))return yt.splice(ja,1),ja<wt&&this.index[Ae]--,this.reused.set(pd,c),pd}return null}findWidget(n,s,c){let Ae=this.buckets[0];if(Ae.length)for(let yt=0,wt=0;;yt++){if(yt==Ae.length){if(wt)return null;wt=1,yt=0}let Wa=Ae[yt];if(!this.reused.has(Wa)&&(wt==0?Wa.widget.compare(n):Wa.widget.constructor==n.constructor&&n.updateDOM(Wa.dom,this.view)))return Ae.splice(yt,1),yt<this.index[0]&&this.index[0]--,this.reused.set(Wa,1),Wa.length=s,Wa.flags=Wa.flags&-498|c,Wa}}reuse(n){return this.reused.set(n,1),n}maybeReuse(n,s=2){if(!this.reused.has(n))return this.reused.set(n,s),n.dom}}class dC{constructor(n,s,c,Ae,yt){this.view=n,this.decorations=Ae,this.disallowBlockEffectsFor=yt,this.openWidget=!1,this.openMarks=0,this.cache=new pC(n),this.text=new fC(n.state.doc),this.builder=new hC(this.cache,new Ty(n,n.contentDOM),Qm.iter(c)),this.cache.reused.set(s,2),this.old=new uC(s)}run(n,s){let c=s&&this.getCompositionContext(s.text);for(let Ae=0,yt=0,wt=0;;){let Wa=wt<n.length?n[wt++]:null,ja=Wa?Wa.fromA:this.old.root.length;if(ja>Ae){let pd=ja-Ae;this.preserve(pd,!wt,!Wa),Ae=ja,yt+=pd}if(!Wa)break;this.forward(Wa.fromA,Wa.toA),s&&Wa.fromA<=s.range.fromA&&Wa.toA>=s.range.toA?(this.emit(yt,s.range.fromB),this.builder.addComposition(s,c),this.emit(s.range.toB,Wa.toB)):this.emit(yt,Wa.toB),yt=Wa.toB,Ae=Wa.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(n,s,c){let Ae=_C(this.old),yt=this.openMarks;this.old.advance(n,c?1:-1,{skip:(wt,Wa,ja)=>{if(wt.isWidget())if(this.openWidget)this.builder.continueWidget(ja-Wa);else{let pd=ja>0||Wa<wt.length?F_.of(wt.widget,this.view,ja-Wa,wt.flags&496,this.cache.maybeReuse(wt)):this.cache.reuse(wt);pd.flags&256?(pd.flags&=-2,this.builder.addBlockWidget(pd)):(this.builder.ensureLine(null),this.builder.addInlineWidget(pd,Ae,yt),yt=Ae.length)}else if(wt.isText())this.builder.ensureLine(null),!Wa&&ja==wt.length?this.builder.addText(wt.text,Ae,yt,this.cache.reuse(wt)):(this.cache.add(wt),this.builder.addText(wt.text.slice(Wa,ja),Ae,yt)),yt=Ae.length;else if(wt.isLine())wt.flags&=-2,this.cache.reused.set(wt,1),this.builder.addLine(wt);else if(wt instanceof Fy)this.cache.add(wt);else if(wt instanceof O1)this.builder.ensureLine(null),this.builder.addMark(wt,Ae,yt),this.cache.reused.set(wt,1),yt=Ae.length;else return!1;this.openWidget=!1},enter:wt=>{wt.isLine()?this.builder.addLineStart(wt.attrs,this.cache.maybeReuse(wt)):(this.cache.add(wt),wt instanceof O1&&Ae.unshift(wt.mark)),this.openWidget=!1},leave:wt=>{wt.isLine()?Ae.length&&(Ae.length=yt=0):wt instanceof O1&&(Ae.shift(),yt=Math.min(yt,Ae.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(n)}emit(n,s){let c=null,Ae=this.builder,yt=0,wt=Qm.spans(this.decorations,n,s,{point:(Wa,ja,pd,md,vd,$d)=>{if(pd instanceof Um){if(this.disallowBlockEffectsFor[$d]){if(pd.block)throw new RangeError("Block decorations may not be specified via plugins");if(ja>this.view.state.doc.lineAt(Wa).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(yt=md.length,vd>md.length)Ae.continueWidget(ja-Wa);else{let kd=pd.widget||(pd.block?G_.block:G_.inline),Zd=mC(pd),Id=this.cache.findWidget(kd,ja-Wa,Zd)||F_.of(kd,this.view,ja-Wa,Zd);pd.block?(pd.startSide>0&&Ae.addLineStartIfNotCovered(c),Ae.addBlockWidget(Id)):(Ae.ensureLine(c),Ae.addInlineWidget(Id,md,vd))}c=null}else c=gC(c,pd);ja>Wa&&this.text.skip(ja-Wa)},span:(Wa,ja,pd,md)=>{for(let vd=Wa;vd<ja;){let $d=this.text.next(Math.min(512,ja-vd));$d==null?(Ae.addLineStartIfNotCovered(c),Ae.addBreak(),vd++):(Ae.ensureLine(c),Ae.addText($d,pd,md),vd+=$d.length),c=null}}});Ae.addLineStartIfNotCovered(c),this.openWidget=wt>yt,this.openMarks=wt}forward(n,s){this.old.advance(s-n,1,{skip:(c,Ae,yt)=>{(c.isText()||yt==c.length)&&this.cache.add(c)},enter:c=>this.cache.add(c),leave:()=>{},break:()=>{}})}getCompositionContext(n){let s=[],c=null;for(let Ae=n.parentNode;;Ae=Ae.parentNode){let yt=F0.get(Ae);if(Ae==this.view.contentDOM)break;yt instanceof O1?s.push(yt):yt?.isLine()?c=yt:Ae.nodeName=="DIV"&&!c&&Ae!=this.view.contentDOM?c=new T_(Ae,hx):s.push(O1.of(new c_({tagName:Ae.nodeName.toLowerCase(),attributes:W1(Ae)}),Ae))}return{line:c,marks:s}}}function cx(p,n){let s=c=>{for(let Ae of c.children)if((n?Ae.isText():Ae.length)||s(Ae))return!0;return!1};return s(p)}function mC(p){let n=p.isReplace?(p.startSide<0?64:0)|(p.endSide>0?128:0):p.startSide>0?32:16;return p.block&&(n|=256),n}const hx={class:"cm-line"};function gC(p,n){let s=n.spec.attributes,c=n.spec.class;return!s&&!c||(p||(p={class:"cm-line"}),s&&hO(s,p),c&&(p.class+=" "+c)),p}function _C(p){let n=[];for(let s=p.parents.length;s>1;s--){let c=s==p.parents.length?p.tile:p.parents[s].tile;c instanceof O1&&n.push(c.mark)}return n}function v2(p){let n=F0.get(p);return n&&n.setDOM(p.cloneNode()),p}class G_ extends Y1{constructor(n){super(),this.tag=n}eq(n){return n.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(n){return n.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}G_.inline=new G_("span"),G_.block=new G_("div");const x2=new class extends Y1{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class fx{constructor(n){this.view=n,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Rm.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new Ty(n,n.contentDOM),this.updateInner([new rg(0,0,0,n.state.doc.length)],null)}update(n){var s;let c=n.changedRanges;this.minWidth>0&&c.length&&(c.every(({fromA:md,toA:vd})=>vd<this.minWidthFrom||md>this.minWidthTo)?(this.minWidthFrom=n.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=n.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(n);let Ae=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((s=this.domChanged)===null||s===void 0)&&s.newSel?Ae=this.domChanged.newSel.head:!CC(n.changes,this.hasComposition)&&!n.selectionSet&&(Ae=n.state.selection.main.head));let yt=Ae>-1?yC(this.view,n.changes,Ae):null;if(this.domChanged=null,this.hasComposition){let{from:md,to:vd}=this.hasComposition;c=new rg(md,vd,n.changes.mapPos(md,-1),n.changes.mapPos(vd,1)).addToSet(c.slice())}this.hasComposition=yt?{from:yt.range.fromB,to:yt.range.toB}:null,(Pm.ie||Pm.chrome)&&!yt&&n&&n.state.doc.lines!=n.startState.doc.lines&&(this.forceSelection=!0);let wt=this.decorations,Wa=this.blockWrappers;this.updateDeco();let ja=xC(wt,this.decorations,n.changes);ja.length&&(c=rg.extendWithRanges(c,ja));let pd=$C(Wa,this.blockWrappers,n.changes);return pd.length&&(c=rg.extendWithRanges(c,pd)),yt&&!c.some(md=>md.fromA<=yt.range.fromA&&md.toA>=yt.range.toA)&&(c=yt.range.addToSet(c.slice())),this.tile.flags&2&&c.length==0?!1:(this.updateInner(c,yt),n.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(n,s){this.view.viewState.mustMeasureContent=!0;let{observer:c}=this.view;c.ignore(()=>{if(s||n.length){let wt=this.tile,Wa=new dC(this.view,wt,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=Wa.run(n,s),A2(wt,Wa.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let yt=Pm.chrome||Pm.ios?{node:c.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(yt),yt&&(yt.written||c.selectionRange.focusNode!=yt.node||!this.tile.dom.contains(yt.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let Ae=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let yt of this.tile.children)yt.isWidget()&&yt.widget instanceof $2&&Ae.push(yt.dom);c.updateGaps(Ae)}updateEditContextFormatting(n){this.editContextFormatting=this.editContextFormatting.map(n.changes);for(let s of n.transactions)for(let c of s.effects)c.is(ky)&&(this.editContextFormatting=c.value)}updateSelection(n=!1,s=!1){(n||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:c}=this.tile,Ae=this.view.root.activeElement,yt=Ae==c,wt=!yt&&!(this.view.state.facet(mg)||c.tabIndex>-1)&&M_(c,this.view.observer.selectionRange)&&!(Ae&&c.contains(Ae));if(!(yt||s||wt))return;let Wa=this.forceSelection;this.forceSelection=!1;let ja=this.view.state.selection.main,pd,md;if(ja.empty?md=pd=this.inlineDOMNearPos(ja.anchor,ja.assoc||1):(md=this.inlineDOMNearPos(ja.head,ja.head==ja.from?1:-1),pd=this.inlineDOMNearPos(ja.anchor,ja.anchor==ja.from?1:-1)),Pm.gecko&&ja.empty&&!this.hasComposition&&OC(pd)){let $d=document.createTextNode("");this.view.observer.ignore(()=>pd.node.insertBefore($d,pd.node.childNodes[pd.offset]||null)),pd=md=new L0($d,0),Wa=!0}let vd=this.view.observer.selectionRange;(Wa||!vd.focusNode||(!q0(pd.node,pd.offset,vd.anchorNode,vd.anchorOffset)||!q0(md.node,md.offset,vd.focusNode,vd.focusOffset))&&!this.suppressWidgetCursorChange(vd,ja))&&(this.view.observer.ignore(()=>{Pm.android&&Pm.chrome&&c.contains(vd.focusNode)&&SC(vd.focusNode,c)&&(c.blur(),c.focus({preventScroll:!0}));let $d=Ng(this.view.root);if($d)if(ja.empty){if(Pm.gecko){let kd=bC(pd.node,pd.offset);if(kd&&kd!=3){let Zd=(kd==1?my:gy)(pd.node,pd.offset);Zd&&(pd=new L0(Zd.node,Zd.offset))}}$d.collapse(pd.node,pd.offset),ja.bidiLevel!=null&&$d.caretBidiLevel!==void 0&&($d.caretBidiLevel=ja.bidiLevel)}else if($d.extend){$d.collapse(pd.node,pd.offset);try{$d.extend(md.node,md.offset)}catch{}}else{let kd=document.createRange();ja.anchor>ja.head&&([pd,md]=[md,pd]),kd.setEnd(md.node,md.offset),kd.setStart(pd.node,pd.offset),$d.removeAllRanges(),$d.addRange(kd)}wt&&this.view.root.activeElement==c&&(c.blur(),Ae&&Ae.focus())}),this.view.observer.setSelectionRange(pd,md)),this.impreciseAnchor=pd.precise?null:new L0(vd.anchorNode,vd.anchorOffset),this.impreciseHead=md.precise?null:new L0(vd.focusNode,vd.focusOffset)}suppressWidgetCursorChange(n,s){return this.hasComposition&&s.empty&&q0(n.focusNode,n.focusOffset,n.anchorNode,n.anchorOffset)&&this.posFromDOM(n.focusNode,n.focusOffset)==s.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:n}=this,s=n.state.selection.main,c=Ng(n.root),{anchorNode:Ae,anchorOffset:yt}=n.observer.selectionRange;if(!c||!s.empty||!s.assoc||!c.modify)return;let wt=this.lineAt(s.head,s.assoc);if(!wt)return;let Wa=wt.posAtStart;if(s.head==Wa||s.head==Wa+wt.length)return;let ja=this.coordsAt(s.head,-1),pd=this.coordsAt(s.head,1);if(!ja||!pd||ja.bottom>pd.top)return;let md=this.domAtPos(s.head+s.assoc,s.assoc);c.collapse(md.node,md.offset),c.modify("move",s.assoc<0?"forward":"backward","lineboundary"),n.observer.readSelectionRange();let vd=n.observer.selectionRange;n.docView.posFromDOM(vd.anchorNode,vd.anchorOffset)!=s.from&&c.collapse(Ae,yt)}posFromDOM(n,s){let c=this.tile.nearest(n);if(!c)return this.tile.dom.compareDocumentPosition(n)&2?0:this.view.state.doc.length;let Ae=c.posAtStart;if(c.isComposite()){let yt;if(n==c.dom)yt=c.dom.childNodes[s];else{let wt=pg(n)==0?0:s==0?-1:1;for(;;){let Wa=n.parentNode;if(Wa==c.dom)break;wt==0&&Wa.firstChild!=Wa.lastChild&&(n==Wa.firstChild?wt=-1:wt=1),n=Wa}wt<0?yt=n:yt=n.nextSibling}if(yt==c.dom.firstChild)return Ae;for(;yt&&!F0.get(yt);)yt=yt.nextSibling;if(!yt)return Ae+c.length;for(let wt=0,Wa=Ae;;wt++){let ja=c.children[wt];if(ja.dom==yt)return Wa;Wa+=ja.length+ja.breakAfter}}else return c.isText()?n==c.dom?Ae+s:Ae+(s?c.length:0):Ae}domAtPos(n,s){let{tile:c,offset:Ae}=this.tile.resolveBlock(n,s);return c.isWidget()?c.domPosFor(n,s):c.domIn(Ae,s)}inlineDOMNearPos(n,s){let c,Ae=-1,yt=!1,wt,Wa=-1,ja=!1;return this.tile.blockTiles((pd,md)=>{if(pd.isWidget()){if(pd.flags&32&&md>=n)return!0;pd.flags&16&&(yt=!0)}else{let vd=md+pd.length;if(md<=n&&(c=pd,Ae=n-md,yt=vd<n),vd>=n&&!wt&&(wt=pd,Wa=n-md,ja=md>n),md>n&&wt)return!0}}),!c&&!wt?this.domAtPos(n,s):(yt&&wt?c=null:ja&&c&&(wt=null),c&&s<0||!wt?c.domIn(Ae,s):wt.domIn(Wa,s))}coordsAt(n,s){let{tile:c,offset:Ae}=this.tile.resolveBlock(n,s);return c.isWidget()?c.widget instanceof $2?null:c.coordsInWidget(Ae,s,!0):c.coordsIn(Ae,s)}lineAt(n,s){let{tile:c}=this.tile.resolveBlock(n,s);return c.isLine()?c:null}coordsForChar(n){let{tile:s,offset:c}=this.tile.resolveBlock(n,1);if(!s.isLine())return null;function Ae(yt,wt){if(yt.isComposite())for(let Wa of yt.children){if(Wa.length>=wt){let ja=Ae(Wa,wt);if(ja)return ja}if(wt-=Wa.length,wt<0)break}else if(yt.isText()&&wt<yt.length){let Wa=Qd(yt.text,wt);if(Wa==wt)return null;let ja=ig(yt.dom,wt,Wa).getClientRects();for(let pd=0;pd<ja.length;pd++){let md=ja[pd];if(pd==ja.length-1||md.top<md.bottom&&md.left<md.right)return md}}return null}return Ae(s,c)}measureVisibleLineHeights(n){let s=[],{from:c,to:Ae}=n,yt=this.view.contentDOM.clientWidth,wt=yt>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,Wa=-1,ja=this.view.textDirection==f0.LTR,pd=0,md=(vd,$d,kd)=>{for(let Zd=0;Zd<vd.children.length&&!($d>Ae);Zd++){let Id=vd.children[Zd],Ud=$d+Id.length,tm=Id.dom.getBoundingClientRect(),{height:pm}=tm;if(kd&&!Zd&&(pd+=tm.top-kd.top),Id instanceof Hg)Ud>c&&md(Id,$d,tm);else if($d>=c&&(pd>0&&s.push(-pd),s.push(pm+pd),pd=0,wt)){let fm=Id.dom.lastChild,Em=fm?h_(fm):[];if(Em.length){let hm=Em[Em.length-1],$m=ja?hm.right-tm.left:tm.right-hm.left;$m>Wa&&(Wa=$m,this.minWidth=yt,this.minWidthFrom=$d,this.minWidthTo=Ud)}}kd&&Zd==vd.children.length-1&&(pd+=kd.bottom-tm.bottom),$d=Ud+Id.breakAfter}};return md(this.tile,0,null),s}textDirectionAt(n){let{tile:s}=this.tile.resolveBlock(n,1);return getComputedStyle(s.dom).direction=="rtl"?f0.RTL:f0.LTR}measureTextSize(){let n=this.tile.blockTiles(wt=>{if(wt.isLine()&&wt.children.length&&wt.length<=20){let Wa=0,ja;for(let pd of wt.children){if(!pd.isText()||/[^ -~]/.test(pd.text))return;let md=h_(pd.dom);if(md.length!=1)return;Wa+=md[0].width,ja=md[0].height}if(Wa)return{lineHeight:wt.dom.getBoundingClientRect().height,charWidth:Wa/wt.length,textHeight:ja}}});if(n)return n;let s=document.createElement("div"),c,Ae,yt;return s.className="cm-line",s.style.width="99999px",s.style.position="absolute",s.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(s);let wt=h_(s.firstChild)[0];c=s.getBoundingClientRect().height,Ae=wt&&wt.width?wt.width/27:7,yt=wt&&wt.height?wt.height:c,s.remove()}),{lineHeight:c,charWidth:Ae,textHeight:yt}}computeBlockGapDeco(){let n=[],s=this.view.viewState;for(let c=0,Ae=0;;Ae++){let yt=Ae==s.viewports.length?null:s.viewports[Ae],wt=yt?yt.from-1:this.view.state.doc.length;if(wt>c){let Wa=(s.lineBlockAt(wt).bottom-s.lineBlockAt(c).top)/this.view.scaleY;n.push(Rm.replace({widget:new $2(Wa),block:!0,inclusive:!0,isBlockGap:!0}).range(c,wt))}if(!yt)break;c=yt.to+1}return Rm.set(n)}updateDeco(){let n=1,s=this.view.state.facet(em).map(yt=>(this.dynamicDecorationMap[n++]=typeof yt=="function")?yt(this.view):yt),c=!1,Ae=this.view.state.facet(O0).map((yt,wt)=>{let Wa=typeof yt=="function";return Wa&&(c=!0),Wa?yt(this.view):yt});for(Ae.length&&(this.dynamicDecorationMap[n++]=c,s.push(Qm.join(Ae))),this.decorations=[this.editContextFormatting,...s,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];n<this.decorations.length;)this.dynamicDecorationMap[n++]=!1;this.blockWrappers=this.view.state.facet(Fm).map(yt=>typeof yt=="function"?yt(this.view):yt)}scrollIntoView(n){if(n.isSnapshot){let pd=this.view.viewState.lineBlockAt(n.range.head);this.view.scrollDOM.scrollTop=pd.top-n.yMargin,this.view.scrollDOM.scrollLeft=n.xMargin;return}for(let pd of this.view.state.facet(wy))try{if(pd(this.view,n.range,n))return!0}catch(md){T0(this.view.state,md,"scroll handler")}let{range:s}=n,c=this.coordsAt(s.head,s.empty?s.assoc:s.head>s.anchor?-1:1),Ae;if(!c)return;!s.empty&&(Ae=this.coordsAt(s.anchor,s.anchor>s.head?-1:1))&&(c={left:Math.min(c.left,Ae.left),top:Math.min(c.top,Ae.top),right:Math.max(c.right,Ae.right),bottom:Math.max(c.bottom,Ae.bottom)});let yt=b2(this.view),wt={left:c.left-yt.left,top:c.top-yt.top,right:c.right+yt.right,bottom:c.bottom+yt.bottom},{offsetWidth:Wa,offsetHeight:ja}=this.view.scrollDOM;h2(this.view.scrollDOM,wt,s.head<s.anchor?-1:1,n.x,n.y,Math.max(Math.min(n.xMargin,Wa),-Wa),Math.max(Math.min(n.yMargin,ja),-ja),this.view.textDirection==f0.LTR)}lineHasWidget(n){let s=c=>c.isWidget()||c.children.some(s);return s(this.tile.resolveBlock(n,1).tile)}destroy(){A2(this.tile)}}function A2(p,n){let s=n?.get(p);if(s!=1){s==null&&p.destroy();for(let c of p.children)A2(c,n)}}function OC(p){return p.node.nodeType==1&&p.node.firstChild&&(p.offset==0||p.node.childNodes[p.offset-1].contentEditable=="false")&&(p.offset==p.node.childNodes.length||p.node.childNodes[p.offset].contentEditable=="false")}function px(p,n){let s=p.observer.selectionRange;if(!s.focusNode)return null;let c=my(s.focusNode,s.focusOffset),Ae=gy(s.focusNode,s.focusOffset),yt=c||Ae;if(Ae&&c&&Ae.node!=c.node){let Wa=F0.get(Ae.node);if(!Wa||Wa.isText()&&Wa.text!=Ae.node.nodeValue)yt=Ae;else if(p.docView.lastCompositionAfterCursor){let ja=F0.get(c.node);!ja||ja.isText()&&ja.text!=c.node.nodeValue||(yt=Ae)}}if(p.docView.lastCompositionAfterCursor=yt!=c,!yt)return null;let wt=n-yt.offset;return{from:wt,to:wt+yt.node.nodeValue.length,node:yt.node}}function yC(p,n,s){let c=px(p,s);if(!c)return null;let{node:Ae,from:yt,to:wt}=c,Wa=Ae.nodeValue;if(/[\n\r]/.test(Wa)||p.state.doc.sliceString(c.from,c.to)!=Wa)return null;let ja=n.invertedDesc;return{range:new rg(ja.mapPos(yt),ja.mapPos(wt),yt,wt),text:Ae}}function bC(p,n){return p.nodeType!=1?0:(n&&p.childNodes[n-1].contentEditable=="false"?1:0)|(n<p.childNodes.length&&p.childNodes[n].contentEditable=="false"?2:0)}let vC=class{constructor(){this.changes=[]}compareRange(n,s){Ag(n,s,this.changes)}comparePoint(n,s){Ag(n,s,this.changes)}boundChange(n){Ag(n,n,this.changes)}};function xC(p,n,s){let c=new vC;return Qm.compare(p,n,s,c),c.changes}class AC{constructor(){this.changes=[]}compareRange(n,s){Ag(n,s,this.changes)}comparePoint(){}boundChange(n){Ag(n,n,this.changes)}}function $C(p,n,s){let c=new AC;return Qm.compare(p,n,s,c),c.changes}function SC(p,n){for(let s=p;s&&s!=n;s=s.assignedSlot||s.parentNode)if(s.nodeType==1&&s.contentEditable=="false")return!0;return!1}function CC(p,n){let s=!1;return n&&p.iterChangedRanges((c,Ae)=>{c<n.to&&Ae>n.from&&(s=!0)}),s}class $2 extends Y1{constructor(n){super(),this.height=n}toDOM(){let n=document.createElement("div");return n.className="cm-gap",this.updateDOM(n),n}eq(n){return n.height==this.height}updateDOM(n){return n.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function MC(p,n,s=1){let c=p.charCategorizer(n),Ae=p.doc.lineAt(n),yt=n-Ae.from;if(Ae.length==0)return Hd.cursor(n);yt==0?s=1:yt==Ae.length&&(s=-1);let wt=yt,Wa=yt;s<0?wt=Qd(Ae.text,yt,!1):Wa=Qd(Ae.text,yt);let ja=c(Ae.text.slice(wt,Wa));for(;wt>0;){let pd=Qd(Ae.text,wt,!1);if(c(Ae.text.slice(pd,wt))!=ja)break;wt=pd}for(;Wa<Ae.length;){let pd=Qd(Ae.text,Wa);if(c(Ae.text.slice(Wa,pd))!=ja)break;Wa=pd}return Hd.range(wt+Ae.from,Wa+Ae.from)}function PC(p,n,s,c,Ae){let yt=Math.round((c-n.left)*p.defaultCharacterWidth);if(p.lineWrapping&&s.height>p.defaultLineHeight*1.5){let Wa=p.viewState.heightOracle.textHeight,ja=Math.floor((Ae-s.top-(p.defaultLineHeight-Wa)*.5)/Wa);yt+=ja*p.viewState.heightOracle.lineLength}let wt=p.state.sliceDoc(s.from,s.to);return s.from+iO(wt,yt,p.state.tabSize)}function S2(p,n,s){let c=p.lineBlockAt(n);if(Array.isArray(c.type)){let Ae;for(let yt of c.type){if(yt.from>n)break;if(!(yt.to<n)){if(yt.from<n&&yt.to>n)return yt;(!Ae||yt.type==Am.Text&&(Ae.type!=yt.type||(s<0?yt.from<n:yt.to>n)))&&(Ae=yt)}}return Ae||c}return c}function wC(p,n,s,c){let Ae=S2(p,n.head,n.assoc||-1),yt=!c||Ae.type!=Am.Text||!(p.lineWrapping||Ae.widgetLineBreaks)?null:p.coordsAtPos(n.assoc<0&&n.head>Ae.from?n.head-1:n.head);if(yt){let wt=p.dom.getBoundingClientRect(),Wa=p.textDirectionAt(Ae.from),ja=p.posAtCoords({x:s==(Wa==f0.LTR)?wt.right-1:wt.left+1,y:(yt.top+yt.bottom)/2});if(ja!=null)return Hd.cursor(ja,s?-1:1)}return Hd.cursor(s?Ae.to:Ae.from,s?-1:1)}function dx(p,n,s,c){let Ae=p.state.doc.lineAt(n.head),yt=p.bidiSpans(Ae),wt=p.textDirectionAt(Ae.from);for(let Wa=n,ja=null;;){let pd=_2(Ae,yt,wt,Wa,s),md=xy;if(!pd){if(Ae.number==(s?p.state.doc.lines:1))return Wa;md=`
`,Ae=p.state.doc.line(Ae.number+(s?1:-1)),yt=p.bidiSpans(Ae),pd=p.visualLineSide(Ae,!s)}if(ja){if(!ja(md))return Wa}else{if(!c)return pd;ja=c(md)}Wa=pd}}function kC(p,n,s){let c=p.state.charCategorizer(n),Ae=c(s);return yt=>{let wt=c(yt);return Ae==Od.Space&&(Ae=wt),Ae==wt}}function EC(p,n,s,c){let Ae=n.head,yt=s?1:-1;if(Ae==(s?p.state.doc.length:0))return Hd.cursor(Ae,n.assoc);let wt=n.goalColumn,Wa,ja=p.contentDOM.getBoundingClientRect(),pd=p.coordsAtPos(Ae,n.assoc||-1),md=p.documentTop;if(pd)wt==null&&(wt=pd.left-ja.left),Wa=yt<0?pd.top:pd.bottom;else{let kd=p.viewState.lineBlockAt(Ae);wt==null&&(wt=Math.min(ja.right-ja.left,p.defaultCharacterWidth*(Ae-kd.from))),Wa=(yt<0?kd.top:kd.bottom)+md}let vd=ja.left+wt,$d=c??p.viewState.heightOracle.textHeight>>1;for(let kd=0;;kd+=10){let Zd=Wa+($d+kd)*yt,Id=M2(p,{x:vd,y:Zd},!1,yt);return Hd.cursor(Id.pos,Id.assoc,void 0,wt)}}function AO(p,n,s){for(;;){let c=0;for(let Ae of p)Ae.between(n-1,n+1,(yt,wt,Wa)=>{if(n>yt&&n<wt){let ja=c||s||(n-yt<wt-n?-1:1);n=ja<0?yt:wt,c=ja}});if(!c)return n}}function mx(p,n){let s=null;for(let c=0;c<n.ranges.length;c++){let Ae=n.ranges[c],yt=null;if(Ae.empty){let wt=AO(p,Ae.from,0);wt!=Ae.from&&(yt=Hd.cursor(wt,-1))}else{let wt=AO(p,Ae.from,-1),Wa=AO(p,Ae.to,1);(wt!=Ae.from||Wa!=Ae.to)&&(yt=Hd.range(Ae.from==Ae.anchor?wt:Wa,Ae.from==Ae.head?wt:Wa))}yt&&(s||(s=n.ranges.slice()),s[c]=yt)}return s?Hd.create(s,n.mainIndex):n}function C2(p,n,s){let c=AO(p.state.facet(z0).map(Ae=>Ae(p)),s.from,n.head>s.from?-1:1);return c==s.from?s:Hd.cursor(c,c<s.from?1:-1)}class Cg{constructor(n,s){this.pos=n,this.assoc=s}}function M2(p,n,s,c){let Ae=p.contentDOM.getBoundingClientRect(),yt=Ae.top+p.viewState.paddingTop,{x:wt,y:Wa}=n,ja=Wa-yt,pd;for(;;){if(ja<0)return new Cg(0,1);if(ja>p.viewState.docHeight)return new Cg(p.state.doc.length,-1);if(pd=p.elementAtHeight(ja),c==null)break;if(pd.type==Am.Text){let $d=p.docView.coordsAt(c<0?pd.from:pd.to,c);if($d&&(c<0?$d.top<=ja+yt:$d.bottom>=ja+yt))break}let vd=p.viewState.heightOracle.textHeight/2;ja=c>0?pd.bottom+vd:pd.top-vd}if(p.viewport.from>=pd.to||p.viewport.to<=pd.from){if(s)return null;if(pd.type==Am.Text){let vd=PC(p,Ae,pd,wt,Wa);return new Cg(vd,vd==pd.from?1:-1)}}if(pd.type!=Am.Text)return ja<(pd.top+pd.bottom)/2?new Cg(pd.from,1):new Cg(pd.to,-1);let md=p.docView.lineAt(pd.from,2);return(!md||md.length!=pd.length)&&(md=p.docView.lineAt(pd.from,-2)),gx(p,md,pd.from,wt,Wa)}function gx(p,n,s,c,Ae){let yt=-1,wt=null,Wa=1e9,ja=1e9,pd=Ae,md=Ae,vd=($d,kd)=>{for(let Zd=0;Zd<$d.length;Zd++){let Id=$d[Zd];if(Id.top==Id.bottom)continue;let Ud=Id.left>c?Id.left-c:Id.right<c?c-Id.right:0,tm=Id.top>Ae?Id.top-Ae:Id.bottom<Ae?Ae-Id.bottom:0;Id.top<=md&&Id.bottom>=pd&&(pd=Math.min(Id.top,pd),md=Math.max(Id.bottom,md),tm=0),(yt<0||(tm-ja||Ud-Wa)<0)&&(yt>=0&&ja&&Wa<Ud&&wt.top<=md-2&&wt.bottom>=pd+2?ja=0:(yt=kd,Wa=Ud,ja=tm,wt=Id))}};if(n.isText()){for(let kd=0;kd<n.length;){let Zd=Qd(n.text,kd);if(vd(ig(n.dom,kd,Zd).getClientRects(),kd),!Wa&&!ja)break;kd=Zd}return c>(wt.left+wt.right)/2==(_x(p,yt+s)==f0.LTR)?new Cg(s+Qd(n.text,yt),-1):new Cg(s+yt,1)}else{if(!n.length)return new Cg(s,1);for(let Id=0;Id<n.children.length;Id++){let Ud=n.children[Id];if(Ud.flags&48)continue;let tm=(Ud.dom.nodeType==1?Ud.dom:ig(Ud.dom,0,Ud.length)).getClientRects();if(vd(tm,Id),!Wa&&!ja)break}let $d=n.children[yt],kd=n.posBefore($d,s);return $d.isComposite()||$d.isText()?gx(p,$d,kd,Math.max(wt.left,Math.min(wt.right,c)),Ae):c>(wt.left+wt.right)/2==(_x(p,yt+s)==f0.LTR)?new Cg(kd+$d.length,-1):new Cg(kd,1)}}function _x(p,n){let s=p.state.doc.lineAt(n);return p.bidiSpans(s)[Q0.find(p.bidiSpans(s),n-s.from,-1,1)].dir}const $O="ï¿¿";class DC{constructor(n,s){this.points=n,this.text="",this.lineSeparator=s.facet(Yd.lineSeparator)}append(n){this.text+=n}lineBreak(){this.text+=$O}readRange(n,s){if(!n)return this;let c=n.parentNode;for(let Ae=n;;){this.findPointBefore(c,Ae);let yt=this.text.length;this.readNode(Ae);let wt=F0.get(Ae),Wa=Ae.nextSibling;if(Wa==s){wt?.breakAfter&&!Wa&&this.lineBreak();break}let ja=F0.get(Wa);(wt&&ja?wt.breakAfter:(wt?wt.breakAfter:P_(Ae))||P_(Wa)&&(Ae.nodeName!="BR"||wt?.isWidget())&&this.text.length>yt)&&!FC(Wa,s)&&this.lineBreak(),Ae=Wa}return this.findPointBefore(c,s),this}readTextNode(n){let s=n.nodeValue;for(let c of this.points)c.node==n&&(c.pos=this.text.length+Math.min(c.offset,s.length));for(let c=0,Ae=this.lineSeparator?null:/\r\n?|\n/g;;){let yt=-1,wt=1,Wa;if(this.lineSeparator?(yt=s.indexOf(this.lineSeparator,c),wt=this.lineSeparator.length):(Wa=Ae.exec(s))&&(yt=Wa.index,wt=Wa[0].length),this.append(s.slice(c,yt<0?s.length:yt)),yt<0)break;if(this.lineBreak(),wt>1)for(let ja of this.points)ja.node==n&&ja.pos>this.text.length&&(ja.pos-=wt-1);c=yt+wt}}readNode(n){let s=F0.get(n),c=s&&s.overrideDOMText;if(c!=null){this.findPointInside(n,c.length);for(let Ae=c.iter();!Ae.next().done;)Ae.lineBreak?this.lineBreak():this.append(Ae.value)}else n.nodeType==3?this.readTextNode(n):n.nodeName=="BR"?n.nextSibling&&this.lineBreak():n.nodeType==1&&this.readRange(n.firstChild,null)}findPointBefore(n,s){for(let c of this.points)c.node==n&&n.childNodes[c.offset]==s&&(c.pos=this.text.length)}findPointInside(n,s){for(let c of this.points)(n.nodeType==3?c.node==n:n.contains(c.node))&&(c.pos=this.text.length+(TC(n,c.node,c.offset)?s:0))}}function TC(p,n,s){for(;;){if(!n||s<pg(n))return!1;if(n==p)return!0;s=$g(n)+1,n=n.parentNode}}function FC(p,n){let s;for(;!(p==n||!p);p=p.nextSibling){let c=F0.get(p);if(!c?.isWidget())return!1;c&&(s||(s=[])).push(c)}if(s)for(let c of s){let Ae=c.overrideDOMText;if(Ae?.length)return!1}return!0}class Ox{constructor(n,s){this.node=n,this.offset=s,this.pos=-1}}class GC{constructor(n,s,c,Ae){this.typeOver=Ae,this.bounds=null,this.text="",this.domChanged=s>-1;let{impreciseHead:yt,impreciseAnchor:wt}=n.docView;if(n.state.readOnly&&s>-1)this.newSel=null;else if(s>-1&&(this.bounds=yx(n.docView.tile,s,c,0))){let Wa=yt||wt?[]:ZC(n),ja=new DC(Wa,n.state);ja.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=ja.text,this.newSel=NC(Wa,this.bounds.from)}else{let Wa=n.observer.selectionRange,ja=yt&&yt.node==Wa.focusNode&&yt.offset==Wa.focusOffset||!Gm(n.contentDOM,Wa.focusNode)?n.state.selection.main.head:n.docView.posFromDOM(Wa.focusNode,Wa.focusOffset),pd=wt&&wt.node==Wa.anchorNode&&wt.offset==Wa.anchorOffset||!Gm(n.contentDOM,Wa.anchorNode)?n.state.selection.main.anchor:n.docView.posFromDOM(Wa.anchorNode,Wa.anchorOffset),md=n.viewport;if((Pm.ios||Pm.chrome)&&n.state.selection.main.empty&&ja!=pd&&(md.from>0||md.to<n.state.doc.length)){let vd=Math.min(ja,pd),$d=Math.max(ja,pd),kd=md.from-vd,Zd=md.to-$d;(kd==0||kd==1||vd==0)&&(Zd==0||Zd==-1||$d==n.state.doc.length)&&(ja=0,pd=n.state.doc.length)}n.inputState.composing>-1&&n.state.selection.ranges.length>1?this.newSel=n.state.selection.replaceRange(Hd.range(pd,ja)):this.newSel=Hd.single(pd,ja)}}}function yx(p,n,s,c){if(p.isComposite()){let Ae=-1,yt=-1,wt=-1,Wa=-1;for(let ja=0,pd=c,md=c;ja<p.children.length;ja++){let vd=p.children[ja],$d=pd+vd.length;if(pd<n&&$d>s)return yx(vd,n,s,pd);if($d>=n&&Ae==-1&&(Ae=ja,yt=pd),pd>s&&vd.dom.parentNode==p.dom){wt=ja,Wa=md;break}md=$d,pd=$d+vd.breakAfter}return{from:yt,to:Wa<0?c+p.length:Wa,startDOM:(Ae?p.children[Ae-1].dom.nextSibling:null)||p.dom.firstChild,endDOM:wt<p.children.length&&wt>=0?p.children[wt].dom:null}}else return p.isText()?{from:c,to:c+p.length,startDOM:p.dom,endDOM:p.dom.nextSibling}:null}function bx(p,n){let s,{newSel:c}=n,Ae=p.state.selection.main,yt=p.inputState.lastKeyTime>Date.now()-100?p.inputState.lastKeyCode:-1;if(n.bounds){let{from:wt,to:Wa}=n.bounds,ja=Ae.from,pd=null;(yt===8||Pm.android&&n.text.length<Wa-wt)&&(ja=Ae.to,pd="end");let md=vx(p.state.doc.sliceString(wt,Wa,$O),n.text,ja-wt,pd);md&&(Pm.chrome&&yt==13&&md.toB==md.from+2&&n.text.slice(md.from,md.toB)==$O+$O&&md.toB--,s={from:wt+md.from,to:wt+md.toA,insert:yd.of(n.text.slice(md.from,md.toB).split($O))})}else c&&(!p.hasFocus&&p.state.facet(mg)||c.main.eq(Ae))&&(c=null);if(!s&&!c)return!1;if(!s&&n.typeOver&&!Ae.empty&&c&&c.main.empty?s={from:Ae.from,to:Ae.to,insert:p.state.doc.slice(Ae.from,Ae.to)}:(Pm.mac||Pm.android)&&s&&s.from==s.to&&s.from==Ae.head-1&&/^\. ?$/.test(s.insert.toString())&&p.contentDOM.getAttribute("autocorrect")=="off"?(c&&s.insert.length==2&&(c=Hd.single(c.main.anchor-1,c.main.head-1)),s={from:s.from,to:s.to,insert:yd.of([s.insert.toString().replace("."," ")])}):s&&s.from>=Ae.from&&s.to<=Ae.to&&(s.from!=Ae.from||s.to!=Ae.to)&&Ae.to-Ae.from-(s.to-s.from)<=4?s={from:Ae.from,to:Ae.to,insert:p.state.doc.slice(Ae.from,s.from).append(s.insert).append(p.state.doc.slice(s.to,Ae.to))}:p.state.doc.lineAt(Ae.from).to<Ae.to&&p.docView.lineHasWidget(Ae.to)&&p.inputState.insertingTextAt>Date.now()-50?s={from:Ae.from,to:Ae.to,insert:p.state.toText(p.inputState.insertingText)}:Pm.chrome&&s&&s.from==s.to&&s.from==Ae.head&&s.insert.toString()==`
 `&&p.lineWrapping&&(c&&(c=Hd.single(c.main.anchor-1,c.main.head-1)),s={from:Ae.from,to:Ae.to,insert:yd.of([" "])}),s)return P2(p,s,c,yt);if(c&&!c.main.eq(Ae)){let wt=!1,Wa="select";return p.inputState.lastSelectionTime>Date.now()-50&&(p.inputState.lastSelectionOrigin=="select"&&(wt=!0),Wa=p.inputState.lastSelectionOrigin,Wa=="select.pointer"&&(c=mx(p.state.facet(z0).map(ja=>ja(p)),c))),p.dispatch({selection:c,scrollIntoView:wt,userEvent:Wa}),!0}else return!1}function P2(p,n,s,c=-1){if(Pm.ios&&p.inputState.flushIOSKey(n))return!0;let Ae=p.state.selection.main;if(Pm.android&&(n.to==Ae.to&&(n.from==Ae.from||n.from==Ae.from-1&&p.state.sliceDoc(n.from,Ae.from)==" ")&&n.insert.length==1&&n.insert.lines==2&&dg(p.contentDOM,"Enter",13)||(n.from==Ae.from-1&&n.to==Ae.to&&n.insert.length==0||c==8&&n.insert.length<n.to-n.from&&n.to>Ae.head)&&dg(p.contentDOM,"Backspace",8)||n.from==Ae.from&&n.to==Ae.to+1&&n.insert.length==0&&dg(p.contentDOM,"Delete",46)))return!0;let yt=n.insert.toString();p.inputState.composing>=0&&p.inputState.composing++;let wt,Wa=()=>wt||(wt=RC(p,n,s));return p.state.facet(Cy).some(ja=>ja(p,n.from,n.to,yt,Wa))||p.dispatch(Wa()),!0}function RC(p,n,s){let c,Ae=p.state,yt=Ae.selection.main,wt=-1;if(n.from==n.to&&n.from<yt.from||n.from>yt.to){let ja=n.from<yt.from?-1:1,pd=ja<0?yt.from:yt.to,md=AO(Ae.facet(z0).map(vd=>vd(p)),pd,ja);n.from==md&&(wt=md)}if(wt>-1)c={changes:n,selection:Hd.cursor(n.from+n.insert.length,-1)};else if(n.from>=yt.from&&n.to<=yt.to&&n.to-n.from>=(yt.to-yt.from)/3&&(!s||s.main.empty&&s.main.from==n.from+n.insert.length)&&p.inputState.composing<0){let ja=yt.from<n.from?Ae.sliceDoc(yt.from,n.from):"",pd=yt.to>n.to?Ae.sliceDoc(n.to,yt.to):"";c=Ae.replaceSelection(p.state.toText(ja+n.insert.sliceString(0,void 0,p.state.lineBreak)+pd))}else{let ja=Ae.changes(n),pd=s&&s.main.to<=ja.newLength?s.main:void 0;if(Ae.selection.ranges.length>1&&(p.inputState.composing>=0||p.inputState.compositionPendingChange)&&n.to<=yt.to+10&&n.to>=yt.to-10){let md=p.state.sliceDoc(n.from,n.to),vd,$d=s&&px(p,s.main.head);if($d){let Zd=n.insert.length-(n.to-n.from);vd={from:$d.from,to:$d.to-Zd}}else vd=p.state.doc.lineAt(yt.head);let kd=yt.to-n.to;c=Ae.changeByRange(Zd=>{if(Zd.from==yt.from&&Zd.to==yt.to)return{changes:ja,range:pd||Zd.map(ja)};let Id=Zd.to-kd,Ud=Id-md.length;if(p.state.sliceDoc(Ud,Id)!=md||Id>=vd.from&&Ud<=vd.to)return{range:Zd};let tm=Ae.changes({from:Ud,to:Id,insert:n.insert}),pm=Zd.to-yt.to;return{changes:tm,range:pd?Hd.range(Math.max(0,pd.anchor+pm),Math.max(0,pd.head+pm)):Zd.map(tm)}})}else c={changes:ja,selection:pd&&Ae.selection.replaceRange(pd)}}let Wa="input.type";return(p.composing||p.inputState.compositionPendingChange&&p.inputState.compositionEndedAt>Date.now()-50)&&(p.inputState.compositionPendingChange=!1,Wa+=".compose",p.inputState.compositionFirstChange&&(Wa+=".start",p.inputState.compositionFirstChange=!1)),Ae.update(c,{userEvent:Wa,scrollIntoView:!0})}function vx(p,n,s,c){let Ae=Math.min(p.length,n.length),yt=0;for(;yt<Ae&&p.charCodeAt(yt)==n.charCodeAt(yt);)yt++;if(yt==Ae&&p.length==n.length)return null;let wt=p.length,Wa=n.length;for(;wt>0&&Wa>0&&p.charCodeAt(wt-1)==n.charCodeAt(Wa-1);)wt--,Wa--;if(c=="end"){let ja=Math.max(0,yt-Math.min(wt,Wa));s-=wt+ja-yt}if(wt<yt&&p.length<n.length){let ja=s<=yt&&s>=wt?yt-s:0;yt-=ja,Wa=yt+(Wa-wt),wt=yt}else if(Wa<yt){let ja=s<=yt&&s>=Wa?yt-s:0;yt-=ja,wt=yt+(wt-Wa),Wa=yt}return{from:yt,toA:wt,toB:Wa}}function ZC(p){let n=[];if(p.root.activeElement!=p.contentDOM)return n;let{anchorNode:s,anchorOffset:c,focusNode:Ae,focusOffset:yt}=p.observer.selectionRange;return s&&(n.push(new Ox(s,c)),(Ae!=s||yt!=c)&&n.push(new Ox(Ae,yt))),n}function NC(p,n){if(p.length==0)return null;let s=p[0].pos,c=p.length==2?p[1].pos:s;return s>-1&&c>-1?Hd.single(s+n,c+n):null}class LC{setSelectionOrigin(n){this.lastSelectionOrigin=n,this.lastSelectionTime=Date.now()}constructor(n){this.view=n,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=n.hasFocus,Pm.safari&&n.contentDOM.addEventListener("input",()=>null),Pm.gecko&&eM(n.contentDOM.ownerDocument)}handleEvent(n){!jC(this.view,n)||this.ignoreDuringComposition(n)||n.type=="keydown"&&this.keydown(n)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(n.type,n)):this.runHandlers(n.type,n))}runHandlers(n,s){let c=this.handlers[n];if(c){for(let Ae of c.observers)Ae(this.view,s);for(let Ae of c.handlers){if(s.defaultPrevented)break;if(Ae(this.view,s)){s.preventDefault();break}}}}ensureHandlers(n){let s=QC(n),c=this.handlers,Ae=this.view.contentDOM;for(let yt in s)if(yt!="scroll"){let wt=!s[yt].handlers.length,Wa=c[yt];Wa&&wt!=!Wa.handlers.length&&(Ae.removeEventListener(yt,this.handleEvent),Wa=null),Wa||Ae.addEventListener(yt,this.handleEvent,{passive:wt})}for(let yt in c)yt!="scroll"&&!s[yt]&&Ae.removeEventListener(yt,this.handleEvent);this.handlers=s}keydown(n){if(this.lastKeyCode=n.keyCode,this.lastKeyTime=Date.now(),n.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&n.keyCode!=27&&$x.indexOf(n.keyCode)<0&&(this.tabFocusMode=-1),Pm.android&&Pm.chrome&&!n.synthetic&&(n.keyCode==13||n.keyCode==8))return this.view.observer.delayAndroidKey(n.key,n.keyCode),!0;let s;return Pm.ios&&!n.synthetic&&!n.altKey&&!n.metaKey&&((s=Ax.find(c=>c.keyCode==n.keyCode))&&!n.ctrlKey||BC.indexOf(n.key)>-1&&n.ctrlKey&&!n.shiftKey)?(this.pendingIOSKey=s||n,setTimeout(()=>this.flushIOSKey(),250),!0):(n.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(n){let s=this.pendingIOSKey;return!s||s.key=="Enter"&&n&&n.from<n.to&&/^\S+$/.test(n.insert.toString())?!1:(this.pendingIOSKey=void 0,dg(this.view.contentDOM,s.key,s.keyCode,s instanceof KeyboardEvent?s:void 0))}ignoreDuringComposition(n){return!/^key/.test(n.type)||n.synthetic?!1:this.composing>0?!0:Pm.safari&&!Pm.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(n){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=n}update(n){this.view.observer.update(n),this.mouseSelection&&this.mouseSelection.update(n),this.draggedContent&&n.docChanged&&(this.draggedContent=this.draggedContent.map(n.changes)),n.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function xx(p,n){return(s,c)=>{try{return n.call(p,c,s)}catch(Ae){T0(s.state,Ae)}}}function QC(p){let n=Object.create(null);function s(c){return n[c]||(n[c]={observers:[],handlers:[]})}for(let c of p){let Ae=c.spec,yt=Ae&&Ae.plugin.domEventHandlers,wt=Ae&&Ae.plugin.domEventObservers;if(yt)for(let Wa in yt){let ja=yt[Wa];ja&&s(Wa).handlers.push(xx(c.value,ja))}if(wt)for(let Wa in wt){let ja=wt[Wa];ja&&s(Wa).observers.push(xx(c.value,ja))}}for(let c in gg)s(c).handlers.push(gg[c]);for(let c in sg)s(c).observers.push(sg[c]);return n}const Ax=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],BC="dthko",$x=[16,17,18,20,91,92,224,225],Ry=6;function Zy(p){return Math.max(0,p)*.7+8}function XC(p,n){return Math.max(Math.abs(p.clientX-n.clientX),Math.abs(p.clientY-n.clientY))}class IC{constructor(n,s,c,Ae){this.view=n,this.startEvent=s,this.style=c,this.mustSelect=Ae,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=s,this.scrollParents=Ug(n.contentDOM),this.atoms=n.state.facet(z0).map(wt=>wt(n));let yt=n.contentDOM.ownerDocument;yt.addEventListener("mousemove",this.move=this.move.bind(this)),yt.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=s.shiftKey,this.multiple=n.state.facet(Yd.allowMultipleSelections)&&VC(n,s),this.dragging=WC(n,s)&&Ex(s)==1?null:!1}start(n){this.dragging===!1&&this.select(n)}move(n){if(n.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&XC(this.startEvent,n)<10)return;this.select(this.lastEvent=n);let s=0,c=0,Ae=0,yt=0,wt=this.view.win.innerWidth,Wa=this.view.win.innerHeight;this.scrollParents.x&&({left:Ae,right:wt}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:yt,bottom:Wa}=this.scrollParents.y.getBoundingClientRect());let ja=b2(this.view);n.clientX-ja.left<=Ae+Ry?s=-Zy(Ae-n.clientX):n.clientX+ja.right>=wt-Ry&&(s=Zy(n.clientX-wt)),n.clientY-ja.top<=yt+Ry?c=-Zy(yt-n.clientY):n.clientY+ja.bottom>=Wa-Ry&&(c=Zy(n.clientY-Wa)),this.setScrollSpeed(s,c)}up(n){this.dragging==null&&this.select(this.lastEvent),this.dragging||n.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let n=this.view.contentDOM.ownerDocument;n.removeEventListener("mousemove",this.move),n.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(n,s){this.scrollSpeed={x:n,y:s},n||s?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:n,y:s}=this.scrollSpeed;n&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=n,n=0),s&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=s,s=0),(n||s)&&this.view.win.scrollBy(n,s),this.dragging===!1&&this.select(this.lastEvent)}select(n){let{view:s}=this,c=mx(this.atoms,this.style.get(n,this.extend,this.multiple));(this.mustSelect||!c.eq(s.state.selection,this.dragging===!1))&&this.view.dispatch({selection:c,userEvent:"select.pointer"}),this.mustSelect=!1}update(n){n.transactions.some(s=>s.isUserEvent("input.type"))?this.destroy():this.style.update(n)&&setTimeout(()=>this.select(this.lastEvent),20)}}function VC(p,n){let s=p.state.facet(Ay);return s.length?s[0](n):Pm.mac?n.metaKey:n.ctrlKey}function zC(p,n){let s=p.state.facet($y);return s.length?s[0](n):Pm.mac?!n.altKey:!n.ctrlKey}function WC(p,n){let{main:s}=p.state.selection;if(s.empty)return!1;let c=Ng(p.root);if(!c||c.rangeCount==0)return!0;let Ae=c.getRangeAt(0).getClientRects();for(let yt=0;yt<Ae.length;yt++){let wt=Ae[yt];if(wt.left<=n.clientX&&wt.right>=n.clientX&&wt.top<=n.clientY&&wt.bottom>=n.clientY)return!0}return!1}function jC(p,n){if(!n.bubbles)return!0;if(n.defaultPrevented)return!1;for(let s=n.target,c;s!=p.contentDOM;s=s.parentNode)if(!s||s.nodeType==11||(c=F0.get(s))&&c.isWidget()&&!c.isHidden&&c.widget.ignoreEvent(n))return!1;return!0}const gg=Object.create(null),sg=Object.create(null),Sx=Pm.ie&&Pm.ie_version<15||Pm.ios&&Pm.webkit_version<604;function YC(p){let n=p.dom.parentNode;if(!n)return;let s=n.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus(),setTimeout(()=>{p.focus(),s.remove(),Cx(p,s.value)},50)}function Ny(p,n,s){for(let c of p.facet(n))s=c(s,p);return s}function Cx(p,n){n=Ny(p.state,bO,n);let{state:s}=p,c,Ae=1,yt=s.toText(n),wt=yt.lines==s.selection.ranges.length;if(w2!=null&&s.selection.ranges.every(ja=>ja.empty)&&w2==yt.toString()){let ja=-1;c=s.changeByRange(pd=>{let md=s.doc.lineAt(pd.from);if(md.from==ja)return{range:pd};ja=md.from;let vd=s.toText((wt?yt.line(Ae++).text:n)+s.lineBreak);return{changes:{from:md.from,insert:vd},range:Hd.cursor(pd.from+vd.length)}})}else wt?c=s.changeByRange(ja=>{let pd=yt.line(Ae++);return{changes:{from:ja.from,to:ja.to,insert:pd.text},range:Hd.cursor(ja.from+pd.length)}}):c=s.replaceSelection(yt);p.dispatch(c,{userEvent:"input.paste",scrollIntoView:!0})}sg.scroll=p=>{p.inputState.lastScrollTop=p.scrollDOM.scrollTop,p.inputState.lastScrollLeft=p.scrollDOM.scrollLeft},gg.keydown=(p,n)=>(p.inputState.setSelectionOrigin("select"),n.keyCode==27&&p.inputState.tabFocusMode!=0&&(p.inputState.tabFocusMode=Date.now()+2e3),!1),sg.touchstart=(p,n)=>{p.inputState.lastTouchTime=Date.now(),p.inputState.setSelectionOrigin("select.pointer")},sg.touchmove=p=>{p.inputState.setSelectionOrigin("select.pointer")},gg.mousedown=(p,n)=>{if(p.observer.flush(),p.inputState.lastTouchTime>Date.now()-2e3)return!1;let s=null;for(let c of p.state.facet(Sy))if(s=c(p,n),s)break;if(!s&&n.button==0&&(s=qC(p,n)),s){let c=!p.hasFocus;p.inputState.startMouseSelection(new IC(p,n,s,c)),c&&p.observer.ignore(()=>{fO(p.contentDOM);let yt=p.root.activeElement;yt&&!yt.contains(p.contentDOM)&&yt.blur()});let Ae=p.inputState.mouseSelection;if(Ae)return Ae.start(n),Ae.dragging===!1}else p.inputState.setSelectionOrigin("select.pointer");return!1};function Mx(p,n,s,c){if(c==1)return Hd.cursor(n,s);if(c==2)return MC(p.state,n,s);{let Ae=p.docView.lineAt(n,s),yt=p.state.doc.lineAt(Ae?Ae.posAtEnd:n),wt=Ae?Ae.posAtStart:yt.from,Wa=Ae?Ae.posAtEnd:yt.to;return Wa<p.state.doc.length&&Wa==yt.to&&Wa++,Hd.range(wt,Wa)}}const UC=Pm.ie&&Pm.ie_version<=11;let Px=null,wx=0,kx=0;function Ex(p){if(!UC)return p.detail;let n=Px,s=kx;return Px=p,kx=Date.now(),wx=!n||s>Date.now()-400&&Math.abs(n.clientX-p.clientX)<2&&Math.abs(n.clientY-p.clientY)<2?(wx+1)%3:1}function qC(p,n){let s=p.posAndSideAtCoords({x:n.clientX,y:n.clientY},!1),c=Ex(n),Ae=p.state.selection;return{update(yt){yt.docChanged&&(s.pos=yt.changes.mapPos(s.pos),Ae=Ae.map(yt.changes))},get(yt,wt,Wa){let ja=p.posAndSideAtCoords({x:yt.clientX,y:yt.clientY},!1),pd,md=Mx(p,ja.pos,ja.assoc,c);if(s.pos!=ja.pos&&!wt){let vd=Mx(p,s.pos,s.assoc,c),$d=Math.min(vd.from,md.from),kd=Math.max(vd.to,md.to);md=$d<md.from?Hd.range($d,kd):Hd.range(kd,$d)}return wt?Ae.replaceRange(Ae.main.extend(md.from,md.to)):Wa&&c==1&&Ae.ranges.length>1&&(pd=HC(Ae,ja.pos))?pd:Wa?Ae.addRange(md):Hd.create([md])}}}function HC(p,n){for(let s=0;s<p.ranges.length;s++){let{from:c,to:Ae}=p.ranges[s];if(c<=n&&Ae>=n)return Hd.create(p.ranges.slice(0,s).concat(p.ranges.slice(s+1)),p.mainIndex==s?0:p.mainIndex-(p.mainIndex>s?1:0))}return null}gg.dragstart=(p,n)=>{let{selection:{main:s}}=p.state;if(n.target.draggable){let Ae=p.docView.tile.nearest(n.target);if(Ae&&Ae.isWidget()){let yt=Ae.posAtStart,wt=yt+Ae.length;(yt>=s.to||wt<=s.from)&&(s=Hd.range(yt,wt))}}let{inputState:c}=p;return c.mouseSelection&&(c.mouseSelection.dragging=!0),c.draggedContent=s,n.dataTransfer&&(n.dataTransfer.setData("Text",Ny(p.state,vO,p.state.sliceDoc(s.from,s.to))),n.dataTransfer.effectAllowed="copyMove"),!1},gg.dragend=p=>(p.inputState.draggedContent=null,!1);function Dx(p,n,s,c){if(s=Ny(p.state,bO,s),!s)return;let Ae=p.posAtCoords({x:n.clientX,y:n.clientY},!1),{draggedContent:yt}=p.inputState,wt=c&&yt&&zC(p,n)?{from:yt.from,to:yt.to}:null,Wa={from:Ae,insert:s},ja=p.state.changes(wt?[wt,Wa]:Wa);p.focus(),p.dispatch({changes:ja,selection:{anchor:ja.mapPos(Ae,-1),head:ja.mapPos(Ae,1)},userEvent:wt?"move.drop":"input.drop"}),p.inputState.draggedContent=null}gg.drop=(p,n)=>{if(!n.dataTransfer)return!1;if(p.state.readOnly)return!0;let s=n.dataTransfer.files;if(s&&s.length){let c=Array(s.length),Ae=0,yt=()=>{++Ae==s.length&&Dx(p,n,c.filter(wt=>wt!=null).join(p.state.lineBreak),!1)};for(let wt=0;wt<s.length;wt++){let Wa=new FileReader;Wa.onerror=yt,Wa.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(Wa.result)||(c[wt]=Wa.result),yt()},Wa.readAsText(s[wt])}return!0}else{let c=n.dataTransfer.getData("Text");if(c)return Dx(p,n,c,!0),!0}return!1},gg.paste=(p,n)=>{if(p.state.readOnly)return!0;p.observer.flush();let s=Sx?null:n.clipboardData;return s?(Cx(p,s.getData("text/plain")||s.getData("text/uri-list")),!0):(YC(p),!1)};function KC(p,n){let s=p.dom.parentNode;if(!s)return;let c=s.appendChild(document.createElement("textarea"));c.style.cssText="position: fixed; left: -10000px; top: 10px",c.value=n,c.focus(),c.selectionEnd=n.length,c.selectionStart=0,setTimeout(()=>{c.remove(),p.focus()},50)}function JC(p){let n=[],s=[],c=!1;for(let Ae of p.selection.ranges)Ae.empty||(n.push(p.sliceDoc(Ae.from,Ae.to)),s.push(Ae));if(!n.length){let Ae=-1;for(let{from:yt}of p.selection.ranges){let wt=p.doc.lineAt(yt);wt.number>Ae&&(n.push(wt.text),s.push({from:wt.from,to:Math.min(p.doc.length,wt.to+1)})),Ae=wt.number}c=!0}return{text:Ny(p,vO,n.join(p.lineBreak)),ranges:s,linewise:c}}let w2=null;gg.copy=gg.cut=(p,n)=>{let{text:s,ranges:c,linewise:Ae}=JC(p.state);if(!s&&!Ae)return!1;w2=Ae?s:null,n.type=="cut"&&!p.state.readOnly&&p.dispatch({changes:c,scrollIntoView:!0,userEvent:"delete.cut"});let yt=Sx?null:n.clipboardData;return yt?(yt.clearData(),yt.setData("text/plain",s),!0):(KC(p,s),!1)};const Tx=zm.define();function Fx(p,n){let s=[];for(let c of p.facet(Qg)){let Ae=c(p,n);Ae&&s.push(Ae)}return s.length?p.update({effects:s,annotations:Tx.of(!0)}):null}function Gx(p){setTimeout(()=>{let n=p.hasFocus;if(n!=p.inputState.notifiedFocused){let s=Fx(p.state,n);s?p.dispatch(s):p.update([])}},10)}sg.focus=p=>{p.inputState.lastFocusTime=Date.now(),!p.scrollDOM.scrollTop&&(p.inputState.lastScrollTop||p.inputState.lastScrollLeft)&&(p.scrollDOM.scrollTop=p.inputState.lastScrollTop,p.scrollDOM.scrollLeft=p.inputState.lastScrollLeft),Gx(p)},sg.blur=p=>{p.observer.clearSelectionRange(),Gx(p)},sg.compositionstart=sg.compositionupdate=p=>{p.observer.editContext||(p.inputState.compositionFirstChange==null&&(p.inputState.compositionFirstChange=!0),p.inputState.composing<0&&(p.inputState.composing=0))},sg.compositionend=p=>{p.observer.editContext||(p.inputState.composing=-1,p.inputState.compositionEndedAt=Date.now(),p.inputState.compositionPendingKey=!0,p.inputState.compositionPendingChange=p.observer.pendingRecords().length>0,p.inputState.compositionFirstChange=null,Pm.chrome&&Pm.android?p.observer.flushSoon():p.inputState.compositionPendingChange?Promise.resolve().then(()=>p.observer.flush()):setTimeout(()=>{p.inputState.composing<0&&p.docView.hasComposition&&p.update([])},50))},sg.contextmenu=p=>{p.inputState.lastContextMenu=Date.now()},gg.beforeinput=(p,n)=>{var s,c;if((n.inputType=="insertText"||n.inputType=="insertCompositionText")&&(p.inputState.insertingText=n.data,p.inputState.insertingTextAt=Date.now()),n.inputType=="insertReplacementText"&&p.observer.editContext){let yt=(s=n.dataTransfer)===null||s===void 0?void 0:s.getData("text/plain"),wt=n.getTargetRanges();if(yt&&wt.length){let Wa=wt[0],ja=p.posAtDOM(Wa.startContainer,Wa.startOffset),pd=p.posAtDOM(Wa.endContainer,Wa.endOffset);return P2(p,{from:ja,to:pd,insert:p.state.toText(yt)},null),!0}}let Ae;if(Pm.chrome&&Pm.android&&(Ae=Ax.find(yt=>yt.inputType==n.inputType))&&(p.observer.delayAndroidKey(Ae.key,Ae.keyCode),Ae.key=="Backspace"||Ae.key=="Delete")){let yt=((c=window.visualViewport)===null||c===void 0?void 0:c.height)||0;setTimeout(()=>{var wt;(((wt=window.visualViewport)===null||wt===void 0?void 0:wt.height)||0)>yt+10&&p.hasFocus&&(p.contentDOM.blur(),p.focus())},100)}return Pm.ios&&n.inputType=="deleteContentForward"&&p.observer.flushSoon(),Pm.safari&&n.inputType=="insertText"&&p.inputState.composing>=0&&setTimeout(()=>sg.compositionend(p,n),20),!1};const Rx=new Set;function eM(p){Rx.has(p)||(Rx.add(p),p.addEventListener("copy",()=>{}),p.addEventListener("cut",()=>{}))}const Zx=["pre-wrap","normal","pre-line","break-spaces"];let R_=!1;function Nx(){R_=!1}class tM{constructor(n){this.lineWrapping=n,this.doc=yd.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(n,s){let c=this.doc.lineAt(s).number-this.doc.lineAt(n).number+1;return this.lineWrapping&&(c+=Math.max(0,Math.ceil((s-n-c*this.lineLength*.5)/this.lineLength))),this.lineHeight*c}heightForLine(n){return this.lineWrapping?(1+Math.max(0,Math.ceil((n-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(n){return this.doc=n,this}mustRefreshForWrapping(n){return Zx.indexOf(n)>-1!=this.lineWrapping}mustRefreshForHeights(n){let s=!1;for(let c=0;c<n.length;c++){let Ae=n[c];Ae<0?c++:this.heightSamples[Math.floor(Ae*10)]||(s=!0,this.heightSamples[Math.floor(Ae*10)]=!0)}return s}refresh(n,s,c,Ae,yt,wt){let Wa=Zx.indexOf(n)>-1,ja=Math.round(s)!=Math.round(this.lineHeight)||this.lineWrapping!=Wa;if(this.lineWrapping=Wa,this.lineHeight=s,this.charWidth=c,this.textHeight=Ae,this.lineLength=yt,ja){this.heightSamples={};for(let pd=0;pd<wt.length;pd++){let md=wt[pd];md<0?pd++:this.heightSamples[Math.floor(md*10)]=!0}}return ja}}class iM{constructor(n,s){this.from=n,this.heights=s,this.index=0}get more(){return this.index<this.heights.length}}class _g{constructor(n,s,c,Ae,yt){this.from=n,this.length=s,this.top=c,this.height=Ae,this._content=yt}get type(){return typeof this._content=="number"?Am.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Um?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(n){let s=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(n._content)?n._content:[n]);return new _g(this.from,this.length+n.length,this.top,this.height+n.height,s)}}var b0=(function(p){return p[p.ByPos=0]="ByPos",p[p.ByHeight=1]="ByHeight",p[p.ByPosNoHeight=2]="ByPosNoHeight",p})(b0||(b0={}));const Ly=.001;class H0{constructor(n,s,c=2){this.length=n,this.height=s,this.flags=c}get outdated(){return(this.flags&2)>0}set outdated(n){this.flags=(n?2:0)|this.flags&-3}setHeight(n){this.height!=n&&(Math.abs(this.height-n)>Ly&&(R_=!0),this.height=n)}replace(n,s,c){return H0.of(c)}decomposeLeft(n,s){s.push(this)}decomposeRight(n,s){s.push(this)}applyChanges(n,s,c,Ae){let yt=this,wt=c.doc;for(let Wa=Ae.length-1;Wa>=0;Wa--){let{fromA:ja,toA:pd,fromB:md,toB:vd}=Ae[Wa],$d=yt.lineAt(ja,b0.ByPosNoHeight,c.setDoc(s),0,0),kd=$d.to>=pd?$d:yt.lineAt(pd,b0.ByPosNoHeight,c,0,0);for(vd+=kd.to-pd,pd=kd.to;Wa>0&&$d.from<=Ae[Wa-1].toA;)ja=Ae[Wa-1].fromA,md=Ae[Wa-1].fromB,Wa--,ja<$d.from&&($d=yt.lineAt(ja,b0.ByPosNoHeight,c,0,0));md+=$d.from-ja,ja=$d.from;let Zd=k2.build(c.setDoc(wt),n,md,vd);yt=Qy(yt,yt.replace(ja,pd,Zd))}return yt.updateHeight(c,0)}static empty(){return new U1(0,0,0)}static of(n){if(n.length==1)return n[0];let s=0,c=n.length,Ae=0,yt=0;for(;;)if(s==c)if(Ae>yt*2){let Wa=n[s-1];Wa.break?n.splice(--s,1,Wa.left,null,Wa.right):n.splice(--s,1,Wa.left,Wa.right),c+=1+Wa.break,Ae-=Wa.size}else if(yt>Ae*2){let Wa=n[c];Wa.break?n.splice(c,1,Wa.left,null,Wa.right):n.splice(c,1,Wa.left,Wa.right),c+=2+Wa.break,yt-=Wa.size}else break;else if(Ae<yt){let Wa=n[s++];Wa&&(Ae+=Wa.size)}else{let Wa=n[--c];Wa&&(yt+=Wa.size)}let wt=0;return n[s-1]==null?(wt=1,s--):n[s]==null&&(wt=1,c++),new rM(H0.of(n.slice(0,s)),wt,H0.of(n.slice(c)))}}function Qy(p,n){return p==n?p:(p.constructor!=n.constructor&&(R_=!0),n)}H0.prototype.size=1;const nM=Rm.replace({});class Lx extends H0{constructor(n,s,c){super(n,s),this.deco=c,this.spaceAbove=0}mainBlock(n,s){return new _g(s,this.length,n+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(n,s,c,Ae){return this.spaceAbove&&n<c+this.spaceAbove?new _g(Ae,0,c,this.spaceAbove,nM):this.mainBlock(c,Ae)}lineAt(n,s,c,Ae,yt){let wt=this.mainBlock(Ae,yt);return this.spaceAbove?this.blockAt(0,c,Ae,yt).join(wt):wt}forEachLine(n,s,c,Ae,yt,wt){n<=yt+this.length&&s>=yt&&wt(this.lineAt(0,b0.ByPos,c,Ae,yt))}setMeasuredHeight(n){let s=n.heights[n.index++];s<0?(this.spaceAbove=-s,s=n.heights[n.index++]):this.spaceAbove=0,this.setHeight(s)}updateHeight(n,s=0,c=!1,Ae){return Ae&&Ae.from<=s&&Ae.more&&this.setMeasuredHeight(Ae),this.outdated=!1,this}toString(){return`block(${this.length})`}}class U1 extends Lx{constructor(n,s,c){super(n,s,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=c}mainBlock(n,s){return new _g(s,this.length,n+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(n,s,c){let Ae=c[0];return c.length==1&&(Ae instanceof U1||Ae instanceof W0&&Ae.flags&4)&&Math.abs(this.length-Ae.length)<10?(Ae instanceof W0?Ae=new U1(Ae.length,this.height,this.spaceAbove):Ae.height=this.height,this.outdated||(Ae.outdated=!1),Ae):H0.of(c)}updateHeight(n,s=0,c=!1,Ae){return Ae&&Ae.from<=s&&Ae.more?this.setMeasuredHeight(Ae):(c||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,n.heightForLine(this.length-this.collapsed))+this.breaks*n.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class W0 extends H0{constructor(n){super(n,0)}heightMetrics(n,s){let c=n.doc.lineAt(s).number,Ae=n.doc.lineAt(s+this.length).number,yt=Ae-c+1,wt,Wa=0;if(n.lineWrapping){let ja=Math.min(this.height,n.lineHeight*yt);wt=ja/yt,this.length>yt+1&&(Wa=(this.height-ja)/(this.length-yt-1))}else wt=this.height/yt;return{firstLine:c,lastLine:Ae,perLine:wt,perChar:Wa}}blockAt(n,s,c,Ae){let{firstLine:yt,lastLine:wt,perLine:Wa,perChar:ja}=this.heightMetrics(s,Ae);if(s.lineWrapping){let pd=Ae+(n<s.lineHeight?0:Math.round(Math.max(0,Math.min(1,(n-c)/this.height))*this.length)),md=s.doc.lineAt(pd),vd=Wa+md.length*ja,$d=Math.max(c,n-vd/2);return new _g(md.from,md.length,$d,vd,0)}else{let pd=Math.max(0,Math.min(wt-yt,Math.floor((n-c)/Wa))),{from:md,length:vd}=s.doc.line(yt+pd);return new _g(md,vd,c+Wa*pd,Wa,0)}}lineAt(n,s,c,Ae,yt){if(s==b0.ByHeight)return this.blockAt(n,c,Ae,yt);if(s==b0.ByPosNoHeight){let{from:kd,to:Zd}=c.doc.lineAt(n);return new _g(kd,Zd-kd,0,0,0)}let{firstLine:wt,perLine:Wa,perChar:ja}=this.heightMetrics(c,yt),pd=c.doc.lineAt(n),md=Wa+pd.length*ja,vd=pd.number-wt,$d=Ae+Wa*vd+ja*(pd.from-yt-vd);return new _g(pd.from,pd.length,Math.max(Ae,Math.min($d,Ae+this.height-md)),md,0)}forEachLine(n,s,c,Ae,yt,wt){n=Math.max(n,yt),s=Math.min(s,yt+this.length);let{firstLine:Wa,perLine:ja,perChar:pd}=this.heightMetrics(c,yt);for(let md=n,vd=Ae;md<=s;){let $d=c.doc.lineAt(md);if(md==n){let Zd=$d.number-Wa;vd+=ja*Zd+pd*(n-yt-Zd)}let kd=ja+pd*$d.length;wt(new _g($d.from,$d.length,vd,kd,0)),vd+=kd,md=$d.to+1}}replace(n,s,c){let Ae=this.length-s;if(Ae>0){let yt=c[c.length-1];yt instanceof W0?c[c.length-1]=new W0(yt.length+Ae):c.push(null,new W0(Ae-1))}if(n>0){let yt=c[0];yt instanceof W0?c[0]=new W0(n+yt.length):c.unshift(new W0(n-1),null)}return H0.of(c)}decomposeLeft(n,s){s.push(new W0(n-1),null)}decomposeRight(n,s){s.push(null,new W0(this.length-n-1))}updateHeight(n,s=0,c=!1,Ae){let yt=s+this.length;if(Ae&&Ae.from<=s+this.length&&Ae.more){let wt=[],Wa=Math.max(s,Ae.from),ja=-1;for(Ae.from>s&&wt.push(new W0(Ae.from-s-1).updateHeight(n,s));Wa<=yt&&Ae.more;){let md=n.doc.lineAt(Wa).length;wt.length&&wt.push(null);let vd=Ae.heights[Ae.index++],$d=0;vd<0&&($d=-vd,vd=Ae.heights[Ae.index++]),ja==-1?ja=vd:Math.abs(vd-ja)>=Ly&&(ja=-2);let kd=new U1(md,vd,$d);kd.outdated=!1,wt.push(kd),Wa+=md+1}Wa<=yt&&wt.push(null,new W0(yt-Wa).updateHeight(n,Wa));let pd=H0.of(wt);return(ja<0||Math.abs(pd.height-this.height)>=Ly||Math.abs(ja-this.heightMetrics(n,s).perLine)>=Ly)&&(R_=!0),Qy(this,pd)}else(c||this.outdated)&&(this.setHeight(n.heightForGap(s,s+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class rM extends H0{constructor(n,s,c){super(n.length+s+c.length,n.height+c.height,s|(n.outdated||c.outdated?2:0)),this.left=n,this.right=c,this.size=n.size+c.size}get break(){return this.flags&1}blockAt(n,s,c,Ae){let yt=c+this.left.height;return n<yt?this.left.blockAt(n,s,c,Ae):this.right.blockAt(n,s,yt,Ae+this.left.length+this.break)}lineAt(n,s,c,Ae,yt){let wt=Ae+this.left.height,Wa=yt+this.left.length+this.break,ja=s==b0.ByHeight?n<wt:n<Wa,pd=ja?this.left.lineAt(n,s,c,Ae,yt):this.right.lineAt(n,s,c,wt,Wa);if(this.break||(ja?pd.to<Wa:pd.from>Wa))return pd;let md=s==b0.ByPosNoHeight?b0.ByPosNoHeight:b0.ByPos;return ja?pd.join(this.right.lineAt(Wa,md,c,wt,Wa)):this.left.lineAt(Wa,md,c,Ae,yt).join(pd)}forEachLine(n,s,c,Ae,yt,wt){let Wa=Ae+this.left.height,ja=yt+this.left.length+this.break;if(this.break)n<ja&&this.left.forEachLine(n,s,c,Ae,yt,wt),s>=ja&&this.right.forEachLine(n,s,c,Wa,ja,wt);else{let pd=this.lineAt(ja,b0.ByPos,c,Ae,yt);n<pd.from&&this.left.forEachLine(n,pd.from-1,c,Ae,yt,wt),pd.to>=n&&pd.from<=s&&wt(pd),s>pd.to&&this.right.forEachLine(pd.to+1,s,c,Wa,ja,wt)}}replace(n,s,c){let Ae=this.left.length+this.break;if(s<Ae)return this.balanced(this.left.replace(n,s,c),this.right);if(n>this.left.length)return this.balanced(this.left,this.right.replace(n-Ae,s-Ae,c));let yt=[];n>0&&this.decomposeLeft(n,yt);let wt=yt.length;for(let Wa of c)yt.push(Wa);if(n>0&&Qx(yt,wt-1),s<this.length){let Wa=yt.length;this.decomposeRight(s,yt),Qx(yt,Wa)}return H0.of(yt)}decomposeLeft(n,s){let c=this.left.length;if(n<=c)return this.left.decomposeLeft(n,s);s.push(this.left),this.break&&(c++,n>=c&&s.push(null)),n>c&&this.right.decomposeLeft(n-c,s)}decomposeRight(n,s){let c=this.left.length,Ae=c+this.break;if(n>=Ae)return this.right.decomposeRight(n-Ae,s);n<c&&this.left.decomposeRight(n,s),this.break&&n<Ae&&s.push(null),s.push(this.right)}balanced(n,s){return n.size>2*s.size||s.size>2*n.size?H0.of(this.break?[n,null,s]:[n,s]):(this.left=Qy(this.left,n),this.right=Qy(this.right,s),this.setHeight(n.height+s.height),this.outdated=n.outdated||s.outdated,this.size=n.size+s.size,this.length=n.length+this.break+s.length,this)}updateHeight(n,s=0,c=!1,Ae){let{left:yt,right:wt}=this,Wa=s+yt.length+this.break,ja=null;return Ae&&Ae.from<=s+yt.length&&Ae.more?ja=yt=yt.updateHeight(n,s,c,Ae):yt.updateHeight(n,s,c),Ae&&Ae.from<=Wa+wt.length&&Ae.more?ja=wt=wt.updateHeight(n,Wa,c,Ae):wt.updateHeight(n,Wa,c),ja?this.balanced(yt,wt):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function Qx(p,n){let s,c;p[n]==null&&(s=p[n-1])instanceof W0&&(c=p[n+1])instanceof W0&&p.splice(n-1,3,new W0(s.length+1+c.length))}const sM=5;class k2{constructor(n,s){this.pos=n,this.oracle=s,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=n}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(n,s){if(this.lineStart>-1){let c=Math.min(s,this.lineEnd),Ae=this.nodes[this.nodes.length-1];Ae instanceof U1?Ae.length+=c-this.pos:(c>this.pos||!this.isCovered)&&this.nodes.push(new U1(c-this.pos,-1,0)),this.writtenTo=c,s>c&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=s}point(n,s,c){if(n<s||c.heightRelevant){let Ae=c.widget?c.widget.estimatedHeight:0,yt=c.widget?c.widget.lineBreaks:0;Ae<0&&(Ae=this.oracle.lineHeight);let wt=s-n;c.block?this.addBlock(new Lx(wt,Ae,c)):(wt||yt||Ae>=sM)&&this.addLineDeco(Ae,yt,wt)}else s>n&&this.span(n,s);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:n,to:s}=this.oracle.doc.lineAt(this.pos);this.lineStart=n,this.lineEnd=s,this.writtenTo<n&&((this.writtenTo<n-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,n-1)),this.nodes.push(null)),this.pos>n&&this.nodes.push(new U1(this.pos-n,-1,0)),this.writtenTo=this.pos}blankContent(n,s){let c=new W0(s-n);return this.oracle.doc.lineAt(n).to==s&&(c.flags|=4),c}ensureLine(){this.enterLine();let n=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(n instanceof U1)return n;let s=new U1(0,-1,0);return this.nodes.push(s),s}addBlock(n){this.enterLine();let s=n.deco;s&&s.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(n),this.writtenTo=this.pos=this.pos+n.length,s&&s.endSide>0&&(this.covering=n)}addLineDeco(n,s,c){let Ae=this.ensureLine();Ae.length+=c,Ae.collapsed+=c,Ae.widgetHeight=Math.max(Ae.widgetHeight,n),Ae.breaks+=s,this.writtenTo=this.pos=this.pos+c}finish(n){let s=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(s instanceof U1)&&!this.isCovered?this.nodes.push(new U1(0,-1,0)):(this.writtenTo<this.pos||s==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let c=n;for(let Ae of this.nodes)Ae instanceof U1&&Ae.updateHeight(this.oracle,c),c+=Ae?Ae.length:1;return this.nodes}static build(n,s,c,Ae){let yt=new k2(c,n);return Qm.spans(s,c,Ae,yt,0),yt.finish(c)}}function oM(p,n,s){let c=new aM;return Qm.compare(p,n,s,c,0),c.changes}class aM{constructor(){this.changes=[]}compareRange(){}comparePoint(n,s,c,Ae){(n<s||c&&c.heightRelevant||Ae&&Ae.heightRelevant)&&Ag(n,s,this.changes,5)}}function lM(p,n){let s=p.getBoundingClientRect(),c=p.ownerDocument,Ae=c.defaultView||window,yt=Math.max(0,s.left),wt=Math.min(Ae.innerWidth,s.right),Wa=Math.max(0,s.top),ja=Math.min(Ae.innerHeight,s.bottom);for(let pd=p.parentNode;pd&&pd!=c.body;)if(pd.nodeType==1){let md=pd,vd=window.getComputedStyle(md);if((md.scrollHeight>md.clientHeight||md.scrollWidth>md.clientWidth)&&vd.overflow!="visible"){let $d=md.getBoundingClientRect();yt=Math.max(yt,$d.left),wt=Math.min(wt,$d.right),Wa=Math.max(Wa,$d.top),ja=Math.min(pd==p.parentNode?Ae.innerHeight:ja,$d.bottom)}pd=vd.position=="absolute"||vd.position=="fixed"?md.offsetParent:md.parentNode}else if(pd.nodeType==11)pd=pd.host;else break;return{left:yt-s.left,right:Math.max(yt,wt)-s.left,top:Wa-(s.top+n),bottom:Math.max(Wa,ja)-(s.top+n)}}function uM(p){let n=p.getBoundingClientRect(),s=p.ownerDocument.defaultView||window;return n.left<s.innerWidth&&n.right>0&&n.top<s.innerHeight&&n.bottom>0}function cM(p,n){let s=p.getBoundingClientRect();return{left:0,right:s.right-s.left,top:n,bottom:s.bottom-(s.top+n)}}class E2{constructor(n,s,c,Ae){this.from=n,this.to=s,this.size=c,this.displaySize=Ae}static same(n,s){if(n.length!=s.length)return!1;for(let c=0;c<n.length;c++){let Ae=n[c],yt=s[c];if(Ae.from!=yt.from||Ae.to!=yt.to||Ae.size!=yt.size)return!1}return!0}draw(n,s){return Rm.replace({widget:new hM(this.displaySize*(s?n.scaleY:n.scaleX),s)}).range(this.from,this.to)}}class hM extends Y1{constructor(n,s){super(),this.size=n,this.vertical=s}eq(n){return n.size==this.size&&n.vertical==this.vertical}toDOM(){let n=document.createElement("div");return this.vertical?n.style.height=this.size+"px":(n.style.width=this.size+"px",n.style.height="2px",n.style.display="inline-block"),n}get estimatedHeight(){return this.vertical?this.size:-1}}class Bx{constructor(n){this.state=n,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=Xx,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=f0.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let s=n.facet(Ld).some(c=>typeof c!="function"&&c.class=="cm-lineWrapping");this.heightOracle=new tM(s),this.stateDeco=n.facet(em).filter(c=>typeof c!="function"),this.heightMap=H0.empty().applyChanges(this.stateDeco,yd.empty,this.heightOracle.setDoc(n.doc),[new rg(0,0,0,n.doc.length)]);for(let c=0;c<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());c++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Rm.set(this.lineGaps.map(c=>c.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let n=[this.viewport],{main:s}=this.state.selection;for(let c=0;c<=1;c++){let Ae=c?s.head:s.anchor;if(!n.some(({from:yt,to:wt})=>Ae>=yt&&Ae<=wt)){let{from:yt,to:wt}=this.lineBlockAt(Ae);n.push(new By(yt,wt))}}return this.viewports=n.sort((c,Ae)=>c.from-Ae.from),this.updateScaler()}updateScaler(){let n=this.scaler;return this.scaler=this.heightMap.height<=7e6?Xx:new D2(this.heightOracle,this.heightMap,this.viewports),n.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,n=>{this.viewportLines.push(SO(n,this.scaler))})}update(n,s=null){this.state=n.state;let c=this.stateDeco;this.stateDeco=this.state.facet(em).filter(md=>typeof md!="function");let Ae=n.changedRanges,yt=rg.extendWithRanges(Ae,oM(c,this.stateDeco,n?n.changes:Om.empty(this.state.doc.length))),wt=this.heightMap.height,Wa=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);Nx(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,n.startState.doc,this.heightOracle.setDoc(this.state.doc),yt),(this.heightMap.height!=wt||R_)&&(n.flags|=2),Wa?(this.scrollAnchorPos=n.changes.mapPos(Wa.from,-1),this.scrollAnchorHeight=Wa.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=wt);let ja=yt.length?this.mapViewport(this.viewport,n.changes):this.viewport;(s&&(s.range.head<ja.from||s.range.head>ja.to)||!this.viewportIsAppropriate(ja))&&(ja=this.getViewport(0,s));let pd=ja.from!=this.viewport.from||ja.to!=this.viewport.to;this.viewport=ja,n.flags|=this.updateForViewport(),(pd||!n.changes.empty||n.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,n.changes))),n.flags|=this.computeVisibleRanges(n.changes),s&&(this.scrollTarget=s),!this.mustEnforceCursorAssoc&&n.selectionSet&&n.view.lineWrapping&&n.state.selection.main.empty&&n.state.selection.main.assoc&&!n.state.facet(Py)&&(this.mustEnforceCursorAssoc=!0)}measure(n){let s=n.contentDOM,c=window.getComputedStyle(s),Ae=this.heightOracle,yt=c.whiteSpace;this.defaultTextDirection=c.direction=="rtl"?f0.RTL:f0.LTR;let wt=this.heightOracle.mustRefreshForWrapping(yt),Wa=s.getBoundingClientRect(),ja=wt||this.mustMeasureContent||this.contentDOMHeight!=Wa.height;this.contentDOMHeight=Wa.height,this.mustMeasureContent=!1;let pd=0,md=0;if(Wa.width&&Wa.height){let{scaleX:Em,scaleY:hm}=fy(s,Wa);(Em>.005&&Math.abs(this.scaleX-Em)>.005||hm>.005&&Math.abs(this.scaleY-hm)>.005)&&(this.scaleX=Em,this.scaleY=hm,pd|=16,wt=ja=!0)}let vd=(parseInt(c.paddingTop)||0)*this.scaleY,$d=(parseInt(c.paddingBottom)||0)*this.scaleY;(this.paddingTop!=vd||this.paddingBottom!=$d)&&(this.paddingTop=vd,this.paddingBottom=$d,pd|=18),this.editorWidth!=n.scrollDOM.clientWidth&&(Ae.lineWrapping&&(ja=!0),this.editorWidth=n.scrollDOM.clientWidth,pd|=16);let kd=n.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=kd&&(this.scrollAnchorHeight=-1,this.scrollTop=kd),this.scrolledToBottom=dy(n.scrollDOM);let Zd=(this.printing?cM:lM)(s,this.paddingTop),Id=Zd.top-this.pixelViewport.top,Ud=Zd.bottom-this.pixelViewport.bottom;this.pixelViewport=Zd;let tm=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(tm!=this.inView&&(this.inView=tm,tm&&(ja=!0)),!this.inView&&!this.scrollTarget&&!uM(n.dom))return 0;let pm=Wa.width;if((this.contentDOMWidth!=pm||this.editorHeight!=n.scrollDOM.clientHeight)&&(this.contentDOMWidth=Wa.width,this.editorHeight=n.scrollDOM.clientHeight,pd|=16),ja){let Em=n.docView.measureVisibleLineHeights(this.viewport);if(Ae.mustRefreshForHeights(Em)&&(wt=!0),wt||Ae.lineWrapping&&Math.abs(pm-this.contentDOMWidth)>Ae.charWidth){let{lineHeight:hm,charWidth:$m,textHeight:bm}=n.docView.measureTextSize();wt=hm>0&&Ae.refresh(yt,hm,$m,bm,Math.max(5,pm/$m),Em),wt&&(n.docView.minWidth=0,pd|=16)}Id>0&&Ud>0?md=Math.max(Id,Ud):Id<0&&Ud<0&&(md=Math.min(Id,Ud)),Nx();for(let hm of this.viewports){let $m=hm.from==this.viewport.from?Em:n.docView.measureVisibleLineHeights(hm);this.heightMap=(wt?H0.empty().applyChanges(this.stateDeco,yd.empty,this.heightOracle,[new rg(0,0,0,n.state.doc.length)]):this.heightMap).updateHeight(Ae,0,wt,new iM(hm.from,$m))}R_&&(pd|=2)}let fm=!this.viewportIsAppropriate(this.viewport,md)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return fm&&(pd&2&&(pd|=this.updateScaler()),this.viewport=this.getViewport(md,this.scrollTarget),pd|=this.updateForViewport()),(pd&2||fm)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(wt?[]:this.lineGaps,n)),pd|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,n.docView.enforceCursorAssoc()),pd}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(n,s){let c=.5-Math.max(-.5,Math.min(.5,n/1e3/2)),Ae=this.heightMap,yt=this.heightOracle,{visibleTop:wt,visibleBottom:Wa}=this,ja=new By(Ae.lineAt(wt-c*1e3,b0.ByHeight,yt,0,0).from,Ae.lineAt(Wa+(1-c)*1e3,b0.ByHeight,yt,0,0).to);if(s){let{head:pd}=s.range;if(pd<ja.from||pd>ja.to){let md=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),vd=Ae.lineAt(pd,b0.ByPos,yt,0,0),$d;s.y=="center"?$d=(vd.top+vd.bottom)/2-md/2:s.y=="start"||s.y=="nearest"&&pd<ja.from?$d=vd.top:$d=vd.bottom-md,ja=new By(Ae.lineAt($d-1e3/2,b0.ByHeight,yt,0,0).from,Ae.lineAt($d+md+1e3/2,b0.ByHeight,yt,0,0).to)}}return ja}mapViewport(n,s){let c=s.mapPos(n.from,-1),Ae=s.mapPos(n.to,1);return new By(this.heightMap.lineAt(c,b0.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(Ae,b0.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:n,to:s},c=0){if(!this.inView)return!0;let{top:Ae}=this.heightMap.lineAt(n,b0.ByPos,this.heightOracle,0,0),{bottom:yt}=this.heightMap.lineAt(s,b0.ByPos,this.heightOracle,0,0),{visibleTop:wt,visibleBottom:Wa}=this;return(n==0||Ae<=wt-Math.max(10,Math.min(-c,250)))&&(s==this.state.doc.length||yt>=Wa+Math.max(10,Math.min(c,250)))&&Ae>wt-2*1e3&&yt<Wa+2*1e3}mapLineGaps(n,s){if(!n.length||s.empty)return n;let c=[];for(let Ae of n)s.touchesRange(Ae.from,Ae.to)||c.push(new E2(s.mapPos(Ae.from),s.mapPos(Ae.to),Ae.size,Ae.displaySize));return c}ensureLineGaps(n,s){let c=this.heightOracle.lineWrapping,Ae=c?1e4:2e3,yt=Ae>>1,wt=Ae<<1;if(this.defaultTextDirection!=f0.LTR&&!c)return[];let Wa=[],ja=(md,vd,$d,kd)=>{if(vd-md<yt)return;let Zd=this.state.selection.main,Id=[Zd.from];Zd.empty||Id.push(Zd.to);for(let tm of Id)if(tm>md&&tm<vd){ja(md,tm-10,$d,kd),ja(tm+10,vd,$d,kd);return}let Ud=pM(n,tm=>tm.from>=$d.from&&tm.to<=$d.to&&Math.abs(tm.from-md)<yt&&Math.abs(tm.to-vd)<yt&&!Id.some(pm=>tm.from<pm&&tm.to>pm));if(!Ud){if(vd<$d.to&&s&&c&&s.visibleRanges.some(fm=>fm.from<=vd&&fm.to>=vd)){let fm=s.moveToLineBoundary(Hd.cursor(vd),!1,!0).head;fm>md&&(vd=fm)}let tm=this.gapSize($d,md,vd,kd),pm=c||tm<2e6?tm:2e6;Ud=new E2(md,vd,tm,pm)}Wa.push(Ud)},pd=md=>{if(md.length<wt||md.type!=Am.Text)return;let vd=fM(md.from,md.to,this.stateDeco);if(vd.total<wt)return;let $d=this.scrollTarget?this.scrollTarget.range.head:null,kd,Zd;if(c){let Id=Ae/this.heightOracle.lineLength*this.heightOracle.lineHeight,Ud,tm;if($d!=null){let pm=Iy(vd,$d),fm=((this.visibleBottom-this.visibleTop)/2+Id)/md.height;Ud=pm-fm,tm=pm+fm}else Ud=(this.visibleTop-md.top-Id)/md.height,tm=(this.visibleBottom-md.top+Id)/md.height;kd=Xy(vd,Ud),Zd=Xy(vd,tm)}else{let Id=vd.total*this.heightOracle.charWidth,Ud=Ae*this.heightOracle.charWidth,tm=0;if(Id>2e6)for(let $m of n)$m.from>=md.from&&$m.from<md.to&&$m.size!=$m.displaySize&&$m.from*this.heightOracle.charWidth+tm<this.pixelViewport.left&&(tm=$m.size-$m.displaySize);let pm=this.pixelViewport.left+tm,fm=this.pixelViewport.right+tm,Em,hm;if($d!=null){let $m=Iy(vd,$d),bm=((fm-pm)/2+Ud)/Id;Em=$m-bm,hm=$m+bm}else Em=(pm-Ud)/Id,hm=(fm+Ud)/Id;kd=Xy(vd,Em),Zd=Xy(vd,hm)}kd>md.from&&ja(md.from,kd,md,vd),Zd<md.to&&ja(Zd,md.to,md,vd)};for(let md of this.viewportLines)Array.isArray(md.type)?md.type.forEach(pd):pd(md);return Wa}gapSize(n,s,c,Ae){let yt=Iy(Ae,c)-Iy(Ae,s);return this.heightOracle.lineWrapping?n.height*yt:Ae.total*this.heightOracle.charWidth*yt}updateLineGaps(n){E2.same(n,this.lineGaps)||(this.lineGaps=n,this.lineGapDeco=Rm.set(n.map(s=>s.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(n){let s=this.stateDeco;this.lineGaps.length&&(s=s.concat(this.lineGapDeco));let c=[];Qm.spans(s,this.viewport.from,this.viewport.to,{span(yt,wt){c.push({from:yt,to:wt})},point(){}},20);let Ae=0;if(c.length!=this.visibleRanges.length)Ae=12;else for(let yt=0;yt<c.length&&!(Ae&8);yt++){let wt=this.visibleRanges[yt],Wa=c[yt];(wt.from!=Wa.from||wt.to!=Wa.to)&&(Ae|=4,n&&n.mapPos(wt.from,-1)==Wa.from&&n.mapPos(wt.to,1)==Wa.to||(Ae|=8))}return this.visibleRanges=c,Ae}lineBlockAt(n){return n>=this.viewport.from&&n<=this.viewport.to&&this.viewportLines.find(s=>s.from<=n&&s.to>=n)||SO(this.heightMap.lineAt(n,b0.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(n){return n>=this.viewportLines[0].top&&n<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(s=>s.top<=n&&s.bottom>=n)||SO(this.heightMap.lineAt(this.scaler.fromDOM(n),b0.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(n){let s=this.lineBlockAtHeight(n+8);return s.from>=this.viewport.from||this.viewportLines[0].top-n>200?s:this.viewportLines[0]}elementAtHeight(n){return SO(this.heightMap.blockAt(this.scaler.fromDOM(n),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class By{constructor(n,s){this.from=n,this.to=s}}function fM(p,n,s){let c=[],Ae=p,yt=0;return Qm.spans(s,p,n,{span(){},point(wt,Wa){wt>Ae&&(c.push({from:Ae,to:wt}),yt+=wt-Ae),Ae=Wa}},20),Ae<n&&(c.push({from:Ae,to:n}),yt+=n-Ae),{total:yt,ranges:c}}function Xy({total:p,ranges:n},s){if(s<=0)return n[0].from;if(s>=1)return n[n.length-1].to;let c=Math.floor(p*s);for(let Ae=0;;Ae++){let{from:yt,to:wt}=n[Ae],Wa=wt-yt;if(c<=Wa)return yt+c;c-=Wa}}function Iy(p,n){let s=0;for(let{from:c,to:Ae}of p.ranges){if(n<=Ae){s+=n-c;break}s+=Ae-c}return s/p.total}function pM(p,n){for(let s of p)if(n(s))return s}const Xx={toDOM(p){return p},fromDOM(p){return p},scale:1,eq(p){return p==this}};class D2{constructor(n,s,c){let Ae=0,yt=0,wt=0;this.viewports=c.map(({from:Wa,to:ja})=>{let pd=s.lineAt(Wa,b0.ByPos,n,0,0).top,md=s.lineAt(ja,b0.ByPos,n,0,0).bottom;return Ae+=md-pd,{from:Wa,to:ja,top:pd,bottom:md,domTop:0,domBottom:0}}),this.scale=(7e6-Ae)/(s.height-Ae);for(let Wa of this.viewports)Wa.domTop=wt+(Wa.top-yt)*this.scale,wt=Wa.domBottom=Wa.domTop+(Wa.bottom-Wa.top),yt=Wa.bottom}toDOM(n){for(let s=0,c=0,Ae=0;;s++){let yt=s<this.viewports.length?this.viewports[s]:null;if(!yt||n<yt.top)return Ae+(n-c)*this.scale;if(n<=yt.bottom)return yt.domTop+(n-yt.top);c=yt.bottom,Ae=yt.domBottom}}fromDOM(n){for(let s=0,c=0,Ae=0;;s++){let yt=s<this.viewports.length?this.viewports[s]:null;if(!yt||n<yt.domTop)return c+(n-Ae)/this.scale;if(n<=yt.domBottom)return yt.top+(n-yt.domTop);c=yt.bottom,Ae=yt.domBottom}}eq(n){return n instanceof D2?this.scale==n.scale&&this.viewports.length==n.viewports.length&&this.viewports.every((s,c)=>s.from==n.viewports[c].from&&s.to==n.viewports[c].to):!1}}function SO(p,n){if(n.scale==1)return p;let s=n.toDOM(p.top),c=n.toDOM(p.bottom);return new _g(p.from,p.length,s,c-s,Array.isArray(p._content)?p._content.map(Ae=>SO(Ae,n)):p._content)}const Vy=am.define({combine:p=>p.join(" ")}),T2=am.define({combine:p=>p.indexOf(!0)>-1}),F2=vg.newName(),Ix=vg.newName(),Vx=vg.newName(),zx={"&light":"."+Ix,"&dark":"."+Vx};function G2(p,n,s){return new vg(n,{finish(c){return/&/.test(c)?c.replace(/&\w*/,Ae=>{if(Ae=="&")return p;if(!s||!s[Ae])throw new RangeError(`Unsupported selector: ${Ae}`);return s[Ae]}):p+" "+c}})}const dM=G2("."+F2,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},zx),mM={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},R2=Pm.ie&&Pm.ie_version<=11;class gM{constructor(n){this.view=n,this.active=!1,this.editContext=null,this.selectionRange=new Nm,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=n.contentDOM,this.observer=new MutationObserver(s=>{for(let c of s)this.queue.push(c);(Pm.ie&&Pm.ie_version<=11||Pm.ios&&n.composing)&&s.some(c=>c.type=="childList"&&c.removedNodes.length||c.type=="characterData"&&c.oldValue.length>c.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&Pm.android&&n.constructor.EDIT_CONTEXT!==!1&&!(Pm.chrome&&Pm.chrome_version<126)&&(this.editContext=new OM(n),n.state.facet(mg)&&(n.contentDOM.editContext=this.editContext.editContext)),R2&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var s;((s=this.view.docView)===null||s===void 0?void 0:s.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(n.scrollDOM)),this.addWindowListeners(this.win=n.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(s=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),s.length>0&&s[s.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(s=>{s.length>0&&s[s.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(n){this.view.inputState.runHandlers("scroll",n),this.intersecting&&this.view.measure()}onScroll(n){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(n)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(n){(n.type=="change"||!n.type)&&!n.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(n){if(this.gapIntersection&&(n.length!=this.gaps.length||this.gaps.some((s,c)=>s!=n[c]))){this.gapIntersection.disconnect();for(let s of n)this.gapIntersection.observe(s);this.gaps=n}}onSelectionChange(n){let s=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:c}=this,Ae=this.selectionRange;if(c.state.facet(mg)?c.root.activeElement!=this.dom:!M_(this.dom,Ae))return;let yt=Ae.anchorNode&&c.docView.tile.nearest(Ae.anchorNode);if(yt&&yt.isWidget()&&yt.widget.ignoreEvent(n)){s||(this.selectionChanged=!1);return}(Pm.ie&&Pm.ie_version<=11||Pm.android&&Pm.chrome)&&!c.state.selection.main.empty&&Ae.focusNode&&q0(Ae.focusNode,Ae.focusOffset,Ae.anchorNode,Ae.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:n}=this,s=Ng(n.root);if(!s)return!1;let c=Pm.safari&&n.root.nodeType==11&&n.root.activeElement==this.dom&&_M(this.view,s)||s;if(!c||this.selectionRange.eq(c))return!1;let Ae=M_(this.dom,c);return Ae&&!this.selectionChanged&&n.inputState.lastFocusTime>Date.now()-200&&n.inputState.lastTouchTime<Date.now()-300&&f2(this.dom,c)?(this.view.inputState.lastFocusTime=0,n.docView.updateSelection(),!1):(this.selectionRange.setRange(c),Ae&&(this.selectionChanged=!0),!0)}setSelectionRange(n,s){this.selectionRange.set(n.node,n.offset,s.node,s.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let n=0,s=null;for(let c=this.dom;c;)if(c.nodeType==1)!s&&n<this.scrollTargets.length&&this.scrollTargets[n]==c?n++:s||(s=this.scrollTargets.slice(0,n)),s&&s.push(c),c=c.assignedSlot||c.parentNode;else if(c.nodeType==11)c=c.host;else break;if(n<this.scrollTargets.length&&!s&&(s=this.scrollTargets.slice(0,n)),s){for(let c of this.scrollTargets)c.removeEventListener("scroll",this.onScroll);for(let c of this.scrollTargets=s)c.addEventListener("scroll",this.onScroll)}}ignore(n){if(!this.active)return n();try{return this.stop(),n()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,mM),R2&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),R2&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(n,s){var c;if(!this.delayedAndroidKey){let Ae=()=>{let yt=this.delayedAndroidKey;yt&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=yt.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&yt.force&&dg(this.dom,yt.key,yt.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(Ae)}(!this.delayedAndroidKey||n=="Enter")&&(this.delayedAndroidKey={key:n,keyCode:s,force:this.lastChange<Date.now()-50||!!(!((c=this.delayedAndroidKey)===null||c===void 0)&&c.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let n of this.observer.takeRecords())this.queue.push(n);return this.queue}processRecords(){let n=this.pendingRecords();n.length&&(this.queue=[]);let s=-1,c=-1,Ae=!1;for(let yt of n){let wt=this.readMutation(yt);wt&&(wt.typeOver&&(Ae=!0),s==-1?{from:s,to:c}=wt:(s=Math.min(wt.from,s),c=Math.max(wt.to,c)))}return{from:s,to:c,typeOver:Ae}}readChange(){let{from:n,to:s,typeOver:c}=this.processRecords(),Ae=this.selectionChanged&&M_(this.dom,this.selectionRange);if(n<0&&!Ae)return null;n>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let yt=new GC(this.view,n,s,c);return this.view.docView.domChanged={newSel:yt.newSel?yt.newSel.main:null},yt}flush(n=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;n&&this.readSelectionRange();let s=this.readChange();if(!s)return this.view.requestMeasure(),!1;let c=this.view.state,Ae=bx(this.view,s);return this.view.state==c&&(s.domChanged||s.newSel&&!s.newSel.main.eq(this.view.state.selection.main))&&this.view.update([]),Ae}readMutation(n){let s=this.view.docView.tile.nearest(n.target);if(!s||s.isWidget())return null;if(s.markDirty(n.type=="attributes"),n.type=="childList"){let c=Wx(s,n.previousSibling||n.target.previousSibling,-1),Ae=Wx(s,n.nextSibling||n.target.nextSibling,1);return{from:c?s.posAfter(c):s.posAtStart,to:Ae?s.posBefore(Ae):s.posAtEnd,typeOver:!1}}else return n.type=="characterData"?{from:s.posAtStart,to:s.posAtEnd,typeOver:n.target.nodeValue==n.oldValue}:null}setWindow(n){n!=this.win&&(this.removeWindowListeners(this.win),this.win=n,this.addWindowListeners(this.win))}addWindowListeners(n){n.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):n.addEventListener("beforeprint",this.onPrint),n.addEventListener("scroll",this.onScroll),n.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(n){n.removeEventListener("scroll",this.onScroll),n.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):n.removeEventListener("beforeprint",this.onPrint),n.document.removeEventListener("selectionchange",this.onSelectionChange)}update(n){this.editContext&&(this.editContext.update(n),n.startState.facet(mg)!=n.state.facet(mg)&&(n.view.contentDOM.editContext=n.state.facet(mg)?this.editContext.editContext:null))}destroy(){var n,s,c;this.stop(),(n=this.intersection)===null||n===void 0||n.disconnect(),(s=this.gapIntersection)===null||s===void 0||s.disconnect(),(c=this.resizeScroll)===null||c===void 0||c.disconnect();for(let Ae of this.scrollTargets)Ae.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function Wx(p,n,s){for(;n;){let c=F0.get(n);if(c&&c.parent==p)return c;let Ae=n.parentNode;n=Ae!=p.dom?Ae:s>0?n.nextSibling:n.previousSibling}return null}function jx(p,n){let s=n.startContainer,c=n.startOffset,Ae=n.endContainer,yt=n.endOffset,wt=p.docView.domAtPos(p.state.selection.main.anchor,1);return q0(wt.node,wt.offset,Ae,yt)&&([s,c,Ae,yt]=[Ae,yt,s,c]),{anchorNode:s,anchorOffset:c,focusNode:Ae,focusOffset:yt}}function _M(p,n){if(n.getComposedRanges){let Ae=n.getComposedRanges(p.root)[0];if(Ae)return jx(p,Ae)}let s=null;function c(Ae){Ae.preventDefault(),Ae.stopImmediatePropagation(),s=Ae.getTargetRanges()[0]}return p.contentDOM.addEventListener("beforeinput",c,!0),p.dom.ownerDocument.execCommand("indent"),p.contentDOM.removeEventListener("beforeinput",c,!0),s?jx(p,s):null}class OM{constructor(n){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(n.state);let s=this.editContext=new window.EditContext({text:n.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,n.state.selection.main.anchor))),selectionEnd:this.toContextPos(n.state.selection.main.head)});this.handlers.textupdate=c=>{let Ae=n.state.selection.main,{anchor:yt,head:wt}=Ae,Wa=this.toEditorPos(c.updateRangeStart),ja=this.toEditorPos(c.updateRangeEnd);n.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:c.updateRangeStart,editorBase:Wa,drifted:!1});let pd=ja-Wa>c.text.length;Wa==this.from&&yt<this.from?Wa=yt:ja==this.to&&yt>this.to&&(ja=yt);let md=vx(n.state.sliceDoc(Wa,ja),c.text,(pd?Ae.from:Ae.to)-Wa,pd?"end":null);if(!md){let $d=Hd.single(this.toEditorPos(c.selectionStart),this.toEditorPos(c.selectionEnd));$d.main.eq(Ae)||n.dispatch({selection:$d,userEvent:"select"});return}let vd={from:md.from+Wa,to:md.toA+Wa,insert:yd.of(c.text.slice(md.from,md.toB).split(`
`))};if((Pm.mac||Pm.android)&&vd.from==wt-1&&/^\. ?$/.test(c.text)&&n.contentDOM.getAttribute("autocorrect")=="off"&&(vd={from:Wa,to:ja,insert:yd.of([c.text.replace("."," ")])}),this.pendingContextChange=vd,!n.state.readOnly){let $d=this.to-this.from+(vd.to-vd.from+vd.insert.length);P2(n,vd,Hd.single(this.toEditorPos(c.selectionStart,$d),this.toEditorPos(c.selectionEnd,$d)))}this.pendingContextChange&&(this.revertPending(n.state),this.setSelection(n.state)),vd.from<vd.to&&!vd.insert.length&&n.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(s.text.slice(Math.max(0,c.updateRangeStart-1),Math.min(s.text.length,c.updateRangeStart+1)))&&this.handlers.compositionend(c)},this.handlers.characterboundsupdate=c=>{let Ae=[],yt=null;for(let wt=this.toEditorPos(c.rangeStart),Wa=this.toEditorPos(c.rangeEnd);wt<Wa;wt++){let ja=n.coordsForChar(wt);yt=ja&&new DOMRect(ja.left,ja.top,ja.right-ja.left,ja.bottom-ja.top)||yt||new DOMRect,Ae.push(yt)}s.updateCharacterBounds(c.rangeStart,Ae)},this.handlers.textformatupdate=c=>{let Ae=[];for(let yt of c.getTextFormats()){let wt=yt.underlineStyle,Wa=yt.underlineThickness;if(!/none/i.test(wt)&&!/none/i.test(Wa)){let ja=this.toEditorPos(yt.rangeStart),pd=this.toEditorPos(yt.rangeEnd);if(ja<pd){let md=`text-decoration: underline ${/^[a-z]/.test(wt)?wt+" ":wt=="Dashed"?"dashed ":wt=="Squiggle"?"wavy ":""}${/thin/i.test(Wa)?1:2}px`;Ae.push(Rm.mark({attributes:{style:md}}).range(ja,pd))}}}n.dispatch({effects:ky.of(Rm.set(Ae))})},this.handlers.compositionstart=()=>{n.inputState.composing<0&&(n.inputState.composing=0,n.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(n.inputState.composing=-1,n.inputState.compositionFirstChange=null,this.composing){let{drifted:c}=this.composing;this.composing=null,c&&this.reset(n.state)}};for(let c in this.handlers)s.addEventListener(c,this.handlers[c]);this.measureReq={read:c=>{this.editContext.updateControlBounds(c.contentDOM.getBoundingClientRect());let Ae=Ng(c.root);Ae&&Ae.rangeCount&&this.editContext.updateSelectionBounds(Ae.getRangeAt(0).getBoundingClientRect())}}}applyEdits(n){let s=0,c=!1,Ae=this.pendingContextChange;return n.changes.iterChanges((yt,wt,Wa,ja,pd)=>{if(c)return;let md=pd.length-(wt-yt);if(Ae&&wt>=Ae.to)if(Ae.from==yt&&Ae.to==wt&&Ae.insert.eq(pd)){Ae=this.pendingContextChange=null,s+=md,this.to+=md;return}else Ae=null,this.revertPending(n.state);if(yt+=s,wt+=s,wt<=this.from)this.from+=md,this.to+=md;else if(yt<this.to){if(yt<this.from||wt>this.to||this.to-this.from+pd.length>3e4){c=!0;return}this.editContext.updateText(this.toContextPos(yt),this.toContextPos(wt),pd.toString()),this.to+=md}s+=md}),Ae&&!c&&this.revertPending(n.state),!c}update(n){let s=this.pendingContextChange,c=n.startState.selection.main;this.composing&&(this.composing.drifted||!n.changes.touchesRange(c.from,c.to)&&n.transactions.some(Ae=>!Ae.isUserEvent("input.type")&&Ae.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=n.changes.mapPos(this.composing.editorBase)):!this.applyEdits(n)||!this.rangeIsValid(n.state)?(this.pendingContextChange=null,this.reset(n.state)):(n.docChanged||n.selectionSet||s)&&this.setSelection(n.state),(n.geometryChanged||n.docChanged||n.selectionSet)&&n.view.requestMeasure(this.measureReq)}resetRange(n){let{head:s}=n.selection.main;this.from=Math.max(0,s-1e4),this.to=Math.min(n.doc.length,s+1e4)}reset(n){this.resetRange(n),this.editContext.updateText(0,this.editContext.text.length,n.doc.sliceString(this.from,this.to)),this.setSelection(n)}revertPending(n){let s=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(s.from),this.toContextPos(s.from+s.insert.length),n.doc.sliceString(s.from,s.to))}setSelection(n){let{main:s}=n.selection,c=this.toContextPos(Math.max(this.from,Math.min(this.to,s.anchor))),Ae=this.toContextPos(s.head);(this.editContext.selectionStart!=c||this.editContext.selectionEnd!=Ae)&&this.editContext.updateSelection(c,Ae)}rangeIsValid(n){let{head:s}=n.selection.main;return!(this.from>0&&s-this.from<500||this.to<n.doc.length&&this.to-s<500||this.to-this.from>1e4*3)}toEditorPos(n,s=this.to-this.from){n=Math.min(n,s);let c=this.composing;return c&&c.drifted?c.editorBase+(n-c.contextBase):n+this.from}toContextPos(n){let s=this.composing;return s&&s.drifted?s.contextBase+(n-s.editorBase):n-this.from}destroy(){for(let n in this.handlers)this.editContext.removeEventListener(n,this.handlers[n])}}class wm{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(n={}){var s;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),n.parent&&n.parent.appendChild(this.dom);let{dispatch:c}=n;this.dispatchTransactions=n.dispatchTransactions||c&&(Ae=>Ae.forEach(yt=>c(yt,this)))||(Ae=>this.update(Ae)),this.dispatch=this.dispatch.bind(this),this._root=n.root||py(n.parent)||document,this.viewState=new Bx(n.state||Yd.create(n)),n.scrollTo&&n.scrollTo.is(D_)&&(this.viewState.scrollTarget=n.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(Sg).map(Ae=>new bd(Ae));for(let Ae of this.plugins)Ae.update(this);this.observer=new gM(this),this.inputState=new LC(this),this.inputState.ensureHandlers(this.plugins),this.docView=new fx(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((s=document.fonts)===null||s===void 0)&&s.ready&&document.fonts.ready.then(()=>this.requestMeasure())}dispatch(...n){let s=n.length==1&&n[0]instanceof Jm?n:n.length==1&&Array.isArray(n[0])?n[0]:[this.state.update(...n)];this.dispatchTransactions(s,this)}update(n){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let s=!1,c=!1,Ae,yt=this.state;for(let $d of n){if($d.startState!=yt)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");yt=$d.state}if(this.destroyed){this.viewState.state=yt;return}let wt=this.hasFocus,Wa=0,ja=null;n.some($d=>$d.annotation(Tx))?(this.inputState.notifiedFocused=wt,Wa=1):wt!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=wt,ja=Fx(yt,wt),ja||(Wa=1));let pd=this.observer.delayedAndroidKey,md=null;if(pd?(this.observer.clearDelayedAndroidKey(),md=this.observer.readChange(),(md&&!this.state.doc.eq(yt.doc)||!this.state.selection.eq(yt.selection))&&(md=null)):this.observer.clear(),yt.facet(Yd.phrases)!=this.state.facet(Yd.phrases))return this.setState(yt);Ae=Ey.create(this,yt,n),Ae.flags|=Wa;let vd=this.viewState.scrollTarget;try{this.updateState=2;for(let $d of n){if(vd&&(vd=vd.map($d.changes)),$d.scrollIntoView){let{main:kd}=$d.state.selection;vd=new qg(kd.empty?kd:Hd.cursor(kd.head,kd.head>kd.anchor?-1:1))}for(let kd of $d.effects)kd.is(D_)&&(vd=kd.value.clip(this.state))}this.viewState.update(Ae,vd),this.bidiCache=zy.update(this.bidiCache,Ae.changes),Ae.empty||(this.updatePlugins(Ae),this.inputState.update(Ae)),s=this.docView.update(Ae),this.state.facet(xO)!=this.styleModules&&this.mountStyles(),c=this.updateAttrs(),this.showAnnouncements(n),this.docView.updateSelection(s,n.some($d=>$d.isUserEvent("select.pointer")))}finally{this.updateState=0}if(Ae.startState.facet(Vy)!=Ae.state.facet(Vy)&&(this.viewState.mustMeasureContent=!0),(s||c||vd||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),s&&this.docViewUpdate(),!Ae.empty)for(let $d of this.state.facet(yO))try{$d(Ae)}catch(kd){T0(this.state,kd,"update listener")}(ja||md)&&Promise.resolve().then(()=>{ja&&this.state==ja.startState&&this.dispatch(ja),md&&!bx(this,md)&&pd.force&&dg(this.contentDOM,pd.key,pd.keyCode)})}setState(n){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=n;return}this.updateState=2;let s=this.hasFocus;try{for(let c of this.plugins)c.destroy(this);this.viewState=new Bx(n),this.plugins=n.facet(Sg).map(c=>new bd(c)),this.pluginMap.clear();for(let c of this.plugins)c.update(this);this.docView.destroy(),this.docView=new fx(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}s&&this.focus(),this.requestMeasure()}updatePlugins(n){let s=n.startState.facet(Sg),c=n.state.facet(Sg);if(s!=c){let Ae=[];for(let yt of c){let wt=s.indexOf(yt);if(wt<0)Ae.push(new bd(yt));else{let Wa=this.plugins[wt];Wa.mustUpdate=n,Ae.push(Wa)}}for(let yt of this.plugins)yt.mustUpdate!=n&&yt.destroy(this);this.plugins=Ae,this.pluginMap.clear()}else for(let Ae of this.plugins)Ae.mustUpdate=n;for(let Ae=0;Ae<this.plugins.length;Ae++)this.plugins[Ae].update(this);s!=c&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let n of this.plugins){let s=n.value;if(s&&s.docViewUpdate)try{s.docViewUpdate(this)}catch(c){T0(this.state,c,"doc view update listener")}}}measure(n=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,n&&this.observer.forceFlush();let s=null,c=this.scrollDOM,Ae=c.scrollTop*this.scaleY,{scrollAnchorPos:yt,scrollAnchorHeight:wt}=this.viewState;Math.abs(Ae-this.viewState.scrollTop)>1&&(wt=-1),this.viewState.scrollAnchorHeight=-1;try{for(let Wa=0;;Wa++){if(wt<0)if(dy(c))yt=-1,wt=this.viewState.heightMap.height;else{let kd=this.viewState.scrollAnchorAt(Ae);yt=kd.from,wt=kd.top}this.updateState=1;let ja=this.viewState.measure(this);if(!ja&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(Wa>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let pd=[];ja&4||([this.measureRequests,pd]=[pd,this.measureRequests]);let md=pd.map(kd=>{try{return kd.read(this)}catch(Zd){return T0(this.state,Zd),Yx}}),vd=Ey.create(this,this.state,[]),$d=!1;vd.flags|=ja,s?s.flags|=ja:s=vd,this.updateState=2,vd.empty||(this.updatePlugins(vd),this.inputState.update(vd),this.updateAttrs(),$d=this.docView.update(vd),$d&&this.docViewUpdate());for(let kd=0;kd<pd.length;kd++)if(md[kd]!=Yx)try{let Zd=pd[kd];Zd.write&&Zd.write(md[kd],this)}catch(Zd){T0(this.state,Zd)}if($d&&this.docView.updateSelection(!0),!vd.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,wt=-1;continue}else{let Zd=(yt<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(yt).top)-wt;if(Zd>1||Zd<-1){Ae=Ae+Zd,c.scrollTop=Ae/this.scaleY,wt=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(s&&!s.empty)for(let Wa of this.state.facet(yO))Wa(s)}get themeClasses(){return F2+" "+(this.state.facet(T2)?Vx:Ix)+" "+this.state.facet(Vy)}updateAttrs(){let n=Ux(this,Fd,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),s={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(mg)?"true":"false",class:"cm-content",style:`${Pm.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(s["aria-readonly"]="true"),Ux(this,Ld,s);let c=this.observer.ignore(()=>{let Ae=Zg(this.contentDOM,this.contentAttrs,s),yt=Zg(this.dom,this.editorAttrs,n);return Ae||yt});return this.editorAttrs=n,this.contentAttrs=s,c}showAnnouncements(n){let s=!0;for(let c of n)for(let Ae of c.effects)if(Ae.is(wm.announce)){s&&(this.announceDOM.textContent=""),s=!1;let yt=this.announceDOM.appendChild(document.createElement("div"));yt.textContent=Ae.value}}mountStyles(){this.styleModules=this.state.facet(xO);let n=this.state.facet(wm.cspNonce);vg.mount(this.root,this.styleModules.concat(dM).reverse(),n?{nonce:n}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(n){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),n){if(this.measureRequests.indexOf(n)>-1)return;if(n.key!=null){for(let s=0;s<this.measureRequests.length;s++)if(this.measureRequests[s].key===n.key){this.measureRequests[s]=n;return}}this.measureRequests.push(n)}}plugin(n){let s=this.pluginMap.get(n);return(s===void 0||s&&s.plugin!=n)&&this.pluginMap.set(n,s=this.plugins.find(c=>c.plugin==n)||null),s&&s.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(n){return this.readMeasured(),this.viewState.elementAtHeight(n)}lineBlockAtHeight(n){return this.readMeasured(),this.viewState.lineBlockAtHeight(n)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(n){return this.viewState.lineBlockAt(n)}get contentHeight(){return this.viewState.contentHeight}moveByChar(n,s,c){return C2(this,n,dx(this,n,s,c))}moveByGroup(n,s){return C2(this,n,dx(this,n,s,c=>kC(this,n.head,c)))}visualLineSide(n,s){let c=this.bidiSpans(n),Ae=this.textDirectionAt(n.from),yt=c[s?c.length-1:0];return Hd.cursor(yt.side(s,Ae)+n.from,yt.forward(!s,Ae)?1:-1)}moveToLineBoundary(n,s,c=!0){return wC(this,n,s,c)}moveVertically(n,s,c){return C2(this,n,EC(this,n,s,c))}domAtPos(n,s=1){return this.docView.domAtPos(n,s)}posAtDOM(n,s=0){return this.docView.posFromDOM(n,s)}posAtCoords(n,s=!0){this.readMeasured();let c=M2(this,n,s);return c&&c.pos}posAndSideAtCoords(n,s=!0){return this.readMeasured(),M2(this,n,s)}coordsAtPos(n,s=1){this.readMeasured();let c=this.docView.coordsAt(n,s);if(!c||c.left==c.right)return c;let Ae=this.state.doc.lineAt(n),yt=this.bidiSpans(Ae),wt=yt[Q0.find(yt,n-Ae.from,-1,s)];return w_(c,wt.dir==f0.LTR==s>0)}coordsForChar(n){return this.readMeasured(),this.docView.coordsForChar(n)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(n){return!this.state.facet(My)||n<this.viewport.from||n>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(n))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(n){if(n.length>yM)return vy(n.length);let s=this.textDirectionAt(n.from),c;for(let yt of this.bidiCache)if(yt.from==n.from&&yt.dir==s&&(yt.fresh||gO(yt.isolates,c=ax(this,n))))return yt.order;c||(c=ax(this,n));let Ae=g2(n.text,s,c);return this.bidiCache.push(new zy(n.from,n.to,s,c,!0,Ae)),Ae}get hasFocus(){var n;return(this.dom.ownerDocument.hasFocus()||Pm.safari&&((n=this.inputState)===null||n===void 0?void 0:n.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{fO(this.contentDOM),this.docView.updateSelection()})}setRoot(n){this._root!=n&&(this._root=n,this.observer.setWindow((n.nodeType==9?n:n.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let n of this.plugins)n.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(n,s={}){return D_.of(new qg(typeof n=="number"?Hd.cursor(n):n,s.y,s.x,s.yMargin,s.xMargin))}scrollSnapshot(){let{scrollTop:n,scrollLeft:s}=this.scrollDOM,c=this.viewState.scrollAnchorAt(n);return D_.of(new qg(Hd.cursor(c.from),"start","start",c.top-n,s,!0))}setTabFocusMode(n){n==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof n=="boolean"?this.inputState.tabFocusMode=n?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+n)}static domEventHandlers(n){return S0.define(()=>({}),{eventHandlers:n})}static domEventObservers(n){return S0.define(()=>({}),{eventObservers:n})}static theme(n,s){let c=vg.newName(),Ae=[Vy.of(c),xO.of(G2(`.${c}`,n))];return s&&s.dark&&Ae.push(T2.of(!0)),Ae}static baseTheme(n){return x0.lowest(xO.of(G2("."+F2,n,zx)))}static findFromDOM(n){var s;let c=n.querySelector(".cm-content"),Ae=c&&F0.get(c)||F0.get(n);return((s=Ae?.root)===null||s===void 0?void 0:s.view)||null}}wm.styleModule=xO,wm.inputHandler=Cy,wm.clipboardInputFilter=bO,wm.clipboardOutputFilter=vO,wm.scrollHandler=wy,wm.focusChangeEffect=Qg,wm.perLineTextDirection=My,wm.exceptionSink=E_,wm.updateListener=yO,wm.editable=mg,wm.mouseSelectionStyle=Sy,wm.dragMovesSelection=$y,wm.clickAddsSelectionRange=Ay,wm.decorations=em,wm.blockWrappers=Fm,wm.outerDecorations=O0,wm.atomicRanges=z0,wm.bidiIsolatedRanges=Bg,wm.scrollMargins=lx,wm.darkTheme=T2,wm.cspNonce=am.define({combine:p=>p.length?p[0]:""}),wm.contentAttributes=Ld,wm.editorAttributes=Fd,wm.lineWrapping=wm.contentAttributes.of({class:"cm-lineWrapping"}),wm.announce=xm.define();const yM=4096,Yx={};class zy{constructor(n,s,c,Ae,yt,wt){this.from=n,this.to=s,this.dir=c,this.isolates=Ae,this.fresh=yt,this.order=wt}static update(n,s){if(s.empty&&!n.some(yt=>yt.fresh))return n;let c=[],Ae=n.length?n[n.length-1].dir:f0.LTR;for(let yt=Math.max(0,n.length-10);yt<n.length;yt++){let wt=n[yt];wt.dir==Ae&&!s.touchesRange(wt.from,wt.to)&&c.push(new zy(s.mapPos(wt.from,1),s.mapPos(wt.to,-1),wt.dir,wt.isolates,!1,wt.order))}return c}}function Ux(p,n,s){for(let c=p.state.facet(n),Ae=c.length-1;Ae>=0;Ae--){let yt=c[Ae],wt=typeof yt=="function"?yt(p):yt;wt&&hO(wt,s)}return s}const bM=Pm.mac?"mac":Pm.windows?"win":Pm.linux?"linux":"key";function vM(p,n){const s=p.split(/-(?!$)/);let c=s[s.length-1];c=="Space"&&(c=" ");let Ae,yt,wt,Wa;for(let ja=0;ja<s.length-1;++ja){const pd=s[ja];if(/^(cmd|meta|m)$/i.test(pd))Wa=!0;else if(/^a(lt)?$/i.test(pd))Ae=!0;else if(/^(c|ctrl|control)$/i.test(pd))yt=!0;else if(/^s(hift)?$/i.test(pd))wt=!0;else if(/^mod$/i.test(pd))n=="mac"?Wa=!0:yt=!0;else throw new Error("Unrecognized modifier name: "+pd)}return Ae&&(c="Alt-"+c),yt&&(c="Ctrl-"+c),Wa&&(c="Meta-"+c),wt&&(c="Shift-"+c),c}function Wy(p,n,s){return n.altKey&&(p="Alt-"+p),n.ctrlKey&&(p="Ctrl-"+p),n.metaKey&&(p="Meta-"+p),s!==!1&&n.shiftKey&&(p="Shift-"+p),p}const xM=x0.default(wm.domEventHandlers({keydown(p,n){return Kx(Hx(n.state),p,n,"editor")}})),jy=am.define({enables:xM}),qx=new WeakMap;function Hx(p){let n=p.facet(jy),s=qx.get(n);return s||qx.set(n,s=SM(n.reduce((c,Ae)=>c.concat(Ae),[]))),s}function AM(p,n,s){return Kx(Hx(p.state),n,p,s)}let Kg=null;const $M=4e3;function SM(p,n=bM){let s=Object.create(null),c=Object.create(null),Ae=(wt,Wa)=>{let ja=c[wt];if(ja==null)c[wt]=Wa;else if(ja!=Wa)throw new Error("Key binding "+wt+" is used both as a regular binding and as a multi-stroke prefix")},yt=(wt,Wa,ja,pd,md)=>{var vd,$d;let kd=s[wt]||(s[wt]=Object.create(null)),Zd=Wa.split(/ (?!$)/).map(tm=>vM(tm,n));for(let tm=1;tm<Zd.length;tm++){let pm=Zd.slice(0,tm).join(" ");Ae(pm,!0),kd[pm]||(kd[pm]={preventDefault:!0,stopPropagation:!1,run:[fm=>{let Em=Kg={view:fm,prefix:pm,scope:wt};return setTimeout(()=>{Kg==Em&&(Kg=null)},$M),!0}]})}let Id=Zd.join(" ");Ae(Id,!1);let Ud=kd[Id]||(kd[Id]={preventDefault:!1,stopPropagation:!1,run:(($d=(vd=kd._any)===null||vd===void 0?void 0:vd.run)===null||$d===void 0?void 0:$d.slice())||[]});ja&&Ud.run.push(ja),pd&&(Ud.preventDefault=!0),md&&(Ud.stopPropagation=!0)};for(let wt of p){let Wa=wt.scope?wt.scope.split(" "):["editor"];if(wt.any)for(let pd of Wa){let md=s[pd]||(s[pd]=Object.create(null));md._any||(md._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:vd}=wt;for(let $d in md)md[$d].run.push(kd=>vd(kd,Z2))}let ja=wt[n]||wt.key;if(ja)for(let pd of Wa)yt(pd,ja,wt.run,wt.preventDefault,wt.stopPropagation),wt.shift&&yt(pd,"Shift-"+ja,wt.shift,wt.preventDefault,wt.stopPropagation)}return s}let Z2=null;function Kx(p,n,s,c){Z2=n;let Ae=l2(n),yt=qd(Ae,0),wt=im(yt)==Ae.length&&Ae!=" ",Wa="",ja=!1,pd=!1,md=!1;Kg&&Kg.view==s&&Kg.scope==c&&(Wa=Kg.prefix+" ",$x.indexOf(n.keyCode)<0&&(pd=!0,Kg=null));let vd=new Set,$d=Ud=>{if(Ud){for(let tm of Ud.run)if(!vd.has(tm)&&(vd.add(tm),tm(s)))return Ud.stopPropagation&&(md=!0),!0;Ud.preventDefault&&(Ud.stopPropagation&&(md=!0),pd=!0)}return!1},kd=p[c],Zd,Id;return kd&&($d(kd[Wa+Wy(Ae,n,!wt)])?ja=!0:wt&&(n.altKey||n.metaKey||n.ctrlKey)&&!(Pm.windows&&n.ctrlKey&&n.altKey)&&!(Pm.mac&&n.altKey&&!(n.ctrlKey||n.metaKey))&&(Zd=xg[n.keyCode])&&Zd!=Ae?($d(kd[Wa+Wy(Zd,n,!0)])||n.shiftKey&&(Id=l_[n.keyCode])!=Ae&&Id!=Zd&&$d(kd[Wa+Wy(Id,n,!1)]))&&(ja=!0):wt&&n.shiftKey&&$d(kd[Wa+Wy(Ae,n,!0)])&&(ja=!0),!ja&&$d(kd._any)&&(ja=!0)),pd&&(ja=!0),ja&&md&&n.stopPropagation(),Z2=null,ja}class CO{constructor(n,s,c,Ae,yt){this.className=n,this.left=s,this.top=c,this.width=Ae,this.height=yt}draw(){let n=document.createElement("div");return n.className=this.className,this.adjust(n),n}update(n,s){return s.className!=this.className?!1:(this.adjust(n),!0)}adjust(n){n.style.left=this.left+"px",n.style.top=this.top+"px",this.width!=null&&(n.style.width=this.width+"px"),n.style.height=this.height+"px"}eq(n){return this.left==n.left&&this.top==n.top&&this.width==n.width&&this.height==n.height&&this.className==n.className}static forRange(n,s,c){if(c.empty){let Ae=n.coordsAtPos(c.head,c.assoc||1);if(!Ae)return[];let yt=Jx(n);return[new CO(s,Ae.left-yt.left,Ae.top-yt.top,null,Ae.bottom-Ae.top)]}else return CM(n,s,c)}}function Jx(p){let n=p.scrollDOM.getBoundingClientRect();return{left:(p.textDirection==f0.LTR?n.left:n.right-p.scrollDOM.clientWidth*p.scaleX)-p.scrollDOM.scrollLeft*p.scaleX,top:n.top-p.scrollDOM.scrollTop*p.scaleY}}function eA(p,n,s,c){let Ae=p.coordsAtPos(n,s*2);if(!Ae)return c;let yt=p.dom.getBoundingClientRect(),wt=(Ae.top+Ae.bottom)/2,Wa=p.posAtCoords({x:yt.left+1,y:wt}),ja=p.posAtCoords({x:yt.right-1,y:wt});return Wa==null||ja==null?c:{from:Math.max(c.from,Math.min(Wa,ja)),to:Math.min(c.to,Math.max(Wa,ja))}}function CM(p,n,s){if(s.to<=p.viewport.from||s.from>=p.viewport.to)return[];let c=Math.max(s.from,p.viewport.from),Ae=Math.min(s.to,p.viewport.to),yt=p.textDirection==f0.LTR,wt=p.contentDOM,Wa=wt.getBoundingClientRect(),ja=Jx(p),pd=wt.querySelector(".cm-line"),md=pd&&window.getComputedStyle(pd),vd=Wa.left+(md?parseInt(md.paddingLeft)+Math.min(0,parseInt(md.textIndent)):0),$d=Wa.right-(md?parseInt(md.paddingRight):0),kd=S2(p,c,1),Zd=S2(p,Ae,-1),Id=kd.type==Am.Text?kd:null,Ud=Zd.type==Am.Text?Zd:null;if(Id&&(p.lineWrapping||kd.widgetLineBreaks)&&(Id=eA(p,c,1,Id)),Ud&&(p.lineWrapping||Zd.widgetLineBreaks)&&(Ud=eA(p,Ae,-1,Ud)),Id&&Ud&&Id.from==Ud.from&&Id.to==Ud.to)return pm(fm(s.from,s.to,Id));{let hm=Id?fm(s.from,null,Id):Em(kd,!1),$m=Ud?fm(null,s.to,Ud):Em(Zd,!0),bm=[];return(Id||kd).to<(Ud||Zd).from-(Id&&Ud?1:0)||kd.widgetLineBreaks>1&&hm.bottom+p.defaultLineHeight/2<$m.top?bm.push(tm(vd,hm.bottom,$d,$m.top)):hm.bottom<$m.top&&p.elementAtHeight((hm.bottom+$m.top)/2).type==Am.Text&&(hm.bottom=$m.top=(hm.bottom+$m.top)/2),pm(hm).concat(bm).concat(pm($m))}function tm(hm,$m,bm,qm){return new CO(n,hm-ja.left,$m-ja.top,bm-hm,qm-$m)}function pm({top:hm,bottom:$m,horizontal:bm}){let qm=[];for(let i0=0;i0<bm.length;i0+=2)qm.push(tm(bm[i0],hm,bm[i0+1],$m));return qm}function fm(hm,$m,bm){let qm=1e9,i0=-1e9,y0=[];function e0(u0,v0,K0,eg,Fg){let j0=p.coordsAtPos(u0,u0==bm.to?-2:2),cg=p.coordsAtPos(K0,K0==bm.from?2:-2);!j0||!cg||(qm=Math.min(j0.top,cg.top,qm),i0=Math.max(j0.bottom,cg.bottom,i0),Fg==f0.LTR?y0.push(yt&&v0?vd:j0.left,yt&&eg?$d:cg.right):y0.push(!yt&&eg?vd:cg.left,!yt&&v0?$d:j0.right))}let Bm=hm??bm.from,g0=$m??bm.to;for(let u0 of p.visibleRanges)if(u0.to>Bm&&u0.from<g0)for(let v0=Math.max(u0.from,Bm),K0=Math.min(u0.to,g0);;){let eg=p.state.doc.lineAt(v0);for(let Fg of p.bidiSpans(eg)){let j0=Fg.from+eg.from,cg=Fg.to+eg.from;if(j0>=K0)break;cg>v0&&e0(Math.max(j0,v0),hm==null&&j0<=Bm,Math.min(cg,K0),$m==null&&cg>=g0,Fg.dir)}if(v0=eg.to+1,v0>=K0)break}return y0.length==0&&e0(Bm,hm==null,g0,$m==null,p.textDirection),{top:qm,bottom:i0,horizontal:y0}}function Em(hm,$m){let bm=Wa.top+($m?hm.top:hm.bottom);return{top:bm,bottom:bm,horizontal:[]}}}function MM(p,n){return p.constructor==n.constructor&&p.eq(n)}class PM{constructor(n,s){this.view=n,this.layer=s,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=n.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),s.above&&this.dom.classList.add("cm-layer-above"),s.class&&this.dom.classList.add(s.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(n.state),n.requestMeasure(this.measureReq),s.mount&&s.mount(this.dom,n)}update(n){n.startState.facet(Yy)!=n.state.facet(Yy)&&this.setOrder(n.state),(this.layer.update(n,this.dom)||n.geometryChanged)&&(this.scale(),n.view.requestMeasure(this.measureReq))}docViewUpdate(n){this.layer.updateOnDocViewUpdate!==!1&&n.requestMeasure(this.measureReq)}setOrder(n){let s=0,c=n.facet(Yy);for(;s<c.length&&c[s]!=this.layer;)s++;this.dom.style.zIndex=String((this.layer.above?150:-1)-s)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:n,scaleY:s}=this.view;(n!=this.scaleX||s!=this.scaleY)&&(this.scaleX=n,this.scaleY=s,this.dom.style.transform=`scale(${1/n}, ${1/s})`)}draw(n){if(n.length!=this.drawn.length||n.some((s,c)=>!MM(s,this.drawn[c]))){let s=this.dom.firstChild,c=0;for(let Ae of n)Ae.update&&s&&Ae.constructor&&this.drawn[c].constructor&&Ae.update(s,this.drawn[c])?(s=s.nextSibling,c++):this.dom.insertBefore(Ae.draw(),s);for(;s;){let Ae=s.nextSibling;s.remove(),s=Ae}this.drawn=n,Pm.safari&&Pm.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const Yy=am.define();function tA(p){return[S0.define(n=>new PM(n,p)),Yy.of(p)]}const MO=am.define({combine(p){return Kd(p,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(n,s)=>Math.min(n,s),drawRangeCursor:(n,s)=>n||s})}});function wM(p={}){return[MO.of(p),kM,EM,DM,Py.of(!0)]}function iA(p){return p.startState.facet(MO)!=p.state.facet(MO)}const kM=tA({above:!0,markers(p){let{state:n}=p,s=n.facet(MO),c=[];for(let Ae of n.selection.ranges){let yt=Ae==n.selection.main;if(Ae.empty||s.drawRangeCursor){let wt=yt?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",Wa=Ae.empty?Ae:Hd.cursor(Ae.head,Ae.head>Ae.anchor?-1:1);for(let ja of CO.forRange(p,wt,Wa))c.push(ja)}}return c},update(p,n){p.transactions.some(c=>c.selection)&&(n.style.animationName=n.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let s=iA(p);return s&&nA(p.state,n),p.docChanged||p.selectionSet||s},mount(p,n){nA(n.state,p)},class:"cm-cursorLayer"});function nA(p,n){n.style.animationDuration=p.facet(MO).cursorBlinkRate+"ms"}const EM=tA({above:!1,markers(p){return p.state.selection.ranges.map(n=>n.empty?[]:CO.forRange(p,"cm-selectionBackground",n)).reduce((n,s)=>n.concat(s))},update(p,n){return p.docChanged||p.selectionSet||p.viewportChanged||iA(p)},class:"cm-selectionLayer"}),DM=x0.highest(wm.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),rA=xm.define({map(p,n){return p==null?null:n.mapPos(p)}}),PO=Vm.define({create(){return null},update(p,n){return p!=null&&(p=n.changes.mapPos(p)),n.effects.reduce((s,c)=>c.is(rA)?c.value:s,p)}}),TM=S0.fromClass(class{constructor(p){this.view=p,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(p){var n;let s=p.state.field(PO);s==null?this.cursor!=null&&((n=this.cursor)===null||n===void 0||n.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(p.startState.field(PO)!=s||p.docChanged||p.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:p}=this,n=p.state.field(PO),s=n!=null&&p.coordsAtPos(n);if(!s)return null;let c=p.scrollDOM.getBoundingClientRect();return{left:s.left-c.left+p.scrollDOM.scrollLeft*p.scaleX,top:s.top-c.top+p.scrollDOM.scrollTop*p.scaleY,height:s.bottom-s.top}}drawCursor(p){if(this.cursor){let{scaleX:n,scaleY:s}=this.view;p?(this.cursor.style.left=p.left/n+"px",this.cursor.style.top=p.top/s+"px",this.cursor.style.height=p.height/s+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(p){this.view.state.field(PO)!=p&&this.view.dispatch({effects:rA.of(p)})}},{eventObservers:{dragover(p){this.setDropPos(this.view.posAtCoords({x:p.clientX,y:p.clientY}))},dragleave(p){(p.target==this.view.contentDOM||!this.view.contentDOM.contains(p.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function FM(){return[PO,TM]}const N2=2e3;function GM(p,n,s){let c=Math.min(n.line,s.line),Ae=Math.max(n.line,s.line),yt=[];if(n.off>N2||s.off>N2||n.col<0||s.col<0){let wt=Math.min(n.off,s.off),Wa=Math.max(n.off,s.off);for(let ja=c;ja<=Ae;ja++){let pd=p.doc.line(ja);pd.length<=Wa&&yt.push(Hd.range(pd.from+wt,pd.to+Wa))}}else{let wt=Math.min(n.col,s.col),Wa=Math.max(n.col,s.col);for(let ja=c;ja<=Ae;ja++){let pd=p.doc.line(ja),md=iO(pd.text,wt,p.tabSize,!0);if(md<0)yt.push(Hd.cursor(pd.to));else{let vd=iO(pd.text,Wa,p.tabSize);yt.push(Hd.range(pd.from+md,pd.from+vd))}}}return yt}function RM(p,n){let s=p.coordsAtPos(p.viewport.from);return s?Math.round(Math.abs((s.left-n)/p.defaultCharacterWidth)):-1}function sA(p,n){let s=p.posAtCoords({x:n.clientX,y:n.clientY},!1),c=p.state.doc.lineAt(s),Ae=s-c.from,yt=Ae>N2?-1:Ae==c.length?RM(p,n.clientX):a_(c.text,p.state.tabSize,s-c.from);return{line:c.number,col:yt,off:Ae}}function ZM(p,n){let s=sA(p,n),c=p.state.selection;return s?{update(Ae){if(Ae.docChanged){let yt=Ae.changes.mapPos(Ae.startState.doc.line(s.line).from),wt=Ae.state.doc.lineAt(yt);s={line:wt.number,col:s.col,off:Math.min(s.off,wt.length)},c=c.map(Ae.changes)}},get(Ae,yt,wt){let Wa=sA(p,Ae);if(!Wa)return c;let ja=GM(p.state,s,Wa);return ja.length?wt?Hd.create(ja.concat(c.ranges)):Hd.create(ja):c}}:null}function NM(p){let n=p?.eventFilter||(s=>s.altKey&&s.button==0);return wm.mouseSelectionStyle.of((s,c)=>n(c)?ZM(s,c):null)}const LM={Alt:[18,p=>!!p.altKey],Control:[17,p=>!!p.ctrlKey],Shift:[16,p=>!!p.shiftKey],Meta:[91,p=>!!p.metaKey]},QM={style:"cursor: crosshair"};function BM(p={}){let[n,s]=LM[p.key||"Alt"],c=S0.fromClass(class{constructor(Ae){this.view=Ae,this.isDown=!1}set(Ae){this.isDown!=Ae&&(this.isDown=Ae,this.view.update([]))}},{eventObservers:{keydown(Ae){this.set(Ae.keyCode==n||s(Ae))},keyup(Ae){(Ae.keyCode==n||!s(Ae))&&this.set(!1)},mousemove(Ae){this.set(s(Ae))}}});return[c,wm.contentAttributes.of(Ae=>{var yt;return!((yt=Ae.plugin(c))===null||yt===void 0)&&yt.isDown?QM:null})]}const Uy="-10000px";class oA{constructor(n,s,c,Ae){this.facet=s,this.createTooltipView=c,this.removeTooltipView=Ae,this.input=n.state.facet(s),this.tooltips=this.input.filter(wt=>wt);let yt=null;this.tooltipViews=this.tooltips.map(wt=>yt=c(wt,yt))}update(n,s){var c;let Ae=n.state.facet(this.facet),yt=Ae.filter(ja=>ja);if(Ae===this.input){for(let ja of this.tooltipViews)ja.update&&ja.update(n);return!1}let wt=[],Wa=s?[]:null;for(let ja=0;ja<yt.length;ja++){let pd=yt[ja],md=-1;if(pd){for(let vd=0;vd<this.tooltips.length;vd++){let $d=this.tooltips[vd];$d&&$d.create==pd.create&&(md=vd)}if(md<0)wt[ja]=this.createTooltipView(pd,ja?wt[ja-1]:null),Wa&&(Wa[ja]=!!pd.above);else{let vd=wt[ja]=this.tooltipViews[md];Wa&&(Wa[ja]=s[md]),vd.update&&vd.update(n)}}}for(let ja of this.tooltipViews)wt.indexOf(ja)<0&&(this.removeTooltipView(ja),(c=ja.destroy)===null||c===void 0||c.call(ja));return s&&(Wa.forEach((ja,pd)=>s[pd]=ja),s.length=Wa.length),this.input=Ae,this.tooltips=yt,this.tooltipViews=wt,!0}}function XM(p){let n=p.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:n.clientHeight,right:n.clientWidth}}const Q2=am.define({combine:p=>{var n,s,c;return{position:Pm.ios?"absolute":((n=p.find(Ae=>Ae.position))===null||n===void 0?void 0:n.position)||"fixed",parent:((s=p.find(Ae=>Ae.parent))===null||s===void 0?void 0:s.parent)||null,tooltipSpace:((c=p.find(Ae=>Ae.tooltipSpace))===null||c===void 0?void 0:c.tooltipSpace)||XM}}}),aA=new WeakMap,B2=S0.fromClass(class{constructor(p){this.view=p,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let n=p.state.facet(Q2);this.position=n.position,this.parent=n.parent,this.classes=p.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new oA(p,X2,(s,c)=>this.createTooltip(s,c),s=>{this.resizeObserver&&this.resizeObserver.unobserve(s.dom),s.dom.remove()}),this.above=this.manager.tooltips.map(s=>!!s.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(s=>{Date.now()>this.lastTransaction-50&&s.length>0&&s[s.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),p.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let p of this.manager.tooltipViews)this.intersectionObserver.observe(p.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(p){p.transactions.length&&(this.lastTransaction=Date.now());let n=this.manager.update(p,this.above);n&&this.observeIntersection();let s=n||p.geometryChanged,c=p.state.facet(Q2);if(c.position!=this.position&&!this.madeAbsolute){this.position=c.position;for(let Ae of this.manager.tooltipViews)Ae.dom.style.position=this.position;s=!0}if(c.parent!=this.parent){this.parent&&this.container.remove(),this.parent=c.parent,this.createContainer();for(let Ae of this.manager.tooltipViews)this.container.appendChild(Ae.dom);s=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);s&&this.maybeMeasure()}createTooltip(p,n){let s=p.create(this.view),c=n?n.dom:null;if(s.dom.classList.add("cm-tooltip"),p.arrow&&!s.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let Ae=document.createElement("div");Ae.className="cm-tooltip-arrow",s.dom.appendChild(Ae)}return s.dom.style.position=this.position,s.dom.style.top=Uy,s.dom.style.left="0px",this.container.insertBefore(s.dom,c),s.mount&&s.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(s.dom),s}destroy(){var p,n,s;this.view.win.removeEventListener("resize",this.measureSoon);for(let c of this.manager.tooltipViews)c.dom.remove(),(p=c.destroy)===null||p===void 0||p.call(c);this.parent&&this.container.remove(),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),(s=this.intersectionObserver)===null||s===void 0||s.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let p=1,n=1,s=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:yt}=this.manager.tooltipViews[0];if(Pm.safari){let wt=yt.getBoundingClientRect();s=Math.abs(wt.top+1e4)>1||Math.abs(wt.left)>1}else s=!!yt.offsetParent&&yt.offsetParent!=this.container.ownerDocument.body}if(s||this.position=="absolute")if(this.parent){let yt=this.parent.getBoundingClientRect();yt.width&&yt.height&&(p=yt.width/this.parent.offsetWidth,n=yt.height/this.parent.offsetHeight)}else({scaleX:p,scaleY:n}=this.view.viewState);let c=this.view.scrollDOM.getBoundingClientRect(),Ae=b2(this.view);return{visible:{left:c.left+Ae.left,top:c.top+Ae.top,right:c.right-Ae.right,bottom:c.bottom-Ae.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((yt,wt)=>{let Wa=this.manager.tooltipViews[wt];return Wa.getCoords?Wa.getCoords(yt.pos):this.view.coordsAtPos(yt.pos)}),size:this.manager.tooltipViews.map(({dom:yt})=>yt.getBoundingClientRect()),space:this.view.state.facet(Q2).tooltipSpace(this.view),scaleX:p,scaleY:n,makeAbsolute:s}}writeMeasure(p){var n;if(p.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let Wa of this.manager.tooltipViews)Wa.dom.style.position="absolute"}let{visible:s,space:c,scaleX:Ae,scaleY:yt}=p,wt=[];for(let Wa=0;Wa<this.manager.tooltips.length;Wa++){let ja=this.manager.tooltips[Wa],pd=this.manager.tooltipViews[Wa],{dom:md}=pd,vd=p.pos[Wa],$d=p.size[Wa];if(!vd||ja.clip!==!1&&(vd.bottom<=Math.max(s.top,c.top)||vd.top>=Math.min(s.bottom,c.bottom)||vd.right<Math.max(s.left,c.left)-.1||vd.left>Math.min(s.right,c.right)+.1)){md.style.top=Uy;continue}let kd=ja.arrow?pd.dom.querySelector(".cm-tooltip-arrow"):null,Zd=kd?7:0,Id=$d.right-$d.left,Ud=(n=aA.get(pd))!==null&&n!==void 0?n:$d.bottom-$d.top,tm=pd.offset||VM,pm=this.view.textDirection==f0.LTR,fm=$d.width>c.right-c.left?pm?c.left:c.right-$d.width:pm?Math.max(c.left,Math.min(vd.left-(kd?14:0)+tm.x,c.right-Id)):Math.min(Math.max(c.left,vd.left-Id+(kd?14:0)-tm.x),c.right-Id),Em=this.above[Wa];!ja.strictSide&&(Em?vd.top-Ud-Zd-tm.y<c.top:vd.bottom+Ud+Zd+tm.y>c.bottom)&&Em==c.bottom-vd.bottom>vd.top-c.top&&(Em=this.above[Wa]=!Em);let hm=(Em?vd.top-c.top:c.bottom-vd.bottom)-Zd;if(hm<Ud&&pd.resize!==!1){if(hm<this.view.defaultLineHeight){md.style.top=Uy;continue}aA.set(pd,Ud),md.style.height=(Ud=hm)/yt+"px"}else md.style.height&&(md.style.height="");let $m=Em?vd.top-Ud-Zd-tm.y:vd.bottom+Zd+tm.y,bm=fm+Id;if(pd.overlap!==!0)for(let qm of wt)qm.left<bm&&qm.right>fm&&qm.top<$m+Ud&&qm.bottom>$m&&($m=Em?qm.top-Ud-2-Zd:qm.bottom+Zd+2);if(this.position=="absolute"?(md.style.top=($m-p.parent.top)/yt+"px",lA(md,(fm-p.parent.left)/Ae)):(md.style.top=$m/yt+"px",lA(md,fm/Ae)),kd){let qm=vd.left+(pm?tm.x:-tm.x)-(fm+14-7);kd.style.left=qm/Ae+"px"}pd.overlap!==!0&&wt.push({left:fm,top:$m,right:bm,bottom:$m+Ud}),md.classList.toggle("cm-tooltip-above",Em),md.classList.toggle("cm-tooltip-below",!Em),pd.positioned&&pd.positioned(p.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let p of this.manager.tooltipViews)p.dom.style.top=Uy}},{eventObservers:{scroll(){this.maybeMeasure()}}});function lA(p,n){let s=parseInt(p.style.left,10);(isNaN(s)||Math.abs(n-s)>1)&&(p.style.left=n+"px")}const IM=wm.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),VM={x:0,y:0},X2=am.define({enables:[B2,IM]}),qy=am.define({combine:p=>p.reduce((n,s)=>n.concat(s),[])});class Hy{static create(n){return new Hy(n)}constructor(n){this.view=n,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new oA(n,qy,(s,c)=>this.createHostedView(s,c),s=>s.dom.remove())}createHostedView(n,s){let c=n.create(this.view);return c.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(c.dom,s?s.dom.nextSibling:this.dom.firstChild),this.mounted&&c.mount&&c.mount(this.view),c}mount(n){for(let s of this.manager.tooltipViews)s.mount&&s.mount(n);this.mounted=!0}positioned(n){for(let s of this.manager.tooltipViews)s.positioned&&s.positioned(n)}update(n){this.manager.update(n)}destroy(){var n;for(let s of this.manager.tooltipViews)(n=s.destroy)===null||n===void 0||n.call(s)}passProp(n){let s;for(let c of this.manager.tooltipViews){let Ae=c[n];if(Ae!==void 0){if(s===void 0)s=Ae;else if(s!==Ae)return}}return s}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const zM=X2.compute([qy],p=>{let n=p.facet(qy);return n.length===0?null:{pos:Math.min(...n.map(s=>s.pos)),end:Math.max(...n.map(s=>{var c;return(c=s.end)!==null&&c!==void 0?c:s.pos})),create:Hy.create,above:n[0].above,arrow:n.some(s=>s.arrow)}});class WM{constructor(n,s,c,Ae,yt){this.view=n,this.source=s,this.field=c,this.setHover=Ae,this.hoverTime=yt,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:n.dom,time:0},this.checkHover=this.checkHover.bind(this),n.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),n.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let n=Date.now()-this.lastMove.time;n<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-n):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:n,lastMove:s}=this,c=n.docView.tile.nearest(s.target);if(!c)return;let Ae,yt=1;if(c.isWidget())Ae=c.posAtStart;else{if(Ae=n.posAtCoords(s),Ae==null)return;let Wa=n.coordsAtPos(Ae);if(!Wa||s.y<Wa.top||s.y>Wa.bottom||s.x<Wa.left-n.defaultCharacterWidth||s.x>Wa.right+n.defaultCharacterWidth)return;let ja=n.bidiSpans(n.state.doc.lineAt(Ae)).find(md=>md.from<=Ae&&md.to>=Ae),pd=ja&&ja.dir==f0.RTL?-1:1;yt=s.x<Wa.left?-pd:pd}let wt=this.source(n,Ae,yt);if(wt?.then){let Wa=this.pending={pos:Ae};wt.then(ja=>{this.pending==Wa&&(this.pending=null,ja&&!(Array.isArray(ja)&&!ja.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(ja)?ja:[ja])}))},ja=>T0(n.state,ja,"hover tooltip"))}else wt&&!(Array.isArray(wt)&&!wt.length)&&n.dispatch({effects:this.setHover.of(Array.isArray(wt)?wt:[wt])})}get tooltip(){let n=this.view.plugin(B2),s=n?n.manager.tooltips.findIndex(c=>c.create==Hy.create):-1;return s>-1?n.manager.tooltipViews[s]:null}mousemove(n){var s,c;this.lastMove={x:n.clientX,y:n.clientY,target:n.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:Ae,tooltip:yt}=this;if(Ae.length&&yt&&!jM(yt.dom,n)||this.pending){let{pos:wt}=Ae[0]||this.pending,Wa=(c=(s=Ae[0])===null||s===void 0?void 0:s.end)!==null&&c!==void 0?c:wt;(wt==Wa?this.view.posAtCoords(this.lastMove)!=wt:!YM(this.view,wt,Wa,n.clientX,n.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(n){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:s}=this;if(s.length){let{tooltip:c}=this;c&&c.dom.contains(n.relatedTarget)?this.watchTooltipLeave(c.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(n){let s=c=>{n.removeEventListener("mouseleave",s),this.active.length&&!this.view.dom.contains(c.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};n.addEventListener("mouseleave",s)}destroy(){clearTimeout(this.hoverTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Ky=4;function jM(p,n){let{left:s,right:c,top:Ae,bottom:yt}=p.getBoundingClientRect(),wt;if(wt=p.querySelector(".cm-tooltip-arrow")){let Wa=wt.getBoundingClientRect();Ae=Math.min(Wa.top,Ae),yt=Math.max(Wa.bottom,yt)}return n.clientX>=s-Ky&&n.clientX<=c+Ky&&n.clientY>=Ae-Ky&&n.clientY<=yt+Ky}function YM(p,n,s,c,Ae,yt){let wt=p.scrollDOM.getBoundingClientRect(),Wa=p.documentTop+p.documentPadding.top+p.contentHeight;if(wt.left>c||wt.right<c||wt.top>Ae||Math.min(wt.bottom,Wa)<Ae)return!1;let ja=p.posAtCoords({x:c,y:Ae},!1);return ja>=n&&ja<=s}function UM(p,n={}){let s=xm.define(),c=Vm.define({create(){return[]},update(Ae,yt){if(Ae.length&&(n.hideOnChange&&(yt.docChanged||yt.selection)?Ae=[]:n.hideOn&&(Ae=Ae.filter(wt=>!n.hideOn(yt,wt))),yt.docChanged)){let wt=[];for(let Wa of Ae){let ja=yt.changes.mapPos(Wa.pos,-1,mm.TrackDel);if(ja!=null){let pd=Object.assign(Object.create(null),Wa);pd.pos=ja,pd.end!=null&&(pd.end=yt.changes.mapPos(pd.end)),wt.push(pd)}}Ae=wt}for(let wt of yt.effects)wt.is(s)&&(Ae=wt.value),wt.is(qM)&&(Ae=[]);return Ae},provide:Ae=>qy.from(Ae)});return{active:c,extension:[c,S0.define(Ae=>new WM(Ae,p,c,s,n.hoverTime||300)),zM]}}function uA(p,n){let s=p.plugin(B2);if(!s)return null;let c=s.manager.tooltips.indexOf(n);return c<0?null:s.manager.tooltipViews[c]}const qM=xm.define(),cA=am.define({combine(p){let n,s;for(let c of p)n=n||c.topContainer,s=s||c.bottomContainer;return{topContainer:n,bottomContainer:s}}});function wO(p,n){let s=p.plugin(hA),c=s?s.specs.indexOf(n):-1;return c>-1?s.panels[c]:null}const hA=S0.fromClass(class{constructor(p){this.input=p.state.facet(kO),this.specs=this.input.filter(s=>s),this.panels=this.specs.map(s=>s(p));let n=p.state.facet(cA);this.top=new Jy(p,!0,n.topContainer),this.bottom=new Jy(p,!1,n.bottomContainer),this.top.sync(this.panels.filter(s=>s.top)),this.bottom.sync(this.panels.filter(s=>!s.top));for(let s of this.panels)s.dom.classList.add("cm-panel"),s.mount&&s.mount()}update(p){let n=p.state.facet(cA);this.top.container!=n.topContainer&&(this.top.sync([]),this.top=new Jy(p.view,!0,n.topContainer)),this.bottom.container!=n.bottomContainer&&(this.bottom.sync([]),this.bottom=new Jy(p.view,!1,n.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let s=p.state.facet(kO);if(s!=this.input){let c=s.filter(ja=>ja),Ae=[],yt=[],wt=[],Wa=[];for(let ja of c){let pd=this.specs.indexOf(ja),md;pd<0?(md=ja(p.view),Wa.push(md)):(md=this.panels[pd],md.update&&md.update(p)),Ae.push(md),(md.top?yt:wt).push(md)}this.specs=c,this.panels=Ae,this.top.sync(yt),this.bottom.sync(wt);for(let ja of Wa)ja.dom.classList.add("cm-panel"),ja.mount&&ja.mount()}else for(let c of this.panels)c.update&&c.update(p)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:p=>wm.scrollMargins.of(n=>{let s=n.plugin(p);return s&&{top:s.top.scrollMargin(),bottom:s.bottom.scrollMargin()}})});class Jy{constructor(n,s,c){this.view=n,this.top=s,this.container=c,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(n){for(let s of this.panels)s.destroy&&n.indexOf(s)<0&&s.destroy();this.panels=n,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let s=this.container||this.view.dom;s.insertBefore(this.dom,this.top?s.firstChild:null)}let n=this.dom.firstChild;for(let s of this.panels)if(s.dom.parentNode==this.dom){for(;n!=s.dom;)n=fA(n);n=n.nextSibling}else this.dom.insertBefore(s.dom,n);for(;n;)n=fA(n)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let n of this.classes.split(" "))n&&this.container.classList.remove(n);for(let n of(this.classes=this.view.themeClasses).split(" "))n&&this.container.classList.add(n)}}}function fA(p){let n=p.nextSibling;return p.remove(),n}const kO=am.define({enables:hA});class Xg extends rm{compare(n){return this==n||this.constructor==n.constructor&&this.eq(n)}eq(n){return!1}destroy(n){}}Xg.prototype.elementClass="",Xg.prototype.toDOM=void 0,Xg.prototype.mapMode=mm.TrackBefore,Xg.prototype.startSide=Xg.prototype.endSide=-1,Xg.prototype.point=!0;const eb=am.define(),HM=am.define(),KM={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>Qm.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},EO=am.define();function JM(p){return[dA(),EO.of({...KM,...p})]}const pA=am.define({combine:p=>p.some(n=>n)});function dA(p){return[eP]}const eP=S0.fromClass(class{constructor(p){this.view=p,this.domAfter=null,this.prevViewport=p.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=p.state.facet(EO).map(n=>new gA(p,n)),this.fixed=!p.state.facet(pA);for(let n of this.gutters)n.config.side=="after"?this.getDOMAfter().appendChild(n.dom):this.dom.appendChild(n.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),p.scrollDOM.insertBefore(this.dom,p.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(p){if(this.updateGutters(p)){let n=this.prevViewport,s=p.view.viewport,c=Math.min(n.to,s.to)-Math.max(n.from,s.from);this.syncGutters(c<(s.to-s.from)*.8)}if(p.geometryChanged){let n=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=n,this.domAfter&&(this.domAfter.style.minHeight=n)}this.view.state.facet(pA)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=p.view.viewport}syncGutters(p){let n=this.dom.nextSibling;p&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let s=Qm.iter(this.view.state.facet(eb),this.view.viewport.from),c=[],Ae=this.gutters.map(yt=>new tP(yt,this.view.viewport,-this.view.documentPadding.top));for(let yt of this.view.viewportLineBlocks)if(c.length&&(c=[]),Array.isArray(yt.type)){let wt=!0;for(let Wa of yt.type)if(Wa.type==Am.Text&&wt){I2(s,c,Wa.from);for(let ja of Ae)ja.line(this.view,Wa,c);wt=!1}else if(Wa.widget)for(let ja of Ae)ja.widget(this.view,Wa)}else if(yt.type==Am.Text){I2(s,c,yt.from);for(let wt of Ae)wt.line(this.view,yt,c)}else if(yt.widget)for(let wt of Ae)wt.widget(this.view,yt);for(let yt of Ae)yt.finish();p&&(this.view.scrollDOM.insertBefore(this.dom,n),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(p){let n=p.startState.facet(EO),s=p.state.facet(EO),c=p.docChanged||p.heightChanged||p.viewportChanged||!Qm.eq(p.startState.facet(eb),p.state.facet(eb),p.view.viewport.from,p.view.viewport.to);if(n==s)for(let Ae of this.gutters)Ae.update(p)&&(c=!0);else{c=!0;let Ae=[];for(let yt of s){let wt=n.indexOf(yt);wt<0?Ae.push(new gA(this.view,yt)):(this.gutters[wt].update(p),Ae.push(this.gutters[wt]))}for(let yt of this.gutters)yt.dom.remove(),Ae.indexOf(yt)<0&&yt.destroy();for(let yt of Ae)yt.config.side=="after"?this.getDOMAfter().appendChild(yt.dom):this.dom.appendChild(yt.dom);this.gutters=Ae}return c}destroy(){for(let p of this.gutters)p.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:p=>wm.scrollMargins.of(n=>{let s=n.plugin(p);if(!s||s.gutters.length==0||!s.fixed)return null;let c=s.dom.offsetWidth*n.scaleX,Ae=s.domAfter?s.domAfter.offsetWidth*n.scaleX:0;return n.textDirection==f0.LTR?{left:c,right:Ae}:{right:c,left:Ae}})});function mA(p){return Array.isArray(p)?p:[p]}function I2(p,n,s){for(;p.value&&p.from<=s;)p.from==s&&n.push(p.value),p.next()}class tP{constructor(n,s,c){this.gutter=n,this.height=c,this.i=0,this.cursor=Qm.iter(n.markers,s.from)}addElement(n,s,c){let{gutter:Ae}=this,yt=(s.top-this.height)/n.scaleY,wt=s.height/n.scaleY;if(this.i==Ae.elements.length){let Wa=new _A(n,wt,yt,c);Ae.elements.push(Wa),Ae.dom.appendChild(Wa.dom)}else Ae.elements[this.i].update(n,wt,yt,c);this.height=s.bottom,this.i++}line(n,s,c){let Ae=[];I2(this.cursor,Ae,s.from),c.length&&(Ae=Ae.concat(c));let yt=this.gutter.config.lineMarker(n,s,Ae);yt&&Ae.unshift(yt);let wt=this.gutter;Ae.length==0&&!wt.config.renderEmptyElements||this.addElement(n,s,Ae)}widget(n,s){let c=this.gutter.config.widgetMarker(n,s.widget,s),Ae=c?[c]:null;for(let yt of n.state.facet(HM)){let wt=yt(n,s.widget,s);wt&&(Ae||(Ae=[])).push(wt)}Ae&&this.addElement(n,s,Ae)}finish(){let n=this.gutter;for(;n.elements.length>this.i;){let s=n.elements.pop();n.dom.removeChild(s.dom),s.destroy()}}}class gA{constructor(n,s){this.view=n,this.config=s,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let c in s.domEventHandlers)this.dom.addEventListener(c,Ae=>{let yt=Ae.target,wt;if(yt!=this.dom&&this.dom.contains(yt)){for(;yt.parentNode!=this.dom;)yt=yt.parentNode;let ja=yt.getBoundingClientRect();wt=(ja.top+ja.bottom)/2}else wt=Ae.clientY;let Wa=n.lineBlockAtHeight(wt-n.documentTop);s.domEventHandlers[c](n,Wa,Ae)&&Ae.preventDefault()});this.markers=mA(s.markers(n)),s.initialSpacer&&(this.spacer=new _A(n,0,0,[s.initialSpacer(n)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(n){let s=this.markers;if(this.markers=mA(this.config.markers(n.view)),this.spacer&&this.config.updateSpacer){let Ae=this.config.updateSpacer(this.spacer.markers[0],n);Ae!=this.spacer.markers[0]&&this.spacer.update(n.view,0,0,[Ae])}let c=n.view.viewport;return!Qm.eq(this.markers,s,c.from,c.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(n):!1)}destroy(){for(let n of this.elements)n.destroy()}}class _A{constructor(n,s,c,Ae){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(n,s,c,Ae)}update(n,s,c,Ae){this.height!=s&&(this.height=s,this.dom.style.height=s+"px"),this.above!=c&&(this.dom.style.marginTop=(this.above=c)?c+"px":""),iP(this.markers,Ae)||this.setMarkers(n,Ae)}setMarkers(n,s){let c="cm-gutterElement",Ae=this.dom.firstChild;for(let yt=0,wt=0;;){let Wa=wt,ja=yt<s.length?s[yt++]:null,pd=!1;if(ja){let md=ja.elementClass;md&&(c+=" "+md);for(let vd=wt;vd<this.markers.length;vd++)if(this.markers[vd].compare(ja)){Wa=vd,pd=!0;break}}else Wa=this.markers.length;for(;wt<Wa;){let md=this.markers[wt++];if(md.toDOM){md.destroy(Ae);let vd=Ae.nextSibling;Ae.remove(),Ae=vd}}if(!ja)break;ja.toDOM&&(pd?Ae=Ae.nextSibling:this.dom.insertBefore(ja.toDOM(n),Ae)),pd&&wt++}this.dom.className=c,this.markers=s}destroy(){this.setMarkers(null,[])}}function iP(p,n){if(p.length!=n.length)return!1;for(let s=0;s<p.length;s++)if(!p[s].compare(n[s]))return!1;return!0}const nP=am.define(),rP=am.define(),Z_=am.define({combine(p){return Kd(p,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(n,s){let c=Object.assign({},n);for(let Ae in s){let yt=c[Ae],wt=s[Ae];c[Ae]=yt?(Wa,ja,pd)=>yt(Wa,ja,pd)||wt(Wa,ja,pd):wt}return c}})}});class V2 extends Xg{constructor(n){super(),this.number=n}eq(n){return this.number==n.number}toDOM(){return document.createTextNode(this.number)}}function z2(p,n){return p.state.facet(Z_).formatNumber(n,p.state)}const sP=EO.compute([Z_],p=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(n){return n.state.facet(nP)},lineMarker(n,s,c){return c.some(Ae=>Ae.toDOM)?null:new V2(z2(n,n.state.doc.lineAt(s.from).number))},widgetMarker:(n,s,c)=>{for(let Ae of n.state.facet(rP)){let yt=Ae(n,s,c);if(yt)return yt}return null},lineMarkerChange:n=>n.startState.facet(Z_)!=n.state.facet(Z_),initialSpacer(n){return new V2(z2(n,OA(n.state.doc.lines)))},updateSpacer(n,s){let c=z2(s.view,OA(s.view.state.doc.lines));return c==n.number?n:new V2(c)},domEventHandlers:p.facet(Z_).domEventHandlers,side:"before"}));function oP(p={}){return[Z_.of(p),dA(),sP]}function OA(p){let n=9;for(;n<p;)n=n*10+9;return n}const aP=new class extends Xg{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},lP=eb.compute(["selection"],p=>{let n=[],s=-1;for(let c of p.selection.ranges){let Ae=p.doc.lineAt(c.head).from;Ae>s&&(s=Ae,n.push(aP.range(Ae)))}return Qm.of(n)});function uP(){return lP}const yA=1024;let cP=0;class W2{constructor(n,s){this.from=n,this.to=s}}class Km{constructor(n={}){this.id=cP++,this.perNode=!!n.perNode,this.deserialize=n.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=n.combine||null}add(n){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof n!="function"&&(n=v1.match(n)),s=>{let c=n(s);return c===void 0?null:[this,c]}}}Km.closedBy=new Km({deserialize:p=>p.split(" ")}),Km.openedBy=new Km({deserialize:p=>p.split(" ")}),Km.group=new Km({deserialize:p=>p.split(" ")}),Km.isolate=new Km({deserialize:p=>{if(p&&p!="rtl"&&p!="ltr"&&p!="auto")throw new RangeError("Invalid value for isolate: "+p);return p||"auto"}}),Km.contextHash=new Km({perNode:!0}),Km.lookAhead=new Km({perNode:!0}),Km.mounted=new Km({perNode:!0});class tb{constructor(n,s,c){this.tree=n,this.overlay=s,this.parser=c}static get(n){return n&&n.props&&n.props[Km.mounted.id]}}const hP=Object.create(null);class v1{constructor(n,s,c,Ae=0){this.name=n,this.props=s,this.id=c,this.flags=Ae}static define(n){let s=n.props&&n.props.length?Object.create(null):hP,c=(n.top?1:0)|(n.skipped?2:0)|(n.error?4:0)|(n.name==null?8:0),Ae=new v1(n.name||"",s,n.id,c);if(n.props){for(let yt of n.props)if(Array.isArray(yt)||(yt=yt(Ae)),yt){if(yt[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");s[yt[0].id]=yt[1]}}return Ae}prop(n){return this.props[n.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(n){if(typeof n=="string"){if(this.name==n)return!0;let s=this.prop(Km.group);return s?s.indexOf(n)>-1:!1}return this.id==n}static match(n){let s=Object.create(null);for(let c in n)for(let Ae of c.split(" "))s[Ae]=n[c];return c=>{for(let Ae=c.prop(Km.group),yt=-1;yt<(Ae?Ae.length:0);yt++){let wt=s[yt<0?c.name:Ae[yt]];if(wt)return wt}}}}v1.none=new v1("",Object.create(null),0,8);class j2{constructor(n){this.types=n;for(let s=0;s<n.length;s++)if(n[s].id!=s)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...n){let s=[];for(let c of this.types){let Ae=null;for(let yt of n){let wt=yt(c);if(wt){Ae||(Ae=Object.assign({},c.props));let Wa=wt[1],ja=wt[0];ja.combine&&ja.id in Ae&&(Wa=ja.combine(Ae[ja.id],Wa)),Ae[ja.id]=Wa}}s.push(Ae?new v1(c.name,Ae,c.id,c.flags):c)}return new j2(s)}}const ib=new WeakMap,bA=new WeakMap;var G0;(function(p){p[p.ExcludeBuffers=1]="ExcludeBuffers",p[p.IncludeAnonymous=2]="IncludeAnonymous",p[p.IgnoreMounts=4]="IgnoreMounts",p[p.IgnoreOverlays=8]="IgnoreOverlays"})(G0||(G0={}));class M0{constructor(n,s,c,Ae,yt){if(this.type=n,this.children=s,this.positions=c,this.length=Ae,this.props=null,yt&&yt.length){this.props=Object.create(null);for(let[wt,Wa]of yt)this.props[typeof wt=="number"?wt:wt.id]=Wa}}toString(){let n=tb.get(this);if(n&&!n.overlay)return n.tree.toString();let s="";for(let c of this.children){let Ae=c.toString();Ae&&(s&&(s+=","),s+=Ae)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(s.length?"("+s+")":""):s}cursor(n=0){return new q2(this.topNode,n)}cursorAt(n,s=0,c=0){let Ae=ib.get(this)||this.topNode,yt=new q2(Ae);return yt.moveTo(n,s),ib.set(this,yt._tree),yt}get topNode(){return new D1(this,0,0,null)}resolve(n,s=0){let c=DO(ib.get(this)||this.topNode,n,s,!1);return ib.set(this,c),c}resolveInner(n,s=0){let c=DO(bA.get(this)||this.topNode,n,s,!0);return bA.set(this,c),c}resolveStack(n,s=0){return dP(this,n,s)}iterate(n){let{enter:s,leave:c,from:Ae=0,to:yt=this.length}=n,wt=n.mode||0,Wa=(wt&G0.IncludeAnonymous)>0;for(let ja=this.cursor(wt|G0.IncludeAnonymous);;){let pd=!1;if(ja.from<=yt&&ja.to>=Ae&&(!Wa&&ja.type.isAnonymous||s(ja)!==!1)){if(ja.firstChild())continue;pd=!0}for(;pd&&c&&(Wa||!ja.type.isAnonymous)&&c(ja),!ja.nextSibling();){if(!ja.parent())return;pd=!0}}}prop(n){return n.perNode?this.props?this.props[n.id]:void 0:this.type.prop(n)}get propValues(){let n=[];if(this.props)for(let s in this.props)n.push([+s,this.props[s]]);return n}balance(n={}){return this.children.length<=8?this:K2(v1.none,this.children,this.positions,0,this.children.length,0,this.length,(s,c,Ae)=>new M0(this.type,s,c,Ae,this.propValues),n.makeTree||((s,c,Ae)=>new M0(v1.none,s,c,Ae)))}static build(n){return mP(n)}}M0.empty=new M0(v1.none,[],[],0);class Y2{constructor(n,s){this.buffer=n,this.index=s}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new Y2(this.buffer,this.index)}}class Jg{constructor(n,s,c){this.buffer=n,this.length=s,this.set=c}get type(){return v1.none}toString(){let n=[];for(let s=0;s<this.buffer.length;)n.push(this.childString(s)),s=this.buffer[s+3];return n.join(",")}childString(n){let s=this.buffer[n],c=this.buffer[n+3],Ae=this.set.types[s],yt=Ae.name;if(/\W/.test(yt)&&!Ae.isError&&(yt=JSON.stringify(yt)),n+=4,c==n)return yt;let wt=[];for(;n<c;)wt.push(this.childString(n)),n=this.buffer[n+3];return yt+"("+wt.join(",")+")"}findChild(n,s,c,Ae,yt){let{buffer:wt}=this,Wa=-1;for(let ja=n;ja!=s&&!(vA(yt,Ae,wt[ja+1],wt[ja+2])&&(Wa=ja,c>0));ja=wt[ja+3]);return Wa}slice(n,s,c){let Ae=this.buffer,yt=new Uint16Array(s-n),wt=0;for(let Wa=n,ja=0;Wa<s;){yt[ja++]=Ae[Wa++],yt[ja++]=Ae[Wa++]-c;let pd=yt[ja++]=Ae[Wa++]-c;yt[ja++]=Ae[Wa++]-n,wt=Math.max(wt,pd)}return new Jg(yt,wt,this.set)}}function vA(p,n,s,c){switch(p){case-2:return s<n;case-1:return c>=n&&s<n;case 0:return s<n&&c>n;case 1:return s<=n&&c>n;case 2:return c>n;case 4:return!0}}function DO(p,n,s,c){for(var Ae;p.from==p.to||(s<1?p.from>=n:p.from>n)||(s>-1?p.to<=n:p.to<n);){let wt=!c&&p instanceof D1&&p.index<0?null:p.parent;if(!wt)return p;p=wt}let yt=c?0:G0.IgnoreOverlays;if(c)for(let wt=p,Wa=wt.parent;Wa;wt=Wa,Wa=wt.parent)wt instanceof D1&&wt.index<0&&((Ae=Wa.enter(n,s,yt))===null||Ae===void 0?void 0:Ae.from)!=wt.from&&(p=Wa);for(;;){let wt=p.enter(n,s,yt);if(!wt)return p;p=wt}}class xA{cursor(n=0){return new q2(this,n)}getChild(n,s=null,c=null){let Ae=AA(this,n,s,c);return Ae.length?Ae[0]:null}getChildren(n,s=null,c=null){return AA(this,n,s,c)}resolve(n,s=0){return DO(this,n,s,!1)}resolveInner(n,s=0){return DO(this,n,s,!0)}matchContext(n){return U2(this.parent,n)}enterUnfinishedNodesBefore(n){let s=this.childBefore(n),c=this;for(;s;){let Ae=s.lastChild;if(!Ae||Ae.to!=s.to)break;Ae.type.isError&&Ae.from==Ae.to?(c=s,s=Ae.prevSibling):s=Ae}return c}get node(){return this}get next(){return this.parent}}class D1 extends xA{constructor(n,s,c,Ae){super(),this._tree=n,this.from=s,this.index=c,this._parent=Ae}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(n,s,c,Ae,yt=0){for(let wt=this;;){for(let{children:Wa,positions:ja}=wt._tree,pd=s>0?Wa.length:-1;n!=pd;n+=s){let md=Wa[n],vd=ja[n]+wt.from;if(vA(Ae,c,vd,vd+md.length)){if(md instanceof Jg){if(yt&G0.ExcludeBuffers)continue;let $d=md.findChild(0,md.buffer.length,s,c-vd,Ae);if($d>-1)return new Mg(new fP(wt,md,n,vd),null,$d)}else if(yt&G0.IncludeAnonymous||!md.type.isAnonymous||H2(md)){let $d;if(!(yt&G0.IgnoreMounts)&&($d=tb.get(md))&&!$d.overlay)return new D1($d.tree,vd,n,wt);let kd=new D1(md,vd,n,wt);return yt&G0.IncludeAnonymous||!kd.type.isAnonymous?kd:kd.nextChild(s<0?md.children.length-1:0,s,c,Ae)}}}if(yt&G0.IncludeAnonymous||!wt.type.isAnonymous||(wt.index>=0?n=wt.index+s:n=s<0?-1:wt._parent._tree.children.length,wt=wt._parent,!wt))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(n){return this.nextChild(0,1,n,2)}childBefore(n){return this.nextChild(this._tree.children.length-1,-1,n,-2)}prop(n){return this._tree.prop(n)}enter(n,s,c=0){let Ae;if(!(c&G0.IgnoreOverlays)&&(Ae=tb.get(this._tree))&&Ae.overlay){let yt=n-this.from;for(let{from:wt,to:Wa}of Ae.overlay)if((s>0?wt<=yt:wt<yt)&&(s<0?Wa>=yt:Wa>yt))return new D1(Ae.tree,Ae.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,n,s,c)}nextSignificantParent(){let n=this;for(;n.type.isAnonymous&&n._parent;)n=n._parent;return n}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function AA(p,n,s,c){let Ae=p.cursor(),yt=[];if(!Ae.firstChild())return yt;if(s!=null){for(let wt=!1;!wt;)if(wt=Ae.type.is(s),!Ae.nextSibling())return yt}for(;;){if(c!=null&&Ae.type.is(c))return yt;if(Ae.type.is(n)&&yt.push(Ae.node),!Ae.nextSibling())return c==null?yt:[]}}function U2(p,n,s=n.length-1){for(let c=p;s>=0;c=c.parent){if(!c)return!1;if(!c.type.isAnonymous){if(n[s]&&n[s]!=c.name)return!1;s--}}return!0}class fP{constructor(n,s,c,Ae){this.parent=n,this.buffer=s,this.index=c,this.start=Ae}}class Mg extends xA{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(n,s,c){super(),this.context=n,this._parent=s,this.index=c,this.type=n.buffer.set.types[n.buffer.buffer[c]]}child(n,s,c){let{buffer:Ae}=this.context,yt=Ae.findChild(this.index+4,Ae.buffer[this.index+3],n,s-this.context.start,c);return yt<0?null:new Mg(this.context,this,yt)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(n){return this.child(1,n,2)}childBefore(n){return this.child(-1,n,-2)}prop(n){return this.type.prop(n)}enter(n,s,c=0){if(c&G0.ExcludeBuffers)return null;let{buffer:Ae}=this.context,yt=Ae.findChild(this.index+4,Ae.buffer[this.index+3],s>0?1:-1,n-this.context.start,s);return yt<0?null:new Mg(this.context,this,yt)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(n){return this._parent?null:this.context.parent.nextChild(this.context.index+n,n,0,4)}get nextSibling(){let{buffer:n}=this.context,s=n.buffer[this.index+3];return s<(this._parent?n.buffer[this._parent.index+3]:n.buffer.length)?new Mg(this.context,this._parent,s):this.externalSibling(1)}get prevSibling(){let{buffer:n}=this.context,s=this._parent?this._parent.index+4:0;return this.index==s?this.externalSibling(-1):new Mg(this.context,this._parent,n.findChild(s,this.index,-1,0,4))}get tree(){return null}toTree(){let n=[],s=[],{buffer:c}=this.context,Ae=this.index+4,yt=c.buffer[this.index+3];if(yt>Ae){let wt=c.buffer[this.index+1];n.push(c.slice(Ae,yt,wt)),s.push(0)}return new M0(this.type,n,s,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function $A(p){if(!p.length)return null;let n=0,s=p[0];for(let yt=1;yt<p.length;yt++){let wt=p[yt];(wt.from>s.from||wt.to<s.to)&&(s=wt,n=yt)}let c=s instanceof D1&&s.index<0?null:s.parent,Ae=p.slice();return c?Ae[n]=c:Ae.splice(n,1),new pP(Ae,s)}class pP{constructor(n,s){this.heads=n,this.node=s}get next(){return $A(this.heads)}}function dP(p,n,s){let c=p.resolveInner(n,s),Ae=null;for(let yt=c instanceof D1?c:c.context.parent;yt;yt=yt.parent)if(yt.index<0){let wt=yt.parent;(Ae||(Ae=[c])).push(wt.resolve(n,s)),yt=wt}else{let wt=tb.get(yt.tree);if(wt&&wt.overlay&&wt.overlay[0].from<=n&&wt.overlay[wt.overlay.length-1].to>=n){let Wa=new D1(wt.tree,wt.overlay[0].from+yt.from,-1,yt);(Ae||(Ae=[c])).push(DO(Wa,n,s,!1))}}return Ae?$A(Ae):c}class q2{get name(){return this.type.name}constructor(n,s=0){if(this.mode=s,this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,n instanceof D1)this.yieldNode(n);else{this._tree=n.context.parent,this.buffer=n.context;for(let c=n._parent;c;c=c._parent)this.stack.unshift(c.index);this.bufferNode=n,this.yieldBuf(n.index)}}yieldNode(n){return n?(this._tree=n,this.type=n.type,this.from=n.from,this.to=n.to,!0):!1}yieldBuf(n,s){this.index=n;let{start:c,buffer:Ae}=this.buffer;return this.type=s||Ae.set.types[Ae.buffer[n]],this.from=c+Ae.buffer[n+1],this.to=c+Ae.buffer[n+2],!0}yield(n){return n?n instanceof D1?(this.buffer=null,this.yieldNode(n)):(this.buffer=n.context,this.yieldBuf(n.index,n.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(n,s,c){if(!this.buffer)return this.yield(this._tree.nextChild(n<0?this._tree._tree.children.length-1:0,n,s,c,this.mode));let{buffer:Ae}=this.buffer,yt=Ae.findChild(this.index+4,Ae.buffer[this.index+3],n,s-this.buffer.start,c);return yt<0?!1:(this.stack.push(this.index),this.yieldBuf(yt))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(n){return this.enterChild(1,n,2)}childBefore(n){return this.enterChild(-1,n,-2)}enter(n,s,c=this.mode){return this.buffer?c&G0.ExcludeBuffers?!1:this.enterChild(1,n,s):this.yield(this._tree.enter(n,s,c))}parent(){if(!this.buffer)return this.yieldNode(this.mode&G0.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let n=this.mode&G0.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(n)}sibling(n){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+n,n,0,4,this.mode)):!1;let{buffer:s}=this.buffer,c=this.stack.length-1;if(n<0){let Ae=c<0?0:this.stack[c]+4;if(this.index!=Ae)return this.yieldBuf(s.findChild(Ae,this.index,-1,0,4))}else{let Ae=s.buffer[this.index+3];if(Ae<(c<0?s.buffer.length:s.buffer[this.stack[c]+3]))return this.yieldBuf(Ae)}return c<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+n,n,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(n){let s,c,{buffer:Ae}=this;if(Ae){if(n>0){if(this.index<Ae.buffer.buffer.length)return!1}else for(let yt=0;yt<this.index;yt++)if(Ae.buffer.buffer[yt+3]<this.index)return!1;({index:s,parent:c}=Ae)}else({index:s,_parent:c}=this._tree);for(;c;{index:s,_parent:c}=c)if(s>-1)for(let yt=s+n,wt=n<0?-1:c._tree.children.length;yt!=wt;yt+=n){let Wa=c._tree.children[yt];if(this.mode&G0.IncludeAnonymous||Wa instanceof Jg||!Wa.type.isAnonymous||H2(Wa))return!1}return!0}move(n,s){if(s&&this.enterChild(n,0,4))return!0;for(;;){if(this.sibling(n))return!0;if(this.atLastNode(n)||!this.parent())return!1}}next(n=!0){return this.move(1,n)}prev(n=!0){return this.move(-1,n)}moveTo(n,s=0){for(;(this.from==this.to||(s<1?this.from>=n:this.from>n)||(s>-1?this.to<=n:this.to<n))&&this.parent(););for(;this.enterChild(1,n,s););return this}get node(){if(!this.buffer)return this._tree;let n=this.bufferNode,s=null,c=0;if(n&&n.context==this.buffer)e:for(let Ae=this.index,yt=this.stack.length;yt>=0;){for(let wt=n;wt;wt=wt._parent)if(wt.index==Ae){if(Ae==this.index)return wt;s=wt,c=yt+1;break e}Ae=this.stack[--yt]}for(let Ae=c;Ae<this.stack.length;Ae++)s=new Mg(this.buffer,s,this.stack[Ae]);return this.bufferNode=new Mg(this.buffer,s,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(n,s){for(let c=0;;){let Ae=!1;if(this.type.isAnonymous||n(this)!==!1){if(this.firstChild()){c++;continue}this.type.isAnonymous||(Ae=!0)}for(;;){if(Ae&&s&&s(this),Ae=this.type.isAnonymous,!c)return;if(this.nextSibling())break;this.parent(),c--,Ae=!0}}}matchContext(n){if(!this.buffer)return U2(this.node.parent,n);let{buffer:s}=this.buffer,{types:c}=s.set;for(let Ae=n.length-1,yt=this.stack.length-1;Ae>=0;yt--){if(yt<0)return U2(this._tree,n,Ae);let wt=c[s.buffer[this.stack[yt]]];if(!wt.isAnonymous){if(n[Ae]&&n[Ae]!=wt.name)return!1;Ae--}}return!0}}function H2(p){return p.children.some(n=>n instanceof Jg||!n.type.isAnonymous||H2(n))}function mP(p){var n;let{buffer:s,nodeSet:c,maxBufferLength:Ae=yA,reused:yt=[],minRepeatType:wt=c.types.length}=p,Wa=Array.isArray(s)?new Y2(s,s.length):s,ja=c.types,pd=0,md=0;function vd(hm,$m,bm,qm,i0,y0){let{id:e0,start:Bm,end:g0,size:u0}=Wa,v0=md,K0=pd;if(u0<0)if(Wa.next(),u0==-1){let Vg=yt[e0];bm.push(Vg),qm.push(Bm-hm);return}else if(u0==-3){pd=e0;return}else if(u0==-4){md=e0;return}else throw new RangeError(`Unrecognized record size: ${u0}`);let eg=ja[e0],Fg,j0,cg=Bm-hm;if(g0-Bm<=Ae&&(j0=Ud(Wa.pos-$m,i0))){let Vg=new Uint16Array(j0.size-j0.skip),hg=Wa.pos-j0.size,Gg=Vg.length;for(;Wa.pos>hg;)Gg=tm(j0.start,Vg,Gg);Fg=new Jg(Vg,g0-j0.start,c),cg=j0.start-hm}else{let Vg=Wa.pos-u0;Wa.next();let hg=[],Gg=[],A_=e0>=wt?e0:-1,eO=0,r2=g0;for(;Wa.pos>Vg;)A_>=0&&Wa.id==A_&&Wa.size>=0?(Wa.end<=r2-Ae&&(Zd(hg,Gg,Bm,eO,Wa.end,r2,A_,v0,K0),eO=hg.length,r2=Wa.end),Wa.next()):y0>2500?$d(Bm,Vg,hg,Gg):vd(Bm,Vg,hg,Gg,A_,y0+1);if(A_>=0&&eO>0&&eO<hg.length&&Zd(hg,Gg,Bm,eO,Bm,r2,A_,v0,K0),hg.reverse(),Gg.reverse(),A_>-1&&eO>0){let rC=kd(eg,K0);Fg=K2(eg,hg,Gg,0,hg.length,0,g0-Bm,rC,rC)}else Fg=Id(eg,hg,Gg,g0-Bm,v0-g0,K0)}bm.push(Fg),qm.push(cg)}function $d(hm,$m,bm,qm){let i0=[],y0=0,e0=-1;for(;Wa.pos>$m;){let{id:Bm,start:g0,end:u0,size:v0}=Wa;if(v0>4)Wa.next();else{if(e0>-1&&g0<e0)break;e0<0&&(e0=u0-Ae),i0.push(Bm,g0,u0),y0++,Wa.next()}}if(y0){let Bm=new Uint16Array(y0*4),g0=i0[i0.length-2];for(let u0=i0.length-3,v0=0;u0>=0;u0-=3)Bm[v0++]=i0[u0],Bm[v0++]=i0[u0+1]-g0,Bm[v0++]=i0[u0+2]-g0,Bm[v0++]=v0;bm.push(new Jg(Bm,i0[2]-g0,c)),qm.push(g0-hm)}}function kd(hm,$m){return(bm,qm,i0)=>{let y0=0,e0=bm.length-1,Bm,g0;if(e0>=0&&(Bm=bm[e0])instanceof M0){if(!e0&&Bm.type==hm&&Bm.length==i0)return Bm;(g0=Bm.prop(Km.lookAhead))&&(y0=qm[e0]+Bm.length+g0)}return Id(hm,bm,qm,i0,y0,$m)}}function Zd(hm,$m,bm,qm,i0,y0,e0,Bm,g0){let u0=[],v0=[];for(;hm.length>qm;)u0.push(hm.pop()),v0.push($m.pop()+bm-i0);hm.push(Id(c.types[e0],u0,v0,y0-i0,Bm-y0,g0)),$m.push(i0-bm)}function Id(hm,$m,bm,qm,i0,y0,e0){if(y0){let Bm=[Km.contextHash,y0];e0=e0?[Bm].concat(e0):[Bm]}if(i0>25){let Bm=[Km.lookAhead,i0];e0=e0?[Bm].concat(e0):[Bm]}return new M0(hm,$m,bm,qm,e0)}function Ud(hm,$m){let bm=Wa.fork(),qm=0,i0=0,y0=0,e0=bm.end-Ae,Bm={size:0,start:0,skip:0};e:for(let g0=bm.pos-hm;bm.pos>g0;){let u0=bm.size;if(bm.id==$m&&u0>=0){Bm.size=qm,Bm.start=i0,Bm.skip=y0,y0+=4,qm+=4,bm.next();continue}let v0=bm.pos-u0;if(u0<0||v0<g0||bm.start<e0)break;let K0=bm.id>=wt?4:0,eg=bm.start;for(bm.next();bm.pos>v0;){if(bm.size<0)if(bm.size==-3||bm.size==-4)K0+=4;else break e;else bm.id>=wt&&(K0+=4);bm.next()}i0=eg,qm+=u0,y0+=K0}return($m<0||qm==hm)&&(Bm.size=qm,Bm.start=i0,Bm.skip=y0),Bm.size>4?Bm:void 0}function tm(hm,$m,bm){let{id:qm,start:i0,end:y0,size:e0}=Wa;if(Wa.next(),e0>=0&&qm<wt){let Bm=bm;if(e0>4){let g0=Wa.pos-(e0-4);for(;Wa.pos>g0;)bm=tm(hm,$m,bm)}$m[--bm]=Bm,$m[--bm]=y0-hm,$m[--bm]=i0-hm,$m[--bm]=qm}else e0==-3?pd=qm:e0==-4&&(md=qm);return bm}let pm=[],fm=[];for(;Wa.pos>0;)vd(p.start||0,p.bufferStart||0,pm,fm,-1,0);let Em=(n=p.length)!==null&&n!==void 0?n:pm.length?fm[0]+pm[0].length:0;return new M0(ja[p.topID],pm.reverse(),fm.reverse(),Em)}const SA=new WeakMap;function nb(p,n){if(!p.isAnonymous||n instanceof Jg||n.type!=p)return 1;let s=SA.get(n);if(s==null){s=1;for(let c of n.children){if(c.type!=p||!(c instanceof M0)){s=1;break}s+=nb(p,c)}SA.set(n,s)}return s}function K2(p,n,s,c,Ae,yt,wt,Wa,ja){let pd=0;for(let Zd=c;Zd<Ae;Zd++)pd+=nb(p,n[Zd]);let md=Math.ceil(pd*1.5/8),vd=[],$d=[];function kd(Zd,Id,Ud,tm,pm){for(let fm=Ud;fm<tm;){let Em=fm,hm=Id[fm],$m=nb(p,Zd[fm]);for(fm++;fm<tm;fm++){let bm=nb(p,Zd[fm]);if($m+bm>=md)break;$m+=bm}if(fm==Em+1){if($m>md){let bm=Zd[Em];kd(bm.children,bm.positions,0,bm.children.length,Id[Em]+pm);continue}vd.push(Zd[Em])}else{let bm=Id[fm-1]+Zd[fm-1].length-hm;vd.push(K2(p,Zd,Id,Em,fm,hm,bm,null,ja))}$d.push(hm+pm-yt)}}return kd(n,s,c,Ae,0),(Wa||ja)(vd,$d,wt)}class gP{constructor(){this.map=new WeakMap}setBuffer(n,s,c){let Ae=this.map.get(n);Ae||this.map.set(n,Ae=new Map),Ae.set(s,c)}getBuffer(n,s){let c=this.map.get(n);return c&&c.get(s)}set(n,s){n instanceof Mg?this.setBuffer(n.context.buffer,n.index,s):n instanceof D1&&this.map.set(n.tree,s)}get(n){return n instanceof Mg?this.getBuffer(n.context.buffer,n.index):n instanceof D1?this.map.get(n.tree):void 0}cursorSet(n,s){n.buffer?this.setBuffer(n.buffer.buffer,n.index,s):this.map.set(n.tree,s)}cursorGet(n){return n.buffer?this.getBuffer(n.buffer.buffer,n.index):this.map.get(n.tree)}}class d_{constructor(n,s,c,Ae,yt=!1,wt=!1){this.from=n,this.to=s,this.tree=c,this.offset=Ae,this.open=(yt?1:0)|(wt?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(n,s=[],c=!1){let Ae=[new d_(0,n.length,n,0,!1,c)];for(let yt of s)yt.to>n.length&&Ae.push(yt);return Ae}static applyChanges(n,s,c=128){if(!s.length)return n;let Ae=[],yt=1,wt=n.length?n[0]:null;for(let Wa=0,ja=0,pd=0;;Wa++){let md=Wa<s.length?s[Wa]:null,vd=md?md.fromA:1e9;if(vd-ja>=c)for(;wt&&wt.from<vd;){let $d=wt;if(ja>=$d.from||vd<=$d.to||pd){let kd=Math.max($d.from,ja)-pd,Zd=Math.min($d.to,vd)-pd;$d=kd>=Zd?null:new d_(kd,Zd,$d.tree,$d.offset+pd,Wa>0,!!md)}if($d&&Ae.push($d),wt.to>vd)break;wt=yt<n.length?n[yt++]:null}if(!md)break;ja=md.toA,pd=md.toA-md.toB}return Ae}}class CA{startParse(n,s,c){return typeof n=="string"&&(n=new _P(n)),c=c?c.length?c.map(Ae=>new W2(Ae.from,Ae.to)):[new W2(0,0)]:[new W2(0,n.length)],this.createParse(n,s||[],c)}parse(n,s,c){let Ae=this.startParse(n,s,c);for(;;){let yt=Ae.advance();if(yt)return yt}}}class _P{constructor(n){this.string=n}get length(){return this.string.length}chunk(n){return this.string.slice(n)}get lineChunks(){return!1}read(n,s){return this.string.slice(n,s)}}new Km({perNode:!0});let OP=0;class og{constructor(n,s,c,Ae){this.name=n,this.set=s,this.base=c,this.modified=Ae,this.id=OP++}toString(){let{name:n}=this;for(let s of this.modified)s.name&&(n=`${s.name}(${n})`);return n}static define(n,s){let c=typeof n=="string"?n:"?";if(n instanceof og&&(s=n),s?.base)throw new Error("Can not derive from a modified tag");let Ae=new og(c,[],null,[]);if(Ae.set.push(Ae),s)for(let yt of s.set)Ae.set.push(yt);return Ae}static defineModifier(n){let s=new rb(n);return c=>c.modified.indexOf(s)>-1?c:rb.get(c.base||c,c.modified.concat(s).sort((Ae,yt)=>Ae.id-yt.id))}}let yP=0;class rb{constructor(n){this.name=n,this.instances=[],this.id=yP++}static get(n,s){if(!s.length)return n;let c=s[0].instances.find(Wa=>Wa.base==n&&bP(s,Wa.modified));if(c)return c;let Ae=[],yt=new og(n.name,Ae,n,s);for(let Wa of s)Wa.instances.push(yt);let wt=vP(s);for(let Wa of n.set)if(!Wa.modified.length)for(let ja of wt)Ae.push(rb.get(Wa,ja));return yt}}function bP(p,n){return p.length==n.length&&p.every((s,c)=>s==n[c])}function vP(p){let n=[[]];for(let s=0;s<p.length;s++)for(let c=0,Ae=n.length;c<Ae;c++)n.push(n[c].concat(p[s]));return n.sort((s,c)=>c.length-s.length)}function MA(p){let n=Object.create(null);for(let s in p){let c=p[s];Array.isArray(c)||(c=[c]);for(let Ae of s.split(" "))if(Ae){let yt=[],wt=2,Wa=Ae;for(let vd=0;;){if(Wa=="..."&&vd>0&&vd+3==Ae.length){wt=1;break}let $d=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(Wa);if(!$d)throw new RangeError("Invalid path: "+Ae);if(yt.push($d[0]=="*"?"":$d[0][0]=='"'?JSON.parse($d[0]):$d[0]),vd+=$d[0].length,vd==Ae.length)break;let kd=Ae[vd++];if(vd==Ae.length&&kd=="!"){wt=0;break}if(kd!="/")throw new RangeError("Invalid path: "+Ae);Wa=Ae.slice(vd)}let ja=yt.length-1,pd=yt[ja];if(!pd)throw new RangeError("Invalid path: "+Ae);let md=new TO(c,wt,ja>0?yt.slice(0,ja):null);n[pd]=md.sort(n[pd])}}return PA.add(n)}const PA=new Km({combine(p,n){let s,c,Ae;for(;p||n;){if(!p||n&&p.depth>=n.depth?(Ae=n,n=n.next):(Ae=p,p=p.next),s&&s.mode==Ae.mode&&!Ae.context&&!s.context)continue;let yt=new TO(Ae.tags,Ae.mode,Ae.context);s?s.next=yt:c=yt,s=yt}return c}});class TO{constructor(n,s,c,Ae){this.tags=n,this.mode=s,this.context=c,this.next=Ae}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(n){return!n||n.depth<this.depth?(this.next=n,this):(n.next=this.sort(n.next),n)}get depth(){return this.context?this.context.length:0}}TO.empty=new TO([],2,null);function wA(p,n){let s=Object.create(null);for(let yt of p)if(!Array.isArray(yt.tag))s[yt.tag.id]=yt.class;else for(let wt of yt.tag)s[wt.id]=yt.class;let{scope:c,all:Ae=null}=n||{};return{style:yt=>{let wt=Ae;for(let Wa of yt)for(let ja of Wa.set){let pd=s[ja.id];if(pd){wt=wt?wt+" "+pd:pd;break}}return wt},scope:c}}function xP(p,n){let s=null;for(let c of p){let Ae=c.style(n);Ae&&(s=s?s+" "+Ae:Ae)}return s}function AP(p,n,s,c=0,Ae=p.length){let yt=new $P(c,Array.isArray(n)?n:[n],s);yt.highlightRange(p.cursor(),c,Ae,"",yt.highlighters),yt.flush(Ae)}class $P{constructor(n,s,c){this.at=n,this.highlighters=s,this.span=c,this.class=""}startSpan(n,s){s!=this.class&&(this.flush(n),n>this.at&&(this.at=n),this.class=s)}flush(n){n>this.at&&this.class&&this.span(this.at,n,this.class)}highlightRange(n,s,c,Ae,yt){let{type:wt,from:Wa,to:ja}=n;if(Wa>=c||ja<=s)return;wt.isTop&&(yt=this.highlighters.filter(kd=>!kd.scope||kd.scope(wt)));let pd=Ae,md=SP(n)||TO.empty,vd=xP(yt,md.tags);if(vd&&(pd&&(pd+=" "),pd+=vd,md.mode==1&&(Ae+=(Ae?" ":"")+vd)),this.startSpan(Math.max(s,Wa),pd),md.opaque)return;let $d=n.tree&&n.tree.prop(Km.mounted);if($d&&$d.overlay){let kd=n.node.enter($d.overlay[0].from+Wa,1),Zd=this.highlighters.filter(Ud=>!Ud.scope||Ud.scope($d.tree.type)),Id=n.firstChild();for(let Ud=0,tm=Wa;;Ud++){let pm=Ud<$d.overlay.length?$d.overlay[Ud]:null,fm=pm?pm.from+Wa:ja,Em=Math.max(s,tm),hm=Math.min(c,fm);if(Em<hm&&Id)for(;n.from<hm&&(this.highlightRange(n,Em,hm,Ae,yt),this.startSpan(Math.min(hm,n.to),pd),!(n.to>=fm||!n.nextSibling())););if(!pm||fm>c)break;tm=pm.to+Wa,tm>s&&(this.highlightRange(kd.cursor(),Math.max(s,pm.from+Wa),Math.min(c,tm),"",Zd),this.startSpan(Math.min(c,tm),pd))}Id&&n.parent()}else if(n.firstChild()){$d&&(Ae="");do if(!(n.to<=s)){if(n.from>=c)break;this.highlightRange(n,s,c,Ae,yt),this.startSpan(Math.min(c,n.to),pd)}while(n.nextSibling());n.parent()}}}function SP(p){let n=p.type.prop(PA);for(;n&&n.context&&!p.matchContext(n.context);)n=n.next;return n||null}const ym=og.define,sb=ym(),e_=ym(),kA=ym(e_),EA=ym(e_),t_=ym(),ob=ym(t_),J2=ym(t_),Pg=ym(),m_=ym(Pg),wg=ym(),kg=ym(),ev=ym(),FO=ym(ev),ab=ym(),jd={comment:sb,lineComment:ym(sb),blockComment:ym(sb),docComment:ym(sb),name:e_,variableName:ym(e_),typeName:kA,tagName:ym(kA),propertyName:EA,attributeName:ym(EA),className:ym(e_),labelName:ym(e_),namespace:ym(e_),macroName:ym(e_),literal:t_,string:ob,docString:ym(ob),character:ym(ob),attributeValue:ym(ob),number:J2,integer:ym(J2),float:ym(J2),bool:ym(t_),regexp:ym(t_),escape:ym(t_),color:ym(t_),url:ym(t_),keyword:wg,self:ym(wg),null:ym(wg),atom:ym(wg),unit:ym(wg),modifier:ym(wg),operatorKeyword:ym(wg),controlKeyword:ym(wg),definitionKeyword:ym(wg),moduleKeyword:ym(wg),operator:kg,derefOperator:ym(kg),arithmeticOperator:ym(kg),logicOperator:ym(kg),bitwiseOperator:ym(kg),compareOperator:ym(kg),updateOperator:ym(kg),definitionOperator:ym(kg),typeOperator:ym(kg),controlOperator:ym(kg),punctuation:ev,separator:ym(ev),bracket:FO,angleBracket:ym(FO),squareBracket:ym(FO),paren:ym(FO),brace:ym(FO),content:Pg,heading:m_,heading1:ym(m_),heading2:ym(m_),heading3:ym(m_),heading4:ym(m_),heading5:ym(m_),heading6:ym(m_),contentSeparator:ym(Pg),list:ym(Pg),quote:ym(Pg),emphasis:ym(Pg),strong:ym(Pg),link:ym(Pg),monospace:ym(Pg),strikethrough:ym(Pg),inserted:ym(),deleted:ym(),changed:ym(),invalid:ym(),meta:ab,documentMeta:ym(ab),annotation:ym(ab),processingInstruction:ym(ab),definition:og.defineModifier("definition"),constant:og.defineModifier("constant"),function:og.defineModifier("function"),standard:og.defineModifier("standard"),local:og.defineModifier("local"),special:og.defineModifier("special")};for(let p in jd){let n=jd[p];n instanceof og&&(n.name=p)}wA([{tag:jd.link,class:"tok-link"},{tag:jd.heading,class:"tok-heading"},{tag:jd.emphasis,class:"tok-emphasis"},{tag:jd.strong,class:"tok-strong"},{tag:jd.keyword,class:"tok-keyword"},{tag:jd.atom,class:"tok-atom"},{tag:jd.bool,class:"tok-bool"},{tag:jd.url,class:"tok-url"},{tag:jd.labelName,class:"tok-labelName"},{tag:jd.inserted,class:"tok-inserted"},{tag:jd.deleted,class:"tok-deleted"},{tag:jd.literal,class:"tok-literal"},{tag:jd.string,class:"tok-string"},{tag:jd.number,class:"tok-number"},{tag:[jd.regexp,jd.escape,jd.special(jd.string)],class:"tok-string2"},{tag:jd.variableName,class:"tok-variableName"},{tag:jd.local(jd.variableName),class:"tok-variableName tok-local"},{tag:jd.definition(jd.variableName),class:"tok-variableName tok-definition"},{tag:jd.special(jd.variableName),class:"tok-variableName2"},{tag:jd.definition(jd.propertyName),class:"tok-propertyName tok-definition"},{tag:jd.typeName,class:"tok-typeName"},{tag:jd.namespace,class:"tok-namespace"},{tag:jd.className,class:"tok-className"},{tag:jd.macroName,class:"tok-macroName"},{tag:jd.propertyName,class:"tok-propertyName"},{tag:jd.operator,class:"tok-operator"},{tag:jd.comment,class:"tok-comment"},{tag:jd.meta,class:"tok-meta"},{tag:jd.invalid,class:"tok-invalid"},{tag:jd.punctuation,class:"tok-punctuation"}]);var tv;const N_=new Km;function DA(p){return am.define({combine:p?n=>n.concat(p):void 0})}const iv=new Km;class Og{constructor(n,s,c=[],Ae=""){this.data=n,this.name=Ae,Yd.prototype.hasOwnProperty("tree")||Object.defineProperty(Yd.prototype,"tree",{get(){return R0(this)}}),this.parser=s,this.extension=[i_.of(this),Yd.languageData.of((yt,wt,Wa)=>{let ja=TA(yt,wt,Wa),pd=ja.type.prop(N_);if(!pd)return[];let md=yt.facet(pd),vd=ja.type.prop(iv);if(vd){let $d=ja.resolve(wt-ja.from,Wa);for(let kd of vd)if(kd.test($d,yt)){let Zd=yt.facet(kd.facet);return kd.type=="replace"?Zd:Zd.concat(md)}}return md})].concat(c)}isActiveAt(n,s,c=-1){return TA(n,s,c).type.prop(N_)==this.data}findRegions(n){let s=n.facet(i_);if(s?.data==this.data)return[{from:0,to:n.doc.length}];if(!s||!s.allowsNesting)return[];let c=[],Ae=(yt,wt)=>{if(yt.prop(N_)==this.data){c.push({from:wt,to:wt+yt.length});return}let Wa=yt.prop(Km.mounted);if(Wa){if(Wa.tree.prop(N_)==this.data){if(Wa.overlay)for(let ja of Wa.overlay)c.push({from:ja.from+wt,to:ja.to+wt});else c.push({from:wt,to:wt+yt.length});return}else if(Wa.overlay){let ja=c.length;if(Ae(Wa.tree,Wa.overlay[0].from+wt),c.length>ja)return}}for(let ja=0;ja<yt.children.length;ja++){let pd=yt.children[ja];pd instanceof M0&&Ae(pd,yt.positions[ja]+wt)}};return Ae(R0(n),0),c}get allowsNesting(){return!0}}Og.setState=xm.define();function TA(p,n,s){let c=p.facet(i_),Ae=R0(p).topNode;if(!c||c.allowsNesting)for(let yt=Ae;yt;yt=yt.enter(n,s,G0.ExcludeBuffers))yt.type.isTop&&(Ae=yt);return Ae}class lb extends Og{constructor(n,s,c){super(n,s,[],c),this.parser=s}static define(n){let s=DA(n.languageData);return new lb(s,n.parser.configure({props:[N_.add(c=>c.isTop?s:void 0)]}),n.name)}configure(n,s){return new lb(this.data,this.parser.configure(n),s||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function R0(p){let n=p.field(Og.state,!1);return n?n.tree:M0.empty}class CP{constructor(n){this.doc=n,this.cursorPos=0,this.string="",this.cursor=n.iter()}get length(){return this.doc.length}syncTo(n){return this.string=this.cursor.next(n-this.cursorPos).value,this.cursorPos=n+this.string.length,this.cursorPos-this.string.length}chunk(n){return this.syncTo(n),this.string}get lineChunks(){return!0}read(n,s){let c=this.cursorPos-this.string.length;return n<c||s>=this.cursorPos?this.doc.sliceString(n,s):this.string.slice(n-c,s-c)}}let GO=null;class ub{constructor(n,s,c=[],Ae,yt,wt,Wa,ja){this.parser=n,this.state=s,this.fragments=c,this.tree=Ae,this.treeLen=yt,this.viewport=wt,this.skipped=Wa,this.scheduleOn=ja,this.parse=null,this.tempSkipped=[]}static create(n,s,c){return new ub(n,s,[],M0.empty,0,c,[],null)}startParse(){return this.parser.startParse(new CP(this.state.doc),this.fragments)}work(n,s){return s!=null&&s>=this.state.doc.length&&(s=void 0),this.tree!=M0.empty&&this.isDone(s??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var c;if(typeof n=="number"){let Ae=Date.now()+n;n=()=>Date.now()>Ae}for(this.parse||(this.parse=this.startParse()),s!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>s)&&s<this.state.doc.length&&this.parse.stopAt(s);;){let Ae=this.parse.advance();if(Ae)if(this.fragments=this.withoutTempSkipped(d_.addTree(Ae,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(c=this.parse.stoppedAt)!==null&&c!==void 0?c:this.state.doc.length,this.tree=Ae,this.parse=null,this.treeLen<(s??this.state.doc.length))this.parse=this.startParse();else return!0;if(n())return!1}})}takeTree(){let n,s;this.parse&&(n=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&this.parse.stopAt(n),this.withContext(()=>{for(;!(s=this.parse.advance()););}),this.treeLen=n,this.tree=s,this.fragments=this.withoutTempSkipped(d_.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(n){let s=GO;GO=this;try{return n()}finally{GO=s}}withoutTempSkipped(n){for(let s;s=this.tempSkipped.pop();)n=FA(n,s.from,s.to);return n}changes(n,s){let{fragments:c,tree:Ae,treeLen:yt,viewport:wt,skipped:Wa}=this;if(this.takeTree(),!n.empty){let ja=[];if(n.iterChangedRanges((pd,md,vd,$d)=>ja.push({fromA:pd,toA:md,fromB:vd,toB:$d})),c=d_.applyChanges(c,ja),Ae=M0.empty,yt=0,wt={from:n.mapPos(wt.from,-1),to:n.mapPos(wt.to,1)},this.skipped.length){Wa=[];for(let pd of this.skipped){let md=n.mapPos(pd.from,1),vd=n.mapPos(pd.to,-1);md<vd&&Wa.push({from:md,to:vd})}}}return new ub(this.parser,s,c,Ae,yt,wt,Wa,this.scheduleOn)}updateViewport(n){if(this.viewport.from==n.from&&this.viewport.to==n.to)return!1;this.viewport=n;let s=this.skipped.length;for(let c=0;c<this.skipped.length;c++){let{from:Ae,to:yt}=this.skipped[c];Ae<n.to&&yt>n.from&&(this.fragments=FA(this.fragments,Ae,yt),this.skipped.splice(c--,1))}return this.skipped.length>=s?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(n,s){this.skipped.push({from:n,to:s})}static getSkippingParser(n){return new class extends CA{createParse(s,c,Ae){let yt=Ae[0].from,wt=Ae[Ae.length-1].to;return{parsedPos:yt,advance(){let ja=GO;if(ja){for(let pd of Ae)ja.tempSkipped.push(pd);n&&(ja.scheduleOn=ja.scheduleOn?Promise.all([ja.scheduleOn,n]):n)}return this.parsedPos=wt,new M0(v1.none,[],[],wt-yt)},stoppedAt:null,stopAt(){}}}}}isDone(n){n=Math.min(n,this.state.doc.length);let s=this.fragments;return this.treeLen>=n&&s.length&&s[0].from==0&&s[0].to>=n}static get(){return GO}}function FA(p,n,s){return d_.applyChanges(p,[{fromA:n,toA:s,fromB:n,toB:s}])}class L_{constructor(n){this.context=n,this.tree=n.tree}apply(n){if(!n.docChanged&&this.tree==this.context.tree)return this;let s=this.context.changes(n.changes,n.state),c=this.context.treeLen==n.startState.doc.length?void 0:Math.max(n.changes.mapPos(this.context.treeLen),s.viewport.to);return s.work(20,c)||s.takeTree(),new L_(s)}static init(n){let s=Math.min(3e3,n.doc.length),c=ub.create(n.facet(i_).parser,n,{from:0,to:s});return c.work(20,s)||c.takeTree(),new L_(c)}}Og.state=Vm.define({create:L_.init,update(p,n){for(let s of n.effects)if(s.is(Og.setState))return s.value;return n.startState.facet(i_)!=n.state.facet(i_)?L_.init(n.state):p.apply(n)}});let GA=p=>{let n=setTimeout(()=>p(),500);return()=>clearTimeout(n)};typeof requestIdleCallback<"u"&&(GA=p=>{let n=-1,s=setTimeout(()=>{n=requestIdleCallback(p,{timeout:400})},100);return()=>n<0?clearTimeout(s):cancelIdleCallback(n)});const nv=typeof navigator<"u"&&(!((tv=navigator.scheduling)===null||tv===void 0)&&tv.isInputPending)?()=>navigator.scheduling.isInputPending():null,MP=S0.fromClass(class{constructor(n){this.view=n,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(n){let s=this.view.state.field(Og.state).context;(s.updateViewport(n.view.viewport)||this.view.viewport.to>s.treeLen)&&this.scheduleWork(),(n.docChanged||n.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(s)}scheduleWork(){if(this.working)return;let{state:n}=this.view,s=n.field(Og.state);(s.tree!=s.context.tree||!s.context.isDone(n.doc.length))&&(this.working=GA(this.work))}work(n){this.working=null;let s=Date.now();if(this.chunkEnd<s&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=s+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:c,viewport:{to:Ae}}=this.view,yt=c.field(Og.state);if(yt.tree==yt.context.tree&&yt.context.isDone(Ae+1e5))return;let wt=Date.now()+Math.min(this.chunkBudget,100,n&&!nv?Math.max(25,n.timeRemaining()-5):1e9),Wa=yt.context.treeLen<Ae&&c.doc.length>Ae+1e3,ja=yt.context.work(()=>nv&&nv()||Date.now()>wt,Ae+(Wa?0:1e5));this.chunkBudget-=Date.now()-s,(ja||this.chunkBudget<=0)&&(yt.context.takeTree(),this.view.dispatch({effects:Og.setState.of(new L_(yt.context))})),this.chunkBudget>0&&!(ja&&!Wa)&&this.scheduleWork(),this.checkAsyncSchedule(yt.context)}checkAsyncSchedule(n){n.scheduleOn&&(this.workScheduled++,n.scheduleOn.then(()=>this.scheduleWork()).catch(s=>T0(this.view.state,s)).then(()=>this.workScheduled--),n.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),i_=am.define({combine(p){return p.length?p[0]:null},enables:p=>[Og.state,MP,wm.contentAttributes.compute([p],n=>{let s=n.facet(p);return s&&s.name?{"data-language":s.name}:{}})]});class PP{constructor(n,s=[]){this.language=n,this.support=s,this.extension=[n,s]}}const wP=am.define(),RO=am.define({combine:p=>{if(!p.length)return"  ";let n=p[0];if(!n||/\S/.test(n)||Array.from(n).some(s=>s!=n[0]))throw new Error("Invalid indent unit: "+JSON.stringify(p[0]));return n}});function cb(p){let n=p.facet(RO);return n.charCodeAt(0)==9?p.tabSize*n.length:n.length}function ZO(p,n){let s="",c=p.tabSize,Ae=p.facet(RO)[0];if(Ae=="	"){for(;n>=c;)s+="	",n-=c;Ae=" "}for(let yt=0;yt<n;yt++)s+=Ae;return s}function rv(p,n){p instanceof Yd&&(p=new hb(p));for(let c of p.state.facet(wP)){let Ae=c(p,n);if(Ae!==void 0)return Ae}let s=R0(p.state);return s.length>=n?kP(p,s,n):null}class hb{constructor(n,s={}){this.state=n,this.options=s,this.unit=cb(n)}lineAt(n,s=1){let c=this.state.doc.lineAt(n),{simulateBreak:Ae,simulateDoubleBreak:yt}=this.options;return Ae!=null&&Ae>=c.from&&Ae<=c.to?yt&&Ae==n?{text:"",from:n}:(s<0?Ae<n:Ae<=n)?{text:c.text.slice(Ae-c.from),from:Ae}:{text:c.text.slice(0,Ae-c.from),from:c.from}:c}textAfterPos(n,s=1){if(this.options.simulateDoubleBreak&&n==this.options.simulateBreak)return"";let{text:c,from:Ae}=this.lineAt(n,s);return c.slice(n-Ae,Math.min(c.length,n+100-Ae))}column(n,s=1){let{text:c,from:Ae}=this.lineAt(n,s),yt=this.countColumn(c,n-Ae),wt=this.options.overrideIndentation?this.options.overrideIndentation(Ae):-1;return wt>-1&&(yt+=wt-this.countColumn(c,c.search(/\S|$/))),yt}countColumn(n,s=n.length){return a_(n,this.state.tabSize,s)}lineIndent(n,s=1){let{text:c,from:Ae}=this.lineAt(n,s),yt=this.options.overrideIndentation;if(yt){let wt=yt(Ae);if(wt>-1)return wt}return this.countColumn(c,c.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const RA=new Km;function kP(p,n,s){let c=n.resolveStack(s),Ae=n.resolveInner(s,-1).resolve(s,0).enterUnfinishedNodesBefore(s);if(Ae!=c.node){let yt=[];for(let wt=Ae;wt&&!(wt.from<c.node.from||wt.to>c.node.to||wt.from==c.node.from&&wt.type==c.node.type);wt=wt.parent)yt.push(wt);for(let wt=yt.length-1;wt>=0;wt--)c={node:yt[wt],next:c}}return ZA(c,p,s)}function ZA(p,n,s){for(let c=p;c;c=c.next){let Ae=DP(c.node);if(Ae)return Ae(sv.create(n,s,c))}return 0}function EP(p){return p.pos==p.options.simulateBreak&&p.options.simulateDoubleBreak}function DP(p){let n=p.type.prop(RA);if(n)return n;let s=p.firstChild,c;if(s&&(c=s.type.prop(Km.closedBy))){let Ae=p.lastChild,yt=Ae&&c.indexOf(Ae.name)>-1;return wt=>NA(wt,!0,1,void 0,yt&&!EP(wt)?Ae.from:void 0)}return p.parent==null?TP:null}function TP(){return 0}class sv extends hb{constructor(n,s,c){super(n.state,n.options),this.base=n,this.pos=s,this.context=c}get node(){return this.context.node}static create(n,s,c){return new sv(n,s,c)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(n){let s=this.state.doc.lineAt(n.from);for(;;){let c=n.resolve(s.from);for(;c.parent&&c.parent.from==c.from;)c=c.parent;if(FP(c,n))break;s=this.state.doc.lineAt(c.from)}return this.lineIndent(s.from)}continue(){return ZA(this.context.next,this.base,this.pos)}}function FP(p,n){for(let s=n;s;s=s.parent)if(p==s)return!0;return!1}function GP(p){let n=p.node,s=n.childAfter(n.from),c=n.lastChild;if(!s)return null;let Ae=p.options.simulateBreak,yt=p.state.doc.lineAt(s.from),wt=Ae==null||Ae<=yt.from?yt.to:Math.min(yt.to,Ae);for(let Wa=s.to;;){let ja=n.childAfter(Wa);if(!ja||ja==c)return null;if(!ja.type.isSkipped){if(ja.from>=wt)return null;let pd=/^ */.exec(yt.text.slice(s.to-yt.from))[0].length;return{from:s.from,to:s.to+pd}}Wa=ja.to}}function RP({closing:p,align:n=!0,units:s=1}){return c=>NA(c,n,s,p)}function NA(p,n,s,c,Ae){let yt=p.textAfter,wt=yt.match(/^\s*/)[0].length,Wa=c&&yt.slice(wt,wt+c.length)==c||Ae==p.pos+wt,ja=n?GP(p):null;return ja?Wa?p.column(ja.from):p.column(ja.to):p.baseIndent+(Wa?0:p.unit*s)}const ZP=p=>p.baseIndent;function ov({except:p,units:n=1}={}){return s=>{let c=p&&p.test(s.textAfter);return s.baseIndent+(c?0:n*s.unit)}}const NP=200;function LP(){return Yd.transactionFilter.of(p=>{if(!p.docChanged||!p.isUserEvent("input.type")&&!p.isUserEvent("input.complete"))return p;let n=p.startState.languageDataAt("indentOnInput",p.startState.selection.main.head);if(!n.length)return p;let s=p.newDoc,{head:c}=p.newSelection.main,Ae=s.lineAt(c);if(c>Ae.from+NP)return p;let yt=s.sliceString(Ae.from,c);if(!n.some(pd=>pd.test(yt)))return p;let{state:wt}=p,Wa=-1,ja=[];for(let{head:pd}of wt.selection.ranges){let md=wt.doc.lineAt(pd);if(md.from==Wa)continue;Wa=md.from;let vd=rv(wt,md.from);if(vd==null)continue;let $d=/^\s*/.exec(md.text)[0],kd=ZO(wt,vd);$d!=kd&&ja.push({from:md.from,to:md.from+$d.length,insert:kd})}return ja.length?[p,{changes:ja,sequential:!0}]:p})}const QP=am.define(),LA=new Km;function BP(p){let n=p.firstChild,s=p.lastChild;return n&&n.to<s.from?{from:n.to,to:s.type.isError?p.to:s.from}:null}function XP(p,n,s){let c=R0(p);if(c.length<s)return null;let Ae=c.resolveStack(s,1),yt=null;for(let wt=Ae;wt;wt=wt.next){let Wa=wt.node;if(Wa.to<=s||Wa.from>s)continue;if(yt&&Wa.from<n)break;let ja=Wa.type.prop(LA);if(ja&&(Wa.to<c.length-50||c.length==p.doc.length||!IP(Wa))){let pd=ja(Wa,p);pd&&pd.from<=s&&pd.from>=n&&pd.to>s&&(yt=pd)}}return yt}function IP(p){let n=p.lastChild;return n&&n.to==p.to&&n.type.isError}function fb(p,n,s){for(let c of p.facet(QP)){let Ae=c(p,n,s);if(Ae)return Ae}return XP(p,n,s)}function QA(p,n){let s=n.mapPos(p.from,1),c=n.mapPos(p.to,-1);return s>=c?void 0:{from:s,to:c}}const pb=xm.define({map:QA}),NO=xm.define({map:QA});function BA(p){let n=[];for(let{head:s}of p.state.selection.ranges)n.some(c=>c.from<=s&&c.to>=s)||n.push(p.lineBlockAt(s));return n}const g_=Vm.define({create(){return Rm.none},update(p,n){n.isUserEvent("delete")&&n.changes.iterChangedRanges((s,c)=>p=XA(p,s,c)),p=p.map(n.changes);for(let s of n.effects)if(s.is(pb)&&!VP(p,s.value.from,s.value.to)){let{preparePlaceholder:c}=n.state.facet(zA),Ae=c?Rm.replace({widget:new qP(c(n.state,s.value))}):YA;p=p.update({add:[Ae.range(s.value.from,s.value.to)]})}else s.is(NO)&&(p=p.update({filter:(c,Ae)=>s.value.from!=c||s.value.to!=Ae,filterFrom:s.value.from,filterTo:s.value.to}));return n.selection&&(p=XA(p,n.selection.main.head)),p},provide:p=>wm.decorations.from(p),toJSON(p,n){let s=[];return p.between(0,n.doc.length,(c,Ae)=>{s.push(c,Ae)}),s},fromJSON(p){if(!Array.isArray(p)||p.length%2)throw new RangeError("Invalid JSON for fold state");let n=[];for(let s=0;s<p.length;){let c=p[s++],Ae=p[s++];if(typeof c!="number"||typeof Ae!="number")throw new RangeError("Invalid JSON for fold state");n.push(YA.range(c,Ae))}return Rm.set(n,!0)}});function XA(p,n,s=n){let c=!1;return p.between(n,s,(Ae,yt)=>{Ae<s&&yt>n&&(c=!0)}),c?p.update({filterFrom:n,filterTo:s,filter:(Ae,yt)=>Ae>=s||yt<=n}):p}function db(p,n,s){var c;let Ae=null;return(c=p.field(g_,!1))===null||c===void 0||c.between(n,s,(yt,wt)=>{(!Ae||Ae.from>yt)&&(Ae={from:yt,to:wt})}),Ae}function VP(p,n,s){let c=!1;return p.between(n,n,(Ae,yt)=>{Ae==n&&yt==s&&(c=!0)}),c}function IA(p,n){return p.field(g_,!1)?n:n.concat(xm.appendConfig.of(WA()))}const zP=p=>{for(let n of BA(p)){let s=fb(p.state,n.from,n.to);if(s)return p.dispatch({effects:IA(p.state,[pb.of(s),VA(p,s)])}),!0}return!1},WP=p=>{if(!p.state.field(g_,!1))return!1;let n=[];for(let s of BA(p)){let c=db(p.state,s.from,s.to);c&&n.push(NO.of(c),VA(p,c,!1))}return n.length&&p.dispatch({effects:n}),n.length>0};function VA(p,n,s=!0){let c=p.state.doc.lineAt(n.from).number,Ae=p.state.doc.lineAt(n.to).number;return wm.announce.of(`${p.state.phrase(s?"Folded lines":"Unfolded lines")} ${c} ${p.state.phrase("to")} ${Ae}.`)}const jP=p=>{let{state:n}=p,s=[];for(let c=0;c<n.doc.length;){let Ae=p.lineBlockAt(c),yt=fb(n,Ae.from,Ae.to);yt&&s.push(pb.of(yt)),c=(yt?p.lineBlockAt(yt.to):Ae).to+1}return s.length&&p.dispatch({effects:IA(p.state,s)}),!!s.length},YP=p=>{let n=p.state.field(g_,!1);if(!n||!n.size)return!1;let s=[];return n.between(0,p.state.doc.length,(c,Ae)=>{s.push(NO.of({from:c,to:Ae}))}),p.dispatch({effects:s}),!0},UP={placeholderDOM:null,preparePlaceholder:null,placeholderText:"â€¦"},zA=am.define({combine(p){return Kd(p,UP)}});function WA(p){return[g_,JP]}function jA(p,n){let{state:s}=p,c=s.facet(zA),Ae=wt=>{let Wa=p.lineBlockAt(p.posAtDOM(wt.target)),ja=db(p.state,Wa.from,Wa.to);ja&&p.dispatch({effects:NO.of(ja)}),wt.preventDefault()};if(c.placeholderDOM)return c.placeholderDOM(p,Ae,n);let yt=document.createElement("span");return yt.textContent=c.placeholderText,yt.setAttribute("aria-label",s.phrase("folded code")),yt.title=s.phrase("unfold"),yt.className="cm-foldPlaceholder",yt.onclick=Ae,yt}const YA=Rm.replace({widget:new class extends Y1{toDOM(p){return jA(p,null)}}});class qP extends Y1{constructor(n){super(),this.value=n}eq(n){return this.value==n.value}toDOM(n){return jA(n,this.value)}}const HP={openText:"âŒ„",closedText:"â€º",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class av extends Xg{constructor(n,s){super(),this.config=n,this.open=s}eq(n){return this.config==n.config&&this.open==n.open}toDOM(n){if(this.config.markerDOM)return this.config.markerDOM(this.open);let s=document.createElement("span");return s.textContent=this.open?this.config.openText:this.config.closedText,s.title=n.state.phrase(this.open?"Fold line":"Unfold line"),s}}function KP(p={}){let n={...HP,...p},s=new av(n,!0),c=new av(n,!1),Ae=S0.fromClass(class{constructor(wt){this.from=wt.viewport.from,this.markers=this.buildMarkers(wt)}update(wt){(wt.docChanged||wt.viewportChanged||wt.startState.facet(i_)!=wt.state.facet(i_)||wt.startState.field(g_,!1)!=wt.state.field(g_,!1)||R0(wt.startState)!=R0(wt.state)||n.foldingChanged(wt))&&(this.markers=this.buildMarkers(wt.view))}buildMarkers(wt){let Wa=new N0;for(let ja of wt.viewportLineBlocks){let pd=db(wt.state,ja.from,ja.to)?c:fb(wt.state,ja.from,ja.to)?s:null;pd&&Wa.add(ja.from,ja.from,pd)}return Wa.finish()}}),{domEventHandlers:yt}=n;return[Ae,JM({class:"cm-foldGutter",markers(wt){var Wa;return((Wa=wt.plugin(Ae))===null||Wa===void 0?void 0:Wa.markers)||Qm.empty},initialSpacer(){return new av(n,!1)},domEventHandlers:{...yt,click:(wt,Wa,ja)=>{if(yt.click&&yt.click(wt,Wa,ja))return!0;let pd=db(wt.state,Wa.from,Wa.to);if(pd)return wt.dispatch({effects:NO.of(pd)}),!0;let md=fb(wt.state,Wa.from,Wa.to);return md?(wt.dispatch({effects:pb.of(md)}),!0):!1}}}),WA()]}const JP=wm.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class mb{constructor(n,s){this.specs=n;let c;function Ae(Wa){let ja=vg.newName();return(c||(c=Object.create(null)))["."+ja]=Wa,ja}const yt=typeof s.all=="string"?s.all:s.all?Ae(s.all):void 0,wt=s.scope;this.scope=wt instanceof Og?Wa=>Wa.prop(N_)==wt.data:wt?Wa=>Wa==wt:void 0,this.style=wA(n.map(Wa=>({tag:Wa.tag,class:Wa.class||Ae(Object.assign({},Wa,{tag:null}))})),{all:yt}).style,this.module=c?new vg(c):null,this.themeType=s.themeType}static define(n,s){return new mb(n,s||{})}}const lv=am.define(),ew=am.define({combine(p){return p.length?[p[0]]:null}});function uv(p){let n=p.facet(lv);return n.length?n:p.facet(ew)}function tw(p,n){let s=[nw],c;return p instanceof mb&&(p.module&&s.push(wm.styleModule.of(p.module)),c=p.themeType),c?s.push(lv.computeN([wm.darkTheme],Ae=>Ae.facet(wm.darkTheme)==(c=="dark")?[p]:[])):s.push(lv.of(p)),s}class iw{constructor(n){this.markCache=Object.create(null),this.tree=R0(n.state),this.decorations=this.buildDeco(n,uv(n.state)),this.decoratedTo=n.viewport.to}update(n){let s=R0(n.state),c=uv(n.state),Ae=c!=uv(n.startState),{viewport:yt}=n.view,wt=n.changes.mapPos(this.decoratedTo,1);s.length<yt.to&&!Ae&&s.type==this.tree.type&&wt>=yt.to?(this.decorations=this.decorations.map(n.changes),this.decoratedTo=wt):(s!=this.tree||n.viewportChanged||Ae)&&(this.tree=s,this.decorations=this.buildDeco(n.view,c),this.decoratedTo=yt.to)}buildDeco(n,s){if(!s||!this.tree.length)return Rm.none;let c=new N0;for(let{from:Ae,to:yt}of n.visibleRanges)AP(this.tree,s,(wt,Wa,ja)=>{c.add(wt,Wa,this.markCache[ja]||(this.markCache[ja]=Rm.mark({class:ja})))},Ae,yt);return c.finish()}}const nw=x0.high(S0.fromClass(iw,{decorations:p=>p.decorations})),rw=wm.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),UA=1e4,qA="()[]{}",HA=am.define({combine(p){return Kd(p,{afterCursor:!0,brackets:qA,maxScanDistance:UA,renderMatch:aw})}}),sw=Rm.mark({class:"cm-matchingBracket"}),ow=Rm.mark({class:"cm-nonmatchingBracket"});function aw(p){let n=[],s=p.matched?sw:ow;return n.push(s.range(p.start.from,p.start.to)),p.end&&n.push(s.range(p.end.from,p.end.to)),n}const lw=[Vm.define({create(){return Rm.none},update(p,n){if(!n.docChanged&&!n.selection)return p;let s=[],c=n.state.facet(HA);for(let Ae of n.state.selection.ranges){if(!Ae.empty)continue;let yt=Eg(n.state,Ae.head,-1,c)||Ae.head>0&&Eg(n.state,Ae.head-1,1,c)||c.afterCursor&&(Eg(n.state,Ae.head,1,c)||Ae.head<n.state.doc.length&&Eg(n.state,Ae.head+1,-1,c));yt&&(s=s.concat(c.renderMatch(yt,n.state)))}return Rm.set(s,!0)},provide:p=>wm.decorations.from(p)}),rw];function uw(p={}){return[HA.of(p),lw]}const cw=new Km;function cv(p,n,s){let c=p.prop(n<0?Km.openedBy:Km.closedBy);if(c)return c;if(p.name.length==1){let Ae=s.indexOf(p.name);if(Ae>-1&&Ae%2==(n<0?1:0))return[s[Ae+n]]}return null}function hv(p){let n=p.type.prop(cw);return n?n(p.node):p}function Eg(p,n,s,c={}){let Ae=c.maxScanDistance||UA,yt=c.brackets||qA,wt=R0(p),Wa=wt.resolveInner(n,s);for(let ja=Wa;ja;ja=ja.parent){let pd=cv(ja.type,s,yt);if(pd&&ja.from<ja.to){let md=hv(ja);if(md&&(s>0?n>=md.from&&n<md.to:n>md.from&&n<=md.to))return hw(p,n,s,ja,md,pd,yt)}}return fw(p,n,s,wt,Wa.type,Ae,yt)}function hw(p,n,s,c,Ae,yt,wt){let Wa=c.parent,ja={from:Ae.from,to:Ae.to},pd=0,md=Wa?.cursor();if(md&&(s<0?md.childBefore(c.from):md.childAfter(c.to)))do if(s<0?md.to<=c.from:md.from>=c.to){if(pd==0&&yt.indexOf(md.type.name)>-1&&md.from<md.to){let vd=hv(md);return{start:ja,end:vd?{from:vd.from,to:vd.to}:void 0,matched:!0}}else if(cv(md.type,s,wt))pd++;else if(cv(md.type,-s,wt)){if(pd==0){let vd=hv(md);return{start:ja,end:vd&&vd.from<vd.to?{from:vd.from,to:vd.to}:void 0,matched:!1}}pd--}}while(s<0?md.prevSibling():md.nextSibling());return{start:ja,matched:!1}}function fw(p,n,s,c,Ae,yt,wt){let Wa=s<0?p.sliceDoc(n-1,n):p.sliceDoc(n,n+1),ja=wt.indexOf(Wa);if(ja<0||ja%2==0!=s>0)return null;let pd={from:s<0?n-1:n,to:s>0?n+1:n},md=p.doc.iterRange(n,s>0?p.doc.length:0),vd=0;for(let $d=0;!md.next().done&&$d<=yt;){let kd=md.value;s<0&&($d+=kd.length);let Zd=n+$d*s;for(let Id=s>0?0:kd.length-1,Ud=s>0?kd.length:-1;Id!=Ud;Id+=s){let tm=wt.indexOf(kd[Id]);if(!(tm<0||c.resolveInner(Zd+Id,1).type!=Ae))if(tm%2==0==s>0)vd++;else{if(vd==1)return{start:pd,end:{from:Zd+Id,to:Zd+Id+1},matched:tm>>1==ja>>1};vd--}}s>0&&($d+=kd.length)}return md.done?{start:pd,matched:!1}:null}const pw=Object.create(null),KA=[v1.none],JA=[],e$=Object.create(null),dw=Object.create(null);for(let[p,n]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])dw[p]=mw(pw,n);function fv(p,n){JA.indexOf(p)>-1||(JA.push(p),console.warn(n))}function mw(p,n){let s=[];for(let Wa of n.split(" ")){let ja=[];for(let pd of Wa.split(".")){let md=p[pd]||jd[pd];md?typeof md=="function"?ja.length?ja=ja.map(md):fv(pd,`Modifier ${pd} used at start of tag`):ja.length?fv(pd,`Tag ${pd} used as modifier`):ja=Array.isArray(md)?md:[md]:fv(pd,`Unknown highlighting tag ${pd}`)}for(let pd of ja)s.push(pd)}if(!s.length)return 0;let c=n.replace(/ /g,"_"),Ae=c+" "+s.map(Wa=>Wa.id),yt=e$[Ae];if(yt)return yt.id;let wt=e$[Ae]=v1.define({id:KA.length,name:c,props:[MA({[c]:s})]});return KA.push(wt),wt.id}f0.RTL,f0.LTR;const t$=p=>{let{state:n}=p,s=n.doc.lineAt(n.selection.main.from),c=pv(p.state,s.from);return c.line?gw(p):c.block?yw(p):!1};function LO(p,n){return({state:s,dispatch:c})=>{if(s.readOnly)return!1;let Ae=p(n,s);return Ae?(c(s.update(Ae)),!0):!1}}const gw=LO(dv,0),_w=LO(dv,1),Ow=LO(dv,2),i$=LO(n$,0),yw=LO((p,n)=>n$(p,n,vw(n)),0);function pv(p,n){let s=p.languageDataAt("commentTokens",n,1);return s.length?s[0]:{}}const QO=50;function bw(p,{open:n,close:s},c,Ae){let yt=p.sliceDoc(c-QO,c),wt=p.sliceDoc(Ae,Ae+QO),Wa=/\s*$/.exec(yt)[0].length,ja=/^\s*/.exec(wt)[0].length,pd=yt.length-Wa;if(yt.slice(pd-n.length,pd)==n&&wt.slice(ja,ja+s.length)==s)return{open:{pos:c-Wa,margin:Wa&&1},close:{pos:Ae+ja,margin:ja&&1}};let md,vd;Ae-c<=2*QO?md=vd=p.sliceDoc(c,Ae):(md=p.sliceDoc(c,c+QO),vd=p.sliceDoc(Ae-QO,Ae));let $d=/^\s*/.exec(md)[0].length,kd=/\s*$/.exec(vd)[0].length,Zd=vd.length-kd-s.length;return md.slice($d,$d+n.length)==n&&vd.slice(Zd,Zd+s.length)==s?{open:{pos:c+$d+n.length,margin:/\s/.test(md.charAt($d+n.length))?1:0},close:{pos:Ae-kd-s.length,margin:/\s/.test(vd.charAt(Zd-1))?1:0}}:null}function vw(p){let n=[];for(let s of p.selection.ranges){let c=p.doc.lineAt(s.from),Ae=s.to<=c.to?c:p.doc.lineAt(s.to);Ae.from>c.from&&Ae.from==s.to&&(Ae=s.to==c.to+1?c:p.doc.lineAt(s.to-1));let yt=n.length-1;yt>=0&&n[yt].to>c.from?n[yt].to=Ae.to:n.push({from:c.from+/^\s*/.exec(c.text)[0].length,to:Ae.to})}return n}function n$(p,n,s=n.selection.ranges){let c=s.map(yt=>pv(n,yt.from).block);if(!c.every(yt=>yt))return null;let Ae=s.map((yt,wt)=>bw(n,c[wt],yt.from,yt.to));if(p!=2&&!Ae.every(yt=>yt))return{changes:n.changes(s.map((yt,wt)=>Ae[wt]?[]:[{from:yt.from,insert:c[wt].open+" "},{from:yt.to,insert:" "+c[wt].close}]))};if(p!=1&&Ae.some(yt=>yt)){let yt=[];for(let wt=0,Wa;wt<Ae.length;wt++)if(Wa=Ae[wt]){let ja=c[wt],{open:pd,close:md}=Wa;yt.push({from:pd.pos-ja.open.length,to:pd.pos+pd.margin},{from:md.pos-md.margin,to:md.pos+ja.close.length})}return{changes:yt}}return null}function dv(p,n,s=n.selection.ranges){let c=[],Ae=-1;for(let{from:yt,to:wt}of s){let Wa=c.length,ja=1e9,pd=pv(n,yt).line;if(pd){for(let md=yt;md<=wt;){let vd=n.doc.lineAt(md);if(vd.from>Ae&&(yt==wt||wt>vd.from)){Ae=vd.from;let $d=/^\s*/.exec(vd.text)[0].length,kd=$d==vd.length,Zd=vd.text.slice($d,$d+pd.length)==pd?$d:-1;$d<vd.text.length&&$d<ja&&(ja=$d),c.push({line:vd,comment:Zd,token:pd,indent:$d,empty:kd,single:!1})}md=vd.to+1}if(ja<1e9)for(let md=Wa;md<c.length;md++)c[md].indent<c[md].line.text.length&&(c[md].indent=ja);c.length==Wa+1&&(c[Wa].single=!0)}}if(p!=2&&c.some(yt=>yt.comment<0&&(!yt.empty||yt.single))){let yt=[];for(let{line:Wa,token:ja,indent:pd,empty:md,single:vd}of c)(vd||!md)&&yt.push({from:Wa.from+pd,insert:ja+" "});let wt=n.changes(yt);return{changes:wt,selection:n.selection.map(wt,1)}}else if(p!=1&&c.some(yt=>yt.comment>=0)){let yt=[];for(let{line:wt,comment:Wa,token:ja}of c)if(Wa>=0){let pd=wt.from+Wa,md=pd+ja.length;wt.text[md-wt.from]==" "&&md++,yt.push({from:pd,to:md})}return{changes:yt}}return null}const mv=zm.define(),xw=zm.define(),Aw=am.define(),r$=am.define({combine(p){return Kd(p,{minDepth:100,newGroupDelay:500,joinToEvent:(n,s)=>s},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(n,s)=>(c,Ae)=>n(c,Ae)||s(c,Ae)})}}),s$=Vm.define({create(){return Dg.empty},update(p,n){let s=n.state.facet(r$),c=n.annotation(mv);if(c){let ja=R1.fromTransaction(n,c.selection),pd=c.side,md=pd==0?p.undone:p.done;return ja?md=_b(md,md.length,s.minDepth,ja):md=l$(md,n.startState.selection),new Dg(pd==0?c.rest:md,pd==0?md:c.rest)}let Ae=n.annotation(xw);if((Ae=="full"||Ae=="before")&&(p=p.isolate()),n.annotation(Jm.addToHistory)===!1)return n.changes.empty?p:p.addMapping(n.changes.desc);let yt=R1.fromTransaction(n),wt=n.annotation(Jm.time),Wa=n.annotation(Jm.userEvent);return yt?p=p.addChanges(yt,wt,Wa,s,n):n.selection&&(p=p.addSelection(n.startState.selection,wt,Wa,s.newGroupDelay)),(Ae=="full"||Ae=="after")&&(p=p.isolate()),p},toJSON(p){return{done:p.done.map(n=>n.toJSON()),undone:p.undone.map(n=>n.toJSON())}},fromJSON(p){return new Dg(p.done.map(R1.fromJSON),p.undone.map(R1.fromJSON))}});function $w(p={}){return[s$,r$.of(p),wm.domEventHandlers({beforeinput(n,s){let c=n.inputType=="historyUndo"?gv:n.inputType=="historyRedo"?BO:null;return c?(n.preventDefault(),c(s)):!1}})]}function gb(p,n){return function({state:s,dispatch:c}){if(!n&&s.readOnly)return!1;let Ae=s.field(s$,!1);if(!Ae)return!1;let yt=Ae.pop(p,s,n);return yt?(c(yt),!0):!1}}const gv=gb(0,!1),BO=gb(1,!1),o$=gb(0,!0),Sw=gb(1,!0);class R1{constructor(n,s,c,Ae,yt){this.changes=n,this.effects=s,this.mapped=c,this.startSelection=Ae,this.selectionsAfter=yt}setSelAfter(n){return new R1(this.changes,this.effects,this.mapped,this.startSelection,n)}toJSON(){var n,s,c;return{changes:(n=this.changes)===null||n===void 0?void 0:n.toJSON(),mapped:(s=this.mapped)===null||s===void 0?void 0:s.toJSON(),startSelection:(c=this.startSelection)===null||c===void 0?void 0:c.toJSON(),selectionsAfter:this.selectionsAfter.map(Ae=>Ae.toJSON())}}static fromJSON(n){return new R1(n.changes&&Om.fromJSON(n.changes),[],n.mapped&&Mm.fromJSON(n.mapped),n.startSelection&&Hd.fromJSON(n.startSelection),n.selectionsAfter.map(Hd.fromJSON))}static fromTransaction(n,s){let c=ag;for(let Ae of n.startState.facet(Aw)){let yt=Ae(n);yt.length&&(c=c.concat(yt))}return!c.length&&n.changes.empty?null:new R1(n.changes.invert(n.startState.doc),c,void 0,s||n.startState.selection,ag)}static selection(n){return new R1(void 0,ag,void 0,void 0,n)}}function _b(p,n,s,c){let Ae=n+1>s+20?n-s-1:0,yt=p.slice(Ae,n);return yt.push(c),yt}function Cw(p,n){let s=[],c=!1;return p.iterChangedRanges((Ae,yt)=>s.push(Ae,yt)),n.iterChangedRanges((Ae,yt,wt,Wa)=>{for(let ja=0;ja<s.length;){let pd=s[ja++],md=s[ja++];Wa>=pd&&wt<=md&&(c=!0)}}),c}function Mw(p,n){return p.ranges.length==n.ranges.length&&p.ranges.filter((s,c)=>s.empty!=n.ranges[c].empty).length===0}function a$(p,n){return p.length?n.length?p.concat(n):p:n}const ag=[],Pw=200;function l$(p,n){if(p.length){let s=p[p.length-1],c=s.selectionsAfter.slice(Math.max(0,s.selectionsAfter.length-Pw));return c.length&&c[c.length-1].eq(n)?p:(c.push(n),_b(p,p.length-1,1e9,s.setSelAfter(c)))}else return[R1.selection([n])]}function ww(p){let n=p[p.length-1],s=p.slice();return s[p.length-1]=n.setSelAfter(n.selectionsAfter.slice(0,n.selectionsAfter.length-1)),s}function _v(p,n){if(!p.length)return p;let s=p.length,c=ag;for(;s;){let Ae=Ew(p[s-1],n,c);if(Ae.changes&&!Ae.changes.empty||Ae.effects.length){let yt=p.slice(0,s);return yt[s-1]=Ae,yt}else n=Ae.mapped,s--,c=Ae.selectionsAfter}return c.length?[R1.selection(c)]:ag}function Ew(p,n,s){let c=a$(p.selectionsAfter.length?p.selectionsAfter.map(Wa=>Wa.map(n)):ag,s);if(!p.changes)return R1.selection(c);let Ae=p.changes.map(n),yt=n.mapDesc(p.changes,!0),wt=p.mapped?p.mapped.composeDesc(yt):yt;return new R1(Ae,xm.mapEffects(p.effects,n),wt,p.startSelection.map(yt),c)}const Dw=/^(input\.type|delete)($|\.)/;class Dg{constructor(n,s,c=0,Ae=void 0){this.done=n,this.undone=s,this.prevTime=c,this.prevUserEvent=Ae}isolate(){return this.prevTime?new Dg(this.done,this.undone):this}addChanges(n,s,c,Ae,yt){let wt=this.done,Wa=wt[wt.length-1];return Wa&&Wa.changes&&!Wa.changes.empty&&n.changes&&(!c||Dw.test(c))&&(!Wa.selectionsAfter.length&&s-this.prevTime<Ae.newGroupDelay&&Ae.joinToEvent(yt,Cw(Wa.changes,n.changes))||c=="input.type.compose")?wt=_b(wt,wt.length-1,Ae.minDepth,new R1(n.changes.compose(Wa.changes),a$(xm.mapEffects(n.effects,Wa.changes),Wa.effects),Wa.mapped,Wa.startSelection,ag)):wt=_b(wt,wt.length,Ae.minDepth,n),new Dg(wt,ag,s,c)}addSelection(n,s,c,Ae){let yt=this.done.length?this.done[this.done.length-1].selectionsAfter:ag;return yt.length>0&&s-this.prevTime<Ae&&c==this.prevUserEvent&&c&&/^select($|\.)/.test(c)&&Mw(yt[yt.length-1],n)?this:new Dg(l$(this.done,n),this.undone,s,c)}addMapping(n){return new Dg(_v(this.done,n),_v(this.undone,n),this.prevTime,this.prevUserEvent)}pop(n,s,c){let Ae=n==0?this.done:this.undone;if(Ae.length==0)return null;let yt=Ae[Ae.length-1],wt=yt.selectionsAfter[0]||s.selection;if(c&&yt.selectionsAfter.length)return s.update({selection:yt.selectionsAfter[yt.selectionsAfter.length-1],annotations:mv.of({side:n,rest:ww(Ae),selection:wt}),userEvent:n==0?"select.undo":"select.redo",scrollIntoView:!0});if(yt.changes){let Wa=Ae.length==1?ag:Ae.slice(0,Ae.length-1);return yt.mapped&&(Wa=_v(Wa,yt.mapped)),s.update({changes:yt.changes,selection:yt.startSelection,effects:yt.effects,annotations:mv.of({side:n,rest:Wa,selection:wt}),filter:!1,userEvent:n==0?"undo":"redo",scrollIntoView:!0})}else return null}}Dg.empty=new Dg(ag,ag);const Tw=[{key:"Mod-z",run:gv,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:BO,preventDefault:!0},{linux:"Ctrl-Shift-z",run:BO,preventDefault:!0},{key:"Mod-u",run:o$,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:Sw,preventDefault:!0}];function Q_(p,n){return Hd.create(p.ranges.map(n),p.mainIndex)}function yg(p,n){return p.update({selection:n,scrollIntoView:!0,userEvent:"select"})}function bg({state:p,dispatch:n},s){let c=Q_(p.selection,s);return c.eq(p.selection,!0)?!1:(n(yg(p,c)),!0)}function Ob(p,n){return Hd.cursor(n?p.to:p.from)}function u$(p,n){return bg(p,s=>s.empty?p.moveByChar(s,n):Ob(s,n))}function Y0(p){return p.textDirectionAt(p.state.selection.main.head)==f0.LTR}const yb=p=>u$(p,!Y0(p)),bb=p=>u$(p,Y0(p));function c$(p,n){return bg(p,s=>s.empty?p.moveByGroup(s,n):Ob(s,n))}const h$=p=>c$(p,!Y0(p)),f$=p=>c$(p,Y0(p));function Fw(p,n,s){if(n.type.prop(s))return!0;let c=n.to-n.from;return c&&(c>2||/[^\s,.;:]/.test(p.sliceDoc(n.from,n.to)))||n.firstChild}function vb(p,n,s){let c=R0(p).resolveInner(n.head),Ae=s?Km.closedBy:Km.openedBy;for(let ja=n.head;;){let pd=s?c.childAfter(ja):c.childBefore(ja);if(!pd)break;Fw(p,pd,Ae)?c=pd:ja=s?pd.to:pd.from}let yt=c.type.prop(Ae),wt,Wa;return yt&&(wt=s?Eg(p,c.from,1):Eg(p,c.to,-1))&&wt.matched?Wa=s?wt.end.to:wt.end.from:Wa=s?c.to:c.from,Hd.cursor(Wa,s?-1:1)}const Gw=p=>bg(p,n=>vb(p.state,n,!Y0(p))),Rw=p=>bg(p,n=>vb(p.state,n,Y0(p)));function p$(p,n){return bg(p,s=>{if(!s.empty)return Ob(s,n);let c=p.moveVertically(s,n);return c.head!=s.head?c:p.moveToLineBoundary(s,n)})}const xb=p=>p$(p,!1),Ab=p=>p$(p,!0);function d$(p){let n=p.scrollDOM.clientHeight<p.scrollDOM.scrollHeight-2,s=0,c=0,Ae;if(n){for(let yt of p.state.facet(wm.scrollMargins)){let wt=yt(p);wt?.top&&(s=Math.max(wt?.top,s)),wt?.bottom&&(c=Math.max(wt?.bottom,c))}Ae=p.scrollDOM.clientHeight-s-c}else Ae=(p.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:s,marginBottom:c,selfScroll:n,height:Math.max(p.defaultLineHeight,Ae-5)}}function m$(p,n){let s=d$(p),{state:c}=p,Ae=Q_(c.selection,wt=>wt.empty?p.moveVertically(wt,n,s.height):Ob(wt,n));if(Ae.eq(c.selection))return!1;let yt;if(s.selfScroll){let wt=p.coordsAtPos(c.selection.main.head),Wa=p.scrollDOM.getBoundingClientRect(),ja=Wa.top+s.marginTop,pd=Wa.bottom-s.marginBottom;wt&&wt.top>ja&&wt.bottom<pd&&(yt=wm.scrollIntoView(Ae.main.head,{y:"start",yMargin:wt.top-ja}))}return p.dispatch(yg(c,Ae),{effects:yt}),!0}const XO=p=>m$(p,!1),B_=p=>m$(p,!0);function n_(p,n,s){let c=p.lineBlockAt(n.head),Ae=p.moveToLineBoundary(n,s);if(Ae.head==n.head&&Ae.head!=(s?c.to:c.from)&&(Ae=p.moveToLineBoundary(n,s,!1)),!s&&Ae.head==c.from&&c.length){let yt=/^\s*/.exec(p.state.sliceDoc(c.from,Math.min(c.from+100,c.to)))[0].length;yt&&n.head!=c.from+yt&&(Ae=Hd.cursor(c.from+yt))}return Ae}const Ov=p=>bg(p,n=>n_(p,n,!0)),yv=p=>bg(p,n=>n_(p,n,!1)),Zw=p=>bg(p,n=>n_(p,n,!Y0(p))),Nw=p=>bg(p,n=>n_(p,n,Y0(p))),g$=p=>bg(p,n=>Hd.cursor(p.lineBlockAt(n.head).from,1)),_$=p=>bg(p,n=>Hd.cursor(p.lineBlockAt(n.head).to,-1));function Lw(p,n,s){let c=!1,Ae=Q_(p.selection,yt=>{let wt=Eg(p,yt.head,-1)||Eg(p,yt.head,1)||yt.head>0&&Eg(p,yt.head-1,1)||yt.head<p.doc.length&&Eg(p,yt.head+1,-1);if(!wt||!wt.end)return yt;c=!0;let Wa=wt.start.from==yt.head?wt.end.to:wt.end.from;return Hd.cursor(Wa)});return c?(n(yg(p,Ae)),!0):!1}const O$=({state:p,dispatch:n})=>Lw(p,n);function lg(p,n){let s=Q_(p.state.selection,c=>{let Ae=n(c);return Hd.range(c.anchor,Ae.head,Ae.goalColumn,Ae.bidiLevel||void 0)});return s.eq(p.state.selection)?!1:(p.dispatch(yg(p.state,s)),!0)}function y$(p,n){return lg(p,s=>p.moveByChar(s,n))}const $b=p=>y$(p,!Y0(p)),Sb=p=>y$(p,Y0(p));function b$(p,n){return lg(p,s=>p.moveByGroup(s,n))}const v$=p=>b$(p,!Y0(p)),x$=p=>b$(p,Y0(p)),Qw=p=>lg(p,n=>vb(p.state,n,!Y0(p))),Bw=p=>lg(p,n=>vb(p.state,n,Y0(p)));function A$(p,n){return lg(p,s=>p.moveVertically(s,n))}const Cb=p=>A$(p,!1),Mb=p=>A$(p,!0);function $$(p,n){return lg(p,s=>p.moveVertically(s,n,d$(p).height))}const Pb=p=>$$(p,!1),wb=p=>$$(p,!0),bv=p=>lg(p,n=>n_(p,n,!0)),vv=p=>lg(p,n=>n_(p,n,!1)),Xw=p=>lg(p,n=>n_(p,n,!Y0(p))),Iw=p=>lg(p,n=>n_(p,n,Y0(p))),S$=p=>lg(p,n=>Hd.cursor(p.lineBlockAt(n.head).from)),C$=p=>lg(p,n=>Hd.cursor(p.lineBlockAt(n.head).to)),kb=({state:p,dispatch:n})=>(n(yg(p,{anchor:0})),!0),Eb=({state:p,dispatch:n})=>(n(yg(p,{anchor:p.doc.length})),!0),Db=({state:p,dispatch:n})=>(n(yg(p,{anchor:p.selection.main.anchor,head:0})),!0),Tb=({state:p,dispatch:n})=>(n(yg(p,{anchor:p.selection.main.anchor,head:p.doc.length})),!0),M$=({state:p,dispatch:n})=>(n(p.update({selection:{anchor:0,head:p.doc.length},userEvent:"select"})),!0),P$=({state:p,dispatch:n})=>{let s=Zb(p).map(({from:c,to:Ae})=>Hd.range(c,Math.min(Ae+1,p.doc.length)));return n(p.update({selection:Hd.create(s),userEvent:"select"})),!0},Vw=({state:p,dispatch:n})=>{let s=Q_(p.selection,c=>{let Ae=R0(p),yt=Ae.resolveStack(c.from,1);if(c.empty){let wt=Ae.resolveStack(c.from,-1);wt.node.from>=yt.node.from&&wt.node.to<=yt.node.to&&(yt=wt)}for(let wt=yt;wt;wt=wt.next){let{node:Wa}=wt;if((Wa.from<c.from&&Wa.to>=c.to||Wa.to>c.to&&Wa.from<=c.from)&&wt.next)return Hd.range(Wa.to,Wa.from)}return c});return s.eq(p.selection)?!1:(n(yg(p,s)),!0)};function w$(p,n){let{state:s}=p,c=s.selection,Ae=s.selection.ranges.slice();for(let yt of s.selection.ranges){let wt=s.doc.lineAt(yt.head);if(n?wt.to<p.state.doc.length:wt.from>0)for(let Wa=yt;;){let ja=p.moveVertically(Wa,n);if(ja.head<wt.from||ja.head>wt.to){Ae.some(pd=>pd.head==ja.head)||Ae.push(ja);break}else{if(ja.head==Wa.head)break;Wa=ja}}}return Ae.length==c.ranges.length?!1:(p.dispatch(yg(s,Hd.create(Ae,Ae.length-1))),!0)}const zw=p=>w$(p,!1),Ww=p=>w$(p,!0),jw=({state:p,dispatch:n})=>{let s=p.selection,c=null;return s.ranges.length>1?c=Hd.create([s.main]):s.main.empty||(c=Hd.create([Hd.cursor(s.main.head)])),c?(n(yg(p,c)),!0):!1};function X_(p,n){if(p.state.readOnly)return!1;let s="delete.selection",{state:c}=p,Ae=c.changeByRange(yt=>{let{from:wt,to:Wa}=yt;if(wt==Wa){let ja=n(yt);ja<wt?(s="delete.backward",ja=Fb(p,ja,!1)):ja>wt&&(s="delete.forward",ja=Fb(p,ja,!0)),wt=Math.min(wt,ja),Wa=Math.max(Wa,ja)}else wt=Fb(p,wt,!1),Wa=Fb(p,Wa,!0);return wt==Wa?{range:yt}:{changes:{from:wt,to:Wa},range:Hd.cursor(wt,wt<yt.head?-1:1)}});return Ae.changes.empty?!1:(p.dispatch(c.update(Ae,{scrollIntoView:!0,userEvent:s,effects:s=="delete.selection"?wm.announce.of(c.phrase("Selection deleted")):void 0})),!0)}function Fb(p,n,s){if(p instanceof wm)for(let c of p.state.facet(wm.atomicRanges).map(Ae=>Ae(p)))c.between(n,n,(Ae,yt)=>{Ae<n&&yt>n&&(n=s?yt:Ae)});return n}const k$=(p,n,s)=>X_(p,c=>{let Ae=c.from,{state:yt}=p,wt=yt.doc.lineAt(Ae),Wa,ja;if(s&&!n&&Ae>wt.from&&Ae<wt.from+200&&!/[^ \t]/.test(Wa=wt.text.slice(0,Ae-wt.from))){if(Wa[Wa.length-1]=="	")return Ae-1;let pd=a_(Wa,yt.tabSize),md=pd%cb(yt)||cb(yt);for(let vd=0;vd<md&&Wa[Wa.length-1-vd]==" ";vd++)Ae--;ja=Ae}else ja=Qd(wt.text,Ae-wt.from,n,n)+wt.from,ja==Ae&&wt.number!=(n?yt.doc.lines:1)?ja+=n?1:-1:!n&&/[\ufe00-\ufe0f]/.test(wt.text.slice(ja-wt.from,Ae-wt.from))&&(ja=Qd(wt.text,ja-wt.from,!1,!1)+wt.from);return ja}),I_=p=>k$(p,!1,!0),Gb=p=>k$(p,!0,!1),E$=(p,n)=>X_(p,s=>{let c=s.head,{state:Ae}=p,yt=Ae.doc.lineAt(c),wt=Ae.charCategorizer(c);for(let Wa=null;;){if(c==(n?yt.to:yt.from)){c==s.head&&yt.number!=(n?Ae.doc.lines:1)&&(c+=n?1:-1);break}let ja=Qd(yt.text,c-yt.from,n)+yt.from,pd=yt.text.slice(Math.min(c,ja)-yt.from,Math.max(c,ja)-yt.from),md=wt(pd);if(Wa!=null&&md!=Wa)break;(pd!=" "||c!=s.head)&&(Wa=md),c=ja}return c}),Rb=p=>E$(p,!1),D$=p=>E$(p,!0),xv=p=>X_(p,n=>{let s=p.lineBlockAt(n.head).to;return n.head<s?s:Math.min(p.state.doc.length,n.head+1)}),Yw=p=>X_(p,n=>{let s=p.lineBlockAt(n.head).from;return n.head>s?s:Math.max(0,n.head-1)}),Uw=p=>X_(p,n=>{let s=p.moveToLineBoundary(n,!1).head;return n.head>s?s:Math.max(0,n.head-1)}),qw=p=>X_(p,n=>{let s=p.moveToLineBoundary(n,!0).head;return n.head<s?s:Math.min(p.state.doc.length,n.head+1)}),T$=({state:p,dispatch:n})=>{if(p.readOnly)return!1;let s=p.changeByRange(c=>({changes:{from:c.from,to:c.to,insert:yd.of(["",""])},range:Hd.cursor(c.from)}));return n(p.update(s,{scrollIntoView:!0,userEvent:"input"})),!0},F$=({state:p,dispatch:n})=>{if(p.readOnly)return!1;let s=p.changeByRange(c=>{if(!c.empty||c.from==0||c.from==p.doc.length)return{range:c};let Ae=c.from,yt=p.doc.lineAt(Ae),wt=Ae==yt.from?Ae-1:Qd(yt.text,Ae-yt.from,!1)+yt.from,Wa=Ae==yt.to?Ae+1:Qd(yt.text,Ae-yt.from,!0)+yt.from;return{changes:{from:wt,to:Wa,insert:p.doc.slice(Ae,Wa).append(p.doc.slice(wt,Ae))},range:Hd.cursor(Wa)}});return s.changes.empty?!1:(n(p.update(s,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function Zb(p){let n=[],s=-1;for(let c of p.selection.ranges){let Ae=p.doc.lineAt(c.from),yt=p.doc.lineAt(c.to);if(!c.empty&&c.to==yt.from&&(yt=p.doc.lineAt(c.to-1)),s>=Ae.number){let wt=n[n.length-1];wt.to=yt.to,wt.ranges.push(c)}else n.push({from:Ae.from,to:yt.to,ranges:[c]});s=yt.number+1}return n}function G$(p,n,s){if(p.readOnly)return!1;let c=[],Ae=[];for(let yt of Zb(p)){if(s?yt.to==p.doc.length:yt.from==0)continue;let wt=p.doc.lineAt(s?yt.to+1:yt.from-1),Wa=wt.length+1;if(s){c.push({from:yt.to,to:wt.to},{from:yt.from,insert:wt.text+p.lineBreak});for(let ja of yt.ranges)Ae.push(Hd.range(Math.min(p.doc.length,ja.anchor+Wa),Math.min(p.doc.length,ja.head+Wa)))}else{c.push({from:wt.from,to:yt.from},{from:yt.to,insert:p.lineBreak+wt.text});for(let ja of yt.ranges)Ae.push(Hd.range(ja.anchor-Wa,ja.head-Wa))}}return c.length?(n(p.update({changes:c,scrollIntoView:!0,selection:Hd.create(Ae,p.selection.mainIndex),userEvent:"move.line"})),!0):!1}const R$=({state:p,dispatch:n})=>G$(p,n,!1),Z$=({state:p,dispatch:n})=>G$(p,n,!0);function N$(p,n,s){if(p.readOnly)return!1;let c=[];for(let Ae of Zb(p))s?c.push({from:Ae.from,insert:p.doc.slice(Ae.from,Ae.to)+p.lineBreak}):c.push({from:Ae.to,insert:p.lineBreak+p.doc.slice(Ae.from,Ae.to)});return n(p.update({changes:c,scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Av=({state:p,dispatch:n})=>N$(p,n,!1),$v=({state:p,dispatch:n})=>N$(p,n,!0),L$=p=>{if(p.state.readOnly)return!1;let{state:n}=p,s=n.changes(Zb(n).map(({from:Ae,to:yt})=>(Ae>0?Ae--:yt<n.doc.length&&yt++,{from:Ae,to:yt}))),c=Q_(n.selection,Ae=>{let yt;if(p.lineWrapping){let wt=p.lineBlockAt(Ae.head),Wa=p.coordsAtPos(Ae.head,Ae.assoc||1);Wa&&(yt=wt.bottom+p.documentTop-Wa.bottom+p.defaultLineHeight/2)}return p.moveVertically(Ae,!0,yt)}).map(s);return p.dispatch({changes:s,selection:c,scrollIntoView:!0,userEvent:"delete.line"}),!0};function Hw(p,n){if(/\(\)|\[\]|\{\}/.test(p.sliceDoc(n-1,n+1)))return{from:n,to:n};let s=R0(p).resolveInner(n),c=s.childBefore(n),Ae=s.childAfter(n),yt;return c&&Ae&&c.to<=n&&Ae.from>=n&&(yt=c.type.prop(Km.closedBy))&&yt.indexOf(Ae.name)>-1&&p.doc.lineAt(c.to).from==p.doc.lineAt(Ae.from).from&&!/\S/.test(p.sliceDoc(c.to,Ae.from))?{from:c.to,to:Ae.from}:null}const Nb=Q$(!1),Kw=Q$(!0);function Q$(p){return({state:n,dispatch:s})=>{if(n.readOnly)return!1;let c=n.changeByRange(Ae=>{let{from:yt,to:wt}=Ae,Wa=n.doc.lineAt(yt),ja=!p&&yt==wt&&Hw(n,yt);p&&(yt=wt=(wt<=Wa.to?Wa:n.doc.lineAt(wt)).to);let pd=new hb(n,{simulateBreak:yt,simulateDoubleBreak:!!ja}),md=rv(pd,yt);for(md==null&&(md=a_(/^\s*/.exec(n.doc.lineAt(yt).text)[0],n.tabSize));wt<Wa.to&&/\s/.test(Wa.text[wt-Wa.from]);)wt++;ja?{from:yt,to:wt}=ja:yt>Wa.from&&yt<Wa.from+100&&!/\S/.test(Wa.text.slice(0,yt))&&(yt=Wa.from);let vd=["",ZO(n,md)];return ja&&vd.push(ZO(n,pd.lineIndent(Wa.from,-1))),{changes:{from:yt,to:wt,insert:yd.of(vd)},range:Hd.cursor(yt+1+vd[1].length)}});return s(n.update(c,{scrollIntoView:!0,userEvent:"input"})),!0}}function Sv(p,n){let s=-1;return p.changeByRange(c=>{let Ae=[];for(let wt=c.from;wt<=c.to;){let Wa=p.doc.lineAt(wt);Wa.number>s&&(c.empty||c.to>Wa.from)&&(n(Wa,Ae,c),s=Wa.number),wt=Wa.to+1}let yt=p.changes(Ae);return{changes:Ae,range:Hd.range(yt.mapPos(c.anchor,1),yt.mapPos(c.head,1))}})}const Jw=({state:p,dispatch:n})=>{if(p.readOnly)return!1;let s=Object.create(null),c=new hb(p,{overrideIndentation:yt=>{let wt=s[yt];return wt??-1}}),Ae=Sv(p,(yt,wt,Wa)=>{let ja=rv(c,yt.from);if(ja==null)return;/\S/.test(yt.text)||(ja=0);let pd=/^\s*/.exec(yt.text)[0],md=ZO(p,ja);(pd!=md||Wa.from<yt.from+pd.length)&&(s[yt.from]=ja,wt.push({from:yt.from,to:yt.from+pd.length,insert:md}))});return Ae.changes.empty||n(p.update(Ae,{userEvent:"indent"})),!0},Lb=({state:p,dispatch:n})=>p.readOnly?!1:(n(p.update(Sv(p,(s,c)=>{c.push({from:s.from,insert:p.facet(RO)})}),{userEvent:"input.indent"})),!0),Qb=({state:p,dispatch:n})=>p.readOnly?!1:(n(p.update(Sv(p,(s,c)=>{let Ae=/^\s*/.exec(s.text)[0];if(!Ae)return;let yt=a_(Ae,p.tabSize),wt=0,Wa=ZO(p,Math.max(0,yt-cb(p)));for(;wt<Ae.length&&wt<Wa.length&&Ae.charCodeAt(wt)==Wa.charCodeAt(wt);)wt++;c.push({from:s.from+wt,to:s.from+Ae.length,insert:Wa.slice(wt)})}),{userEvent:"delete.dedent"})),!0),e3=p=>(p.setTabFocusMode(),!0),t3=[{key:"Ctrl-b",run:yb,shift:$b,preventDefault:!0},{key:"Ctrl-f",run:bb,shift:Sb},{key:"Ctrl-p",run:xb,shift:Cb},{key:"Ctrl-n",run:Ab,shift:Mb},{key:"Ctrl-a",run:g$,shift:S$},{key:"Ctrl-e",run:_$,shift:C$},{key:"Ctrl-d",run:Gb},{key:"Ctrl-h",run:I_},{key:"Ctrl-k",run:xv},{key:"Ctrl-Alt-h",run:Rb},{key:"Ctrl-o",run:T$},{key:"Ctrl-t",run:F$},{key:"Ctrl-v",run:B_}],i3=[{key:"ArrowLeft",run:yb,shift:$b,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:h$,shift:v$,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:Zw,shift:Xw,preventDefault:!0},{key:"ArrowRight",run:bb,shift:Sb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:f$,shift:x$,preventDefault:!0},{mac:"Cmd-ArrowRight",run:Nw,shift:Iw,preventDefault:!0},{key:"ArrowUp",run:xb,shift:Cb,preventDefault:!0},{mac:"Cmd-ArrowUp",run:kb,shift:Db},{mac:"Ctrl-ArrowUp",run:XO,shift:Pb},{key:"ArrowDown",run:Ab,shift:Mb,preventDefault:!0},{mac:"Cmd-ArrowDown",run:Eb,shift:Tb},{mac:"Ctrl-ArrowDown",run:B_,shift:wb},{key:"PageUp",run:XO,shift:Pb},{key:"PageDown",run:B_,shift:wb},{key:"Home",run:yv,shift:vv,preventDefault:!0},{key:"Mod-Home",run:kb,shift:Db},{key:"End",run:Ov,shift:bv,preventDefault:!0},{key:"Mod-End",run:Eb,shift:Tb},{key:"Enter",run:Nb,shift:Nb},{key:"Mod-a",run:M$},{key:"Backspace",run:I_,shift:I_,preventDefault:!0},{key:"Delete",run:Gb,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Rb,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:D$,preventDefault:!0},{mac:"Mod-Backspace",run:Uw,preventDefault:!0},{mac:"Mod-Delete",run:qw,preventDefault:!0}].concat(t3.map(p=>({mac:p.key,run:p.run,shift:p.shift}))),n3=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:Gw,shift:Qw},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:Rw,shift:Bw},{key:"Alt-ArrowUp",run:R$},{key:"Shift-Alt-ArrowUp",run:Av},{key:"Alt-ArrowDown",run:Z$},{key:"Shift-Alt-ArrowDown",run:$v},{key:"Mod-Alt-ArrowUp",run:zw},{key:"Mod-Alt-ArrowDown",run:Ww},{key:"Escape",run:jw},{key:"Mod-Enter",run:Kw},{key:"Alt-l",mac:"Ctrl-l",run:P$},{key:"Mod-i",run:Vw,preventDefault:!0},{key:"Mod-[",run:Qb},{key:"Mod-]",run:Lb},{key:"Mod-Alt-\\",run:Jw},{key:"Shift-Mod-k",run:L$},{key:"Shift-Mod-\\",run:O$},{key:"Mod-/",run:t$},{key:"Alt-A",run:i$},{key:"Ctrl-m",mac:"Shift-Alt-m",run:e3}].concat(i3),r3={key:"Tab",run:Lb,shift:Qb},B$=typeof String.prototype.normalize=="function"?p=>p.normalize("NFKD"):p=>p;class V_{constructor(n,s,c=0,Ae=n.length,yt,wt){this.test=wt,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=n.iterRange(c,Ae),this.bufferStart=c,this.normalize=yt?Wa=>yt(B$(Wa)):B$,this.query=this.normalize(s)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return qd(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let n=this.peek();if(n<0)return this.done=!0,this;let s=dm(n),c=this.bufferStart+this.bufferPos;this.bufferPos+=im(n);let Ae=this.normalize(s);if(Ae.length)for(let yt=0,wt=c;;yt++){let Wa=Ae.charCodeAt(yt),ja=this.match(Wa,wt,this.bufferPos+this.bufferStart);if(yt==Ae.length-1){if(ja)return this.value=ja,this;break}wt==c&&yt<s.length&&s.charCodeAt(yt)==Wa&&wt++}}}match(n,s,c){let Ae=null;for(let yt=0;yt<this.matches.length;yt+=2){let wt=this.matches[yt],Wa=!1;this.query.charCodeAt(wt)==n&&(wt==this.query.length-1?Ae={from:this.matches[yt+1],to:c}:(this.matches[yt]++,Wa=!0)),Wa||(this.matches.splice(yt,2),yt-=2)}return this.query.charCodeAt(0)==n&&(this.query.length==1?Ae={from:s,to:c}:this.matches.push(1,s)),Ae&&this.test&&!this.test(Ae.from,Ae.to,this.buffer,this.bufferStart)&&(Ae=null),Ae}}typeof Symbol<"u"&&(V_.prototype[Symbol.iterator]=function(){return this});const X$={from:-1,to:-1,match:/.*/.exec("")},Cv="gm"+(/x/.unicode==null?"":"u");class I${constructor(n,s,c,Ae=0,yt=n.length){if(this.text=n,this.to=yt,this.curLine="",this.done=!1,this.value=X$,/\\[sWDnr]|\n|\r|\[\^/.test(s))return new V$(n,s,c,Ae,yt);this.re=new RegExp(s,Cv+(c?.ignoreCase?"i":"")),this.test=c?.test,this.iter=n.iter();let wt=n.lineAt(Ae);this.curLineStart=wt.from,this.matchPos=Bb(n,Ae),this.getLine(this.curLineStart)}getLine(n){this.iter.next(n),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let n=this.matchPos-this.curLineStart;;){this.re.lastIndex=n;let s=this.matchPos<=this.to&&this.re.exec(this.curLine);if(s){let c=this.curLineStart+s.index,Ae=c+s[0].length;if(this.matchPos=Bb(this.text,Ae+(c==Ae?1:0)),c==this.curLineStart+this.curLine.length&&this.nextLine(),(c<Ae||c>this.value.to)&&(!this.test||this.test(c,Ae,s)))return this.value={from:c,to:Ae,match:s},this;n=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),n=0;else return this.done=!0,this}}}const Mv=new WeakMap;class z_{constructor(n,s){this.from=n,this.text=s}get to(){return this.from+this.text.length}static get(n,s,c){let Ae=Mv.get(n);if(!Ae||Ae.from>=c||Ae.to<=s){let Wa=new z_(s,n.sliceString(s,c));return Mv.set(n,Wa),Wa}if(Ae.from==s&&Ae.to==c)return Ae;let{text:yt,from:wt}=Ae;return wt>s&&(yt=n.sliceString(s,wt)+yt,wt=s),Ae.to<c&&(yt+=n.sliceString(Ae.to,c)),Mv.set(n,new z_(wt,yt)),new z_(s,yt.slice(s-wt,c-wt))}}class V${constructor(n,s,c,Ae,yt){this.text=n,this.to=yt,this.done=!1,this.value=X$,this.matchPos=Bb(n,Ae),this.re=new RegExp(s,Cv+(c?.ignoreCase?"i":"")),this.test=c?.test,this.flat=z_.get(n,Ae,this.chunkEnd(Ae+5e3))}chunkEnd(n){return n>=this.to?this.to:this.text.lineAt(n).to}next(){for(;;){let n=this.re.lastIndex=this.matchPos-this.flat.from,s=this.re.exec(this.flat.text);if(s&&!s[0]&&s.index==n&&(this.re.lastIndex=n+1,s=this.re.exec(this.flat.text)),s){let c=this.flat.from+s.index,Ae=c+s[0].length;if((this.flat.to>=this.to||s.index+s[0].length<=this.flat.text.length-10)&&(!this.test||this.test(c,Ae,s)))return this.value={from:c,to:Ae,match:s},this.matchPos=Bb(this.text,Ae+(c==Ae?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=z_.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(I$.prototype[Symbol.iterator]=V$.prototype[Symbol.iterator]=function(){return this});function s3(p){try{return new RegExp(p,Cv),!0}catch{return!1}}function Bb(p,n){if(n>=p.length)return n;let s=p.lineAt(n),c;for(;n<s.to&&(c=s.text.charCodeAt(n-s.from))>=56320&&c<57344;)n++;return n}function Pv(p){let n=String(p.state.doc.lineAt(p.state.selection.main.head).number),s=d0("input",{class:"cm-textfield",name:"line",value:n}),c=d0("form",{class:"cm-gotoLine",onkeydown:yt=>{yt.keyCode==27?(yt.preventDefault(),p.dispatch({effects:IO.of(!1)}),p.focus()):yt.keyCode==13&&(yt.preventDefault(),Ae())},onsubmit:yt=>{yt.preventDefault(),Ae()}},d0("label",p.state.phrase("Go to line"),": ",s)," ",d0("button",{class:"cm-button",type:"submit"},p.state.phrase("go")),d0("button",{name:"close",onclick:()=>{p.dispatch({effects:IO.of(!1)}),p.focus()},"aria-label":p.state.phrase("close"),type:"button"},["Ã—"]));function Ae(){let yt=/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(s.value);if(!yt)return;let{state:wt}=p,Wa=wt.doc.lineAt(wt.selection.main.head),[,ja,pd,md,vd]=yt,$d=md?+md.slice(1):0,kd=pd?+pd:Wa.number;if(pd&&vd){let Ud=kd/100;ja&&(Ud=Ud*(ja=="-"?-1:1)+Wa.number/wt.doc.lines),kd=Math.round(wt.doc.lines*Ud)}else pd&&ja&&(kd=kd*(ja=="-"?-1:1)+Wa.number);let Zd=wt.doc.line(Math.max(1,Math.min(wt.doc.lines,kd))),Id=Hd.cursor(Zd.from+Math.max(0,Math.min($d,Zd.length)));p.dispatch({effects:[IO.of(!1),wm.scrollIntoView(Id.from,{y:"center"})],selection:Id}),p.focus()}return{dom:c}}const IO=xm.define(),z$=Vm.define({create(){return!0},update(p,n){for(let s of n.effects)s.is(IO)&&(p=s.value);return p},provide:p=>kO.from(p,n=>n?Pv:null)}),W$=p=>{let n=wO(p,Pv);if(!n){let s=[IO.of(!0)];p.state.field(z$,!1)==null&&s.push(xm.appendConfig.of([z$,o3])),p.dispatch({effects:s}),n=wO(p,Pv)}return n&&n.dom.querySelector("input").select(),!0},o3=wm.baseTheme({".cm-panel.cm-gotoLine":{padding:"2px 6px 4px",position:"relative","& label":{fontSize:"80%"},"& [name=close]":{position:"absolute",top:"0",bottom:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:"0"}}}),a3={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},j$=am.define({combine(p){return Kd(p,a3,{highlightWordAroundCursor:(n,s)=>n||s,minSelectionLength:Math.min,maxMatches:Math.min})}});function l3(p){let n=[p3,f3];return p&&n.push(j$.of(p)),n}const u3=Rm.mark({class:"cm-selectionMatch"}),c3=Rm.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function Y$(p,n,s,c){return(s==0||p(n.sliceDoc(s-1,s))!=Od.Word)&&(c==n.doc.length||p(n.sliceDoc(c,c+1))!=Od.Word)}function h3(p,n,s,c){return p(n.sliceDoc(s,s+1))==Od.Word&&p(n.sliceDoc(c-1,c))==Od.Word}const f3=S0.fromClass(class{constructor(p){this.decorations=this.getDeco(p)}update(p){(p.selectionSet||p.docChanged||p.viewportChanged)&&(this.decorations=this.getDeco(p.view))}getDeco(p){let n=p.state.facet(j$),{state:s}=p,c=s.selection;if(c.ranges.length>1)return Rm.none;let Ae=c.main,yt,wt=null;if(Ae.empty){if(!n.highlightWordAroundCursor)return Rm.none;let ja=s.wordAt(Ae.head);if(!ja)return Rm.none;wt=s.charCategorizer(Ae.head),yt=s.sliceDoc(ja.from,ja.to)}else{let ja=Ae.to-Ae.from;if(ja<n.minSelectionLength||ja>200)return Rm.none;if(n.wholeWords){if(yt=s.sliceDoc(Ae.from,Ae.to),wt=s.charCategorizer(Ae.head),!(Y$(wt,s,Ae.from,Ae.to)&&h3(wt,s,Ae.from,Ae.to)))return Rm.none}else if(yt=s.sliceDoc(Ae.from,Ae.to),!yt)return Rm.none}let Wa=[];for(let ja of p.visibleRanges){let pd=new V_(s.doc,yt,ja.from,ja.to);for(;!pd.next().done;){let{from:md,to:vd}=pd.value;if((!wt||Y$(wt,s,md,vd))&&(Ae.empty&&md<=Ae.from&&vd>=Ae.to?Wa.push(c3.range(md,vd)):(md>=Ae.to||vd<=Ae.from)&&Wa.push(u3.range(md,vd)),Wa.length>n.maxMatches))return Rm.none}}return Rm.set(Wa)}},{decorations:p=>p.decorations}),p3=wm.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),d3=({state:p,dispatch:n})=>{let{selection:s}=p,c=Hd.create(s.ranges.map(Ae=>p.wordAt(Ae.head)||Hd.cursor(Ae.head)),s.mainIndex);return c.eq(s)?!1:(n(p.update({selection:c})),!0)};function m3(p,n){let{main:s,ranges:c}=p.selection,Ae=p.wordAt(s.head),yt=Ae&&Ae.from==s.from&&Ae.to==s.to;for(let wt=!1,Wa=new V_(p.doc,n,c[c.length-1].to);;)if(Wa.next(),Wa.done){if(wt)return null;Wa=new V_(p.doc,n,0,Math.max(0,c[c.length-1].from-1)),wt=!0}else{if(wt&&c.some(ja=>ja.from==Wa.value.from))continue;if(yt){let ja=p.wordAt(Wa.value.from);if(!ja||ja.from!=Wa.value.from||ja.to!=Wa.value.to)continue}return Wa.value}}const wv=({state:p,dispatch:n})=>{let{ranges:s}=p.selection;if(s.some(yt=>yt.from===yt.to))return d3({state:p,dispatch:n});let c=p.sliceDoc(s[0].from,s[0].to);if(p.selection.ranges.some(yt=>p.sliceDoc(yt.from,yt.to)!=c))return!1;let Ae=m3(p,c);return Ae?(n(p.update({selection:p.selection.addRange(Hd.range(Ae.from,Ae.to),!1),effects:wm.scrollIntoView(Ae.to)})),!0):!1},__=am.define({combine(p){return Kd(p,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:n=>new S3(n),scrollToMatch:n=>wm.scrollIntoView(n)})}});function g3(p){return p?[__.of(p),Zv]:Zv}class U${constructor(n){this.search=n.search,this.caseSensitive=!!n.caseSensitive,this.literal=!!n.literal,this.regexp=!!n.regexp,this.replace=n.replace||"",this.valid=!!this.search&&(!this.regexp||s3(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!n.wholeWord}unquote(n){return this.literal?n:n.replace(/\\([nrt\\])/g,(s,c)=>c=="n"?`
`:c=="r"?"\r":c=="t"?"	":"\\")}eq(n){return this.search==n.search&&this.replace==n.replace&&this.caseSensitive==n.caseSensitive&&this.regexp==n.regexp&&this.wholeWord==n.wholeWord}create(){return this.regexp?new b3(this):new O3(this)}getCursor(n,s=0,c){let Ae=n.doc?n:Yd.create({doc:n});return c==null&&(c=Ae.doc.length),this.regexp?j_(this,Ae,s,c):W_(this,Ae,s,c)}}class q${constructor(n){this.spec=n}}function W_(p,n,s,c){return new V_(n.doc,p.unquoted,s,c,p.caseSensitive?void 0:Ae=>Ae.toLowerCase(),p.wholeWord?_3(n.doc,n.charCategorizer(n.selection.main.head)):void 0)}function _3(p,n){return(s,c,Ae,yt)=>((yt>s||yt+Ae.length<c)&&(yt=Math.max(0,s-2),Ae=p.sliceString(yt,Math.min(p.length,c+2))),(n(Xb(Ae,s-yt))!=Od.Word||n(Ib(Ae,s-yt))!=Od.Word)&&(n(Ib(Ae,c-yt))!=Od.Word||n(Xb(Ae,c-yt))!=Od.Word))}class O3 extends q${constructor(n){super(n)}nextMatch(n,s,c){let Ae=W_(this.spec,n,c,n.doc.length).nextOverlapping();if(Ae.done){let yt=Math.min(n.doc.length,s+this.spec.unquoted.length);Ae=W_(this.spec,n,0,yt).nextOverlapping()}return Ae.done||Ae.value.from==s&&Ae.value.to==c?null:Ae.value}prevMatchInRange(n,s,c){for(let Ae=c;;){let yt=Math.max(s,Ae-1e4-this.spec.unquoted.length),wt=W_(this.spec,n,yt,Ae),Wa=null;for(;!wt.nextOverlapping().done;)Wa=wt.value;if(Wa)return Wa;if(yt==s)return null;Ae-=1e4}}prevMatch(n,s,c){let Ae=this.prevMatchInRange(n,0,s);return Ae||(Ae=this.prevMatchInRange(n,Math.max(0,c-this.spec.unquoted.length),n.doc.length)),Ae&&(Ae.from!=s||Ae.to!=c)?Ae:null}getReplacement(n){return this.spec.unquote(this.spec.replace)}matchAll(n,s){let c=W_(this.spec,n,0,n.doc.length),Ae=[];for(;!c.next().done;){if(Ae.length>=s)return null;Ae.push(c.value)}return Ae}highlight(n,s,c,Ae){let yt=W_(this.spec,n,Math.max(0,s-this.spec.unquoted.length),Math.min(c+this.spec.unquoted.length,n.doc.length));for(;!yt.next().done;)Ae(yt.value.from,yt.value.to)}}function j_(p,n,s,c){return new I$(n.doc,p.search,{ignoreCase:!p.caseSensitive,test:p.wholeWord?y3(n.charCategorizer(n.selection.main.head)):void 0},s,c)}function Xb(p,n){return p.slice(Qd(p,n,!1),n)}function Ib(p,n){return p.slice(n,Qd(p,n))}function y3(p){return(n,s,c)=>!c[0].length||(p(Xb(c.input,c.index))!=Od.Word||p(Ib(c.input,c.index))!=Od.Word)&&(p(Ib(c.input,c.index+c[0].length))!=Od.Word||p(Xb(c.input,c.index+c[0].length))!=Od.Word)}class b3 extends q${nextMatch(n,s,c){let Ae=j_(this.spec,n,c,n.doc.length).next();return Ae.done&&(Ae=j_(this.spec,n,0,s).next()),Ae.done?null:Ae.value}prevMatchInRange(n,s,c){for(let Ae=1;;Ae++){let yt=Math.max(s,c-Ae*1e4),wt=j_(this.spec,n,yt,c),Wa=null;for(;!wt.next().done;)Wa=wt.value;if(Wa&&(yt==s||Wa.from>yt+10))return Wa;if(yt==s)return null}}prevMatch(n,s,c){return this.prevMatchInRange(n,0,s)||this.prevMatchInRange(n,c,n.doc.length)}getReplacement(n){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(s,c)=>{if(c=="&")return n.match[0];if(c=="$")return"$";for(let Ae=c.length;Ae>0;Ae--){let yt=+c.slice(0,Ae);if(yt>0&&yt<n.match.length)return n.match[yt]+c.slice(Ae)}return s})}matchAll(n,s){let c=j_(this.spec,n,0,n.doc.length),Ae=[];for(;!c.next().done;){if(Ae.length>=s)return null;Ae.push(c.value)}return Ae}highlight(n,s,c,Ae){let yt=j_(this.spec,n,Math.max(0,s-250),Math.min(c+250,n.doc.length));for(;!yt.next().done;)Ae(yt.value.from,yt.value.to)}}const VO=xm.define(),kv=xm.define(),r_=Vm.define({create(p){return new Ev(Tv(p).create(),null)},update(p,n){for(let s of n.effects)s.is(VO)?p=new Ev(s.value.create(),p.panel):s.is(kv)&&(p=new Ev(p.query,s.value?Dv:null));return p},provide:p=>kO.from(p,n=>n.panel)});class Ev{constructor(n,s){this.query=n,this.panel=s}}const v3=Rm.mark({class:"cm-searchMatch"}),x3=Rm.mark({class:"cm-searchMatch cm-searchMatch-selected"}),A3=S0.fromClass(class{constructor(p){this.view=p,this.decorations=this.highlight(p.state.field(r_))}update(p){let n=p.state.field(r_);(n!=p.startState.field(r_)||p.docChanged||p.selectionSet||p.viewportChanged)&&(this.decorations=this.highlight(n))}highlight({query:p,panel:n}){if(!n||!p.spec.valid)return Rm.none;let{view:s}=this,c=new N0;for(let Ae=0,yt=s.visibleRanges,wt=yt.length;Ae<wt;Ae++){let{from:Wa,to:ja}=yt[Ae];for(;Ae<wt-1&&ja>yt[Ae+1].from-500;)ja=yt[++Ae].to;p.highlight(s.state,Wa,ja,(pd,md)=>{let vd=s.state.selection.ranges.some($d=>$d.from==pd&&$d.to==md);c.add(pd,md,vd?x3:v3)})}return c.finish()}},{decorations:p=>p.decorations});function zO(p){return n=>{let s=n.state.field(r_,!1);return s&&s.query.spec.valid?p(n,s):Fv(n)}}const Vb=zO((p,{query:n})=>{let{to:s}=p.state.selection.main,c=n.nextMatch(p.state,s,s);if(!c)return!1;let Ae=Hd.single(c.from,c.to),yt=p.state.facet(__);return p.dispatch({selection:Ae,effects:[Rv(p,c),yt.scrollToMatch(Ae.main,p)],userEvent:"select.search"}),iS(p),!0}),zb=zO((p,{query:n})=>{let{state:s}=p,{from:c}=s.selection.main,Ae=n.prevMatch(s,c,c);if(!Ae)return!1;let yt=Hd.single(Ae.from,Ae.to),wt=p.state.facet(__);return p.dispatch({selection:yt,effects:[Rv(p,Ae),wt.scrollToMatch(yt.main,p)],userEvent:"select.search"}),iS(p),!0}),H$=zO((p,{query:n})=>{let s=n.matchAll(p.state,1e3);return!s||!s.length?!1:(p.dispatch({selection:Hd.create(s.map(c=>Hd.range(c.from,c.to))),userEvent:"select.search.matches"}),!0)}),K$=({state:p,dispatch:n})=>{let s=p.selection;if(s.ranges.length>1||s.main.empty)return!1;let{from:c,to:Ae}=s.main,yt=[],wt=0;for(let Wa=new V_(p.doc,p.sliceDoc(c,Ae));!Wa.next().done;){if(yt.length>1e3)return!1;Wa.value.from==c&&(wt=yt.length),yt.push(Hd.range(Wa.value.from,Wa.value.to))}return n(p.update({selection:Hd.create(yt,wt),userEvent:"select.search.matches"})),!0},J$=zO((p,{query:n})=>{let{state:s}=p,{from:c,to:Ae}=s.selection.main;if(s.readOnly)return!1;let yt=n.nextMatch(s,c,c);if(!yt)return!1;let wt=yt,Wa=[],ja,pd,md=[];wt.from==c&&wt.to==Ae&&(pd=s.toText(n.getReplacement(wt)),Wa.push({from:wt.from,to:wt.to,insert:pd}),wt=n.nextMatch(s,wt.from,wt.to),md.push(wm.announce.of(s.phrase("replaced match on line $",s.doc.lineAt(c).number)+".")));let vd=p.state.changes(Wa);return wt&&(ja=Hd.single(wt.from,wt.to).map(vd),md.push(Rv(p,wt)),md.push(s.facet(__).scrollToMatch(ja.main,p))),p.dispatch({changes:vd,selection:ja,effects:md,userEvent:"input.replace"}),!0}),eS=zO((p,{query:n})=>{if(p.state.readOnly)return!1;let s=n.matchAll(p.state,1e9).map(Ae=>{let{from:yt,to:wt}=Ae;return{from:yt,to:wt,insert:n.getReplacement(Ae)}});if(!s.length)return!1;let c=p.state.phrase("replaced $ matches",s.length)+".";return p.dispatch({changes:s,effects:wm.announce.of(c),userEvent:"input.replace.all"}),!0});function Dv(p){return p.state.facet(__).createPanel(p)}function Tv(p,n){var s,c,Ae,yt,wt;let Wa=p.selection.main,ja=Wa.empty||Wa.to>Wa.from+100?"":p.sliceDoc(Wa.from,Wa.to);if(n&&!ja)return n;let pd=p.facet(__);return new U$({search:((s=n?.literal)!==null&&s!==void 0?s:pd.literal)?ja:ja.replace(/\n/g,"\\n"),caseSensitive:(c=n?.caseSensitive)!==null&&c!==void 0?c:pd.caseSensitive,literal:(Ae=n?.literal)!==null&&Ae!==void 0?Ae:pd.literal,regexp:(yt=n?.regexp)!==null&&yt!==void 0?yt:pd.regexp,wholeWord:(wt=n?.wholeWord)!==null&&wt!==void 0?wt:pd.wholeWord})}function tS(p){let n=wO(p,Dv);return n&&n.dom.querySelector("[main-field]")}function iS(p){let n=tS(p);n&&n==p.root.activeElement&&n.select()}const Fv=p=>{let n=p.state.field(r_,!1);if(n&&n.panel){let s=tS(p);if(s&&s!=p.root.activeElement){let c=Tv(p.state,n.query.spec);c.valid&&p.dispatch({effects:VO.of(c)}),s.focus(),s.select()}}else p.dispatch({effects:[kv.of(!0),n?VO.of(Tv(p.state,n.query.spec)):xm.appendConfig.of(Zv)]});return!0},Gv=p=>{let n=p.state.field(r_,!1);if(!n||!n.panel)return!1;let s=wO(p,Dv);return s&&s.dom.contains(p.root.activeElement)&&p.focus(),p.dispatch({effects:kv.of(!1)}),!0},$3=[{key:"Mod-f",run:Fv,scope:"editor search-panel"},{key:"F3",run:Vb,shift:zb,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Vb,shift:zb,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:Gv,scope:"editor search-panel"},{key:"Mod-Shift-l",run:K$},{key:"Mod-Alt-g",run:W$},{key:"Mod-d",run:wv,preventDefault:!0}];class S3{constructor(n){this.view=n;let s=this.query=n.state.field(r_).query.spec;this.commit=this.commit.bind(this),this.searchField=d0("input",{value:s.search,placeholder:q1(n,"Find"),"aria-label":q1(n,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=d0("input",{value:s.replace,placeholder:q1(n,"Replace"),"aria-label":q1(n,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=d0("input",{type:"checkbox",name:"case",form:"",checked:s.caseSensitive,onchange:this.commit}),this.reField=d0("input",{type:"checkbox",name:"re",form:"",checked:s.regexp,onchange:this.commit}),this.wordField=d0("input",{type:"checkbox",name:"word",form:"",checked:s.wholeWord,onchange:this.commit});function c(Ae,yt,wt){return d0("button",{class:"cm-button",name:Ae,onclick:yt,type:"button"},wt)}this.dom=d0("div",{onkeydown:Ae=>this.keydown(Ae),class:"cm-search"},[this.searchField,c("next",()=>Vb(n),[q1(n,"next")]),c("prev",()=>zb(n),[q1(n,"previous")]),c("select",()=>H$(n),[q1(n,"all")]),d0("label",null,[this.caseField,q1(n,"match case")]),d0("label",null,[this.reField,q1(n,"regexp")]),d0("label",null,[this.wordField,q1(n,"by word")]),...n.state.readOnly?[]:[d0("br"),this.replaceField,c("replace",()=>J$(n),[q1(n,"replace")]),c("replaceAll",()=>eS(n),[q1(n,"replace all")])],d0("button",{name:"close",onclick:()=>Gv(n),"aria-label":q1(n,"close"),type:"button"},["Ã—"])])}commit(){let n=new U$({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});n.eq(this.query)||(this.query=n,this.view.dispatch({effects:VO.of(n)}))}keydown(n){AM(this.view,n,"search-panel")?n.preventDefault():n.keyCode==13&&n.target==this.searchField?(n.preventDefault(),(n.shiftKey?zb:Vb)(this.view)):n.keyCode==13&&n.target==this.replaceField&&(n.preventDefault(),J$(this.view))}update(n){for(let s of n.transactions)for(let c of s.effects)c.is(VO)&&!c.value.eq(this.query)&&this.setQuery(c.value)}setQuery(n){this.query=n,this.searchField.value=n.search,this.replaceField.value=n.replace,this.caseField.checked=n.caseSensitive,this.reField.checked=n.regexp,this.wordField.checked=n.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(__).top}}function q1(p,n){return p.state.phrase(n)}const Wb=30,jb=/[\s\.,:;?!]/;function Rv(p,{from:n,to:s}){let c=p.state.doc.lineAt(n),Ae=p.state.doc.lineAt(s).to,yt=Math.max(c.from,n-Wb),wt=Math.min(Ae,s+Wb),Wa=p.state.sliceDoc(yt,wt);if(yt!=c.from){for(let ja=0;ja<Wb;ja++)if(!jb.test(Wa[ja+1])&&jb.test(Wa[ja])){Wa=Wa.slice(ja);break}}if(wt!=Ae){for(let ja=Wa.length-1;ja>Wa.length-Wb;ja--)if(!jb.test(Wa[ja-1])&&jb.test(Wa[ja])){Wa=Wa.slice(0,ja);break}}return wm.announce.of(`${p.state.phrase("current match")}. ${Wa} ${p.state.phrase("on line")} ${c.number}.`)}const C3=wm.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Zv=[r_,x0.low(A3),C3];class nS{constructor(n,s,c,Ae){this.state=n,this.pos=s,this.explicit=c,this.view=Ae,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(n){let s=R0(this.state).resolveInner(this.pos,-1);for(;s&&n.indexOf(s.name)<0;)s=s.parent;return s?{from:s.from,to:this.pos,text:this.state.sliceDoc(s.from,this.pos),type:s.type}:null}matchBefore(n){let s=this.state.doc.lineAt(this.pos),c=Math.max(s.from,this.pos-250),Ae=s.text.slice(c-s.from,this.pos-s.from),yt=Ae.search(aS(n,!1));return yt<0?null:{from:c+yt,to:this.pos,text:Ae.slice(yt)}}get aborted(){return this.abortListeners==null}addEventListener(n,s,c){n=="abort"&&this.abortListeners&&(this.abortListeners.push(s),c&&c.onDocChange&&(this.abortOnDocChange=!0))}}function rS(p){let n=Object.keys(p).join(""),s=/\w/.test(n);return s&&(n=n.replace(/\w/g,"")),`[${s?"\\w":""}${n.replace(/[^\w\s]/g,"\\$&")}]`}function M3(p){let n=Object.create(null),s=Object.create(null);for(let{label:Ae}of p){n[Ae[0]]=!0;for(let yt=1;yt<Ae.length;yt++)s[Ae[yt]]=!0}let c=rS(n)+rS(s)+"*$";return[new RegExp("^"+c),new RegExp(c)]}function sS(p){let n=p.map(Ae=>typeof Ae=="string"?{label:Ae}:Ae),[s,c]=n.every(Ae=>/^\w+$/.test(Ae.label))?[/\w*$/,/\w+$/]:M3(n);return Ae=>{let yt=Ae.matchBefore(c);return yt||Ae.explicit?{from:yt?yt.from:Ae.pos,options:n,validFor:s}:null}}function P3(p,n){return s=>{for(let c=R0(s.state).resolveInner(s.pos,-1);c;c=c.parent){if(p.indexOf(c.name)>-1)return null;if(c.type.isTop)break}return n(s)}}class oS{constructor(n,s,c,Ae){this.completion=n,this.source=s,this.match=c,this.score=Ae}}function O_(p){return p.selection.main.from}function aS(p,n){var s;let{source:c}=p,Ae=n&&c[0]!="^",yt=c[c.length-1]!="$";return!Ae&&!yt?p:new RegExp(`${Ae?"^":""}(?:${c})${yt?"$":""}`,(s=p.flags)!==null&&s!==void 0?s:p.ignoreCase?"i":"")}const Nv=zm.define();function w3(p,n,s,c){let{main:Ae}=p.selection,yt=s-Ae.from,wt=c-Ae.from;return{...p.changeByRange(Wa=>{if(Wa!=Ae&&s!=c&&p.sliceDoc(Wa.from+yt,Wa.from+wt)!=p.sliceDoc(s,c))return{range:Wa};let ja=p.toText(n);return{changes:{from:Wa.from+yt,to:c==Ae.from?Wa.to:Wa.from+wt,insert:ja},range:Hd.cursor(Wa.from+yt+ja.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const lS=new WeakMap;function k3(p){if(!Array.isArray(p))return p;let n=lS.get(p);return n||lS.set(p,n=sS(p)),n}const Yb=xm.define(),WO=xm.define();class E3{constructor(n){this.pattern=n,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let s=0;s<n.length;){let c=qd(n,s),Ae=im(c);this.chars.push(c);let yt=n.slice(s,s+Ae),wt=yt.toUpperCase();this.folded.push(qd(wt==yt?yt.toLowerCase():wt,0)),s+=Ae}this.astral=n.length!=this.chars.length}ret(n,s){return this.score=n,this.matched=s,this}match(n){if(this.pattern.length==0)return this.ret(-100,[]);if(n.length<this.pattern.length)return null;let{chars:s,folded:c,any:Ae,precise:yt,byWord:wt}=this;if(s.length==1){let pm=qd(n,0),fm=im(pm),Em=fm==n.length?0:-100;if(pm!=s[0])if(pm==c[0])Em+=-200;else return null;return this.ret(Em,[0,fm])}let Wa=n.indexOf(this.pattern);if(Wa==0)return this.ret(n.length==this.pattern.length?0:-100,[0,this.pattern.length]);let ja=s.length,pd=0;if(Wa<0){for(let pm=0,fm=Math.min(n.length,200);pm<fm&&pd<ja;){let Em=qd(n,pm);(Em==s[pd]||Em==c[pd])&&(Ae[pd++]=pm),pm+=im(Em)}if(pd<ja)return null}let md=0,vd=0,$d=!1,kd=0,Zd=-1,Id=-1,Ud=/[a-z]/.test(n),tm=!0;for(let pm=0,fm=Math.min(n.length,200),Em=0;pm<fm&&vd<ja;){let hm=qd(n,pm);Wa<0&&(md<ja&&hm==s[md]&&(yt[md++]=pm),kd<ja&&(hm==s[kd]||hm==c[kd]?(kd==0&&(Zd=pm),Id=pm+1,kd++):kd=0));let $m,bm=hm<255?hm>=48&&hm<=57||hm>=97&&hm<=122?2:hm>=65&&hm<=90?1:0:($m=dm(hm))!=$m.toLowerCase()?1:$m!=$m.toUpperCase()?2:0;(!pm||bm==1&&Ud||Em==0&&bm!=0)&&(s[vd]==hm||c[vd]==hm&&($d=!0)?wt[vd++]=pm:wt.length&&(tm=!1)),Em=bm,pm+=im(hm)}return vd==ja&&wt[0]==0&&tm?this.result(-100+($d?-200:0),wt,n):kd==ja&&Zd==0?this.ret(-200-n.length+(Id==n.length?0:-100),[0,Id]):Wa>-1?this.ret(-700-n.length,[Wa,Wa+this.pattern.length]):kd==ja?this.ret(-900-n.length,[Zd,Id]):vd==ja?this.result(-100+($d?-200:0)+-700+(tm?0:-1100),wt,n):s.length==2?null:this.result((Ae[0]?-700:0)+-200+-1100,Ae,n)}result(n,s,c){let Ae=[],yt=0;for(let wt of s){let Wa=wt+(this.astral?im(qd(c,wt)):1);yt&&Ae[yt-1]==wt?Ae[yt-1]=Wa:(Ae[yt++]=wt,Ae[yt++]=Wa)}return this.ret(n-c.length,Ae)}}class D3{constructor(n){this.pattern=n,this.matched=[],this.score=0,this.folded=n.toLowerCase()}match(n){if(n.length<this.pattern.length)return null;let s=n.slice(0,this.pattern.length),c=s==this.pattern?0:s.toLowerCase()==this.folded?-200:null;return c==null?null:(this.matched=[0,s.length],this.score=c+(n.length==this.pattern.length?0:-100),this)}}const B0=am.define({combine(p){return Kd(p,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:T3,filterStrict:!1,compareCompletions:(n,s)=>(n.sortText||n.label).localeCompare(s.sortText||s.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(n,s)=>n&&s,closeOnBlur:(n,s)=>n&&s,icons:(n,s)=>n&&s,tooltipClass:(n,s)=>c=>uS(n(c),s(c)),optionClass:(n,s)=>c=>uS(n(c),s(c)),addToOptions:(n,s)=>n.concat(s),filterStrict:(n,s)=>n||s})}});function uS(p,n){return p?n?p+" "+n:p:n}function T3(p,n,s,c,Ae,yt){let wt=p.textDirection==f0.RTL,Wa=wt,ja=!1,pd="top",md,vd,$d=n.left-Ae.left,kd=Ae.right-n.right,Zd=c.right-c.left,Id=c.bottom-c.top;if(Wa&&$d<Math.min(Zd,kd)?Wa=!1:!Wa&&kd<Math.min(Zd,$d)&&(Wa=!0),Zd<=(Wa?$d:kd))md=Math.max(Ae.top,Math.min(s.top,Ae.bottom-Id))-n.top,vd=Math.min(400,Wa?$d:kd);else{ja=!0,vd=Math.min(400,(wt?n.right:Ae.right-n.left)-30);let pm=Ae.bottom-n.bottom;pm>=Id||pm>n.top?md=s.bottom-n.top:(pd="bottom",md=n.bottom-s.top)}let Ud=(n.bottom-n.top)/yt.offsetHeight,tm=(n.right-n.left)/yt.offsetWidth;return{style:`${pd}: ${md/Ud}px; max-width: ${vd/tm}px`,class:"cm-completionInfo-"+(ja?wt?"left-narrow":"right-narrow":Wa?"left":"right")}}function F3(p){let n=p.addToOptions.slice();return p.icons&&n.push({render(s){let c=document.createElement("div");return c.classList.add("cm-completionIcon"),s.type&&c.classList.add(...s.type.split(/\s+/g).map(Ae=>"cm-completionIcon-"+Ae)),c.setAttribute("aria-hidden","true"),c},position:20}),n.push({render(s,c,Ae,yt){let wt=document.createElement("span");wt.className="cm-completionLabel";let Wa=s.displayLabel||s.label,ja=0;for(let pd=0;pd<yt.length;){let md=yt[pd++],vd=yt[pd++];md>ja&&wt.appendChild(document.createTextNode(Wa.slice(ja,md)));let $d=wt.appendChild(document.createElement("span"));$d.appendChild(document.createTextNode(Wa.slice(md,vd))),$d.className="cm-completionMatchedText",ja=vd}return ja<Wa.length&&wt.appendChild(document.createTextNode(Wa.slice(ja))),wt},position:50},{render(s){if(!s.detail)return null;let c=document.createElement("span");return c.className="cm-completionDetail",c.textContent=s.detail,c},position:80}),n.sort((s,c)=>s.position-c.position).map(s=>s.render)}function Lv(p,n,s){if(p<=s)return{from:0,to:p};if(n<0&&(n=0),n<=p>>1){let Ae=Math.floor(n/s);return{from:Ae*s,to:(Ae+1)*s}}let c=Math.floor((p-n)/s);return{from:p-(c+1)*s,to:p-c*s}}class G3{constructor(n,s,c){this.view=n,this.stateField=s,this.applyCompletion=c,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:ja=>this.placeInfo(ja),key:this},this.space=null,this.currentClass="";let Ae=n.state.field(s),{options:yt,selected:wt}=Ae.open,Wa=n.state.facet(B0);this.optionContent=F3(Wa),this.optionClass=Wa.optionClass,this.tooltipClass=Wa.tooltipClass,this.range=Lv(yt.length,wt,Wa.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(n.state),this.dom.addEventListener("mousedown",ja=>{let{options:pd}=n.state.field(s).open;for(let md=ja.target,vd;md&&md!=this.dom;md=md.parentNode)if(md.nodeName=="LI"&&(vd=/-(\d+)$/.exec(md.id))&&+vd[1]<pd.length){this.applyCompletion(n,pd[+vd[1]]),ja.preventDefault();return}}),this.dom.addEventListener("focusout",ja=>{let pd=n.state.field(this.stateField,!1);pd&&pd.tooltip&&n.state.facet(B0).closeOnBlur&&ja.relatedTarget!=n.contentDOM&&n.dispatch({effects:WO.of(null)})}),this.showOptions(yt,Ae.id)}mount(){this.updateSel()}showOptions(n,s){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(n,s,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(n){var s;let c=n.state.field(this.stateField),Ae=n.startState.field(this.stateField);if(this.updateTooltipClass(n.state),c!=Ae){let{options:yt,selected:wt,disabled:Wa}=c.open;(!Ae.open||Ae.open.options!=yt)&&(this.range=Lv(yt.length,wt,n.state.facet(B0).maxRenderedOptions),this.showOptions(yt,c.id)),this.updateSel(),Wa!=((s=Ae.open)===null||s===void 0?void 0:s.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!Wa)}}updateTooltipClass(n){let s=this.tooltipClass(n);if(s!=this.currentClass){for(let c of this.currentClass.split(" "))c&&this.dom.classList.remove(c);for(let c of s.split(" "))c&&this.dom.classList.add(c);this.currentClass=s}}positioned(n){this.space=n,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let n=this.view.state.field(this.stateField),s=n.open;(s.selected>-1&&s.selected<this.range.from||s.selected>=this.range.to)&&(this.range=Lv(s.options.length,s.selected,this.view.state.facet(B0).maxRenderedOptions),this.showOptions(s.options,n.id));let c=this.updateSelectedOption(s.selected);if(c){this.destroyInfo();let{completion:Ae}=s.options[s.selected],{info:yt}=Ae;if(!yt)return;let wt=typeof yt=="string"?document.createTextNode(yt):yt(Ae);if(!wt)return;"then"in wt?wt.then(Wa=>{Wa&&this.view.state.field(this.stateField,!1)==n&&this.addInfoPane(Wa,Ae)}).catch(Wa=>T0(this.view.state,Wa,"completion info")):(this.addInfoPane(wt,Ae),c.setAttribute("aria-describedby",this.info.id))}}addInfoPane(n,s){this.destroyInfo();let c=this.info=document.createElement("div");if(c.className="cm-tooltip cm-completionInfo",c.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),n.nodeType!=null)c.appendChild(n),this.infoDestroy=null;else{let{dom:Ae,destroy:yt}=n;c.appendChild(Ae),this.infoDestroy=yt||null}this.dom.appendChild(c),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(n){let s=null;for(let c=this.list.firstChild,Ae=this.range.from;c;c=c.nextSibling,Ae++)c.nodeName!="LI"||!c.id?Ae--:Ae==n?c.hasAttribute("aria-selected")||(c.setAttribute("aria-selected","true"),s=c):c.hasAttribute("aria-selected")&&(c.removeAttribute("aria-selected"),c.removeAttribute("aria-describedby"));return s&&Z3(this.list,s),s}measureInfo(){let n=this.dom.querySelector("[aria-selected]");if(!n||!this.info)return null;let s=this.dom.getBoundingClientRect(),c=this.info.getBoundingClientRect(),Ae=n.getBoundingClientRect(),yt=this.space;if(!yt){let wt=this.dom.ownerDocument.documentElement;yt={left:0,top:0,right:wt.clientWidth,bottom:wt.clientHeight}}return Ae.top>Math.min(yt.bottom,s.bottom)-10||Ae.bottom<Math.max(yt.top,s.top)+10?null:this.view.state.facet(B0).positionInfo(this.view,s,Ae,c,yt,this.dom)}placeInfo(n){this.info&&(n?(n.style&&(this.info.style.cssText=n.style),this.info.className="cm-tooltip cm-completionInfo "+(n.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(n,s,c){const Ae=document.createElement("ul");Ae.id=s,Ae.setAttribute("role","listbox"),Ae.setAttribute("aria-expanded","true"),Ae.setAttribute("aria-label",this.view.state.phrase("Completions")),Ae.addEventListener("mousedown",wt=>{wt.target==Ae&&wt.preventDefault()});let yt=null;for(let wt=c.from;wt<c.to;wt++){let{completion:Wa,match:ja}=n[wt],{section:pd}=Wa;if(pd){let $d=typeof pd=="string"?pd:pd.name;if($d!=yt&&(wt>c.from||c.from==0))if(yt=$d,typeof pd!="string"&&pd.header)Ae.appendChild(pd.header(pd));else{let kd=Ae.appendChild(document.createElement("completion-section"));kd.textContent=$d}}const md=Ae.appendChild(document.createElement("li"));md.id=s+"-"+wt,md.setAttribute("role","option");let vd=this.optionClass(Wa);vd&&(md.className=vd);for(let $d of this.optionContent){let kd=$d(Wa,this.view.state,this.view,ja);kd&&md.appendChild(kd)}}return c.from&&Ae.classList.add("cm-completionListIncompleteTop"),c.to<n.length&&Ae.classList.add("cm-completionListIncompleteBottom"),Ae}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function R3(p,n){return s=>new G3(s,p,n)}function Z3(p,n){let s=p.getBoundingClientRect(),c=n.getBoundingClientRect(),Ae=s.height/p.offsetHeight;c.top<s.top?p.scrollTop-=(s.top-c.top)/Ae:c.bottom>s.bottom&&(p.scrollTop+=(c.bottom-s.bottom)/Ae)}function cS(p){return(p.boost||0)*100+(p.apply?10:0)+(p.info?5:0)+(p.type?1:0)}function N3(p,n){let s=[],c=null,Ae=null,yt=md=>{s.push(md);let{section:vd}=md.completion;if(vd){c||(c=[]);let $d=typeof vd=="string"?vd:vd.name;c.some(kd=>kd.name==$d)||c.push(typeof vd=="string"?{name:$d}:vd)}},wt=n.facet(B0);for(let md of p)if(md.hasResult()){let vd=md.result.getMatch;if(md.result.filter===!1)for(let $d of md.result.options)yt(new oS($d,md.source,vd?vd($d):[],1e9-s.length));else{let $d=n.sliceDoc(md.from,md.to),kd,Zd=wt.filterStrict?new D3($d):new E3($d);for(let Id of md.result.options)if(kd=Zd.match(Id.label)){let Ud=Id.displayLabel?vd?vd(Id,kd.matched):[]:kd.matched,tm=kd.score+(Id.boost||0);if(yt(new oS(Id,md.source,Ud,tm)),typeof Id.section=="object"&&Id.section.rank==="dynamic"){let{name:pm}=Id.section;Ae||(Ae=Object.create(null)),Ae[pm]=Math.max(tm,Ae[pm]||-1e9)}}}}if(c){let md=Object.create(null),vd=0,$d=(kd,Zd)=>(kd.rank==="dynamic"&&Zd.rank==="dynamic"?Ae[Zd.name]-Ae[kd.name]:0)||(typeof kd.rank=="number"?kd.rank:1e9)-(typeof Zd.rank=="number"?Zd.rank:1e9)||(kd.name<Zd.name?-1:1);for(let kd of c.sort($d))vd-=1e5,md[kd.name]=vd;for(let kd of s){let{section:Zd}=kd.completion;Zd&&(kd.score+=md[typeof Zd=="string"?Zd:Zd.name])}}let Wa=[],ja=null,pd=wt.compareCompletions;for(let md of s.sort((vd,$d)=>$d.score-vd.score||pd(vd.completion,$d.completion))){let vd=md.completion;!ja||ja.label!=vd.label||ja.detail!=vd.detail||ja.type!=null&&vd.type!=null&&ja.type!=vd.type||ja.apply!=vd.apply||ja.boost!=vd.boost?Wa.push(md):cS(md.completion)>cS(ja)&&(Wa[Wa.length-1]=md),ja=md.completion}return Wa}class Y_{constructor(n,s,c,Ae,yt,wt){this.options=n,this.attrs=s,this.tooltip=c,this.timestamp=Ae,this.selected=yt,this.disabled=wt}setSelected(n,s){return n==this.selected||n>=this.options.length?this:new Y_(this.options,hS(s,n),this.tooltip,this.timestamp,n,this.disabled)}static build(n,s,c,Ae,yt,wt){if(Ae&&!wt&&n.some(pd=>pd.isPending))return Ae.setDisabled();let Wa=N3(n,s);if(!Wa.length)return Ae&&n.some(pd=>pd.isPending)?Ae.setDisabled():null;let ja=s.facet(B0).selectOnOpen?0:-1;if(Ae&&Ae.selected!=ja&&Ae.selected!=-1){let pd=Ae.options[Ae.selected].completion;for(let md=0;md<Wa.length;md++)if(Wa[md].completion==pd){ja=md;break}}return new Y_(Wa,hS(c,ja),{pos:n.reduce((pd,md)=>md.hasResult()?Math.min(pd,md.from):pd,1e8),create:V3,above:yt.aboveCursor},Ae?Ae.timestamp:Date.now(),ja,!1)}map(n){return new Y_(this.options,this.attrs,{...this.tooltip,pos:n.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new Y_(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Ub{constructor(n,s,c){this.active=n,this.id=s,this.open=c}static start(){return new Ub(X3,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(n){let{state:s}=n,c=s.facet(B0),yt=(c.override||s.languageDataAt("autocomplete",O_(s)).map(k3)).map(ja=>(this.active.find(md=>md.source==ja)||new ug(ja,this.active.some(md=>md.state!=0)?1:0)).update(n,c));yt.length==this.active.length&&yt.every((ja,pd)=>ja==this.active[pd])&&(yt=this.active);let wt=this.open,Wa=n.effects.some(ja=>ja.is(Qv));wt&&n.docChanged&&(wt=wt.map(n.changes)),n.selection||yt.some(ja=>ja.hasResult()&&n.changes.touchesRange(ja.from,ja.to))||!L3(yt,this.active)||Wa?wt=Y_.build(yt,s,this.id,wt,c,Wa):wt&&wt.disabled&&!yt.some(ja=>ja.isPending)&&(wt=null),!wt&&yt.every(ja=>!ja.isPending)&&yt.some(ja=>ja.hasResult())&&(yt=yt.map(ja=>ja.hasResult()?new ug(ja.source,0):ja));for(let ja of n.effects)ja.is(pS)&&(wt=wt&&wt.setSelected(ja.value,this.id));return yt==this.active&&wt==this.open?this:new Ub(yt,this.id,wt)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Q3:B3}}function L3(p,n){if(p==n)return!0;for(let s=0,c=0;;){for(;s<p.length&&!p[s].hasResult();)s++;for(;c<n.length&&!n[c].hasResult();)c++;let Ae=s==p.length,yt=c==n.length;if(Ae||yt)return Ae==yt;if(p[s++].result!=n[c++].result)return!1}}const Q3={"aria-autocomplete":"list"},B3={};function hS(p,n){let s={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":p};return n>-1&&(s["aria-activedescendant"]=p+"-"+n),s}const X3=[];function fS(p,n){if(p.isUserEvent("input.complete")){let c=p.annotation(Nv);if(c&&n.activateOnCompletion(c))return 12}let s=p.isUserEvent("input.type");return s&&n.activateOnTyping?5:s?1:p.isUserEvent("delete.backward")?2:p.selection?8:p.docChanged?16:0}class ug{constructor(n,s,c=!1){this.source=n,this.state=s,this.explicit=c}hasResult(){return!1}get isPending(){return this.state==1}update(n,s){let c=fS(n,s),Ae=this;(c&8||c&16&&this.touches(n))&&(Ae=new ug(Ae.source,0)),c&4&&Ae.state==0&&(Ae=new ug(this.source,1)),Ae=Ae.updateFor(n,c);for(let yt of n.effects)if(yt.is(Yb))Ae=new ug(Ae.source,1,yt.value);else if(yt.is(WO))Ae=new ug(Ae.source,0);else if(yt.is(Qv))for(let wt of yt.value)wt.source==Ae.source&&(Ae=wt);return Ae}updateFor(n,s){return this.map(n.changes)}map(n){return this}touches(n){return n.changes.touchesRange(O_(n.state))}}class U_ extends ug{constructor(n,s,c,Ae,yt,wt){super(n,3,s),this.limit=c,this.result=Ae,this.from=yt,this.to=wt}hasResult(){return!0}updateFor(n,s){var c;if(!(s&3))return this.map(n.changes);let Ae=this.result;Ae.map&&!n.changes.empty&&(Ae=Ae.map(Ae,n.changes));let yt=n.changes.mapPos(this.from),wt=n.changes.mapPos(this.to,1),Wa=O_(n.state);if(Wa>wt||!Ae||s&2&&(O_(n.startState)==this.from||Wa<this.limit))return new ug(this.source,s&4?1:0);let ja=n.changes.mapPos(this.limit);return I3(Ae.validFor,n.state,yt,wt)?new U_(this.source,this.explicit,ja,Ae,yt,wt):Ae.update&&(Ae=Ae.update(Ae,yt,wt,new nS(n.state,Wa,!1)))?new U_(this.source,this.explicit,ja,Ae,Ae.from,(c=Ae.to)!==null&&c!==void 0?c:O_(n.state)):new ug(this.source,1,this.explicit)}map(n){return n.empty?this:(this.result.map?this.result.map(this.result,n):this.result)?new U_(this.source,this.explicit,n.mapPos(this.limit),this.result,n.mapPos(this.from),n.mapPos(this.to,1)):new ug(this.source,0)}touches(n){return n.changes.touchesRange(this.from,this.to)}}function I3(p,n,s,c){if(!p)return!1;let Ae=n.sliceDoc(s,c);return typeof p=="function"?p(Ae,s,c,n):aS(p,!0).test(Ae)}const Qv=xm.define({map(p,n){return p.map(s=>s.map(n))}}),pS=xm.define(),Z1=Vm.define({create(){return Ub.start()},update(p,n){return p.update(n)},provide:p=>[X2.from(p,n=>n.tooltip),wm.contentAttributes.from(p,n=>n.attrs)]});function Bv(p,n){const s=n.completion.apply||n.completion.label;let c=p.state.field(Z1).active.find(Ae=>Ae.source==n.source);return c instanceof U_?(typeof s=="string"?p.dispatch({...w3(p.state,s,c.from,c.to),annotations:Nv.of(n.completion)}):s(p,n.completion,c.from,c.to),!0):!1}const V3=R3(Z1,Bv);function s_(p,n="option"){return s=>{let c=s.state.field(Z1,!1);if(!c||!c.open||c.open.disabled||Date.now()-c.open.timestamp<s.state.facet(B0).interactionDelay)return!1;let Ae=1,yt;n=="page"&&(yt=uA(s,c.open.tooltip))&&(Ae=Math.max(2,Math.floor(yt.dom.offsetHeight/yt.dom.querySelector("li").offsetHeight)-1));let{length:wt}=c.open.options,Wa=c.open.selected>-1?c.open.selected+Ae*(p?1:-1):p?0:wt-1;return Wa<0?Wa=n=="page"?0:wt-1:Wa>=wt&&(Wa=n=="page"?wt-1:0),s.dispatch({effects:pS.of(Wa)}),!0}}const Xv=p=>{let n=p.state.field(Z1,!1);return p.state.readOnly||!n||!n.open||n.open.selected<0||n.open.disabled||Date.now()-n.open.timestamp<p.state.facet(B0).interactionDelay?!1:Bv(p,n.open.options[n.open.selected])},qb=p=>p.state.field(Z1,!1)?(p.dispatch({effects:Yb.of(!0)}),!0):!1,dS=p=>{let n=p.state.field(Z1,!1);return!n||!n.active.some(s=>s.state!=0)?!1:(p.dispatch({effects:WO.of(null)}),!0)};class z3{constructor(n,s){this.active=n,this.context=s,this.time=Date.now(),this.updates=[],this.done=void 0}}const W3=50,j3=1e3,Y3=S0.fromClass(class{constructor(p){this.view=p,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let n of p.state.field(Z1).active)n.isPending&&this.startQuery(n)}update(p){let n=p.state.field(Z1),s=p.state.facet(B0);if(!p.selectionSet&&!p.docChanged&&p.startState.field(Z1)==n)return;let c=p.transactions.some(yt=>{let wt=fS(yt,s);return wt&8||(yt.selection||yt.docChanged)&&!(wt&3)});for(let yt=0;yt<this.running.length;yt++){let wt=this.running[yt];if(c||wt.context.abortOnDocChange&&p.docChanged||wt.updates.length+p.transactions.length>W3&&Date.now()-wt.time>j3){for(let Wa of wt.context.abortListeners)try{Wa()}catch(ja){T0(this.view.state,ja)}wt.context.abortListeners=null,this.running.splice(yt--,1)}else wt.updates.push(...p.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),p.transactions.some(yt=>yt.effects.some(wt=>wt.is(Yb)))&&(this.pendingStart=!0);let Ae=this.pendingStart?50:s.activateOnTypingDelay;if(this.debounceUpdate=n.active.some(yt=>yt.isPending&&!this.running.some(wt=>wt.active.source==yt.source))?setTimeout(()=>this.startUpdate(),Ae):-1,this.composing!=0)for(let yt of p.transactions)yt.isUserEvent("input.type")?this.composing=2:this.composing==2&&yt.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:p}=this.view,n=p.field(Z1);for(let s of n.active)s.isPending&&!this.running.some(c=>c.active.source==s.source)&&this.startQuery(s);this.running.length&&n.open&&n.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(B0).updateSyncTime))}startQuery(p){let{state:n}=this.view,s=O_(n),c=new nS(n,s,p.explicit,this.view),Ae=new z3(p,c);this.running.push(Ae),Promise.resolve(p.source(c)).then(yt=>{Ae.context.aborted||(Ae.done=yt||null,this.scheduleAccept())},yt=>{this.view.dispatch({effects:WO.of(null)}),T0(this.view.state,yt)})}scheduleAccept(){this.running.every(p=>p.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(B0).updateSyncTime))}accept(){var p;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let n=[],s=this.view.state.facet(B0),c=this.view.state.field(Z1);for(let Ae=0;Ae<this.running.length;Ae++){let yt=this.running[Ae];if(yt.done===void 0)continue;if(this.running.splice(Ae--,1),yt.done){let Wa=O_(yt.updates.length?yt.updates[0].startState:this.view.state),ja=Math.min(Wa,yt.done.from+(yt.active.explicit?0:1)),pd=new U_(yt.active.source,yt.active.explicit,ja,yt.done,yt.done.from,(p=yt.done.to)!==null&&p!==void 0?p:Wa);for(let md of yt.updates)pd=pd.update(md,s);if(pd.hasResult()){n.push(pd);continue}}let wt=c.active.find(Wa=>Wa.source==yt.active.source);if(wt&&wt.isPending)if(yt.done==null){let Wa=new ug(yt.active.source,0);for(let ja of yt.updates)Wa=Wa.update(ja,s);Wa.isPending||n.push(Wa)}else this.startQuery(wt)}(n.length||c.open&&c.open.disabled)&&this.view.dispatch({effects:Qv.of(n)})}},{eventHandlers:{blur(p){let n=this.view.state.field(Z1,!1);if(n&&n.tooltip&&this.view.state.facet(B0).closeOnBlur){let s=n.open&&uA(this.view,n.open.tooltip);(!s||!s.dom.contains(p.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:WO.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Yb.of(!1)}),20),this.composing=0}}}),U3=typeof navigator=="object"&&/Win/.test(navigator.platform),q3=x0.highest(wm.domEventHandlers({keydown(p,n){let s=n.state.field(Z1,!1);if(!s||!s.open||s.open.disabled||s.open.selected<0||p.key.length>1||p.ctrlKey&&!(U3&&p.altKey)||p.metaKey)return!1;let c=s.open.options[s.open.selected],Ae=s.active.find(wt=>wt.source==c.source),yt=c.completion.commitCharacters||Ae.result.commitCharacters;return yt&&yt.indexOf(p.key)>-1&&Bv(n,c),!1}})),mS=wm.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'"Â·Â·Â·"',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"'Æ’'"}},".cm-completionIcon-class":{"&:after":{content:"'â—‹'"}},".cm-completionIcon-interface":{"&:after":{content:"'â—Œ'"}},".cm-completionIcon-variable":{"&:after":{content:"'ð‘¥'"}},".cm-completionIcon-constant":{"&:after":{content:"'ð¶'"}},".cm-completionIcon-type":{"&:after":{content:"'ð‘¡'"}},".cm-completionIcon-enum":{"&:after":{content:"'âˆª'"}},".cm-completionIcon-property":{"&:after":{content:"'â–¡'"}},".cm-completionIcon-keyword":{"&:after":{content:"'ðŸ”‘ï¸Ž'"}},".cm-completionIcon-namespace":{"&:after":{content:"'â–¢'"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class H3{constructor(n,s,c,Ae){this.field=n,this.line=s,this.from=c,this.to=Ae}}class Iv{constructor(n,s,c){this.field=n,this.from=s,this.to=c}map(n){let s=n.mapPos(this.from,-1,mm.TrackDel),c=n.mapPos(this.to,1,mm.TrackDel);return s==null||c==null?null:new Iv(this.field,s,c)}}class Vv{constructor(n,s){this.lines=n,this.fieldPositions=s}instantiate(n,s){let c=[],Ae=[s],yt=n.doc.lineAt(s),wt=/^\s*/.exec(yt.text)[0];for(let ja of this.lines){if(c.length){let pd=wt,md=/^\t*/.exec(ja)[0].length;for(let vd=0;vd<md;vd++)pd+=n.facet(RO);Ae.push(s+pd.length-md),ja=pd+ja.slice(md)}c.push(ja),s+=ja.length+1}let Wa=this.fieldPositions.map(ja=>new Iv(ja.field,Ae[ja.line]+ja.from,Ae[ja.line]+ja.to));return{text:c,ranges:Wa}}static parse(n){let s=[],c=[],Ae=[],yt;for(let wt of n.split(/\r\n?|\n/)){for(;yt=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(wt);){let Wa=yt[1]?+yt[1]:null,ja=yt[2]||yt[3]||"",pd=-1,md=ja.replace(/\\[{}]/g,vd=>vd[1]);for(let vd=0;vd<s.length;vd++)(Wa!=null?s[vd].seq==Wa:md&&s[vd].name==md)&&(pd=vd);if(pd<0){let vd=0;for(;vd<s.length&&(Wa==null||s[vd].seq!=null&&s[vd].seq<Wa);)vd++;s.splice(vd,0,{seq:Wa,name:md}),pd=vd;for(let $d of Ae)$d.field>=pd&&$d.field++}for(let vd of Ae)if(vd.line==c.length&&vd.from>yt.index){let $d=yt[2]?3+(yt[1]||"").length:2;vd.from-=$d,vd.to-=$d}Ae.push(new H3(pd,c.length,yt.index,yt.index+md.length)),wt=wt.slice(0,yt.index)+ja+wt.slice(yt.index+yt[0].length)}wt=wt.replace(/\\([{}])/g,(Wa,ja,pd)=>{for(let md of Ae)md.line==c.length&&md.from>pd&&(md.from--,md.to--);return ja}),c.push(wt)}return new Vv(c,Ae)}}let K3=Rm.widget({widget:new class extends Y1{toDOM(){let p=document.createElement("span");return p.className="cm-snippetFieldPosition",p}ignoreEvent(){return!1}}}),J3=Rm.mark({class:"cm-snippetField"});class q_{constructor(n,s){this.ranges=n,this.active=s,this.deco=Rm.set(n.map(c=>(c.from==c.to?K3:J3).range(c.from,c.to)),!0)}map(n){let s=[];for(let c of this.ranges){let Ae=c.map(n);if(!Ae)return null;s.push(Ae)}return new q_(s,this.active)}selectionInsideField(n){return n.ranges.every(s=>this.ranges.some(c=>c.field==this.active&&c.from<=s.from&&c.to>=s.to))}}const jO=xm.define({map(p,n){return p&&p.map(n)}}),ek=xm.define(),YO=Vm.define({create(){return null},update(p,n){for(let s of n.effects){if(s.is(jO))return s.value;if(s.is(ek)&&p)return new q_(p.ranges,s.value)}return p&&n.docChanged&&(p=p.map(n.changes)),p&&n.selection&&!p.selectionInsideField(n.selection)&&(p=null),p},provide:p=>wm.decorations.from(p,n=>n?n.deco:Rm.none)});function zv(p,n){return Hd.create(p.filter(s=>s.field==n).map(s=>Hd.range(s.from,s.to)))}function tk(p){let n=Vv.parse(p);return(s,c,Ae,yt)=>{let{text:wt,ranges:Wa}=n.instantiate(s.state,Ae),{main:ja}=s.state.selection,pd={changes:{from:Ae,to:yt==ja.from?ja.to:yt,insert:yd.of(wt)},scrollIntoView:!0,annotations:c?[Nv.of(c),Jm.userEvent.of("input.complete")]:void 0};if(Wa.length&&(pd.selection=zv(Wa,0)),Wa.some(md=>md.field>0)){let md=new q_(Wa,0),vd=pd.effects=[jO.of(md)];s.state.field(YO,!1)===void 0&&vd.push(xm.appendConfig.of([YO,nk,rk,mS]))}s.dispatch(s.state.update(pd))}}function gS(p){return({state:n,dispatch:s})=>{let c=n.field(YO,!1);if(!c||p<0&&c.active==0)return!1;let Ae=c.active+p,yt=p>0&&!c.ranges.some(wt=>wt.field==Ae+p);return s(n.update({selection:zv(c.ranges,Ae),effects:jO.of(yt?null:new q_(c.ranges,Ae)),scrollIntoView:!0})),!0}}const ik=[{key:"Tab",run:gS(1),shift:gS(-1)},{key:"Escape",run:({state:p,dispatch:n})=>p.field(YO,!1)?(n(p.update({effects:jO.of(null)})),!0):!1}],_S=am.define({combine(p){return p.length?p[0]:ik}}),nk=x0.highest(jy.compute([_S],p=>p.facet(_S)));function L1(p,n){return{...n,apply:tk(p)}}const rk=wm.domEventHandlers({mousedown(p,n){let s=n.state.field(YO,!1),c;if(!s||(c=n.posAtCoords({x:p.clientX,y:p.clientY}))==null)return!1;let Ae=s.ranges.find(yt=>yt.from<=c&&yt.to>=c);return!Ae||Ae.field==s.active?!1:(n.dispatch({selection:zv(s.ranges,Ae.field),effects:jO.of(s.ranges.some(yt=>yt.field>Ae.field)?new q_(s.ranges,Ae.field):null),scrollIntoView:!0}),!0)}}),UO={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},y_=xm.define({map(p,n){let s=n.mapPos(p,-1,mm.TrackAfter);return s??void 0}}),Wv=new class extends rm{};Wv.startSide=1,Wv.endSide=-1;const OS=Vm.define({create(){return Qm.empty},update(p,n){if(p=p.map(n.changes),n.selection){let s=n.state.doc.lineAt(n.selection.main.head);p=p.update({filter:c=>c>=s.from&&c<=s.to})}for(let s of n.effects)s.is(y_)&&(p=p.update({add:[Wv.range(s.value,s.value+1)]}));return p}});function sk(){return[ak,OS]}const jv="()[]{}<>Â«Â»Â»Â«ï¼»ï¼½ï½›ï½";function yS(p){for(let n=0;n<jv.length;n+=2)if(jv.charCodeAt(n)==p)return jv.charAt(n+1);return dm(p<128?p:p+1)}function bS(p,n){return p.languageDataAt("closeBrackets",n)[0]||UO}const ok=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),ak=wm.inputHandler.of((p,n,s,c)=>{if((ok?p.composing:p.compositionStarted)||p.state.readOnly)return!1;let Ae=p.state.selection.main;if(c.length>2||c.length==2&&im(qd(c,0))==1||n!=Ae.from||s!=Ae.to)return!1;let yt=uk(p.state,c);return yt?(p.dispatch(yt),!0):!1}),lk=({state:p,dispatch:n})=>{if(p.readOnly)return!1;let c=bS(p,p.selection.main.head).brackets||UO.brackets,Ae=null,yt=p.changeByRange(wt=>{if(wt.empty){let Wa=ck(p.doc,wt.head);for(let ja of c)if(ja==Wa&&Hb(p.doc,wt.head)==yS(qd(ja,0)))return{changes:{from:wt.head-ja.length,to:wt.head+ja.length},range:Hd.cursor(wt.head-ja.length)}}return{range:Ae=wt}});return Ae||n(p.update(yt,{scrollIntoView:!0,userEvent:"delete.backward"})),!Ae};function uk(p,n){let s=bS(p,p.selection.main.head),c=s.brackets||UO.brackets;for(let Ae of c){let yt=yS(qd(Ae,0));if(n==Ae)return yt==Ae?pk(p,Ae,c.indexOf(Ae+Ae+Ae)>-1,s):hk(p,Ae,yt,s.before||UO.before);if(n==yt&&vS(p,p.selection.main.from))return fk(p,Ae,yt)}return null}function vS(p,n){let s=!1;return p.field(OS).between(0,p.doc.length,c=>{c==n&&(s=!0)}),s}function Hb(p,n){let s=p.sliceString(n,n+2);return s.slice(0,im(qd(s,0)))}function ck(p,n){let s=p.sliceString(n-2,n);return im(qd(s,0))==s.length?s:s.slice(1)}function hk(p,n,s,c){let Ae=null,yt=p.changeByRange(wt=>{if(!wt.empty)return{changes:[{insert:n,from:wt.from},{insert:s,from:wt.to}],effects:y_.of(wt.to+n.length),range:Hd.range(wt.anchor+n.length,wt.head+n.length)};let Wa=Hb(p.doc,wt.head);return!Wa||/\s/.test(Wa)||c.indexOf(Wa)>-1?{changes:{insert:n+s,from:wt.head},effects:y_.of(wt.head+n.length),range:Hd.cursor(wt.head+n.length)}:{range:Ae=wt}});return Ae?null:p.update(yt,{scrollIntoView:!0,userEvent:"input.type"})}function fk(p,n,s){let c=null,Ae=p.changeByRange(yt=>yt.empty&&Hb(p.doc,yt.head)==s?{changes:{from:yt.head,to:yt.head+s.length,insert:s},range:Hd.cursor(yt.head+s.length)}:c={range:yt});return c?null:p.update(Ae,{scrollIntoView:!0,userEvent:"input.type"})}function pk(p,n,s,c){let Ae=c.stringPrefixes||UO.stringPrefixes,yt=null,wt=p.changeByRange(Wa=>{if(!Wa.empty)return{changes:[{insert:n,from:Wa.from},{insert:n,from:Wa.to}],effects:y_.of(Wa.to+n.length),range:Hd.range(Wa.anchor+n.length,Wa.head+n.length)};let ja=Wa.head,pd=Hb(p.doc,ja),md;if(pd==n){if(xS(p,ja))return{changes:{insert:n+n,from:ja},effects:y_.of(ja+n.length),range:Hd.cursor(ja+n.length)};if(vS(p,ja)){let $d=s&&p.sliceDoc(ja,ja+n.length*3)==n+n+n?n+n+n:n;return{changes:{from:ja,to:ja+$d.length,insert:$d},range:Hd.cursor(ja+$d.length)}}}else{if(s&&p.sliceDoc(ja-2*n.length,ja)==n+n&&(md=AS(p,ja-2*n.length,Ae))>-1&&xS(p,md))return{changes:{insert:n+n+n+n,from:ja},effects:y_.of(ja+n.length),range:Hd.cursor(ja+n.length)};if(p.charCategorizer(ja)(pd)!=Od.Word&&AS(p,ja,Ae)>-1&&!dk(p,ja,n,Ae))return{changes:{insert:n+n,from:ja},effects:y_.of(ja+n.length),range:Hd.cursor(ja+n.length)}}return{range:yt=Wa}});return yt?null:p.update(wt,{scrollIntoView:!0,userEvent:"input.type"})}function xS(p,n){let s=R0(p).resolveInner(n+1);return s.parent&&s.from==n}function dk(p,n,s,c){let Ae=R0(p).resolveInner(n,-1),yt=c.reduce((wt,Wa)=>Math.max(wt,Wa.length),0);for(let wt=0;wt<5;wt++){let Wa=p.sliceDoc(Ae.from,Math.min(Ae.to,Ae.from+s.length+yt)),ja=Wa.indexOf(s);if(!ja||ja>-1&&c.indexOf(Wa.slice(0,ja))>-1){let md=Ae.firstChild;for(;md&&md.from==Ae.from&&md.to-md.from>s.length+ja;){if(p.sliceDoc(md.to-s.length,md.to)==s)return!1;md=md.firstChild}return!0}let pd=Ae.to==n&&Ae.parent;if(!pd)break;Ae=pd}return!1}function AS(p,n,s){let c=p.charCategorizer(n);if(c(p.sliceDoc(n-1,n))!=Od.Word)return n;for(let Ae of s){let yt=n-Ae.length;if(p.sliceDoc(yt,n)==Ae&&c(p.sliceDoc(yt-1,yt))!=Od.Word)return yt}return-1}function mk(p={}){return[q3,Z1,B0.of(p),Y3,_k,mS]}const gk=[{key:"Ctrl-Space",run:qb},{mac:"Alt-`",run:qb},{mac:"Alt-i",run:qb},{key:"Escape",run:dS},{key:"ArrowDown",run:s_(!0)},{key:"ArrowUp",run:s_(!1)},{key:"PageDown",run:s_(!0,"page")},{key:"PageUp",run:s_(!1,"page")},{key:"Enter",run:Xv}],_k=x0.highest(jy.computeN([B0],p=>p.facet(B0).defaultKeymap?[gk]:[]));class $S{constructor(n,s,c){this.from=n,this.to=s,this.diagnostic=c}}class b_{constructor(n,s,c){this.diagnostics=n,this.panel=s,this.selected=c}static init(n,s,c){let Ae=c.facet(qO).markerFilter;Ae&&(n=Ae(n,c));let yt=n.slice().sort((kd,Zd)=>kd.from-Zd.from||kd.to-Zd.to),wt=new N0,Wa=[],ja=0,pd=c.doc.iter(),md=0,vd=c.doc.length;for(let kd=0;;){let Zd=kd==yt.length?null:yt[kd];if(!Zd&&!Wa.length)break;let Id,Ud;if(Wa.length)Id=ja,Ud=Wa.reduce((fm,Em)=>Math.min(fm,Em.to),Zd&&Zd.from>Id?Zd.from:1e8);else{if(Id=Zd.from,Id>vd)break;Ud=Zd.to,Wa.push(Zd),kd++}for(;kd<yt.length;){let fm=yt[kd];if(fm.from==Id&&(fm.to>fm.from||fm.to==Id))Wa.push(fm),kd++,Ud=Math.min(fm.to,Ud);else{Ud=Math.min(fm.from,Ud);break}}Ud=Math.min(Ud,vd);let tm=!1;if(Wa.some(fm=>fm.from==Id&&(fm.to==Ud||Ud==vd))&&(tm=Id==Ud,!tm&&Ud-Id<10)){let fm=Id-(md+pd.value.length);fm>0&&(pd.next(fm),md=Id);for(let Em=Id;;){if(Em>=Ud){tm=!0;break}if(!pd.lineBreak&&md+pd.value.length>Em)break;Em=md+pd.value.length,md+=pd.value.length,pd.next()}}let pm=wk(Wa);if(tm)wt.add(Id,Id,Rm.widget({widget:new Sk(pm),diagnostics:Wa.slice()}));else{let fm=Wa.reduce((Em,hm)=>hm.markClass?Em+" "+hm.markClass:Em,"");wt.add(Id,Ud,Rm.mark({class:"cm-lintRange cm-lintRange-"+pm+fm,diagnostics:Wa.slice(),inclusiveEnd:Wa.some(Em=>Em.to>Ud)}))}if(ja=Ud,ja==vd)break;for(let fm=0;fm<Wa.length;fm++)Wa[fm].to<=ja&&Wa.splice(fm--,1)}let $d=wt.finish();return new b_($d,s,H_($d))}}function H_(p,n=null,s=0){let c=null;return p.between(s,1e9,(Ae,yt,{spec:wt})=>{if(!(n&&wt.diagnostics.indexOf(n)<0))if(!c)c=new $S(Ae,yt,n||wt.diagnostics[0]);else{if(wt.diagnostics.indexOf(c.diagnostic)<0)return!1;c=new $S(c.from,yt,c.diagnostic)}}),c}function Ok(p,n){let s=n.pos,c=n.end||s,Ae=p.state.facet(qO).hideOn(p,s,c);if(Ae!=null)return Ae;let yt=p.startState.doc.lineAt(n.pos);return!!(p.effects.some(wt=>wt.is(SS))||p.changes.touchesRange(yt.from,Math.max(yt.to,c)))}function yk(p,n){return p.field(H1,!1)?n:n.concat(xm.appendConfig.of(kk))}const SS=xm.define(),Yv=xm.define(),CS=xm.define(),H1=Vm.define({create(){return new b_(Rm.none,null,null)},update(p,n){if(n.docChanged&&p.diagnostics.size){let s=p.diagnostics.map(n.changes),c=null,Ae=p.panel;if(p.selected){let yt=n.changes.mapPos(p.selected.from,1);c=H_(s,p.selected.diagnostic,yt)||H_(s,null,yt)}!s.size&&Ae&&n.state.facet(qO).autoPanel&&(Ae=null),p=new b_(s,Ae,c)}for(let s of n.effects)if(s.is(SS)){let c=n.state.facet(qO).autoPanel?s.value.length?HO.open:null:p.panel;p=b_.init(s.value,c,n.state)}else s.is(Yv)?p=new b_(p.diagnostics,s.value?HO.open:null,p.selected):s.is(CS)&&(p=new b_(p.diagnostics,p.panel,s.value));return p},provide:p=>[kO.from(p,n=>n.panel),wm.decorations.from(p,n=>n.diagnostics)]}),bk=Rm.mark({class:"cm-lintRange cm-lintRange-active"});function vk(p,n,s){let{diagnostics:c}=p.state.field(H1),Ae,yt=-1,wt=-1;c.between(n-(s<0?1:0),n+(s>0?1:0),(ja,pd,{spec:md})=>{if(n>=ja&&n<=pd&&(ja==pd||(n>ja||s>0)&&(n<pd||s<0)))return Ae=md.diagnostics,yt=ja,wt=pd,!1});let Wa=p.state.facet(qO).tooltipFilter;return Ae&&Wa&&(Ae=Wa(Ae,p.state)),Ae?{pos:yt,end:wt,above:p.state.doc.lineAt(yt).to<wt,create(){return{dom:xk(p,Ae)}}}:null}function xk(p,n){return d0("ul",{class:"cm-tooltip-lint"},n.map(s=>kS(p,s,!1)))}const Ak=p=>{let n=p.state.field(H1,!1);(!n||!n.panel)&&p.dispatch({effects:yk(p.state,[Yv.of(!0)])});let s=wO(p,HO.open);return s&&s.dom.querySelector(".cm-panel-lint ul").focus(),!0},MS=p=>{let n=p.state.field(H1,!1);return!n||!n.panel?!1:(p.dispatch({effects:Yv.of(!1)}),!0)},$k=p=>{let n=p.state.field(H1,!1);if(!n)return!1;let s=p.state.selection.main,c=n.diagnostics.iter(s.to+1);return!c.value&&(c=n.diagnostics.iter(0),!c.value||c.from==s.from&&c.to==s.to)?!1:(p.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0}),!0)},qO=am.define({combine(p){return{sources:p.map(n=>n.source).filter(n=>n!=null),...Kd(p.map(n=>n.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:PS,tooltipFilter:PS,needsRefresh:(n,s)=>n?s?c=>n(c)||s(c):n:s,hideOn:(n,s)=>n?s?(c,Ae,yt)=>n(c,Ae,yt)||s(c,Ae,yt):n:s,autoPanel:(n,s)=>n||s})}}});function PS(p,n){return p?n?(s,c)=>n(p(s,c),c):p:n}function wS(p){let n=[];if(p)e:for(let{name:s}of p){for(let c=0;c<s.length;c++){let Ae=s[c];if(/[a-zA-Z]/.test(Ae)&&!n.some(yt=>yt.toLowerCase()==Ae.toLowerCase())){n.push(Ae);continue e}}n.push("")}return n}function kS(p,n,s){var c;let Ae=s?wS(n.actions):[];return d0("li",{class:"cm-diagnostic cm-diagnostic-"+n.severity},d0("span",{class:"cm-diagnosticText"},n.renderMessage?n.renderMessage(p):n.message),(c=n.actions)===null||c===void 0?void 0:c.map((yt,wt)=>{let Wa=!1,ja=kd=>{if(kd.preventDefault(),Wa)return;Wa=!0;let Zd=H_(p.state.field(H1).diagnostics,n);Zd&&yt.apply(p,Zd.from,Zd.to)},{name:pd}=yt,md=Ae[wt]?pd.indexOf(Ae[wt]):-1,vd=md<0?pd:[pd.slice(0,md),d0("u",pd.slice(md,md+1)),pd.slice(md+1)],$d=yt.markClass?" "+yt.markClass:"";return d0("button",{type:"button",class:"cm-diagnosticAction"+$d,onclick:ja,onmousedown:ja,"aria-label":` Action: ${pd}${md<0?"":` (access key "${Ae[wt]})"`}.`},vd)}),n.source&&d0("div",{class:"cm-diagnosticSource"},n.source))}class Sk extends Y1{constructor(n){super(),this.sev=n}eq(n){return n.sev==this.sev}toDOM(){return d0("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class ES{constructor(n,s){this.diagnostic=s,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=kS(n,s,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class HO{constructor(n){this.view=n,this.items=[];let s=Ae=>{if(Ae.keyCode==27)MS(this.view),this.view.focus();else if(Ae.keyCode==38||Ae.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(Ae.keyCode==40||Ae.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(Ae.keyCode==36)this.moveSelection(0);else if(Ae.keyCode==35)this.moveSelection(this.items.length-1);else if(Ae.keyCode==13)this.view.focus();else if(Ae.keyCode>=65&&Ae.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:yt}=this.items[this.selectedIndex],wt=wS(yt.actions);for(let Wa=0;Wa<wt.length;Wa++)if(wt[Wa].toUpperCase().charCodeAt(0)==Ae.keyCode){let ja=H_(this.view.state.field(H1).diagnostics,yt);ja&&yt.actions[Wa].apply(n,ja.from,ja.to)}}else return;Ae.preventDefault()},c=Ae=>{for(let yt=0;yt<this.items.length;yt++)this.items[yt].dom.contains(Ae.target)&&this.moveSelection(yt)};this.list=d0("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:s,onclick:c}),this.dom=d0("div",{class:"cm-panel-lint"},this.list,d0("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>MS(this.view)},"Ã—")),this.update()}get selectedIndex(){let n=this.view.state.field(H1).selected;if(!n)return-1;for(let s=0;s<this.items.length;s++)if(this.items[s].diagnostic==n.diagnostic)return s;return-1}update(){let{diagnostics:n,selected:s}=this.view.state.field(H1),c=0,Ae=!1,yt=null,wt=new Set;for(n.between(0,this.view.state.doc.length,(Wa,ja,{spec:pd})=>{for(let md of pd.diagnostics){if(wt.has(md))continue;wt.add(md);let vd=-1,$d;for(let kd=c;kd<this.items.length;kd++)if(this.items[kd].diagnostic==md){vd=kd;break}vd<0?($d=new ES(this.view,md),this.items.splice(c,0,$d),Ae=!0):($d=this.items[vd],vd>c&&(this.items.splice(c,vd-c),Ae=!0)),s&&$d.diagnostic==s.diagnostic?$d.dom.hasAttribute("aria-selected")||($d.dom.setAttribute("aria-selected","true"),yt=$d):$d.dom.hasAttribute("aria-selected")&&$d.dom.removeAttribute("aria-selected"),c++}});c<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)Ae=!0,this.items.pop();this.items.length==0&&(this.items.push(new ES(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),Ae=!0),yt?(this.list.setAttribute("aria-activedescendant",yt.id),this.view.requestMeasure({key:this,read:()=>({sel:yt.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:Wa,panel:ja})=>{let pd=ja.height/this.list.offsetHeight;Wa.top<ja.top?this.list.scrollTop-=(ja.top-Wa.top)/pd:Wa.bottom>ja.bottom&&(this.list.scrollTop+=(Wa.bottom-ja.bottom)/pd)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),Ae&&this.sync()}sync(){let n=this.list.firstChild;function s(){let c=n;n=c.nextSibling,c.remove()}for(let c of this.items)if(c.dom.parentNode==this.list){for(;n!=c.dom;)s();n=c.dom.nextSibling}else this.list.insertBefore(c.dom,n);for(;n;)s()}moveSelection(n){if(this.selectedIndex<0)return;let s=this.view.state.field(H1),c=H_(s.diagnostics,this.items[n].diagnostic);c&&this.view.dispatch({selection:{anchor:c.from,head:c.to},scrollIntoView:!0,effects:CS.of(c)})}static open(n){return new HO(n)}}function Ck(p,n='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${n}>${encodeURIComponent(p)}</svg>')`}function Kb(p){return Ck(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${p}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Mk=wm.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Kb("#d11")},".cm-lintRange-warning":{backgroundImage:Kb("orange")},".cm-lintRange-info":{backgroundImage:Kb("#999")},".cm-lintRange-hint":{backgroundImage:Kb("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Pk(p){return p=="error"?4:p=="warning"?3:p=="info"?2:1}function wk(p){let n="hint",s=1;for(let c of p){let Ae=Pk(c.severity);Ae>s&&(s=Ae,n=c.severity)}return n}const kk=[H1,wm.decorations.compute([H1],p=>{let{selected:n,panel:s}=p.field(H1);return!n||!s||n.from==n.to?Rm.none:Rm.set([bk.range(n.from,n.to)])}),UM(vk,{hideOn:Ok}),Mk];class Jb{constructor(n,s,c,Ae,yt,wt,Wa,ja,pd,md=0,vd){this.p=n,this.stack=s,this.state=c,this.reducePos=Ae,this.pos=yt,this.score=wt,this.buffer=Wa,this.bufferBase=ja,this.curContext=pd,this.lookAhead=md,this.parent=vd}toString(){return`[${this.stack.filter((n,s)=>s%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(n,s,c=0){let Ae=n.parser.context;return new Jb(n,[],s,c,c,0,[],0,Ae?new DS(Ae,Ae.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(n,s){this.stack.push(this.state,s,this.bufferBase+this.buffer.length),this.state=n}reduce(n){var s;let c=n>>19,Ae=n&65535,{parser:yt}=this.p,wt=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),Wa=yt.dynamicPrecedence(Ae);if(Wa&&(this.score+=Wa),c==0){this.pushState(yt.getGoto(this.state,Ae,!0),this.reducePos),Ae<yt.minRepeatTerm&&this.storeNode(Ae,this.reducePos,this.reducePos,wt?8:4,!0),this.reduceContext(Ae,this.reducePos);return}let ja=this.stack.length-(c-1)*3-(n&262144?6:0),pd=ja?this.stack[ja-2]:this.p.ranges[0].from,md=this.reducePos-pd;md>=2e3&&!(!((s=this.p.parser.nodeSet.types[Ae])===null||s===void 0)&&s.isAnonymous)&&(pd==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=md):this.p.lastBigReductionSize<md&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=pd,this.p.lastBigReductionSize=md));let vd=ja?this.stack[ja-1]:0,$d=this.bufferBase+this.buffer.length-vd;if(Ae<yt.minRepeatTerm||n&131072){let kd=yt.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(Ae,pd,kd,$d+4,!0)}if(n&262144)this.state=this.stack[ja];else{let kd=this.stack[ja-3];this.state=yt.getGoto(kd,Ae,!0)}for(;this.stack.length>ja;)this.stack.pop();this.reduceContext(Ae,pd)}storeNode(n,s,c,Ae=4,yt=!1){if(n==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let wt=this,Wa=this.buffer.length;if(Wa==0&&wt.parent&&(Wa=wt.bufferBase-wt.parent.bufferBase,wt=wt.parent),Wa>0&&wt.buffer[Wa-4]==0&&wt.buffer[Wa-1]>-1){if(s==c)return;if(wt.buffer[Wa-2]>=s){wt.buffer[Wa-2]=c;return}}}if(!yt||this.pos==c)this.buffer.push(n,s,c,Ae);else{let wt=this.buffer.length;if(wt>0&&(this.buffer[wt-4]!=0||this.buffer[wt-1]<0)){let Wa=!1;for(let ja=wt;ja>0&&this.buffer[ja-2]>c;ja-=4)if(this.buffer[ja-1]>=0){Wa=!0;break}if(Wa)for(;wt>0&&this.buffer[wt-2]>c;)this.buffer[wt]=this.buffer[wt-4],this.buffer[wt+1]=this.buffer[wt-3],this.buffer[wt+2]=this.buffer[wt-2],this.buffer[wt+3]=this.buffer[wt-1],wt-=4,Ae>4&&(Ae-=4)}this.buffer[wt]=n,this.buffer[wt+1]=s,this.buffer[wt+2]=c,this.buffer[wt+3]=Ae}}shift(n,s,c,Ae){if(n&131072)this.pushState(n&65535,this.pos);else if((n&262144)==0){let yt=n,{parser:wt}=this.p;(Ae>this.pos||s<=wt.maxNode)&&(this.pos=Ae,wt.stateFlag(yt,1)||(this.reducePos=Ae)),this.pushState(yt,c),this.shiftContext(s,c),s<=wt.maxNode&&this.buffer.push(s,c,Ae,4)}else this.pos=Ae,this.shiftContext(s,c),s<=this.p.parser.maxNode&&this.buffer.push(s,c,Ae,4)}apply(n,s,c,Ae){n&65536?this.reduce(n):this.shift(n,s,c,Ae)}useNode(n,s){let c=this.p.reused.length-1;(c<0||this.p.reused[c]!=n)&&(this.p.reused.push(n),c++);let Ae=this.pos;this.reducePos=this.pos=Ae+n.length,this.pushState(s,Ae),this.buffer.push(c,Ae,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,n,this,this.p.stream.reset(this.pos-n.length)))}split(){let n=this,s=n.buffer.length;for(;s>0&&n.buffer[s-2]>n.reducePos;)s-=4;let c=n.buffer.slice(s),Ae=n.bufferBase+s;for(;n&&Ae==n.bufferBase;)n=n.parent;return new Jb(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,c,Ae,this.curContext,this.lookAhead,n)}recoverByDelete(n,s){let c=n<=this.p.parser.maxNode;c&&this.storeNode(n,this.pos,s,4),this.storeNode(0,this.pos,s,c?8:4),this.pos=this.reducePos=s,this.score-=190}canShift(n){for(let s=new Ek(this);;){let c=this.p.parser.stateSlot(s.state,4)||this.p.parser.hasAction(s.state,n);if(c==0)return!1;if((c&65536)==0)return!0;s.reduce(c)}}recoverByInsert(n){if(this.stack.length>=300)return[];let s=this.p.parser.nextStates(this.state);if(s.length>8||this.stack.length>=120){let Ae=[];for(let yt=0,wt;yt<s.length;yt+=2)(wt=s[yt+1])!=this.state&&this.p.parser.hasAction(wt,n)&&Ae.push(s[yt],wt);if(this.stack.length<120)for(let yt=0;Ae.length<8&&yt<s.length;yt+=2){let wt=s[yt+1];Ae.some((Wa,ja)=>ja&1&&Wa==wt)||Ae.push(s[yt],wt)}s=Ae}let c=[];for(let Ae=0;Ae<s.length&&c.length<4;Ae+=2){let yt=s[Ae+1];if(yt==this.state)continue;let wt=this.split();wt.pushState(yt,this.pos),wt.storeNode(0,wt.pos,wt.pos,4,!0),wt.shiftContext(s[Ae],this.pos),wt.reducePos=this.pos,wt.score-=200,c.push(wt)}return c}forceReduce(){let{parser:n}=this.p,s=n.stateSlot(this.state,5);if((s&65536)==0)return!1;if(!n.validAction(this.state,s)){let c=s>>19,Ae=s&65535,yt=this.stack.length-c*3;if(yt<0||n.getGoto(this.stack[yt],Ae,!1)<0){let wt=this.findForcedReduction();if(wt==null)return!1;s=wt}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(s),!0}findForcedReduction(){let{parser:n}=this.p,s=[],c=(Ae,yt)=>{if(!s.includes(Ae))return s.push(Ae),n.allActions(Ae,wt=>{if(!(wt&393216))if(wt&65536){let Wa=(wt>>19)-yt;if(Wa>1){let ja=wt&65535,pd=this.stack.length-Wa*3;if(pd>=0&&n.getGoto(this.stack[pd],ja,!1)>=0)return Wa<<19|65536|ja}}else{let Wa=c(wt,yt+1);if(Wa!=null)return Wa}})};return c(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:n}=this.p;return n.data[n.stateSlot(this.state,1)]==65535&&!n.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(n){if(this.state!=n.state||this.stack.length!=n.stack.length)return!1;for(let s=0;s<this.stack.length;s+=3)if(this.stack[s]!=n.stack[s])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(n){return this.p.parser.dialect.flags[n]}shiftContext(n,s){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,n,this,this.p.stream.reset(s)))}reduceContext(n,s){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,n,this,this.p.stream.reset(s)))}emitContext(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let n=this.buffer.length-1;(n<0||this.buffer[n]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(n){if(n!=this.curContext.context){let s=new DS(this.curContext.tracker,n);s.hash!=this.curContext.hash&&this.emitContext(),this.curContext=s}}setLookAhead(n){return n<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=n,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class DS{constructor(n,s){this.tracker=n,this.context=s,this.hash=n.strict?n.hash(s):0}}class Ek{constructor(n){this.start=n,this.state=n.state,this.stack=n.stack,this.base=this.stack.length}reduce(n){let s=n&65535,c=n>>19;c==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(c-1)*3;let Ae=this.start.p.parser.getGoto(this.stack[this.base-3],s,!0);this.state=Ae}}class e2{constructor(n,s,c){this.stack=n,this.pos=s,this.index=c,this.buffer=n.buffer,this.index==0&&this.maybeNext()}static create(n,s=n.bufferBase+n.buffer.length){return new e2(n,s,s-n.bufferBase)}maybeNext(){let n=this.stack.parent;n!=null&&(this.index=this.stack.bufferBase-n.bufferBase,this.stack=n,this.buffer=n.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new e2(this.stack,this.pos,this.index)}}function KO(p,n=Uint16Array){if(typeof p!="string")return p;let s=null;for(let c=0,Ae=0;c<p.length;){let yt=0;for(;;){let wt=p.charCodeAt(c++),Wa=!1;if(wt==126){yt=65535;break}wt>=92&&wt--,wt>=34&&wt--;let ja=wt-32;if(ja>=46&&(ja-=46,Wa=!0),yt+=ja,Wa)break;yt*=46}s?s[Ae++]=yt:s=new n(yt)}return s}class t2{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const TS=new t2;class Dk{constructor(n,s){this.input=n,this.ranges=s,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=TS,this.rangeIndex=0,this.pos=this.chunkPos=s[0].from,this.range=s[0],this.end=s[s.length-1].to,this.readNext()}resolveOffset(n,s){let c=this.range,Ae=this.rangeIndex,yt=this.pos+n;for(;yt<c.from;){if(!Ae)return null;let wt=this.ranges[--Ae];yt-=c.from-wt.to,c=wt}for(;s<0?yt>c.to:yt>=c.to;){if(Ae==this.ranges.length-1)return null;let wt=this.ranges[++Ae];yt+=wt.from-c.to,c=wt}return yt}clipPos(n){if(n>=this.range.from&&n<this.range.to)return n;for(let s of this.ranges)if(s.to>n)return Math.max(n,s.from);return this.end}peek(n){let s=this.chunkOff+n,c,Ae;if(s>=0&&s<this.chunk.length)c=this.pos+n,Ae=this.chunk.charCodeAt(s);else{let yt=this.resolveOffset(n,1);if(yt==null)return-1;if(c=yt,c>=this.chunk2Pos&&c<this.chunk2Pos+this.chunk2.length)Ae=this.chunk2.charCodeAt(c-this.chunk2Pos);else{let wt=this.rangeIndex,Wa=this.range;for(;Wa.to<=c;)Wa=this.ranges[++wt];this.chunk2=this.input.chunk(this.chunk2Pos=c),c+this.chunk2.length>Wa.to&&(this.chunk2=this.chunk2.slice(0,Wa.to-c)),Ae=this.chunk2.charCodeAt(0)}}return c>=this.token.lookAhead&&(this.token.lookAhead=c+1),Ae}acceptToken(n,s=0){let c=s?this.resolveOffset(s,-1):this.pos;if(c==null||c<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=n,this.token.end=c}acceptTokenTo(n,s){this.token.value=n,this.token.end=s}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:n,chunkPos:s}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=n,this.chunk2Pos=s,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let n=this.input.chunk(this.pos),s=this.pos+n.length;this.chunk=s>this.range.to?n.slice(0,this.range.to-this.pos):n,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(n=1){for(this.chunkOff+=n;this.pos+n>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();n-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=n,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(n,s){if(s?(this.token=s,s.start=n,s.lookAhead=n+1,s.value=s.extended=-1):this.token=TS,this.pos!=n){if(this.pos=n,n==this.end)return this.setDone(),this;for(;n<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;n>=this.range.to;)this.range=this.ranges[++this.rangeIndex];n>=this.chunkPos&&n<this.chunkPos+this.chunk.length?this.chunkOff=n-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(n,s){if(n>=this.chunkPos&&s<=this.chunkPos+this.chunk.length)return this.chunk.slice(n-this.chunkPos,s-this.chunkPos);if(n>=this.chunk2Pos&&s<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(n-this.chunk2Pos,s-this.chunk2Pos);if(n>=this.range.from&&s<=this.range.to)return this.input.read(n,s);let c="";for(let Ae of this.ranges){if(Ae.from>=s)break;Ae.to>n&&(c+=this.input.read(Math.max(Ae.from,n),Math.min(Ae.to,s)))}return c}}class K_{constructor(n,s){this.data=n,this.id=s}token(n,s){let{parser:c}=s.p;FS(this.data,n,s,this.id,c.data,c.tokenPrecTable)}}K_.prototype.contextual=K_.prototype.fallback=K_.prototype.extend=!1;class Uv{constructor(n,s,c){this.precTable=s,this.elseToken=c,this.data=typeof n=="string"?KO(n):n}token(n,s){let c=n.pos,Ae=0;for(;;){let yt=n.next<0,wt=n.resolveOffset(1,1);if(FS(this.data,n,s,0,this.data,this.precTable),n.token.value>-1)break;if(this.elseToken==null)return;if(yt||Ae++,wt==null)break;n.reset(wt,n.token)}Ae&&(n.reset(c,n.token),n.acceptToken(this.elseToken,Ae))}}Uv.prototype.contextual=K_.prototype.fallback=K_.prototype.extend=!1;class JO{constructor(n,s={}){this.token=n,this.contextual=!!s.contextual,this.fallback=!!s.fallback,this.extend=!!s.extend}}function FS(p,n,s,c,Ae,yt){let wt=0,Wa=1<<c,{dialect:ja}=s.p.parser;e:for(;(Wa&p[wt])!=0;){let pd=p[wt+1];for(let kd=wt+3;kd<pd;kd+=2)if((p[kd+1]&Wa)>0){let Zd=p[kd];if(ja.allows(Zd)&&(n.token.value==-1||n.token.value==Zd||Tk(Zd,n.token.value,Ae,yt))){n.acceptToken(Zd);break}}let md=n.next,vd=0,$d=p[wt+2];if(n.next<0&&$d>vd&&p[pd+$d*3-3]==65535){wt=p[pd+$d*3-1];continue e}for(;vd<$d;){let kd=vd+$d>>1,Zd=pd+kd+(kd<<1),Id=p[Zd],Ud=p[Zd+1]||65536;if(md<Id)$d=kd;else if(md>=Ud)vd=kd+1;else{wt=p[Zd+2],n.advance();continue e}}break}}function GS(p,n,s){for(let c=n,Ae;(Ae=p[c])!=65535;c++)if(Ae==s)return c-n;return-1}function Tk(p,n,s,c){let Ae=GS(s,c,n);return Ae<0||GS(s,c,p)<Ae}const K1=typeof process<"u"&&process.env&&/\bparse\b/.test(process.env.LOG);let qv=null;function RS(p,n,s){let c=p.cursor(G0.IncludeAnonymous);for(c.moveTo(n);;)if(!(s<0?c.childBefore(n):c.childAfter(n)))for(;;){if((s<0?c.to<n:c.from>n)&&!c.type.isError)return s<0?Math.max(0,Math.min(c.to-1,n-25)):Math.min(p.length,Math.max(c.from+1,n+25));if(s<0?c.prevSibling():c.nextSibling())break;if(!c.parent())return s<0?0:p.length}}class Fk{constructor(n,s){this.fragments=n,this.nodeSet=s,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let n=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(n){for(this.safeFrom=n.openStart?RS(n.tree,n.from+n.offset,1)-n.offset:n.from,this.safeTo=n.openEnd?RS(n.tree,n.to+n.offset,-1)-n.offset:n.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(n.tree),this.start.push(-n.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(n){if(n<this.nextStart)return null;for(;this.fragment&&this.safeTo<=n;)this.nextFragment();if(!this.fragment)return null;for(;;){let s=this.trees.length-1;if(s<0)return this.nextFragment(),null;let c=this.trees[s],Ae=this.index[s];if(Ae==c.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let yt=c.children[Ae],wt=this.start[s]+c.positions[Ae];if(wt>n)return this.nextStart=wt,null;if(yt instanceof M0){if(wt==n){if(wt<this.safeFrom)return null;let Wa=wt+yt.length;if(Wa<=this.safeTo){let ja=yt.prop(Km.lookAhead);if(!ja||Wa+ja<this.fragment.to)return yt}}this.index[s]++,wt+yt.length>=Math.max(this.safeFrom,n)&&(this.trees.push(yt),this.start.push(wt),this.index.push(0))}else this.index[s]++,this.nextStart=wt+yt.length}}}class Gk{constructor(n,s){this.stream=s,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=n.tokenizers.map(c=>new t2)}getActions(n){let s=0,c=null,{parser:Ae}=n.p,{tokenizers:yt}=Ae,wt=Ae.stateSlot(n.state,3),Wa=n.curContext?n.curContext.hash:0,ja=0;for(let pd=0;pd<yt.length;pd++){if((1<<pd&wt)==0)continue;let md=yt[pd],vd=this.tokens[pd];if(!(c&&!md.fallback)&&((md.contextual||vd.start!=n.pos||vd.mask!=wt||vd.context!=Wa)&&(this.updateCachedToken(vd,md,n),vd.mask=wt,vd.context=Wa),vd.lookAhead>vd.end+25&&(ja=Math.max(vd.lookAhead,ja)),vd.value!=0)){let $d=s;if(vd.extended>-1&&(s=this.addActions(n,vd.extended,vd.end,s)),s=this.addActions(n,vd.value,vd.end,s),!md.extend&&(c=vd,s>$d))break}}for(;this.actions.length>s;)this.actions.pop();return ja&&n.setLookAhead(ja),!c&&n.pos==this.stream.end&&(c=new t2,c.value=n.p.parser.eofTerm,c.start=c.end=n.pos,s=this.addActions(n,c.value,c.end,s)),this.mainToken=c,this.actions}getMainToken(n){if(this.mainToken)return this.mainToken;let s=new t2,{pos:c,p:Ae}=n;return s.start=c,s.end=Math.min(c+1,Ae.stream.end),s.value=c==Ae.stream.end?Ae.parser.eofTerm:0,s}updateCachedToken(n,s,c){let Ae=this.stream.clipPos(c.pos);if(s.token(this.stream.reset(Ae,n),c),n.value>-1){let{parser:yt}=c.p;for(let wt=0;wt<yt.specialized.length;wt++)if(yt.specialized[wt]==n.value){let Wa=yt.specializers[wt](this.stream.read(n.start,n.end),c);if(Wa>=0&&c.p.parser.dialect.allows(Wa>>1)){(Wa&1)==0?n.value=Wa>>1:n.extended=Wa>>1;break}}}else n.value=0,n.end=this.stream.clipPos(Ae+1)}putAction(n,s,c,Ae){for(let yt=0;yt<Ae;yt+=3)if(this.actions[yt]==n)return Ae;return this.actions[Ae++]=n,this.actions[Ae++]=s,this.actions[Ae++]=c,Ae}addActions(n,s,c,Ae){let{state:yt}=n,{parser:wt}=n.p,{data:Wa}=wt;for(let ja=0;ja<2;ja++)for(let pd=wt.stateSlot(yt,ja?2:1);;pd+=3){if(Wa[pd]==65535)if(Wa[pd+1]==1)pd=Ig(Wa,pd+2);else{Ae==0&&Wa[pd+1]==2&&(Ae=this.putAction(Ig(Wa,pd+2),s,c,Ae));break}Wa[pd]==s&&(Ae=this.putAction(Ig(Wa,pd+1),s,c,Ae))}return Ae}}class Rk{constructor(n,s,c,Ae){this.parser=n,this.input=s,this.ranges=Ae,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new Dk(s,Ae),this.tokens=new Gk(n,this.stream),this.topTerm=n.top[1];let{from:yt}=Ae[0];this.stacks=[Jb.start(this,n.top[0],yt)],this.fragments=c.length&&this.stream.end-yt>n.bufferLength*4?new Fk(c,n.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let n=this.stacks,s=this.minStackPos,c=this.stacks=[],Ae,yt;if(this.bigReductionCount>300&&n.length==1){let[wt]=n;for(;wt.forceReduce()&&wt.stack.length&&wt.stack[wt.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let wt=0;wt<n.length;wt++){let Wa=n[wt];for(;;){if(this.tokens.mainToken=null,Wa.pos>s)c.push(Wa);else{if(this.advanceStack(Wa,c,n))continue;{Ae||(Ae=[],yt=[]),Ae.push(Wa);let ja=this.tokens.getMainToken(Wa);yt.push(ja.value,ja.end)}}break}}if(!c.length){let wt=Ae&&Lk(Ae);if(wt)return K1&&console.log("Finish with "+this.stackID(wt)),this.stackToTree(wt);if(this.parser.strict)throw K1&&Ae&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+s);this.recovering||(this.recovering=5)}if(this.recovering&&Ae){let wt=this.stoppedAt!=null&&Ae[0].pos>this.stoppedAt?Ae[0]:this.runRecovery(Ae,yt,c);if(wt)return K1&&console.log("Force-finish "+this.stackID(wt)),this.stackToTree(wt.forceAll())}if(this.recovering){let wt=this.recovering==1?1:this.recovering*3;if(c.length>wt)for(c.sort((Wa,ja)=>ja.score-Wa.score);c.length>wt;)c.pop();c.some(Wa=>Wa.reducePos>s)&&this.recovering--}else if(c.length>1){e:for(let wt=0;wt<c.length-1;wt++){let Wa=c[wt];for(let ja=wt+1;ja<c.length;ja++){let pd=c[ja];if(Wa.sameState(pd)||Wa.buffer.length>500&&pd.buffer.length>500)if((Wa.score-pd.score||Wa.buffer.length-pd.buffer.length)>0)c.splice(ja--,1);else{c.splice(wt--,1);continue e}}}c.length>12&&(c.sort((wt,Wa)=>Wa.score-wt.score),c.splice(12,c.length-12))}this.minStackPos=c[0].pos;for(let wt=1;wt<c.length;wt++)c[wt].pos<this.minStackPos&&(this.minStackPos=c[wt].pos);return null}stopAt(n){if(this.stoppedAt!=null&&this.stoppedAt<n)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=n}advanceStack(n,s,c){let Ae=n.pos,{parser:yt}=this,wt=K1?this.stackID(n)+" -> ":"";if(this.stoppedAt!=null&&Ae>this.stoppedAt)return n.forceReduce()?n:null;if(this.fragments){let pd=n.curContext&&n.curContext.tracker.strict,md=pd?n.curContext.hash:0;for(let vd=this.fragments.nodeAt(Ae);vd;){let $d=this.parser.nodeSet.types[vd.type.id]==vd.type?yt.getGoto(n.state,vd.type.id):-1;if($d>-1&&vd.length&&(!pd||(vd.prop(Km.contextHash)||0)==md))return n.useNode(vd,$d),K1&&console.log(wt+this.stackID(n)+` (via reuse of ${yt.getName(vd.type.id)})`),!0;if(!(vd instanceof M0)||vd.children.length==0||vd.positions[0]>0)break;let kd=vd.children[0];if(kd instanceof M0&&vd.positions[0]==0)vd=kd;else break}}let Wa=yt.stateSlot(n.state,4);if(Wa>0)return n.reduce(Wa),K1&&console.log(wt+this.stackID(n)+` (via always-reduce ${yt.getName(Wa&65535)})`),!0;if(n.stack.length>=8400)for(;n.stack.length>6e3&&n.forceReduce(););let ja=this.tokens.getActions(n);for(let pd=0;pd<ja.length;){let md=ja[pd++],vd=ja[pd++],$d=ja[pd++],kd=pd==ja.length||!c,Zd=kd?n:n.split(),Id=this.tokens.mainToken;if(Zd.apply(md,vd,Id?Id.start:Zd.pos,$d),K1&&console.log(wt+this.stackID(Zd)+` (via ${(md&65536)==0?"shift":`reduce of ${yt.getName(md&65535)}`} for ${yt.getName(vd)} @ ${Ae}${Zd==n?"":", split"})`),kd)return!0;Zd.pos>Ae?s.push(Zd):c.push(Zd)}return!1}advanceFully(n,s){let c=n.pos;for(;;){if(!this.advanceStack(n,null,null))return!1;if(n.pos>c)return ZS(n,s),!0}}runRecovery(n,s,c){let Ae=null,yt=!1;for(let wt=0;wt<n.length;wt++){let Wa=n[wt],ja=s[wt<<1],pd=s[(wt<<1)+1],md=K1?this.stackID(Wa)+" -> ":"";if(Wa.deadEnd&&(yt||(yt=!0,Wa.restart(),K1&&console.log(md+this.stackID(Wa)+" (restarted)"),this.advanceFully(Wa,c))))continue;let vd=Wa.split(),$d=md;for(let kd=0;kd<10&&vd.forceReduce()&&(K1&&console.log($d+this.stackID(vd)+" (via force-reduce)"),!this.advanceFully(vd,c));kd++)K1&&($d=this.stackID(vd)+" -> ");for(let kd of Wa.recoverByInsert(ja))K1&&console.log(md+this.stackID(kd)+" (via recover-insert)"),this.advanceFully(kd,c);this.stream.end>Wa.pos?(pd==Wa.pos&&(pd++,ja=0),Wa.recoverByDelete(ja,pd),K1&&console.log(md+this.stackID(Wa)+` (via recover-delete ${this.parser.getName(ja)})`),ZS(Wa,c)):(!Ae||Ae.score<Wa.score)&&(Ae=Wa)}return Ae}stackToTree(n){return n.close(),M0.build({buffer:e2.create(n),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:n.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(n){let s=(qv||(qv=new WeakMap)).get(n);return s||qv.set(n,s=String.fromCodePoint(this.nextStackID++)),s+n}}function ZS(p,n){for(let s=0;s<n.length;s++){let c=n[s];if(c.pos==p.pos&&c.sameState(p)){n[s].score<p.score&&(n[s]=p);return}}n.push(p)}class Zk{constructor(n,s,c){this.source=n,this.flags=s,this.disabled=c}allows(n){return!this.disabled||this.disabled[n]==0}}const Hv=p=>p;class Nk{constructor(n){this.start=n.start,this.shift=n.shift||Hv,this.reduce=n.reduce||Hv,this.reuse=n.reuse||Hv,this.hash=n.hash||(()=>0),this.strict=n.strict!==!1}}class i2 extends CA{constructor(n){if(super(),this.wrappers=[],n.version!=14)throw new RangeError(`Parser version (${n.version}) doesn't match runtime version (14)`);let s=n.nodeNames.split(" ");this.minRepeatTerm=s.length;for(let Wa=0;Wa<n.repeatNodeCount;Wa++)s.push("");let c=Object.keys(n.topRules).map(Wa=>n.topRules[Wa][1]),Ae=[];for(let Wa=0;Wa<s.length;Wa++)Ae.push([]);function yt(Wa,ja,pd){Ae[Wa].push([ja,ja.deserialize(String(pd))])}if(n.nodeProps)for(let Wa of n.nodeProps){let ja=Wa[0];typeof ja=="string"&&(ja=Km[ja]);for(let pd=1;pd<Wa.length;){let md=Wa[pd++];if(md>=0)yt(md,ja,Wa[pd++]);else{let vd=Wa[pd+-md];for(let $d=-md;$d>0;$d--)yt(Wa[pd++],ja,vd);pd++}}}this.nodeSet=new j2(s.map((Wa,ja)=>v1.define({name:ja>=this.minRepeatTerm?void 0:Wa,id:ja,props:Ae[ja],top:c.indexOf(ja)>-1,error:ja==0,skipped:n.skippedNodes&&n.skippedNodes.indexOf(ja)>-1}))),n.propSources&&(this.nodeSet=this.nodeSet.extend(...n.propSources)),this.strict=!1,this.bufferLength=yA;let wt=KO(n.tokenData);this.context=n.context,this.specializerSpecs=n.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let Wa=0;Wa<this.specializerSpecs.length;Wa++)this.specialized[Wa]=this.specializerSpecs[Wa].term;this.specializers=this.specializerSpecs.map(NS),this.states=KO(n.states,Uint32Array),this.data=KO(n.stateData),this.goto=KO(n.goto),this.maxTerm=n.maxTerm,this.tokenizers=n.tokenizers.map(Wa=>typeof Wa=="number"?new K_(wt,Wa):Wa),this.topRules=n.topRules,this.dialects=n.dialects||{},this.dynamicPrecedences=n.dynamicPrecedences||null,this.tokenPrecTable=n.tokenPrec,this.termNames=n.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(n,s,c){let Ae=new Rk(this,n,s,c);for(let yt of this.wrappers)Ae=yt(Ae,n,s,c);return Ae}getGoto(n,s,c=!1){let Ae=this.goto;if(s>=Ae[0])return-1;for(let yt=Ae[s+1];;){let wt=Ae[yt++],Wa=wt&1,ja=Ae[yt++];if(Wa&&c)return ja;for(let pd=yt+(wt>>1);yt<pd;yt++)if(Ae[yt]==n)return ja;if(Wa)return-1}}hasAction(n,s){let c=this.data;for(let Ae=0;Ae<2;Ae++)for(let yt=this.stateSlot(n,Ae?2:1),wt;;yt+=3){if((wt=c[yt])==65535)if(c[yt+1]==1)wt=c[yt=Ig(c,yt+2)];else{if(c[yt+1]==2)return Ig(c,yt+2);break}if(wt==s||wt==0)return Ig(c,yt+1)}return 0}stateSlot(n,s){return this.states[n*6+s]}stateFlag(n,s){return(this.stateSlot(n,0)&s)>0}validAction(n,s){return!!this.allActions(n,c=>c==s?!0:null)}allActions(n,s){let c=this.stateSlot(n,4),Ae=c?s(c):void 0;for(let yt=this.stateSlot(n,1);Ae==null;yt+=3){if(this.data[yt]==65535)if(this.data[yt+1]==1)yt=Ig(this.data,yt+2);else break;Ae=s(Ig(this.data,yt+1))}return Ae}nextStates(n){let s=[];for(let c=this.stateSlot(n,1);;c+=3){if(this.data[c]==65535)if(this.data[c+1]==1)c=Ig(this.data,c+2);else break;if((this.data[c+2]&1)==0){let Ae=this.data[c+1];s.some((yt,wt)=>wt&1&&yt==Ae)||s.push(this.data[c],Ae)}}return s}configure(n){let s=Object.assign(Object.create(i2.prototype),this);if(n.props&&(s.nodeSet=this.nodeSet.extend(...n.props)),n.top){let c=this.topRules[n.top];if(!c)throw new RangeError(`Invalid top rule name ${n.top}`);s.top=c}return n.tokenizers&&(s.tokenizers=this.tokenizers.map(c=>{let Ae=n.tokenizers.find(yt=>yt.from==c);return Ae?Ae.to:c})),n.specializers&&(s.specializers=this.specializers.slice(),s.specializerSpecs=this.specializerSpecs.map((c,Ae)=>{let yt=n.specializers.find(Wa=>Wa.from==c.external);if(!yt)return c;let wt=Object.assign(Object.assign({},c),{external:yt.to});return s.specializers[Ae]=NS(wt),wt})),n.contextTracker&&(s.context=n.contextTracker),n.dialect&&(s.dialect=this.parseDialect(n.dialect)),n.strict!=null&&(s.strict=n.strict),n.wrap&&(s.wrappers=s.wrappers.concat(n.wrap)),n.bufferLength!=null&&(s.bufferLength=n.bufferLength),s}hasWrappers(){return this.wrappers.length>0}getName(n){return this.termNames?this.termNames[n]:String(n<=this.maxNode&&this.nodeSet.types[n].name||n)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(n){let s=this.dynamicPrecedences;return s==null?0:s[n]||0}parseDialect(n){let s=Object.keys(this.dialects),c=s.map(()=>!1);if(n)for(let yt of n.split(" ")){let wt=s.indexOf(yt);wt>=0&&(c[wt]=!0)}let Ae=null;for(let yt=0;yt<s.length;yt++)if(!c[yt])for(let wt=this.dialects[s[yt]],Wa;(Wa=this.data[wt++])!=65535;)(Ae||(Ae=new Uint8Array(this.maxTerm+1)))[Wa]=1;return new Zk(n,c,Ae)}static deserialize(n){return new i2(n)}}function Ig(p,n){return p[n]|p[n+1]<<16}function Lk(p){let n=null;for(let s of p){let c=s.p.stoppedAt;(s.pos==s.p.stream.end||c!=null&&s.pos>c)&&s.p.parser.stateFlag(s.state,2)&&(!n||n.score<s.score)&&(n=s)}return n}function NS(p){if(p.external){let n=p.extend?1:0;return(s,c)=>p.external(s,c)<<1|n}return p.get}const Qk=316,Bk=317,LS=1,Xk=2,Ik=3,Vk=4,zk=318,Wk=320,jk=321,Yk=5,Uk=6,qk=0,Kv=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],QS=125,Hk=59,Jv=47,Kk=42,Jk=43,e5=45,t5=60,i5=44,n5=63,r5=46,s5=91,o5=new Nk({start:!1,shift(p,n){return n==Yk||n==Uk||n==Wk?p:n==jk},strict:!1}),a5=new JO((p,n)=>{let{next:s}=p;(s==QS||s==-1||n.context)&&p.acceptToken(zk)},{contextual:!0,fallback:!0}),l5=new JO((p,n)=>{let{next:s}=p,c;Kv.indexOf(s)>-1||s==Jv&&((c=p.peek(1))==Jv||c==Kk)||s!=QS&&s!=Hk&&s!=-1&&!n.context&&p.acceptToken(Qk)},{contextual:!0}),u5=new JO((p,n)=>{p.next==s5&&!n.context&&p.acceptToken(Bk)},{contextual:!0}),c5=new JO((p,n)=>{let{next:s}=p;if(s==Jk||s==e5){if(p.advance(),s==p.next){p.advance();let c=!n.context&&n.canShift(LS);p.acceptToken(c?LS:Xk)}}else s==n5&&p.peek(1)==r5&&(p.advance(),p.advance(),(p.next<48||p.next>57)&&p.acceptToken(Ik))},{contextual:!0});function ex(p,n){return p>=65&&p<=90||p>=97&&p<=122||p==95||p>=192||!n&&p>=48&&p<=57}const h5=new JO((p,n)=>{if(p.next!=t5||!n.dialectEnabled(qk)||(p.advance(),p.next==Jv))return;let s=0;for(;Kv.indexOf(p.next)>-1;)p.advance(),s++;if(ex(p.next,!0)){for(p.advance(),s++;ex(p.next,!1);)p.advance(),s++;for(;Kv.indexOf(p.next)>-1;)p.advance(),s++;if(p.next==i5)return;for(let c=0;;c++){if(c==7){if(!ex(p.next,!0))return;break}if(p.next!="extends".charCodeAt(c))break;p.advance(),s++}}p.acceptToken(Vk,-s)}),f5=MA({"get set async static":jd.modifier,"for while do if else switch try catch finally return throw break continue default case defer":jd.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":jd.operatorKeyword,"let var const using function class extends":jd.definitionKeyword,"import export from":jd.moduleKeyword,"with debugger new":jd.keyword,TemplateString:jd.special(jd.string),super:jd.atom,BooleanLiteral:jd.bool,this:jd.self,null:jd.null,Star:jd.modifier,VariableName:jd.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":jd.function(jd.variableName),VariableDefinition:jd.definition(jd.variableName),Label:jd.labelName,PropertyName:jd.propertyName,PrivatePropertyName:jd.special(jd.propertyName),"CallExpression/MemberExpression/PropertyName":jd.function(jd.propertyName),"FunctionDeclaration/VariableDefinition":jd.function(jd.definition(jd.variableName)),"ClassDeclaration/VariableDefinition":jd.definition(jd.className),"NewExpression/VariableName":jd.className,PropertyDefinition:jd.definition(jd.propertyName),PrivatePropertyDefinition:jd.definition(jd.special(jd.propertyName)),UpdateOp:jd.updateOperator,"LineComment Hashbang":jd.lineComment,BlockComment:jd.blockComment,Number:jd.number,String:jd.string,Escape:jd.escape,ArithOp:jd.arithmeticOperator,LogicOp:jd.logicOperator,BitOp:jd.bitwiseOperator,CompareOp:jd.compareOperator,RegExp:jd.regexp,Equals:jd.definitionOperator,Arrow:jd.function(jd.punctuation),": Spread":jd.punctuation,"( )":jd.paren,"[ ]":jd.squareBracket,"{ }":jd.brace,"InterpolationStart InterpolationEnd":jd.special(jd.brace),".":jd.derefOperator,", ;":jd.separator,"@":jd.meta,TypeName:jd.typeName,TypeDefinition:jd.definition(jd.typeName),"type enum interface implements namespace module declare":jd.definitionKeyword,"abstract global Privacy readonly override":jd.modifier,"is keyof unique infer asserts":jd.operatorKeyword,JSXAttributeValue:jd.attributeValue,JSXText:jd.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":jd.angleBracket,"JSXIdentifier JSXNameSpacedName":jd.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":jd.attributeName,"JSXBuiltin/JSXIdentifier":jd.standard(jd.tagName)}),p5={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},d5={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},m5={__proto__:null,"<":193},g5=i2.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:"âš  ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:o5,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[f5],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[l5,u5,c5,h5,2,3,4,5,6,7,8,9,10,11,12,13,14,a5,new Uv("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new Uv("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:p=>p5[p]||-1},{term:343,get:p=>d5[p]||-1},{term:95,get:p=>m5[p]||-1}],tokenPrec:15201}),BS=[L1("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),L1("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),L1("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),L1("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),L1("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),L1(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),L1("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),L1(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),L1(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),L1('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),L1('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],_5=BS.concat([L1("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),L1("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),L1("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),XS=new gP,IS=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function ey(p){return(n,s)=>{let c=n.node.getChild("VariableDefinition");return c&&s(c,p),!0}}const O5=["FunctionDeclaration"],y5={FunctionDeclaration:ey("function"),ClassDeclaration:ey("class"),ClassExpression:()=>!0,EnumDeclaration:ey("constant"),TypeAliasDeclaration:ey("type"),NamespaceDeclaration:ey("namespace"),VariableDefinition(p,n){p.matchContext(O5)||n(p,"variable")},TypeDefinition(p,n){n(p,"type")},__proto__:null};function VS(p,n){let s=XS.get(n);if(s)return s;let c=[],Ae=!0;function yt(wt,Wa){let ja=p.sliceString(wt.from,wt.to);c.push({label:ja,type:Wa})}return n.cursor(G0.IncludeAnonymous).iterate(wt=>{if(Ae)Ae=!1;else if(wt.name){let Wa=y5[wt.name];if(Wa&&Wa(wt,yt)||IS.has(wt.name))return!1}else if(wt.to-wt.from>8192){for(let Wa of VS(p,wt.node))c.push(Wa);return!1}}),XS.set(n,c),c}const zS=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,WS=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function b5(p){let n=R0(p.state).resolveInner(p.pos,-1);if(WS.indexOf(n.name)>-1)return null;let s=n.name=="VariableName"||n.to-n.from<20&&zS.test(p.state.sliceDoc(n.from,n.to));if(!s&&!p.explicit)return null;let c=[];for(let Ae=n;Ae;Ae=Ae.parent)IS.has(Ae.name)&&(c=c.concat(VS(p.state.doc,Ae)));return{options:c,from:s?n.from:p.pos,validFor:zS}}const v_=lb.define({name:"javascript",parser:g5.configure({props:[RA.add({IfStatement:ov({except:/^\s*({|else\b)/}),TryStatement:ov({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:ZP,SwitchBody:p=>{let n=p.textAfter,s=/^\s*\}/.test(n),c=/^\s*(case|default)\b/.test(n);return p.baseIndent+(s?0:c?1:2)*p.unit},Block:RP({closing:"}"}),ArrowFunction:p=>p.baseIndent+p.unit,"TemplateString BlockComment":()=>null,"Statement Property":ov({except:/^\s*{/}),JSXElement(p){let n=/^\s*<\//.test(p.textAfter);return p.lineIndent(p.node.from)+(n?0:p.unit)},JSXEscape(p){let n=/\s*\}/.test(p.textAfter);return p.lineIndent(p.node.from)+(n?0:p.unit)},"JSXOpenTag JSXSelfClosingTag"(p){return p.column(p.node.from)+p.unit}}),LA.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":BP,BlockComment(p){return{from:p.from+2,to:p.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jS={test:p=>/^JSX/.test(p.name),facet:DA({commentTokens:{block:{open:"{/*",close:"*/}"}}})},v5=v_.configure({dialect:"ts"},"typescript"),x5=v_.configure({dialect:"jsx",props:[iv.add(p=>p.isTop?[jS]:void 0)]}),A5=v_.configure({dialect:"jsx ts",props:[iv.add(p=>p.isTop?[jS]:void 0)]},"typescript");let YS=p=>({label:p,type:"keyword"});const US="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(YS),$5=US.concat(["declare","implements","private","protected","public"].map(YS));function S5(p={}){let n=p.jsx?p.typescript?A5:x5:p.typescript?v5:v_,s=p.typescript?_5.concat($5):BS.concat(US);return new PP(n,[v_.data.of({autocomplete:P3(WS,sS(s))}),v_.data.of({autocomplete:b5}),p.jsx?P5:[]])}function C5(p){for(;;){if(p.name=="JSXOpenTag"||p.name=="JSXSelfClosingTag"||p.name=="JSXFragmentTag")return p;if(p.name=="JSXEscape"||!p.parent)return null;p=p.parent}}function qS(p,n,s=p.length){for(let c=n?.firstChild;c;c=c.nextSibling)if(c.name=="JSXIdentifier"||c.name=="JSXBuiltin"||c.name=="JSXNamespacedName"||c.name=="JSXMemberExpression")return p.sliceString(c.from,Math.min(c.to,s));return""}const M5=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),P5=wm.inputHandler.of((p,n,s,c,Ae)=>{if((M5?p.composing:p.compositionStarted)||p.state.readOnly||n!=s||c!=">"&&c!="/"||!v_.isActiveAt(p.state,n,-1))return!1;let yt=Ae(),{state:wt}=yt,Wa=wt.changeByRange(ja=>{var pd;let{head:md}=ja,vd=R0(wt).resolveInner(md-1,-1),$d;if(vd.name=="JSXStartTag"&&(vd=vd.parent),!(wt.doc.sliceString(md-1,md)!=c||vd.name=="JSXAttributeValue"&&vd.to>md)){if(c==">"&&vd.name=="JSXFragmentTag")return{range:ja,changes:{from:md,insert:"</>"}};if(c=="/"&&vd.name=="JSXStartCloseTag"){let kd=vd.parent,Zd=kd.parent;if(Zd&&kd.from==md-2&&(($d=qS(wt.doc,Zd.firstChild,md))||((pd=Zd.firstChild)===null||pd===void 0?void 0:pd.name)=="JSXFragmentTag")){let Id=`${$d}>`;return{range:Hd.cursor(md+Id.length,-1),changes:{from:md,insert:Id}}}}else if(c==">"){let kd=C5(vd);if(kd&&kd.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(wt.doc.sliceString(md,md+2))&&($d=qS(wt.doc,kd,md)))return{range:ja,changes:{from:md,insert:`</${$d}>`}}}}return{range:ja}});return Wa.changes.empty?!1:(p.dispatch([yt,wt.update(Wa,{userEvent:"input.complete",scrollIntoView:!0})]),!0)}),tx="#2e3440",HS="#3b4252",KS="#434c5e",J_="#4c566a",ty="#d8dee9",w5="#e5e9f0",k5="#eceff4",x_="#8fbcbb",JS="#88c0d0",E5="#81a1c1",Tg="#5e81ac",D5="#bf616a",eC="#d08770",ix="#ebcb8b",n2="#a3be8c",nx="#b48ead",tC="#d30102",T5="#252a33",rx=J_,F5=tx,sx=HS,G5=J_,iC=ty,R5=wm.theme({"&":{color:ty,backgroundColor:F5},".cm-content":{caretColor:iC},".cm-cursor, .cm-dropCursor":{borderLeftColor:iC},"&.cm-focused .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:G5},".cm-panels":{backgroundColor:T5,color:J_},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"transparent",outline:`1px solid ${x_}`},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:ty,color:tx},".cm-activeLine":{backgroundColor:rx},".cm-selectionMatch":{backgroundColor:w5,color:HS},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{outline:`1px solid ${x_}`},"&.cm-focused .cm-matchingBracket":{backgroundColor:k5,color:KS},".cm-gutters":{backgroundColor:tx,color:J_,border:"none"},".cm-activeLineGutter":{backgroundColor:rx,color:ty},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:sx},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:sx,borderBottomColor:sx},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:rx,color:J_}}},{dark:!0}),Z5=mb.define([{tag:jd.keyword,color:Tg},{tag:[jd.name,jd.deleted,jd.character,jd.propertyName,jd.macroName],color:JS},{tag:[jd.variableName],color:x_},{tag:[jd.function(jd.variableName)],color:x_},{tag:[jd.labelName],color:E5},{tag:[jd.color,jd.constant(jd.name),jd.standard(jd.name)],color:Tg},{tag:[jd.definition(jd.name),jd.separator],color:n2},{tag:[jd.brace],color:x_},{tag:[jd.annotation],color:tC},{tag:[jd.number,jd.changed,jd.annotation,jd.modifier,jd.self,jd.namespace],color:nx},{tag:[jd.typeName,jd.className],color:ix},{tag:[jd.operator,jd.operatorKeyword],color:n2},{tag:[jd.tagName],color:nx},{tag:[jd.squareBracket],color:D5},{tag:[jd.angleBracket],color:eC},{tag:[jd.attributeName],color:ix},{tag:[jd.regexp],color:Tg},{tag:[jd.quote],color:nx},{tag:[jd.string],color:n2},{tag:jd.link,color:n2,textDecoration:"underline",textUnderlinePosition:"under"},{tag:[jd.url,jd.escape,jd.special(jd.string)],color:x_},{tag:[jd.meta],color:JS},{tag:[jd.monospace],color:ty,fontStyle:"italic"},{tag:[jd.comment],color:J_,fontStyle:"italic"},{tag:jd.strong,fontWeight:"bold",color:Tg},{tag:jd.emphasis,fontStyle:"italic",color:Tg},{tag:jd.strikethrough,textDecoration:"line-through"},{tag:jd.heading,fontWeight:"bold",color:Tg},{tag:jd.special(jd.heading1),fontWeight:"bold",color:Tg},{tag:jd.heading1,fontWeight:"bold",color:Tg},{tag:[jd.heading2,jd.heading3,jd.heading4],fontWeight:"bold",color:Tg},{tag:[jd.heading5,jd.heading6],color:Tg},{tag:[jd.atom,jd.bool,jd.special(jd.variableName)],color:eC},{tag:[jd.processingInstruction,jd.inserted],color:x_},{tag:[jd.contentSeparator],color:ix},{tag:jd.invalid,color:KS,borderBottom:`1px dotted ${tC}`}]),N5=[R5,tw(Z5)],nC=p=>n=>{const s=p==="down";let c=n.state.selection;for(const Ae of c.ranges)c=c.addRange(n.moveVertically(Ae,s));return n.dispatch({selection:c}),!0},L5=[{key:"Ctrl-Space",run:qb},{key:"Escape",run:dS},{key:"ArrowDown",run:s_(!0)},{key:"ArrowUp",run:s_(!1)},{key:"PageDown",run:s_(!0,"page")},{key:"PageUp",run:s_(!1,"page")},{key:"Enter",run:Xv},{key:"Tab",run:Xv},{key:"Mod-f",run:Fv,scope:"editor search-panel"},{key:"Escape",run:Gv,scope:"editor search-panel"},{key:"Alt-Enter",run:H$,scope:"editor search-panel"},{key:"Mod-Alt-Enter",run:eS,scope:"editor search-panel"},{key:"Ctrl-g",run:W$},{key:"Mod-d",run:wv,preventDefault:!0},{key:"Shift-Mod-l",run:K$},{key:"Enter",run:Nb,shift:Nb},{key:"ArrowLeft",run:yb,shift:$b,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:h$,shift:v$},{key:"ArrowRight",run:bb,shift:Sb,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:f$,shift:x$},{key:"ArrowUp",run:xb,shift:Cb,preventDefault:!0},{key:"ArrowDown",run:Ab,shift:Mb,preventDefault:!0},{key:"Home",run:yv,shift:vv},{mac:"Cmd-ArrowLeft",run:yv,shift:vv},{key:"Mod-Home",run:kb,shift:Db},{mac:"Cmd-ArrowUp",run:kb,shift:Db},{key:"PageUp",run:XO,shift:Pb},{mac:"Ctrl-ArrowUp",run:XO,shift:Pb},{key:"PageDown",run:B_,shift:wb},{mac:"Ctrl-ArrowDown",run:B_,shift:wb},{key:"End",run:Ov,shift:bv},{mac:"Cmd-ArrowRight",run:Ov,shift:bv},{key:"Mod-Alt-ArrowUp",linux:"Shift-Alt-ArrowUp",run:nC("up"),preventDefault:!0},{key:"Mod-Alt-ArrowDown",linux:"Shift-Alt-ArrowDown",run:nC("down"),preventDefault:!0},{key:"Shift-Alt-i",run:p=>{let n=null;for(const s of p.state.selection.ranges)if(!s.empty)for(let c=s.from;c<=s.to;){const Ae=p.state.doc.lineAt(c),yt=Math.min(Ae.to,s.to);n?n=n.addRange(Hd.range(yt,yt)):n=Hd.single(yt),c=Ae.to+1}return n?(p.dispatch({selection:n}),!0):!1}},{key:"Mod-End",run:Eb,shift:Tb},{mac:"Cmd-ArrowDown",run:Eb,shift:Tb},{key:"Mod-a",run:M$},{key:"Backspace",run:lk},{key:"Backspace",run:I_,shift:I_},{key:"Delete",run:Gb},{key:"Mod-Backspace",mac:"Alt-Backspace",run:Rb},{key:"Mod-Delete",mac:"Alt-Delete",run:D$},{mac:"Mod-Backspace",run:Yw},{mac:"Mod-Delete",run:xv},{mac:"Ctrl-b",run:yb,shift:$b,preventDefault:!0},{mac:"Ctrl-f",run:bb,shift:Sb},{mac:"Ctrl-p",run:xb,shift:Cb},{mac:"Ctrl-n",run:Ab,shift:Mb},{mac:"Ctrl-a",run:g$,shift:S$},{mac:"Ctrl-e",run:_$,shift:C$},{mac:"Ctrl-d",run:Gb},{mac:"Ctrl-h",run:I_},{mac:"Ctrl-k",run:xv},{mac:"Ctrl-Alt-h",run:Rb},{mac:"Ctrl-o",run:T$},{mac:"Ctrl-t",run:F$},{mac:"Ctrl-v",run:B_},{mac:"Alt-v",run:XO},{key:"Shift-Mod-k",run:L$},{key:"Alt-ArrowDown",run:Z$},{key:"Alt-ArrowUp",run:R$},{win:"Shift-Alt-ArrowDown",mac:"Shift-Alt-ArrowDown",run:$v},{win:"Shift-Alt-ArrowUp",mac:"Shift-Alt-ArrowUp",run:Av},{key:"Mod-l",run:P$,preventDefault:!0},{key:"Shift-Mod-\\",run:O$},{key:"Tab",run:Lb,shift:Qb,preventDefault:!0},{key:"Mod-[",run:Qb},{key:"Mod-]",run:Lb},{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:zP},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:WP},{key:"Mod-k Mod-0",run:jP},{key:"Mod-k Mod-j",run:YP},{key:"Mod-k Mod-c",run:_w},{key:"Mod-k Mod-u",run:Ow},{key:"Mod-/",run:t$},{key:"Shift-Alt-a",run:i$},{key:"Mod-z",run:gv,preventDefault:!0},{key:"Mod-y",run:BO,preventDefault:!0},{key:"Mod-Shift-z",run:BO,preventDefault:!0},{key:"Mod-u",run:o$,preventDefault:!0},{key:"Mod-Shift-m",run:Ak},{key:"F8",run:$k}];window.CM={EditorView:wm,EditorState:Yd,Compartment:Vd,Prec:x0,javascript:S5,nord:N5,keymap:jy,vscodeKeymap:L5,indentWithTab:r3,indentUnit:RO,autocompletion:mk,lineNumbers:oP,history:$w,foldGutter:KP,highlightActiveLineGutter:uP,drawSelection:wM,dropCursor:FM,indentOnInput:LP,bracketMatching:uw,closeBrackets:sk,rectangularSelection:NM,crosshairCursor:BM,defaultKeymap:n3,historyKeymap:Tw,highlightSelectionMatches:l3,searchKeymap:$3,search:g3,selectNextOccurrence:wv,copyLineDown:$v,copyLineUp:Av,StateField:Vm,StateEffect:xm,Decoration:Rm}})();const DOM$1={};DOM$1.dataset_obj={},DOM$1.dataset_id=0,DOM$1.el=(e,r=document)=>(typeof r=="string"&&(r=DOM$1.el(r)),r.querySelector(e)),DOM$1.els=(e,r=document)=>(typeof r=="string"&&(r=DOM$1.el(r)),Array.from(r.querySelectorAll(e))),DOM$1.el_or_self=(e,r=document)=>{r=DOM$1.element(r);let o=r.querySelector(e);return o||r.classList.contains(DOM$1.clean_dot(e))&&(o=r),o},DOM$1.els_or_self=(e,r=document)=>{r=DOM$1.element(r);let o=Array.from(r.querySelectorAll(e));return o.length===0&&r.classList.contains(DOM$1.clean_dot(e))&&(o=[r]),o},DOM$1.clone=e=>(e=DOM$1.element(e),e.cloneNode(!0)),DOM$1.clone_children=e=>{e=DOM$1.element(e);let r=Array.from(e.children),o=[];for(let qe of r)o.push(DOM$1.clone(qe));return o},DOM$1.dataset=(e,r,o)=>{if(e=DOM$1.element(e),!e)return;let qe=e.dataset.dataset_id;if(qe||(qe=DOM$1.dataset_id,DOM$1.dataset_id+=1,e.dataset.dataset_id=qe,DOM$1.dataset_obj[qe]={}),o!==void 0)DOM$1.dataset_obj[qe][r]=o;else return DOM$1.dataset_obj[qe][r]},DOM$1.create=(e,r="",o="")=>{let qe=document.createElement(e);if(r){let bt=r.split(" ").filter(Nt=>Nt!=="");for(let Nt of bt)qe.classList.add(Nt)}return o&&(qe.id=o),qe},DOM$1.ev=(e,r,o,qe)=>{e=DOM$1.element(e),e.addEventListener(r,o,qe)},DOM$1.evs=(e,r,o,qe)=>{e=DOM$1.element(e);for(let bt of r)e.addEventListener(bt,o,qe)},DOM$1.index=e=>(e=DOM$1.element(e),Array.from(e.parentNode.children).indexOf(e)),DOM$1.class=(e,r)=>{e=DOM$1.element(e);for(let o of r)if(e.classList.contains(DOM$1.clean_dot(o)))return!0;return!1},DOM$1.parent=(e,r)=>{e=DOM$1.element(e);for(let o of r){let qe=e.closest(o);if(qe)return qe}},DOM$1.clean_dot=e=>e.replace(".",""),DOM$1.show=(e,r=1)=>{e=DOM$1.element(e),e.classList.remove(DOM$1.hidden(r))},DOM$1.hide=(e,r=1)=>{e=DOM$1.element(e),e.classList.add(DOM$1.hidden(r))},DOM$1.hidden=(e=1)=>{let r="hidden";return e>1&&(r+=`_${e}`),r},DOM$1.is_hidden=(e,r=1)=>e.classList.contains(DOM$1.hidden(r)),DOM$1.element=e=>typeof e=="string"?DOM$1.el(e):e,typeof window<"u"&&(window.DOM=DOM$1),(function(e,r){var o=r(e);typeof module<"u"&&"exports"in module?module.exports=o:typeof define=="function"&&define.amd?define([],function(){return o}):e.jdenticon=o})(typeof self<"u"?self:void 0,function(e){function r(Vd,Wd,Xd){return parseInt(Vd.substr(Wd,Xd),16)}function o(Vd){return Vd|=0,Vd<0?"00":Vd<16?"0"+Vd.toString(16):Vd<256?Vd.toString(16):"ff"}function qe(Vd,Wd,Xd){return Xd=Xd<0?Xd+6:Xd>6?Xd-6:Xd,o(255*(Xd<1?Vd+(Wd-Vd)*Xd:Xd<3?Wd:Xd<4?Vd+(Wd-Vd)*(4-Xd):Vd))}function bt(Vd){if(/^#[0-9a-f]{3,8}$/i.test(Vd)){var Wd,Xd=Vd.length;if(Xd<6){var Jd=Vd[1],lm=Vd[2],_m=Vd[3],um=Vd[4]||"";Wd="#"+Jd+Jd+lm+lm+_m+_m+um+um}return(Xd==7||Xd>8)&&(Wd=Vd),Wd}}function Nt(Vd){var Wd=r(Vd,7,2),Xd;if(isNaN(Wd))Xd=Vd;else{var Jd=r(Vd,1,2),lm=r(Vd,3,2),_m=r(Vd,5,2);Xd="rgba("+Jd+","+lm+","+_m+","+(Wd/255).toFixed(2)+")"}return Xd}function Na(Vd,Wd,Xd){var Jd;if(Wd==0){var lm=o(Xd*255);Jd=lm+lm+lm}else{var _m=Xd<=.5?Xd*(Wd+1):Xd+Wd-Xd*Wd,um=Xd*2-_m;Jd=qe(um,_m,Vd*6+2)+qe(um,_m,Vd*6)+qe(um,_m,Vd*6-2)}return"#"+Jd}function ld(Vd,Wd,Xd){var Jd=[.55,.5,.5,.46,.6,.55,.55],lm=Jd[Vd*6+.5|0];return Xd=Xd<.5?Xd*lm*2:lm+(Xd-.5)*(1-lm)*2,Na(Vd,Wd,Xd)}var fd=e,hd={G:"jdenticon_config",n:"config"},dd={};function gd(Vd){dd=Vd}function yd(Vd){return arguments.length&&(dd[hd.n]=Vd),dd[hd.n]}function _d(Vd,Wd){var Xd=typeof Vd=="object"&&Vd||dd[hd.n]||fd[hd.G]||{},Jd=Xd.lightness||{},lm=Xd.saturation||{},_m="color"in lm?lm.color:lm,um=lm.grayscale,Tm=Xd.backColor,om=Xd.padding;function Dm(h0,s0){var zm=Jd[h0];return zm&&zm.length>1||(zm=s0),function(a0){return a0=zm[0]+a0*(zm[1]-zm[0]),a0<0?0:a0>1?1:a0}}function Lm(h0){var s0=Xd.hues,zm;return s0&&s0.length>0&&(zm=s0[0|.999*h0*s0.length]),typeof zm=="number"?(zm/360%1+1)%1:h0}return{X:Lm,p:typeof _m=="number"?_m:.5,H:typeof um=="number"?um:0,q:Dm("color",[.4,.8]),I:Dm("grayscale",[.3,.9]),J:bt(Tm),Y:typeof Vd=="number"?Vd:typeof om=="number"?om:Wd}}var Ad=1,xd=2,Cd={t:"data-jdenticon-hash",o:"data-jdenticon-value"},Dd="["+Cd.t+"],["+Cd.o+"]",Td=typeof document<"u"&&document.querySelectorAll.bind(document);function Bd(Vd){if(Vd){var Wd=Vd.tagName;if(/^svg$/i.test(Wd))return Ad;if(/^canvas$/i.test(Wd)&&"getContext"in Vd)return xd}}function Md(Vd){if(typeof MutationObserver<"u"){var Wd=new MutationObserver(function(Jd){for(var lm=0;lm<Jd.length;lm++){for(var _m=Jd[lm],um=_m.addedNodes,Tm=0;um&&Tm<um.length;Tm++){var om=um[Tm];if(om.nodeType==1)if(Bd(om))Vd(om);else for(var Dm=om.querySelectorAll(Dd),Lm=0;Lm<Dm.length;Lm++)Vd(Dm[Lm])}_m.type=="attributes"&&Bd(_m.target)&&Vd(_m.target)}});Wd.observe(document.body,{childList:!0,attributes:!0,attributeFilter:[Cd.o,Cd.t,"width","height"],subtree:!0})}}function Ed(Vd,Wd){this.x=Vd,this.y=Wd}function Gd(Vd,Wd,Xd,Jd){this.u=Vd,this.v=Wd,this.K=Xd,this.Z=Jd}Gd.prototype.L=function(Wd,Xd,Jd,lm){var _m=this.u+this.K,um=this.v+this.K,Tm=this.Z;return Tm===1?new Ed(_m-Xd-(lm||0),this.v+Wd):Tm===2?new Ed(_m-Wd-(Jd||0),um-Xd-(lm||0)):Tm===3?new Ed(this.u+Xd,um-Wd-(Jd||0)):new Ed(this.u+Wd,this.v+Xd)};var Qd=new Gd(0,0,0,0);function zd(Vd){this.M=Vd,this.A=Qd}var nm=zd.prototype;nm.g=function(Wd,Xd){for(var Jd=this,lm=Xd?-2:2,_m=[],um=Xd?Wd.length-2:0;um<Wd.length&&um>=0;um+=lm)_m.push(Jd.A.L(Wd[um],Wd[um+1]));this.M.g(_m)},nm.h=function(Wd,Xd,Jd,lm){var _m=this.A.L(Wd,Xd,Jd,Jd);this.M.h(_m,Jd,lm)},nm.i=function(Wd,Xd,Jd,lm,_m){this.g([Wd,Xd,Wd+Jd,Xd,Wd+Jd,Xd+lm,Wd,Xd+lm],_m)},nm.j=function(Wd,Xd,Jd,lm,_m,um){var Tm=[Wd+Jd,Xd,Wd+Jd,Xd+lm,Wd,Xd+lm,Wd,Xd];Tm.splice((_m||0)%4*2,2),this.g(Tm,um)},nm.N=function(Wd,Xd,Jd,lm,_m){this.g([Wd+Jd/2,Xd,Wd+Jd,Xd+lm/2,Wd+Jd/2,Xd+lm,Wd,Xd+lm/2],_m)};function qd(Vd,Wd,Xd,Jd){Vd=Vd%14;var lm,_m,um,Tm,om,Dm;Vd?Vd==1?(um=0|Xd*.5,Tm=0|Xd*.8,Wd.j(Xd-um,0,um,Tm,2)):Vd==2?(um=0|Xd/3,Wd.i(um,um,Xd-um,Xd-um)):Vd==3?(om=Xd*.1,Dm=Xd<6?1:Xd<8?2:0|Xd*.25,om=om>1?0|om:om>.5?1:om,Wd.i(Dm,Dm,Xd-om-Dm,Xd-om-Dm)):Vd==4?(_m=0|Xd*.15,um=0|Xd*.5,Wd.h(Xd-um-_m,Xd-um-_m,um)):Vd==5?(om=Xd*.1,Dm=om*4,Dm>3&&(Dm=0|Dm),Wd.i(0,0,Xd,Xd),Wd.g([Dm,Dm,Xd-om,Dm,Dm+(Xd-Dm-om)/2,Xd-om],!0)):Vd==6?Wd.g([0,0,Xd,0,Xd,Xd*.7,Xd*.4,Xd*.4,Xd*.7,Xd,0,Xd]):Vd==7?Wd.j(Xd/2,Xd/2,Xd/2,Xd/2,3):Vd==8?(Wd.i(0,0,Xd,Xd/2),Wd.i(0,Xd/2,Xd/2,Xd/2),Wd.j(Xd/2,Xd/2,Xd/2,Xd/2,1)):Vd==9?(om=Xd*.14,Dm=Xd<4?1:Xd<6?2:0|Xd*.35,om=Xd<8?om:0|om,Wd.i(0,0,Xd,Xd),Wd.i(Dm,Dm,Xd-Dm-om,Xd-Dm-om,!0)):Vd==10?(om=Xd*.12,Dm=om*3,Wd.i(0,0,Xd,Xd),Wd.h(Dm,Dm,Xd-om-Dm,!0)):Vd==11?Wd.j(Xd/2,Xd/2,Xd/2,Xd/2,3):Vd==12?(_m=Xd*.25,Wd.i(0,0,Xd,Xd),Wd.N(_m,_m,Xd-_m,Xd-_m,!0)):!Jd&&(_m=Xd*.4,um=Xd*1.2,Wd.h(_m,_m,um)):(lm=Xd*.42,Wd.g([0,0,Xd,0,Xd,Xd-lm*2,Xd-lm,Xd,0,Xd]))}function dm(Vd,Wd,Xd){Vd=Vd%4;var Jd;Vd?Vd==1?Wd.j(0,Xd/2,Xd,Xd/2,0):Vd==2?Wd.N(0,0,Xd,Xd):(Jd=Xd/6,Wd.h(Jd,Jd,Xd-2*Jd)):Wd.j(0,0,Xd,Xd,0)}function im(Vd,Wd){return Vd=Wd.X(Vd),[ld(Vd,Wd.H,Wd.I(0)),ld(Vd,Wd.p,Wd.q(.5)),ld(Vd,Wd.H,Wd.I(1)),ld(Vd,Wd.p,Wd.q(1)),ld(Vd,Wd.p,Wd.q(0))]}function sm(Vd,Wd,Xd){var Jd=_d(Xd,.08);Jd.J&&Vd.m(Jd.J);var lm=Vd.k,_m=.5+lm*Jd.Y|0;lm-=_m*2;var um=new zd(Vd),Tm=0|lm/4,om=0|_m+lm/2-Tm*2,Dm=0|_m+lm/2-Tm*2;function Lm(Jm,Z0,o0,$0,I0){var J0=r(Wd,o0,1),fg=$0?r(Wd,$0,1):0;Vd.O(s0[zm[Jm]]);for(var Q1=0;Q1<I0.length;Q1++)um.A=new Gd(om+I0[Q1][0]*Tm,Dm+I0[Q1][1]*Tm,Tm,fg++%4),Z0(J0,um,Tm,Q1);Vd.P()}var h0=r(Wd,-7)/268435455,s0=im(h0,Jd),zm=[],a0;function k0(Jm){if(Jm.indexOf(a0)>=0){for(var Z0=0;Z0<Jm.length;Z0++)if(zm.indexOf(Jm[Z0])>=0)return!0}}for(var xm=0;xm<3;xm++)a0=r(Wd,8+xm,1)%s0.length,(k0([0,4])||k0([2,3]))&&(a0=1),zm.push(a0);Lm(0,dm,2,3,[[1,0],[2,0],[2,3],[1,3],[0,1],[3,1],[3,2],[0,2]]),Lm(1,dm,4,5,[[0,0],[3,0],[3,3],[0,3]]),Lm(2,qd,1,null,[[1,1],[2,1],[2,2],[1,2]]),Vd.finish()}function mm(Vd){var Wd=40,Xd=16,Jd=0,lm=0,_m=encodeURI(Vd)+"%80",um=[],Tm,om=[],Dm=1732584193,Lm=4023233417,h0=~Dm,s0=~Lm,zm=3285377520,a0=[Dm,Lm,h0,s0,zm],k0=0,xm="";function Jm(Z0,o0){return Z0<<o0|Z0>>>32-o0}for(;Jd<_m.length;lm++)um[lm>>2]=um[lm>>2]|(_m[Jd]=="%"?parseInt(_m.substring(Jd+1,Jd+=3),16):_m.charCodeAt(Jd++))<<(3-(lm&3))*8;for(Tm=((lm+7>>6)+1)*Xd,um[Tm-1]=lm*8-8;k0<Tm;k0+=Xd){for(Jd=0;Jd<80;Jd++)lm=Jm(Dm,5)+zm+(Jd<20?(Lm&h0^~Lm&s0)+1518500249:Jd<40?(Lm^h0^s0)+1859775393:Jd<60?(Lm&h0^Lm&s0^h0&s0)+2400959708:(Lm^h0^s0)+3395469782)+(om[Jd]=Jd<Xd?um[k0+Jd]|0:Jm(om[Jd-3]^om[Jd-8]^om[Jd-14]^om[Jd-16],1)),zm=s0,s0=h0,h0=Jm(Lm,30),Lm=Dm,Dm=lm;a0[0]=Dm=a0[0]+Dm|0,a0[1]=Lm=a0[1]+Lm|0,a0[2]=h0=a0[2]+h0|0,a0[3]=s0=a0[3]+s0|0,a0[4]=zm=a0[4]+zm|0}for(Jd=0;Jd<Wd;Jd++)xm+=(a0[Jd>>3]>>>(7-(Jd&7))*4&15).toString(16);return xm}function Mm(Vd){return/^[0-9a-f]{11,}$/i.test(Vd)&&Vd}function Om(Vd){return mm(Vd==null?"":""+Vd)}function km(Vd,Wd){var Xd=Vd.canvas,Jd=Xd.width,lm=Xd.height;Vd.save(),Wd||(Wd=Math.min(Jd,lm),Vd.translate((Jd-Wd)/2|0,(lm-Wd)/2|0)),this.l=Vd,this.k=Wd,Vd.clearRect(0,0,Wd,Wd)}var vm=km.prototype;vm.m=function(Wd){var Xd=this.l,Jd=this.k;Xd.fillStyle=Nt(Wd),Xd.fillRect(0,0,Jd,Jd)},vm.O=function(Wd){var Xd=this.l;Xd.fillStyle=Nt(Wd),Xd.beginPath()},vm.P=function(){this.l.fill()},vm.g=function(Wd){var Xd=this.l;Xd.moveTo(Wd[0].x,Wd[0].y);for(var Jd=1;Jd<Wd.length;Jd++)Xd.lineTo(Wd[Jd].x,Wd[Jd].y);Xd.closePath()},vm.h=function(Wd,Xd,Jd){var lm=this.l,_m=Xd/2;lm.moveTo(Wd.x+_m,Wd.y+_m),lm.arc(Wd.x+_m,Wd.y+_m,_m,0,Math.PI*2,Jd),lm.closePath()},vm.finish=function(){this.l.restore()};function t0(Vd,Wd,Xd,Jd){if(!Vd)throw new Error("No canvas specified.");sm(new km(Vd,Xd),Mm(Wd)||Om(Wd),Jd)}function Cm(Vd){return(Vd*10+.5|0)/10}function Zm(){this.B=""}var cm=Zm.prototype;cm.g=function(Wd){for(var Xd="",Jd=0;Jd<Wd.length;Jd++)Xd+=(Jd?"L":"M")+Cm(Wd[Jd].x)+" "+Cm(Wd[Jd].y);this.B+=Xd+"Z"},cm.h=function(Wd,Xd,Jd){var lm=Jd?0:1,_m=Cm(Xd/2),um=Cm(Xd),Tm="a"+_m+","+_m+" 0 1,"+lm+" ";this.B+="M"+Cm(Wd.x)+" "+Cm(Wd.y+Xd/2)+Tm+um+",0"+Tm+-um+",0"};function Xm(Vd){this.C,this.D={},this.R=Vd,this.k=Vd.k}var Hd=Xm.prototype;Hd.m=function(Wd){var Xd=/^(#......)(..)?/.exec(Wd),Jd=Xd[2]?r(Xd[2],0)/255:1;this.R.m(Xd[1],Jd)},Hd.O=function(Wd){this.C=this.D[Wd]||(this.D[Wd]=new Zm)},Hd.P=function(){},Hd.g=function(Wd){this.C.g(Wd)},Hd.h=function(Wd,Xd,Jd){this.C.h(Wd,Xd,Jd)},Hd.finish=function(){var Wd=this,Xd=this.D;for(var Jd in Xd)Xd.hasOwnProperty(Jd)&&Wd.R.S(Jd,Xd[Jd].B)};var r0={T:"http://www.w3.org/2000/svg",U:"width",V:"height"};function jm(Vd){this.k=Vd,this.F='<svg xmlns="'+r0.T+'" width="'+Vd+'" height="'+Vd+'" viewBox="0 0 '+Vd+" "+Vd+'">'}var am=jm.prototype;am.m=function(Wd,Xd){Xd&&(this.F+='<rect width="100%" height="100%" fill="'+Wd+'" opacity="'+Xd.toFixed(2)+'"/>')},am.S=function(Wd,Xd){this.F+='<path fill="'+Wd+'" d="'+Xd+'"/>'},am.toString=function(){return this.F+"</svg>"};function Hm(Vd,Wd,Xd){var Jd=new jm(Wd);return sm(new Xm(Jd),Mm(Vd)||Om(Vd),Xd),Jd.toString()}function _0(Vd,Wd){for(var Xd=[],Jd=arguments.length-2;Jd-- >0;)Xd[Jd]=arguments[Jd+2];for(var lm=document.createElementNS(r0.T,Wd),_m=0;_m+1<Xd.length;_m+=2)lm.setAttribute(Xd[_m],Xd[_m+1]);Vd.appendChild(lm)}function X0(Vd){var Wd=this.k=Math.min(Number(Vd.getAttribute(r0.U))||100,Number(Vd.getAttribute(r0.V))||100);for(this.W=Vd;Vd.firstChild;)Vd.removeChild(Vd.firstChild);Vd.setAttribute("viewBox","0 0 "+Wd+" "+Wd),Vd.setAttribute("preserveAspectRatio","xMidYMid meet")}var P0=X0.prototype;P0.m=function(Wd,Xd){Xd&&_0(this.W,"rect",r0.U,"100%",r0.V,"100%","fill",Wd,"opacity",Xd)},P0.S=function(Wd,Xd){_0(this.W,"path","fill",Wd,"d",Xd)};function c0(){Td&&C0(Dd)}function C0(Vd,Wd,Xd){Vm(Vd,Wd,Xd,function(Jd,lm){if(lm)return lm==Ad?new Xm(new X0(Jd)):new km(Jd.getContext("2d"))})}function Vm(Vd,Wd,Xd,Jd){if(typeof Vd=="string"){if(Td)for(var lm=Td(Vd),_m=0;_m<lm.length;_m++)Vm(lm[_m],Wd,Xd,Jd);return}var um=Mm(Wd)||Wd!=null&&Om(Wd)||Mm(Vd.getAttribute(Cd.t))||Vd.hasAttribute(Cd.o)&&Om(Vd.getAttribute(Cd.o));if(um){var Tm=Jd(Vd,Bd(Vd));Tm&&sm(Tm,um,Xd)}}function w0(Vd,Wd){return this.each(function(Xd,Jd){C0(Jd,Vd,Wd)}),this}var p0=c0;gd(p0),p0.configure=yd,p0.drawIcon=t0,p0.toSvg=Hm,p0.update=C0,p0.updateCanvas=C0,p0.updateSvg=C0,p0.version="3.1.1",p0.bundle="browser-umd";var x0=fd.jQuery;x0&&(x0.fn.jdenticon=w0);function U0(){var Vd=(p0[hd.n]||fd[hd.G]||{}).replaceMode;Vd!="never"&&(c0(),Vd=="observe"&&Md(C0))}return typeof setTimeout=="function"&&setTimeout(U0,0),p0});const m$3=(function(){const e=String.fromCharCode,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",qe={};function bt(Na,ld){if(!qe[Na]){qe[Na]={};for(let fd=0;fd<Na.length;fd++)qe[Na][Na.charAt(fd)]=fd}return qe[Na][ld]}const Nt={compressToBase64:function(Na){if(Na==null)return"";const ld=Nt._compress(Na,6,function(fd){return r.charAt(fd)});switch(ld.length%4){default:case 0:return ld;case 1:return ld+"===";case 2:return ld+"==";case 3:return ld+"="}},decompressFromBase64:function(Na){return Na==null?"":Na==""?null:Nt._decompress(Na.length,32,function(ld){return bt(r,Na.charAt(ld))})},compressToUTF16:function(Na){return Na==null?"":Nt._compress(Na,15,function(ld){return e(ld+32)})+" "},decompressFromUTF16:function(Na){return Na==null?"":Na==""?null:Nt._decompress(Na.length,16384,function(ld){return Na.charCodeAt(ld)-32})},compressToUint8Array:function(Na){const ld=Nt.compress(Na),fd=new Uint8Array(ld.length*2);for(let hd=0,dd=ld.length;hd<dd;hd++){const gd=ld.charCodeAt(hd);fd[hd*2]=gd>>>8,fd[hd*2+1]=gd%256}return fd},decompressFromUint8Array:function(Na){if(Na==null)return Nt.decompress(Na);{const ld=new Array(Na.length/2);for(let hd=0,dd=ld.length;hd<dd;hd++)ld[hd]=Na[hd*2]*256+Na[hd*2+1];const fd=[];return ld.forEach(function(hd){fd.push(e(hd))}),Nt.decompress(fd.join(""))}},compressToEncodedURIComponent:function(Na){return Na==null?"":Nt._compress(Na,6,function(ld){return o.charAt(ld)})},decompressFromEncodedURIComponent:function(Na){return Na==null?"":Na==""?null:(Na=Na.replace(/ /g,"+"),Nt._decompress(Na.length,32,function(ld){return bt(o,Na.charAt(ld))}))},compress:function(Na){return Nt._compress(Na,16,function(ld){return e(ld)})},_compress:function(Na,ld,fd){if(Na==null)return"";let hd,dd;const gd={},yd={};let _d="",Ad="",xd="",Cd=2,Dd=3,Td=2;const Bd=[];let Md=0,Ed=0,Gd;for(Gd=0;Gd<Na.length;Gd+=1)if(_d=Na.charAt(Gd),Object.prototype.hasOwnProperty.call(gd,_d)||(gd[_d]=Dd++,yd[_d]=!0),Ad=xd+_d,Object.prototype.hasOwnProperty.call(gd,Ad))xd=Ad;else{if(Object.prototype.hasOwnProperty.call(yd,xd)){if(xd.charCodeAt(0)<256){for(hd=0;hd<Td;hd++)Md=Md<<1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++;for(dd=xd.charCodeAt(0),hd=0;hd<8;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1}else{for(dd=1,hd=0;hd<Td;hd++)Md=Md<<1|dd,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=0;for(dd=xd.charCodeAt(0),hd=0;hd<16;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1}Cd--,Cd==0&&(Cd=Math.pow(2,Td),Td++),delete yd[xd]}else for(dd=gd[xd],hd=0;hd<Td;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1;Cd--,Cd==0&&(Cd=Math.pow(2,Td),Td++),gd[Ad]=Dd++,xd=String(_d)}if(xd!==""){if(Object.prototype.hasOwnProperty.call(yd,xd)){if(xd.charCodeAt(0)<256){for(hd=0;hd<Td;hd++)Md=Md<<1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++;for(dd=xd.charCodeAt(0),hd=0;hd<8;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1}else{for(dd=1,hd=0;hd<Td;hd++)Md=Md<<1|dd,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=0;for(dd=xd.charCodeAt(0),hd=0;hd<16;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1}Cd--,Cd==0&&(Cd=Math.pow(2,Td),Td++),delete yd[xd]}else for(dd=gd[xd],hd=0;hd<Td;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1;Cd--,Cd==0&&(Cd=Math.pow(2,Td),Td++)}for(dd=2,hd=0;hd<Td;hd++)Md=Md<<1|dd&1,Ed==ld-1?(Ed=0,Bd.push(fd(Md)),Md=0):Ed++,dd=dd>>1;for(;;)if(Md=Md<<1,Ed==ld-1){Bd.push(fd(Md));break}else Ed++;return Bd.join("")},decompress:function(Na){return Na==null?"":Na==""?null:Nt._decompress(Na.length,32768,function(ld){return Na.charCodeAt(ld)})},_decompress:function(Na,ld,fd){const hd=[];let dd=4,gd=4,yd=3,_d="";const Ad=[];let xd,Cd,Dd,Td,Bd,Md,Ed;const Gd={val:fd(0),position:ld,index:1};for(xd=0;xd<3;xd+=1)hd[xd]=String(xd);for(Dd=0,Bd=Math.pow(2,2),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;switch(Dd){case 0:for(Dd=0,Bd=Math.pow(2,8),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;Ed=e(Dd);break;case 1:for(Dd=0,Bd=Math.pow(2,16),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;Ed=e(Dd);break;case 2:return""}for(hd[3]=String(Ed),Cd=String(Ed),Ad.push(String(Ed));;){if(Gd.index>Na)return"";for(Dd=0,Bd=Math.pow(2,yd),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;switch(Ed=Dd){case 0:for(Dd=0,Bd=Math.pow(2,8),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;hd[gd++]=e(Dd),Ed=gd-1,dd--;break;case 1:for(Dd=0,Bd=Math.pow(2,16),Md=1;Md!=Bd;)Td=Gd.val&Gd.position,Gd.position>>=1,Gd.position==0&&(Gd.position=ld,Gd.val=fd(Gd.index++)),Dd|=(Td>0?1:0)*Md,Md<<=1;hd[gd++]=e(Dd),Ed=gd-1,dd--;break;case 2:return Ad.join("")}if(dd==0&&(dd=Math.pow(2,yd),yd++),hd[Ed])_d=String(hd[Ed]);else if(Ed===gd)_d=Cd+Cd.charAt(0);else return null;Ad.push(_d),hd[gd++]=Cd+_d.charAt(0),dd--,Cd=_d,dd==0&&(dd=Math.pow(2,yd),yd++)}}};return Nt})(),NeedContext$1={};NeedContext$1.created=!1,NeedContext$1.after_show=()=>{},NeedContext$1.after_hide=()=>{},NeedContext$1.min_width="25px",NeedContext$1.min_height="25px",NeedContext$1.back_icon="â¬…ï¸",NeedContext$1.back_text="Back",NeedContext$1.clear_text="Clear",NeedContext$1.item_sep="4px",NeedContext$1.layers={},NeedContext$1.level=0,NeedContext$1.gap="0.5rem",NeedContext$1.side_padding="0.5rem",NeedContext$1.compact_padding="0.3rem",NeedContext$1.center_top=20,NeedContext$1.dragging=!1,NeedContext$1.autohide_delay=500,NeedContext$1.autoclick_delay=500,NeedContext$1.autohide_threshold=5,NeedContext$1.set_defaults=()=>{NeedContext$1.open=!1,NeedContext$1.mousedown=!1,NeedContext$1.first_mousedown=!1,NeedContext$1.keydown=!1,NeedContext$1.filtered=!1,NeedContext$1.last_x=0,NeedContext$1.last_y=0,NeedContext$1.layers={},NeedContext$1.mouse_activity={},NeedContext$1.autohide_enabled=!1,NeedContext$1.reset_debouncers()},NeedContext$1.clear_filter=()=>{NeedContext$1.filter.value="",NeedContext$1.do_filter(),NeedContext$1.filter.focus()},NeedContext$1.do_filter=()=>{let e=NeedContext$1.filter.value,r=NeedContext$1.remove_spaces_2(e).toLowerCase(),o=r.includes(":"),qe=!1;for(let Na of document.querySelectorAll(".needcontext-separator"))r?Na.classList.add("needcontext-hidden"):Na.classList.remove("needcontext-hidden");for(let Na of document.querySelectorAll(".needcontext-text")){let ld=Na.closest(".needcontext-item"),fd=Na.textContent.toLowerCase();fd=NeedContext$1.remove_spaces(fd),o||(fd=fd.replace(/:/g,"")),fd.includes(r)?(ld.classList.remove("needcontext-hidden"),qe||(NeedContext$1.select_item(parseInt(ld.dataset.index)),qe=!0)):ld.classList.add("needcontext-hidden")}let bt=document.querySelector("#needcontext-back"),Nt=document.querySelector("#needcontext-clear");if(NeedContext$1.filtered=r!=="",NeedContext$1.filtered){let Na=document.querySelector("#needcontext-clear-text");Na.textContent=e.trim(),Nt.classList.remove("needcontext-hidden"),bt&&bt.classList.add("needcontext-hidden")}else Nt.classList.add("needcontext-hidden"),bt&&bt.classList.remove("needcontext-hidden");NeedContext$1.scroll_to_selected()},NeedContext$1.def_args=(e,r)=>{for(let o in e)r[o]===void 0&&e[o]!==void 0&&(r[o]=e[o])},NeedContext$1.show=(e={})=>{let r={root:!0,expand:!1,picker_mode:!1,margin:0,compact:!1,autohide:!1,autoclick:!1};if(NeedContext$1.def_args(r,e),!e.items.length)return;if(NeedContext$1.reset_debouncers(),NeedContext$1.created||NeedContext$1.create(),e.e&&e.e.clientX!==void 0&&e.e.clientY!==void 0)e.x=e.e.clientX,e.y=e.e.clientY;else if(e.element){let hd=e.element.getBoundingClientRect();e.x=hd.left,e.y=hd.top+e.margin}e.root&&(NeedContext$1.level=0);let o=e.x===void 0||e.y===void 0;if(e.items=e.items.slice(0),e.index===void 0){let hd=e.items.filter(dd=>!dd.separator);for(let[dd,gd]of hd.entries())if(gd.selected){e.index=dd;break}}e.index===void 0&&(e.index=0),e.index>=e.items.length&&(e.index=e.items.length-1);let qe,bt=NeedContext$1.get_layer();bt?qe=bt.last_index:qe=e.index,qe=qe||0;for(let[hd,dd]of e.items.entries())hd===qe?dd.selected=!0:dd.selected=!1;let Nt=0,Na=NeedContext$1.container;if(Na.innerHTML="",Na.style.left="unset",Na.style.top="unset",Na.style.transform="unset",Na.style.minWidth="unset",Na.style.minHeight="unset",e.title&&!e.compact){let hd=document.createElement("div");hd.id="needcontext-title",e.title_icon&&(document.createElement("div").classList.add("needcontext-title-icon"),hd.append(e.title_icon));let dd=document.createElement("div");if(dd.textContent=e.title.trim(),hd.append(dd),Na.append(hd),e.title_number){let gd=document.createElement("div");gd.classList.add("needcontext-title-number"),hd.append(gd)}Na.classList.add("with_title"),Na.classList.remove("without_title")}else Na.classList.remove("with_title"),Na.classList.add("without_title");e.root||Na.append(NeedContext$1.back_button()),Na.append(NeedContext$1.clear_button());let ld=[];e.compact?Na.classList.add("needcontext-compact"):Na.classList.remove("needcontext-compact");for(let hd of e.items){if(e.compact&&!hd.icon)continue;let dd=document.createElement("div");if(dd.classList.add("needcontext-item"),hd.separator)dd.classList.add("needcontext-separator");else{if(dd.classList.add("needcontext-normal"),hd.highlight&&dd.classList.add("needcontext-highlight"),hd.image){let gd=document.createElement("img");gd.loading="lazy",gd.addEventListener("error",yd=>{yd.target.classList.add("needcontext-hidden")}),gd.classList.add("needcontext-image"),gd.src=hd.image,dd.append(gd)}if(hd.icon){let gd=document.createElement("div");gd.classList.add("needcontext-icon"),hd.icon_action&&gd.addEventListener("click",yd=>{hd.icon_action(yd,gd)}),gd.append(hd.icon),dd.append(gd)}if(hd.text){let gd=document.createElement("div");gd.classList.add("needcontext-text"),gd.textContent=hd.text.trim(),dd.append(gd)}if(e.compact){if(e.compact){let gd=[hd.text,hd.info].filter(Boolean);dd.title=gd.join(" - ")}}else hd.info&&(dd.title=hd.info.trim());hd.bold&&dd.classList.add("needcontext-bold"),hd.direct_action&&dd.addEventListener("click",()=>{hd.direct_action(),NeedContext$1.hide()}),dd.dataset.index=Nt,hd.index=Nt,dd.addEventListener("mousemove",()=>{let gd=parseInt(dd.dataset.index);NeedContext$1.index!==gd&&NeedContext$1.select_item(gd)}),Nt+=1,ld.push(hd)}e.on_drag&&(dd.draggable=!0),hd.element=dd,hd.picked=!1,Na.append(dd)}NeedContext$1.layers[NeedContext$1.level]={root:e.root,items:e.items,normal_items:ld,last_index:qe,x:e.x,y:e.y},NeedContext$1.main.classList.remove("needcontext-hidden"),NeedContext$1.update_title(),o&&(Na.style.left="50%",Na.style.transform="translateX(-50%)",e.y=NeedContext$1.center_top),e.y<5&&(e.y=5),e.x<5&&(e.x=5);let fd=5;if(e.y+Na.offsetHeight+5>window.innerHeight){let hd=Math.abs(e.y+Na.offsetHeight-window.innerHeight);e.y-=hd+fd}if(e.x+Na.offsetWidth+5>window.innerWidth){let hd=Math.abs(e.x+Na.offsetWidth-window.innerWidth);e.x-=hd+fd}NeedContext$1.last_x=e.x,NeedContext$1.last_y=e.y,e.x=Math.max(e.x,0),e.y=Math.max(e.y,0),Na.style.top=`${e.y}px`,o||(Na.style.left=`${e.x}px`,Na.style.transform="unset"),NeedContext$1.filter.value="",NeedContext$1.filter.focus(),e.expand&&e.element?Na.style.minWidth=`${e.element.clientWidth}px`:Na.style.minWidth=NeedContext$1.min_width,Na.style.minHeight=NeedContext$1.min_height,NeedContext$1.filter.value="",NeedContext$1.filtered=!1,NeedContext$1.select_item(qe),NeedContext$1.scroll_to_selected(),NeedContext$1.open=!0,NeedContext$1.after_show(),e.root&&(NeedContext$1.args=e)},NeedContext$1.hide=e=>{NeedContext$1.open&&(NeedContext$1.main.classList.add("needcontext-hidden"),NeedContext$1.set_defaults(),NeedContext$1.after_hide(),NeedContext$1.args.after_hide&&NeedContext$1.args.after_hide(e))},NeedContext$1.select_item=e=>{let r=Array.from(document.querySelectorAll(".needcontext-normal"));for(let o of r)parseInt(o.dataset.index)===e?o.classList.add("needcontext-item-selected"):o.classList.remove("needcontext-item-selected");NeedContext$1.index=e},NeedContext$1.scroll_to_selected=(e="center")=>{let r=document.querySelector(".needcontext-item-selected");r&&r.scrollIntoView({block:e})},NeedContext$1.select_next=(e="down",r=!1)=>{let o=!1,qe,bt=NeedContext$1.get_layer().normal_items.slice(0);bt=bt.filter(Nt=>!Nt.removed),e==="up"&&bt.reverse();for(let Nt of bt)if(NeedContext$1.is_visible(Nt.element)){if(qe===void 0&&(qe=Nt.index),o){NeedContext$1.select_item(Nt.index),NeedContext$1.scroll_to_selected("nearest");return}Nt.index===NeedContext$1.index&&(o=!0)}if(!r)return NeedContext$1.select_item(qe),NeedContext$1.scroll_to_selected("nearest"),!0;NeedContext$1.select_next("up")},NeedContext$1.select_action=(e,r=NeedContext$1.index,o="mouse")=>{if(o==="mouse"&&!e.target.closest(".needcontext-normal"))return;let qe=NeedContext$1.get_layer().normal_items[r];if(!qe)return;let bt=NeedContext$1.last_x,Nt=NeedContext$1.last_y,Na=hd=>{NeedContext$1.get_layer().last_index=r,NeedContext$1.level+=1,e.clientY&&(Nt=e.clientY),NeedContext$1.show({x:bt,y:Nt,items:hd,root:!1})},ld=hd=>{hd.length===1&&hd[0].direct?NeedContext$1.action(hd[0],e):Na(hd)};async function fd(){if(qe.action){e.shiftKey?qe.shift_action&&NeedContext$1.shift_action(qe,e):e.ctrlKey?qe.ctrl_action&&NeedContext$1.ctrl_action(qe,e):e.altKey?qe.alt_action&&NeedContext$1.alt_action(qe,e):NeedContext$1.action(qe,e);return}else if(qe.items)ld(qe.items);else if(qe.get_items){let hd=await qe.get_items();ld(hd)}}if(o==="keyboard"){fd();return}e.button===0?e.shiftKey?qe.shift_action&&NeedContext$1.shift_action(qe,e):e.ctrlKey?qe.ctrl_action&&NeedContext$1.ctrl_action(qe,e):e.altKey?qe.alt_action&&NeedContext$1.alt_action(qe,e):fd():e.button===1?qe.middle_action&&NeedContext$1.middle_action(qe,e):e.button===2&&qe.context_action&&NeedContext$1.context_action(qe,e)},NeedContext$1.is_visible=e=>!e.classList.contains("needcontext-hidden"),NeedContext$1.remove_spaces=e=>e.replace(/[\s-]+/g,""),NeedContext$1.remove_spaces_2=e=>e.replace(/\s+/g,""),NeedContext$1.init=()=>{let e=document.createElement("style"),r=`
    #needcontext-main {
      position: fixed;
      z-index: 999999999;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }

    .needcontext-hidden {
      display: none !important;
    }

    #needcontext-container {
      z-index: 2;
      position: absolute;
      background-color: white;
      color: black;
      font-size: 16px;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      user-select: none;
      border: 1px solid #2B2F39;
      border-radius: 5px;
      padding-bottom: 5px;
      max-height: 80vh;
      overflow-y: auto;
      overflow-x: hidden;
      text-align: left;
      max-width: 98%;
    }

    #needcontext-container.needcontext-compact {
      flex-direction: row;
      flex-wrap: wrap;
      padding-left: ${NeedContext$1.compact_padding};
      padding-right: ${NeedContext$1.compact_padding};
    }

    .needcontext-compact .needcontext-text {
      display: none;
    }

    .needcontext-compact .needcontext-separator {
      display: none;
    }

    #needcontext-container.without_title {
      padding-top: 5px;
    }

    #needcontext-title {
      font-weight: bold;
      padding-left: ${NeedContext$1.side_padding};
      padding-right: ${NeedContext$1.side_padding};
      background-color: rgba(67, 220, 255, 0.47);
      padding-top: 4px;
      padding-bottom: 4px;
      margin-bottom: 2px;
      display: flex;
      flex-direction: row;
      gap: ${NeedContext$1.gap};
      align-items: center;
      justify-content: flex-start;
    }

    #needcontext-filter {
      opacity: 0;
    }

    .needcontext-item {
      white-space: nowrap;
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: ${NeedContext$1.gap};
    }

    .needcontext-normal {
      padding-left: ${NeedContext$1.side_padding};
      padding-right: ${NeedContext$1.side_padding};
      padding-top: ${NeedContext$1.item_sep};
      padding-bottom: ${NeedContext$1.item_sep};
      cursor: pointer;
    }

    .needcontext-highlight {
      border: 1px solid currentColor !important;
      border-radius: 10px;
    }

    .needcontext-picked .needcontext-text {
      text-decoration: line-through;
      opacity: 0.7;
    }

    .needcontext-button {
      padding-left: ${NeedContext$1.side_padding};
      padding-right: ${NeedContext$1.side_padding};
      padding-top: ${NeedContext$1.item_sep};
      padding-bottom: ${NeedContext$1.item_sep};
      display: flex;
      flex-direction: row;
      align-items: center;
      gap: ${NeedContext$1.gap};
      cursor: pointer;
    }

    .needcontext-button:hover {
      text-shadow: 0 0 1rem currentColor;
    }

    .needcontext-separator {
      border-top: 1px solid currentColor;
      margin-left: ${NeedContext$1.side_padding};
      margin-right: ${NeedContext$1.side_padding};
      margin-top: ${NeedContext$1.item_sep};
      margin-bottom: ${NeedContext$1.item_sep};
      opacity: 0.7;
    }

    .needcontext-item-selected {
      background-color: rgba(0, 0, 0, 0.18);
    }

    .needcontext-icon {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .needcontext-image {
      width: 1.11rem;
      height: 1.11rem;
      object-fit: contain;
      margin-right: 0.1rem;
    }

    .needcontext-bold {
      font-weight: bold;
    }
  `;e.innerText=r,document.head.appendChild(e),document.addEventListener("mousedown",o=>{!NeedContext$1.open||!o.target||(NeedContext$1.first_mousedown=!0,o.target.closest("#needcontext-container")&&(NeedContext$1.mousedown=!0))}),document.addEventListener("mouseup",o=>{!NeedContext$1.open||!o.target||(o.target.closest("#needcontext-container")?o.target.closest(".needcontext-back")?o.button===0&&NeedContext$1.go_back():o.target.closest(".needcontext-clear")?o.button===0&&NeedContext$1.clear_filter():NeedContext$1.mousedown&&NeedContext$1.select_action(o):NeedContext$1.first_mousedown&&NeedContext$1.dismiss(o),NeedContext$1.mousedown=!1)}),document.addEventListener("mousemove",o=>{!NeedContext$1.open||!o.target||(NeedContext$1.check_mouse_range(o),NeedContext$1.check_auto_funcs(o))}),document.addEventListener("mouseover",o=>{!NeedContext$1.open||!o.target||(NeedContext$1.check_mouse_range(o),NeedContext$1.check_auto_funcs(o))}),document.documentElement.addEventListener("mouseleave",o=>{NeedContext$1.open&&NeedContext$1.args.autohide&&NeedContext$1.autohide_debouncer.call_2(o)}),document.addEventListener("keydown",o=>{NeedContext$1.open&&(NeedContext$1.keydown=!0,["ArrowUp","ArrowLeft"].includes(o.key)?(NeedContext$1.select_next("up"),o.preventDefault()):["ArrowDown","ArrowRight"].includes(o.key)?(NeedContext$1.select_next(),o.preventDefault()):o.key==="Backspace"&&(NeedContext$1.filtered||(NeedContext$1.go_back(),o.preventDefault())))}),document.addEventListener("keyup",o=>{NeedContext$1.open&&NeedContext$1.keydown&&(NeedContext$1.keydown=!1,o.key==="Escape"?(NeedContext$1.dismiss(o),o.preventDefault()):o.key==="Enter"&&(NeedContext$1.select_action(o,void 0,"keyboard"),o.preventDefault()))}),NeedContext$1.start_autohide(),NeedContext$1.start_autoclick(),NeedContext$1.set_defaults()},NeedContext$1.create=()=>{NeedContext$1.main=document.createElement("div"),NeedContext$1.main.id="needcontext-main",NeedContext$1.main.classList.add("needcontext-hidden"),NeedContext$1.container=document.createElement("div"),NeedContext$1.container.id="needcontext-container",NeedContext$1.filter=document.createElement("input"),NeedContext$1.filter.id="needcontext-filter",NeedContext$1.filter.type="text",NeedContext$1.filter.autocomplete="off",NeedContext$1.filter.spellcheck=!1,NeedContext$1.filter.placeholder="Filter",NeedContext$1.filter.addEventListener("input",e=>{NeedContext$1.do_filter()}),NeedContext$1.main.addEventListener("contextmenu",e=>{e.preventDefault()}),NeedContext$1.container.addEventListener("dragstart",e=>{NeedContext$1.dragging=!0,NeedContext$1.dragstart_action(e)}),NeedContext$1.container.addEventListener("dragenter",e=>{NeedContext$1.dragenter_action(e)}),NeedContext$1.container.addEventListener("dragend",e=>{NeedContext$1.dragging=!1,NeedContext$1.dragend_action(e)}),NeedContext$1.main.append(NeedContext$1.filter),NeedContext$1.main.append(NeedContext$1.container),document.body.appendChild(NeedContext$1.main),NeedContext$1.created=!0},NeedContext$1.dragstart_action=e=>{NeedContext$1.dragged_item=e.target;let r=NeedContext$1.container,o=Array.from(r.querySelectorAll(".needcontext-item"));NeedContext$1.dragged_index=o.indexOf(e.target)},NeedContext$1.dragenter_action=e=>{let r=NeedContext$1.dragged_item;if(r===e.target)return;let o=NeedContext$1.container,qe=Array.from(o.querySelectorAll(".needcontext-item")),bt=qe.indexOf(r),Nt=qe.indexOf(e.target);if(bt<0||Nt<0)return;bt<Nt?o.insertBefore(r,e.target.nextSibling):o.insertBefore(r,e.target),qe=Array.from(o.querySelectorAll(".needcontext-item"));let Na=qe.indexOf(r),ld=qe.indexOf(e.target);r.dataset.index=Na,e.target.dataset.index=ld,NeedContext$1.select_item(Na)},NeedContext$1.dragend_action=e=>{let r=NeedContext$1.container,o=NeedContext$1.dragged_item,bt=Array.from(r.querySelectorAll(".needcontext-item")).indexOf(o);NeedContext$1.hide(e),NeedContext$1.args.on_drag(NeedContext$1.dragged_index,bt)},NeedContext$1.get_layer=()=>NeedContext$1.layers[NeedContext$1.level],NeedContext$1.prev_layer=()=>NeedContext$1.layers[NeedContext$1.level-1],NeedContext$1.go_back=()=>{if(NeedContext$1.level===0)return;let e=NeedContext$1.prev_layer();NeedContext$1.level-=1;let r={x:e.x,y:e.y,items:e.items,root:e.root};r.compact=NeedContext$1.args.compact,r.autohide=NeedContext$1.args.autohide,r.autoclick=NeedContext$1.args.autoclick,NeedContext$1.show(r)},NeedContext$1.back_button=()=>{let e=document.createElement("div");e.id="needcontext-back",e.classList.add("needcontext-back"),e.classList.add("needcontext-button");let r=document.createElement("div");r.append(NeedContext$1.back_icon);let o=document.createElement("div");return o.textContent=NeedContext$1.back_text.trim(),e.append(r),e.append(o),e.title="Shortcut: Backspace",e},NeedContext$1.clear_button=()=>{let e=document.createElement("div");e.id="needcontext-clear",e.classList.add("needcontext-clear"),e.classList.add("needcontext-button"),e.classList.add("needcontext-hidden");let r=document.createElement("div");r.append(NeedContext$1.back_icon);let o=document.createElement("div");return o.id="needcontext-clear-text",o.textContent=NeedContext$1.clear_text.trim(),e.append(r),e.append(o),e.title="Type to filter. Click to clear",e},NeedContext$1.action=(e,r)=>{if(e.element&&(!NeedContext$1.is_visible(e.element)||r.target.closest(".needcontext-icon")&&e.icon_action))return;let o=NeedContext$1.args,qe=NeedContext$1.args.after_action;if(o.picker_mode){e.element.classList.add("needcontext-picked"),NeedContext$1.filter.focus(),e.picked=!0;let bt=!0;for(let Nt of o.items)if(!Nt.picked){bt=!1;break}bt&&NeedContext$1.hide(r)}else NeedContext$1.hide(r);e.action(r),qe&&qe(r)},NeedContext$1.dismiss=e=>{NeedContext$1.args.after_dismiss&&NeedContext$1.args.after_dismiss(e),NeedContext$1.hide(e)},NeedContext$1.shift_action=(e,r)=>{e.element&&!NeedContext$1.is_visible(e.element)||(NeedContext$1.args.after_shift_action&&NeedContext$1.args.after_shift_action(r),NeedContext$1.hide(r),e.shift_action(r))},NeedContext$1.ctrl_action=(e,r)=>{e.element&&!NeedContext$1.is_visible(e.element)||(NeedContext$1.args.after_ctrl_action&&NeedContext$1.args.after_ctrl_action(r),NeedContext$1.hide(r),e.ctrl_action(r))},NeedContext$1.alt_action=(e,r)=>{e.element&&!NeedContext$1.is_visible(e.element)||(NeedContext$1.args.after_alt_action&&NeedContext$1.args.after_alt_action(r),NeedContext$1.hide(r),e.alt_action(r))},NeedContext$1.middle_action=(e,r)=>{e.element&&!NeedContext$1.is_visible(e.element)||(NeedContext$1.args.after_middle_action&&NeedContext$1.args.after_middle_action(r),NeedContext$1.args.middle_action_remove?NeedContext$1.remove_item(e):NeedContext$1.hide(r),e.middle_action(r))},NeedContext$1.context_action=(e,r)=>{e.element&&!NeedContext$1.is_visible(e.element)||(NeedContext$1.args.after_context_action&&NeedContext$1.args.after_context_action(r),NeedContext$1.hide(r),e.context_action(r))},NeedContext$1.remove_item=e=>{NeedContext$1.select_next("down",!0),e.removed=!0,e.element.remove(),NeedContext$1.update_title()},NeedContext$1.update_title=()=>{let e=document.querySelector("#needcontext-title");if(!e)return;let r=e.querySelector(".needcontext-title-number");if(!r)return;let o=NeedContext$1.count_items();r.textContent=`(${o})`},NeedContext$1.count_items=()=>{let e=NeedContext$1.get_layer().normal_items;return e=e.filter(r=>!r.removed),e=e.filter(r=>!r.fake),e.length},NeedContext$1.create_debouncer=(e,r)=>{let o,qe={};function bt(){clearTimeout(o),o=void 0}function Nt(...Na){e(...Na)}return qe.call=(...Na)=>{bt(),o=setTimeout(()=>{Nt(...Na)},r)},qe.call_2=(...Na)=>{o||qe.call(Na)},qe.now=(...Na)=>{bt(),Nt(...Na)},qe.cancel=()=>{bt()},qe},NeedContext$1.reset_debouncers=()=>{NeedContext$1.autohide_debouncer.cancel(),NeedContext$1.autoclick_debouncer.cancel()},NeedContext$1.check_auto_funcs=e=>{if(!NeedContext$1.open||!e.target)return;let r=e.target.id==="needcontext-main";if(r||NeedContext$1.reset_debouncers(),NeedContext$1.args.autohide&&r&&NeedContext$1.autohide_enabled&&NeedContext$1.autohide_debouncer.call_2(e),NeedContext$1.args.autoclick){let o=e.target.closest(".needcontext-item");o||(o=e.target.closest(".needcontext-back")),o&&NeedContext$1.autoclick_debouncer.call(o,e)}},NeedContext$1.check_mouse_range=e=>{if(NeedContext$1.autohide_enabled||e.target.id!=="needcontext-main")return;let r=e.clientX,o=e.clientY;if(NeedContext$1.mouse_activity.initial_x===void 0){NeedContext$1.mouse_activity.initial_x=r,NeedContext$1.mouse_activity.initial_y=o;return}let qe=NeedContext$1.container.getBoundingClientRect();function bt(Nt){let Na=Nt>NeedContext$1.autohide_threshold;return Na&&(NeedContext$1.autohide_enabled=!0),Na}if(o<qe.top&&o<NeedContext$1.mouse_activity.initial_y&&o<qe.top){let Nt=qe.top-o;if(bt(Nt))return}if(o>qe.bottom&&o>NeedContext$1.mouse_activity.initial_y&&o>qe.bottom){let Nt=o-qe.bottom;if(bt(Nt))return}if(r<qe.left&&r<NeedContext$1.mouse_activity.initial_x&&r<qe.left){let Nt=qe.left-r;if(bt(Nt))return}if(r>qe.right&&r>NeedContext$1.mouse_activity.initial_x&&r>qe.right){let Nt=r-qe.right;if(bt(Nt))return}},NeedContext$1.start_autohide=e=>{NeedContext$1.autohide_debouncer=NeedContext$1.create_debouncer(r=>{NeedContext$1.hide(r)},e||NeedContext$1.autohide_delay)},NeedContext$1.start_autoclick=e=>{NeedContext$1.autoclick_debouncer=NeedContext$1.create_debouncer((r,o)=>{r.closest(".needcontext-item")?NeedContext$1.select_action(o):r.closest(".needcontext-back")&&NeedContext$1.go_back()},e||NeedContext$1.autoclick_delay)},typeof window<"u"&&(window.NeedContext=NeedContext$1),App.create_about_modal=()=>{let e=App.create_modal("about"),r=DOM.el(".modal-header",e),o=DOM.create("img","","modal-about-image");o.src="/img/slide.png",r.prepend(o);let qe=DOM.el(".modal-title",e),bt=`v${App.config.version}`;qe.textContent=`Slide | ${bt} | Merkoba | 2025 | ${App.commit_hash}`,qe.id="modal-title-about",qe.title="Name | Version | Company | Year | Commit Hash";let Nt=DOM.el(".modal-body",e);Nt.id="modal-body-about",Nt.innerHTML=`
    <div class="about-item">Slide is a music player that uses <a target=_blank class="popup" href="https://strudel.cc">strudel</a> code.</div>
    <div class="about-item">It's meant to allow automatic & seamless code updates.</div>
    <div class="about-item">There's a song picker to play elaborate tunes.</div>
    <div class="about-item">The code can be edited in real time and applied with Play.</div>
    <div class="about-item">The scope visualizer can be clicked in the left/center/right.</div>
    <div class="about-item">Clicking the scope produces a tone and a reverb affect.</div>
    <div class="about-item">Clicking the scope on the left produces left panning.</div>
    <div class="about-item">Clicking the scope on the right produces right panning.</div>
    <div class="about-item">A straight line to the left on the scope sets the next visual.</div>
    <div class="about-item">A straight line to the right on the scope opens a random song.</div>
    <div class="about-item">Ctrl+s = Starts playback / Updates code.</div>
    <div class="about-item">Escape = Closes top modal or stops playback.</div>
    <div class="about-item">Ctrl+1 = Show the sound context.</div>
    <div class="about-item">Ctrl+2 = Show the note context.</div>
    <div class="about-item">Ctrl+3 = Show the bank context.</div>
    <div class="about-item">Try drawing a triangle on the scope.</div>
    <div class="about-item">Try drawing a rectangle on the scope.</div>
    <div class="about-item">Try drawing a circle on the scope.</div>
    <hr>
    <div class="about-item">Credit: Gemini</div>
    <div class="about-item">Credit: ChatGPT</div>
    <div class="about-item">Credit: Claude</div>
  `},App.open_about_modal=()=>{App.open_modal("about")},App.beep_sound=()=>{try{let e=App.get_audio_context(),r=e.createOscillator(),o=e.createGain();r.type="triangle",r.frequency.setValueAtTime(440,e.currentTime),r.frequency.linearRampToValueAtTime(445,e.currentTime+.1),o.gain.setValueAtTime(.05,e.currentTime),o.gain.exponentialRampToValueAtTime(.001,e.currentTime+.2),r.connect(o),o.connect(e.destination),r.start(),r.stop(e.currentTime+.2)}catch(e){console.error("Failed to play sound",e)}},App.get_audio_context=()=>{if(window.master_fx&&window.master_fx.context)return window.master_fx.context;if(App.audio_context)return App.audio_context;try{return App.audio_context=new(AudioContext||window.webkitAudioContext),App.audio_context}catch{return console.error("Web Audio API is not supported"),null}},App.splash_reverb=e=>{window.master_fx.splash_reverb(e)},App.set_panning=(e,r=0)=>{if(window.master_fx.set_panning(e),r>0){clearInterval(App.panning_interval);let o=e/(r*1e3/50),qe=e;App.panning_interval=setInterval(()=>{qe-=o,Math.abs(qe)<=Math.abs(o)?(window.master_fx.set_panning(0),clearInterval(App.panning_interval)):window.master_fx.set_panning(qe)},50)}},App.get_panning=()=>App.panning.pan.value,App.set_gain=e=>{window.master_fx.set_volume(e)},App.get_gain=()=>window.master_fx.get_volume(),App.set_eq=(e,r,o)=>{window.master_fx.set_eq_freqs(e,r,o)},App.start_auto_pan=(e=2,r=.8)=>{window.master_fx.set_auto_pan(e,r)},App.stop_auto_pan=()=>{window.master_fx.set_auto_pan(0,0)},App.spin_panning=(e=2e3)=>{App.start_auto_pan(4,1),setTimeout(()=>{App.stop_auto_pan()},e)},App.auto_delay=5,App.auto_endpoint="/status",App.setup_auto=()=>{let e=DOM.el("#auto-start");e&&DOM.ev(e,"click",()=>{let Nt=DOM.el("#auto-input");Nt&&App.start_auto(Nt.value)});let r=DOM.el("#auto-stop");r&&DOM.ev(r,"click",()=>{App.stop_status_watch()});let o=DOM.el("#auto-default");o&&DOM.ev(o,"click",()=>{App.start_auto("/status")});let qe=DOM.el("#auto-input");qe&&DOM.ev(qe,"keydown",Nt=>{if(Nt.key==="Enter"){Nt.preventDefault();let Na=DOM.el("#auto-input");Na&&App.start_auto(Na.value)}});let bt=DOM.el("#auto-delay");bt&&DOM.ev(bt,"change",Nt=>{App.auto_delay=parseInt(Nt.target.value,10),App.stor_save_auto_delay(),App.fetch_timer&&App.strudel_watch_status()})},App.create_auto_modal=()=>{let e=App.create_modal("auto"),r=DOM.el(".modal-title",e);r.textContent="Auto Mode";let o=DOM.el(".modal-body",e);o.id="modal-body-auto";let qe=DOM.create("div","","auto-info");qe.textContent="Code will be fetched periodically";let bt=DOM.create("select","modal-select","auto-delay");bt.innerHTML=`
    <option value="1">1 second</option>
    <option value="5" selected>5 seconds</option>
    <option value="10">10 seconds</option>
    <option value="30">30 seconds</option>
    <option value="60">1 minute</option>
    <option value="300">5 minutes</option>
    <option value="600">10 minutes</option>
    <option value="900">15 minutes</option>
    <option value="1200">20 minutes</option>
    <option value="1800">30 minutes</option>
    <option value="3600">1 hour</option>
  `;let Nt=DOM.create("input","","auto-input");Nt.classList.add("modal-input"),Nt.placeholder="Endpoint URL";let Na=DOM.create("div","modal-buttons","auto-buttons");Na.innerHTML=`
    <button id="auto-default">Default</button>
    <button id="auto-stop">Stop</button>
    <button id="auto-start">Start</button>
  `,o.appendChild(qe),o.appendChild(bt),o.appendChild(Nt),o.appendChild(Na)},App.open_auto_modal=()=>{App.open_modal("auto"),DOM.el("#auto-delay").value=App.auto_delay,DOM.el("#auto-input").value=App.auto_endpoint,App.fetch_timer?(DOM.hide("#auto-start"),DOM.show("#auto-stop")):(DOM.show("#auto-start"),DOM.hide("#auto-stop"))},App.start_auto=async e=>{if(App.close_modal("auto"),!e||!e.trim()){App.set_status("Invalid endpoint");return}App.auto_endpoint=e.trim(),App.stor_save_auto_endpoint(),App.strudel_watch_status()},App.fetch_status_code=async()=>{const e=await fetch(App.auto_endpoint,{cache:"no-store"});if(!e.ok)throw new Error(`Status endpoint returned ${e.status}`);return e.text()},App.strudel_watch_status=()=>{if(!App.strudel_watch_status){console.warn("Polling function missing. Did strudel bundle load?");return}if(!App.auto_delay||App.auto_delay<=0){console.error("Provide a fetch interval in seconds greater than zero");return}App.status_watch_cancelled=!1;const e=App.auto_delay*1e3,r=async()=>{if(console.info("ðŸ¤– Fetching auto code"),!App.fetch_in_flight){App.fetch_in_flight=!0;try{const qe=(await App.fetch_status_code()).trim();if(!qe)return;if(App.status_watch_cancelled){console.info("Status watch was cancelled, skipping play action");return}App.set_song_context(),App.audio_started?await App.play_action(qe):App.code_to_play=qe}catch(o){console.error("Failed to update Strudel status",o)}finally{App.fetch_in_flight=!1}}};App.stop_status_watch(!1),r(),App.fetch_timer=setInterval(()=>{r()},e),console.info("Interval started.")},App.stop_status_watch=(e=!0)=>{App.close_modal("auto"),App.fetch_timer&&(console.info("Interval cleared ðŸ–"),clearInterval(App.fetch_timer),App.fetch_timer=void 0,e&&(App.status_watch_cancelled=!0))},App.strudel_banks=["AJKPercusyn","AkaiLinn","AkaiMPC60","AkaiXR10","AlesisHR16","AlesisSR16","BossDR110","BossDR220","BossDR55","BossDR550","CasioRZ1","CasioSK1","CasioVL1","DoepferMS404","EmuDrumulator","EmuSP12","KorgDDM110","KorgKPR77","KorgKR55","KorgKRZ","KorgM1","KorgMinipops","KorgPoly800","KorgT3","Linn9000","LinnLM1","LinnLM2","MoogConcertMateMG1","OberheimDMX","RhodesPolaris","RhythmAce","RolandCompurhythm1000","RolandCompurhythm78","RolandCompurhythm8000","RolandD110","RolandD70","RolandDDR30","RolandJD990","RolandMC202","RolandMC303","RolandMT32","RolandR8","RolandS50","RolandSH09","RolandSystem100","RolandTR505","RolandTR606","RolandTR626","RolandTR707","RolandTR727","RolandTR808","RolandTR909","SakataDPM48","SequentialCircuitsDrumtracks","SequentialCircuitsTom","SimmonsSDS400","SimmonsSDS5","SoundmastersR88","UnivoxMicroRhythmer12","ViscoSpaceDrum","XdrumLM8953","YamahaRM50","YamahaRX21","YamahaRX5","YamahaRY30","YamahaTG33"],App.colors_enabled=!0,App.apply_color=e=>{let r=DOM.el("#volume-value"),o=DOM.el("#volume-slider"),qe=DOM.el("#tempo-value"),bt=DOM.el("#tempo-slider"),Nt=DOM.el("#status"),Na=DOM.el("#image");r&&(r.style.color=e),o&&(o.style.accentColor=e),qe&&(qe.style.color=e),bt&&(bt.style.accentColor=e),Nt&&(Nt.style.color=e),Na&&(Na.style.filter=`drop-shadow(0 0 0.15rem ${e})`)},App.start_color_cycle=()=>{App.colors_enabled&&(App.color_cycle_timer||(App.color_index=0,App.apply_color(App.cycle_colors[0],0),App.color_cycle_timer=setInterval(()=>{App.color_index=(App.color_index+1)%App.cycle_colors.length,App.apply_color(App.cycle_colors[App.color_index],App.color_index)},3*1e3)))},App.stop_color_cycle=()=>{App.color_cycle_timer&&(clearInterval(App.color_cycle_timer),App.color_cycle_timer=void 0),App.color_index=0;let e=App.cycle_colors[0],r=DOM.el("#volume-value"),o=DOM.el("#volume-slider"),qe=DOM.el("#tempo-value"),bt=DOM.el("#tempo-slider"),Nt=DOM.el("#status"),Na=DOM.el("#image");r&&(r.style.color=e),o&&(o.style.accentColor=e),qe&&(qe.style.color=e),bt&&(bt.style.accentColor=e),Nt&&(Nt.style.color=e),Na&&(Na.style.filter="")},App.toggle_colors=()=>{App.colors_enabled=!App.colors_enabled,App.stor_save_colors(),App.is_playing&&(App.colors_enabled?App.start_color_cycle():App.is_playing&&App.stop_color_cycle())},App.color_interface=e=>{let r=App[`scope_click_color_${e}`];App.do_color_interface(r)},App.restore_interface_colors=()=>{App.do_color_interface(App.border_color)},App.do_color_interface=e=>{App.set_input_border(e);let r=App.get_scope_wrapper();r.style.borderColor=e},NeedContext.init(),NeedContext.after_hide=()=>{App.focus_input()},App.show_generic_context=(e,r,o)=>{let qe=e.map(bt=>({text:bt,action:()=>{App.add_text_to_input(bt)}}));App.show_context(qe,o,r)},App.show_sounds_context=e=>{App.show_generic_context(App.strudel_sounds,"Sounds",e)},App.show_notes_context=e=>{App.show_generic_context(App.strudel_notes,"Notes",e)},App.show_banks_context=e=>{App.show_generic_context(App.strudel_banks,"Banks",e)},App.show_context=(e,r,o)=>{let qe={items:e,title:o};r&&(qe.x=r.x,qe.y=r.y),NeedContext.show(qe)},App.filter_code=e=>(e=e.replace(/\n\s*\n\s*\n+/g,`

`),e.trim()),App.max_scope_slide_y_dff=50,App.scope_panning_zone=100,App.scope_padding_amount=.9,App.scope_slide_distance=180,App.scope_slide_delay=800,App.scope_gestures_enabled=!1,App.many_clicks_amount=100,App.gesture_actions=()=>{App.glow_input(),App.canvas_effect_1()},App.check_gestures=()=>{if(Date.now()-App.scope_mousedown_date<=App.scope_slide_delay&&App.check_scope_slide()){App.scope_gestures_enabled=!1;return}if(App.scope_gestures_enabled){if(App.triangle_gesture()){App.gesture_function(2,()=>{App.gesture_actions()});return}else if(App.square_gesture()){App.gesture_function(3,()=>{App.gesture_actions()});return}else if(App.circle_gesture()){App.gesture_function(4,()=>{App.gesture_actions()});return}else if(App.scope_clicks.length>=App.many_clicks_amount){App.gesture_function(5,()=>{App.gesture_actions()});return}}Date.now()-App.scope_mousedown_date<=App.scope_beep_delay&&(App.splash_reverb(2),App.check_scope_panning()||App.beep_sound())},App.check_scope_slide=()=>{let e=App.mouse_down_coords,r=App.mouse_up_coords;if(!(Math.abs(App.scope_max_y-App.scope_min_y)>=App.max_scope_slide_y_dff))return Math.abs(e.x-r.x)>=App.scope_slide_distance?(e.x<r.x?App.random_song():App.next_visual(),App.clear_clicks(),!0):!1},App.check_scope_panning=()=>{let e=App.mouse_down_coords,r=App.mouse_up_coords,{width:o,height:qe}=App.get_scope_dimensions(),bt=App.scope_panning_zone,Nt=App.scope_padding_amount;return e.x<=bt||r.x<=bt?(App.set_panning(-Nt,3),!0):e.x>=o-bt||r.x>=o-bt?(App.set_panning(Nt,3),!0):!1},App.circle_gesture=()=>{let e=App.scope_clicks;if(!e||!Array.isArray(e))return!1;let r=e.length;if(r<8)return!1;let o=1/0,qe=-1/0,bt=1/0,Nt=-1/0,Na=0,ld=0;for(let Qd=0;Qd<r;Qd++){let zd=e[Qd];zd.x<o&&(o=zd.x),zd.x>qe&&(qe=zd.x),zd.y<bt&&(bt=zd.y),zd.y>Nt&&(Nt=zd.y),Na+=zd.x,ld+=zd.y}let fd=Math.hypot(qe-o,Nt-bt),hd=e[0],dd=e[r-1];if(Math.hypot(hd.x-dd.x,hd.y-dd.y)/fd>.35)return!1;let yd=qe-o,_d=Nt-bt,Ad=yd/_d;if(Ad<.4||Ad>2.5)return!1;let xd=Na/r,Cd=ld/r,Dd=0,Td=[];for(let Qd=0;Qd<r;Qd++){let zd=e[Qd].x-xd,nm=e[Qd].y-Cd,qd=Math.hypot(zd,nm);Td.push(qd),Dd+=qd}let Bd=Dd/r,Md=0;for(let Qd=0;Qd<r;Qd++){let zd=Td[Qd]-Bd;Md+=zd*zd}return Math.sqrt(Md/r)/Bd<.35},App.triangle_gesture=()=>{let e=(Nt,Na)=>{let ld=Nt.x-Na.x,fd=Nt.y-Na.y;return ld*ld+fd*fd},r=(Nt,Na,ld)=>{let fd=e(Na,ld);if(fd===0)return e(Nt,Na);let hd=((Nt.x-Na.x)*(ld.x-Na.x)+(Nt.y-Na.y)*(ld.y-Na.y))/fd;return hd=Math.max(0,Math.min(1,hd)),e(Nt,{x:Na.x+hd*(ld.x-Na.x),y:Na.y+hd*(ld.y-Na.y)})},o=(Nt,Na,ld)=>{let fd={x:Nt.x-Na.x,y:Nt.y-Na.y},hd={x:ld.x-Na.x,y:ld.y-Na.y},dd=fd.x*hd.x+fd.y*hd.y,gd=Math.sqrt(fd.x*fd.x+fd.y*fd.y),yd=Math.sqrt(hd.x*hd.x+hd.y*hd.y);if(gd*yd===0)return 0;let _d=dd/(gd*yd);return _d=Math.max(-1,Math.min(1,_d)),Math.acos(_d)*(180/Math.PI)},qe=(Nt,Na)=>{if(Nt.length<=2)return Nt;let ld=0,fd=0,hd=Nt.length-1;for(let dd=1;dd<hd;dd++){let gd=r(Nt[dd],Nt[0],Nt[hd]);gd>ld&&(ld=gd,fd=dd)}if(ld>Na*Na){let dd=qe(Nt.slice(0,fd+1),Na),gd=qe(Nt.slice(fd),Na);return dd.slice(0,dd.length-1).concat(gd)}return[Nt[0],Nt[hd]]};return(Nt=>{let Na=Nt.length;if(Na<10)return!1;let ld=1/0,fd=-1/0,hd=1/0,dd=-1/0;for(let Md=0;Md<Na;Md++)ld=Math.min(ld,Nt[Md].x),fd=Math.max(fd,Nt[Md].x),hd=Math.min(hd,Nt[Md].y),dd=Math.max(dd,Nt[Md].y);let gd=Math.hypot(fd-ld,dd-hd),yd=Nt[0],_d=Nt[Na-1];if(Math.hypot(yd.x-_d.x,yd.y-_d.y)/gd>.2)return!1;let xd=gd*.15,Cd=qe(Nt,xd),Dd=Cd.length;if(Dd<3||Dd>4)return!1;let Td=Cd.slice(0,3),Bd=[o(Td[2],Td[0],Td[1]),o(Td[0],Td[1],Td[2]),o(Td[1],Td[2],Td[0])];for(let Md=0;Md<3;Md++)if(Bd[Md]<10||Bd[Md]>170)return!1;return!0})(App.scope_clicks)},App.square_gesture=()=>{let e=App.scope_clicks;if(!e||!Array.isArray(e))return!1;let r=e.length;if(r<10)return!1;let o=(Md,Ed)=>{let Gd=Md.x-Ed.x,Qd=Md.y-Ed.y;return Gd*Gd+Qd*Qd},qe=(Md,Ed,Gd)=>{let Qd=o(Ed,Gd);if(Qd===0)return o(Md,Ed);let zd=((Md.x-Ed.x)*(Gd.x-Ed.x)+(Md.y-Ed.y)*(Gd.y-Ed.y))/Qd;return zd=Math.max(0,Math.min(1,zd)),o(Md,{x:Ed.x+zd*(Gd.x-Ed.x),y:Ed.y+zd*(Gd.y-Ed.y)})},bt=(Md,Ed)=>{if(Md.length<=2)return Md;let Gd=0,Qd=0,zd=Md.length-1;for(let nm=1;nm<zd;nm++){let qd=qe(Md[nm],Md[0],Md[zd]);qd>Gd&&(Gd=qd,Qd=nm)}if(Gd>Ed*Ed){let nm=bt(Md.slice(0,Qd+1),Ed),qd=bt(Md.slice(Qd),Ed);return nm.slice(0,nm.length-1).concat(qd)}return[Md[0],Md[zd]]},Nt=1/0,Na=-1/0,ld=1/0,fd=-1/0;for(let Md=0;Md<r;Md++){let Ed=e[Md];Nt=Math.min(Nt,Ed.x),Na=Math.max(Na,Ed.x),ld=Math.min(ld,Ed.y),fd=Math.max(fd,Ed.y)}let hd=Math.hypot(Na-Nt,fd-ld),dd=e[0],gd=e[r-1];if(Math.hypot(dd.x-gd.x,dd.y-gd.y)/hd>.4)return!1;let _d=Na-Nt,Ad=fd-ld,xd=_d/Ad;if(xd<.15||xd>6)return!1;let Cd=hd*.06,Dd=bt(e,Cd),Td=Dd.length;if(Td<4||Td>6)return!1;let Bd=0;for(let Md=1;Md<Td-1;Md++){let Ed=Dd[Md-1],Gd=Dd[Md],Qd=Dd[Md+1],zd=Gd.x-Ed.x,nm=Gd.y-Ed.y,qd=Qd.x-Gd.x,dm=Qd.y-Gd.y,im=zd*qd+nm*dm,sm=Math.hypot(zd,nm),mm=Math.hypot(qd,dm),Mm=im/(sm*mm);Math.abs(Mm)<.5&&Bd++}return Bd>=2},App.gesture_function=(e,r)=>{App.scope_gestures_enabled=!1,App.increase_scope_click_level(e),App.spin_panning(),r()},App.input_mirror_time=3*1e3,App.input_grow_time=3*1e3,App.lines_enabled=!0,App.setup_input=()=>{App.create_editor(),App.setup_editor_autocomplete(),App.max_button=App.get_max_button(),App.lines_enabled?App.enable_lines():App.disable_lines(),App.max_debouncer=App.create_debouncer(()=>{App.max_input_if_larger()},300)},App.create_editor=()=>{let{EditorView:e,EditorState:r,Compartment:o,lineNumbers:qe,highlightActiveLineGutter:bt,foldGutter:Nt,history:Na,drawSelection:ld,dropCursor:fd,indentOnInput:hd,bracketMatching:dd,closeBrackets:gd,rectangularSelection:yd,crosshairCursor:_d,keymap:Ad,defaultKeymap:xd,historyKeymap:Cd,indentWithTab:Dd,highlightSelectionMatches:Td,searchKeymap:Bd,search:Md,selectNextOccurrence:Ed,javascript:Gd,nord:Qd,vscodeKeymap:zd,Prec:nm,copyLineDown:qd,copyLineUp:dm}=window.CM;App.lineNumbers=qe,App.compartment=new o;let im=DOM.el("#code-input-wrapper"),sm=e.theme(App.editor_theme,{dark:!0});App.setup_strudel_mirror();let mm=[qe(),bt(),Nt()],Mm=[Qd,sm,App.compartment.of(mm),r.allowMultipleSelections.of(!0),nm.highest(Ad.of([{key:"Ctrl-Shift-Alt-ArrowDown",run:qd},{key:"Ctrl-Shift-Alt-ArrowUp",run:dm},{key:"Mod-d",run:Ed,preventDefault:!0},...zd])),Md(),Na(),ld(),fd(),gd(),hd(),dd(),yd(),_d(),Td(),App.highlight_extension,Ad.of([...xd,...Cd,...Bd,Dd]),Gd(),e.lineWrapping],Om=r.create({doc:"",extensions:Mm});App.editor=new e({state:Om,parent:im}),App.editor.dom.id="codemirror-wrapper"},App.get_input=()=>DOM.el("#codemirror-wrapper"),App.get_input_wrapper=()=>DOM.el("#code-input-wrapper"),App.get_input_value=()=>App.editor.state.doc.toString(),App.set_input=e=>{App.get_input_value()!==e&&(App.editor.dispatch({changes:{from:0,to:App.editor.state.doc.length,insert:e}}),App.scroll_input_to_top(),App.reset_code_scroll_for_content())},App.init_code_input_controls=()=>{let e=App.get_input_wrapper(),r=DOM.el("#code-input-scroll"),o=App.get_max_button(),qe=DOM.el("#code-input-top"),bt=DOM.el("#code-input-bottom"),Nt=DOM.el("#code-input-sounds"),Na=DOM.el("#code-input-notes"),ld=DOM.el("#code-input-banks");qe&&DOM.ev(qe,"click",hd=>{hd.preventDefault(),App.scroll_input_to_top(),App.reset_code_scroll_for_content()}),bt&&DOM.ev(bt,"click",hd=>{hd.preventDefault(),App.scroll_input_to_bottom(),App.reset_code_scroll_for_content({direction:-1})}),r&&DOM.ev(r,"click",hd=>{if(hd.preventDefault(),App.code_scroll_active){App.stop_code_scroll();return}App.start_code_scroll()}),o&&DOM.ev(o,"click",hd=>{App.max_input()}),Nt&&DOM.ev(Nt,"click",hd=>{hd.preventDefault(),App.show_sounds_context(hd)}),Na&&DOM.ev(Na,"click",hd=>{hd.preventDefault(),App.show_notes_context(hd)}),ld&&DOM.ev(ld,"click",hd=>{hd.preventDefault(),App.show_banks_context(hd)});let fd=App.get_input();if(DOM.ev(fd,"pointerdown",hd=>{if(!App.code_scroll_active)return;let gd=hd.target.getBoundingClientRect();hd.clientX>gd.right-20&&hd.clientY>gd.bottom-20||App.stop_code_scroll()}),e){let hd=DOM.el("#resize-handle");if(hd){let dd=!1;DOM.ev(hd,"mousedown",gd=>{let yd=App.get_scope_wrapper();gd.preventDefault(),dd=!0,document.body.style.userSelect="none",document.body.style.cursor="se-resize",App.activate_top_input_controls(),App.activate_bottom_input_controls(),hd.style.opacity="1",hd.style.pointerEvents="auto",hd.classList.add("active");let _d=gd.clientX,Ad=gd.clientY,xd=e.offsetWidth,Cd=e.offsetHeight,Dd=Bd=>{if(!dd)return;let Md=xd+(Bd.clientX-_d),Ed=Cd+(Bd.clientY-Ad),Gd=getComputedStyle(document.documentElement),Qd=parseInt(Gd.getPropertyValue("--input_min_width")),zd=parseInt(Gd.getPropertyValue("--input_min_height"));Md=Math.max(Qd,Md),Ed=Math.max(zd,Ed),e.style.width=`${Md}px`,e.style.height=`${Ed}px`,yd.style.width=`${Md}px`},Td=()=>{dd=!1,document.body.style.userSelect="",document.body.style.cursor="",App.deactivate_top_input_controls(),App.deactivate_bottom_input_controls(),hd.style.opacity="",hd.style.pointerEvents="",hd.classList.remove("active"),App.resize_scope(),document.removeEventListener("mousemove",Dd),document.removeEventListener("mouseup",Td)};DOM.ev(document,"mousemove",Dd),DOM.ev(document,"mouseup",Td)}),DOM.ev(hd,"dblclick",gd=>{App.restore_input()})}DOM.ev(e,"mouseover",()=>{App.check_max_button()})}DOM.ev(fd,"wheel",hd=>{App.code_scroll_active&&App.stop_code_scroll()},{passive:!0})},App.restore_input=()=>{let e=App.get_input_wrapper();if(!e)return;let r=getComputedStyle(document.documentElement),o=parseInt(r.getPropertyValue("--input_height")),qe=parseInt(r.getPropertyValue("--input_max_width"));e.style.height=`${o}px`,e.style.width=`${qe}%`},App.input_is_maxed=()=>{let e=App.get_input_wrapper(),r=parseInt(e.style.height),o=parseInt(e.style.width),[qe,bt]=App.max_input(!0);return r===qe&&o===bt},App.add_text_to_input=e=>{App.editor.dispatch(App.editor.state.replaceSelection(e)),App.editor.focus()},App.focus_input=()=>{App.editor.focus()},App.activate_top_input_controls=()=>{let e=DOM.el("#code-input-controls-top");e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.classList.add("active"))},App.activate_bottom_input_controls=()=>{let e=DOM.el("#code-input-controls-bottom");e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.classList.add("active"))},App.deactivate_top_input_controls=()=>{let e=DOM.el("#code-input-controls-top");e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.classList.remove("active"))},App.deactivate_bottom_input_controls=()=>{let e=DOM.el("#code-input-controls-bottom");e&&(e.style.opacity="1",e.style.pointerEvents="auto",e.classList.remove("active"))},App.mirror_input=()=>{let e=App.get_input();e.classList.add("mirror"),clearTimeout(App.input_mirror_timeout),App.input_mirror_timeout=setTimeout(()=>{e.classList.remove("mirror")},App.input_mirror_time)},App.glow_input=()=>{let e=App.get_input();e.classList.add("glow"),clearTimeout(App.input_grow_timeout),App.input_grow_timeout=setTimeout(()=>{e.classList.remove("glow")},App.input_grow_time)},App.cursive_input=()=>{let e=App.get_input();e.classList.add("cursive"),clearTimeout(App.input_grow_timeout),App.input_grow_timeout=setTimeout(()=>{e.classList.remove("cursive")},App.input_grow_time)},App.max_input=(e=!1,r="normal")=>{let o=App.get_input_wrapper(),qe=getComputedStyle(document.documentElement),bt=parseInt(qe.getPropertyValue("--input_max_width")),Nt=App.get_input_diff();return e||(r==="normal"?(o.style.height=`${Nt}px`,o.style.width=`${bt}%`):r==="width"?o.style.width=`${bt}%`:r==="height"&&(o.style.height=`${Nt}px`),App.resize_scope(),App.check_max_button()),[Nt,bt]},App.get_input_diff=()=>{let e=App.get_top_height(),r=App.get_scope_height(),o=App.get_bottom_height(),qe=e+r+o;return App.viewport_height()-qe-50},App.check_max_button=()=>{App.input_is_maxed()?App.disable_max_button():App.enable_max_button()},App.get_max_button=()=>DOM.el("#code-input-max"),App.enable_max_button=()=>{App.max_button.classList.remove("disabled")},App.disable_max_button=()=>{App.max_button.classList.add("disabled")},App.get_input_height=()=>App.editor.scrollDOM.scrollHeight,App.get_input_client_height=()=>App.editor.scrollDOM.clientHeight,App.set_input_border=e=>{App.editor.dom.style.borderColor=e},App.toggle_lines=()=>{App.lines_enabled=!App.lines_enabled,App.lines_enabled?App.enable_lines():App.disable_lines(),App.stor_save_lines()},App.enable_lines=()=>{App.editor.dispatch({effects:App.compartment.reconfigure(App.lineNumbers())})},App.disable_lines=()=>{App.editor.dispatch({effects:App.compartment.reconfigure([])})},App.max_input_if_larger=()=>{let e=App.get_input_wrapper(),r=parseInt(e.style.height),[o,qe]=App.max_input(!0);r>o&&App.max_input(!1,"height")},App.start_keyboard=()=>{DOM.ev(document,"keydown",e=>{if(e.key==="s")e.ctrlKey&&(e.preventDefault(),App.play_action());else if(e.key==="Escape"){if(e.preventDefault(),NeedContext.open)return;App.modal_open()?App.close_current_modal():App.stop_action()}else e.key==="1"?e.ctrlKey&&App.show_sounds_context():e.key==="2"?e.ctrlKey&&App.show_notes_context():e.key==="3"&&e.ctrlKey&&App.show_banks_context()})},App.generic_hint=(e,r,o)=>{let qe=e.getCursor(),bt=e.getTokenAt(qe),Nt=bt.string.replace(/['"]/g,""),Na=o.filter(ld=>ld.toLowerCase().startsWith(Nt.toLowerCase()));Na.length===0?console.log("âš ï¸ No matches found for:",Nt):console.log(`âœ… Found ${Na.length} matches`),r({list:Na,from:{line:qe.line,ch:bt.start+1},to:{line:qe.line,ch:bt.end}})},App.sounds_hint=(e,r)=>{App.generic_hint(e,r,App.strudel_sounds)},App.notes_hint=(e,r)=>{App.generic_hint(e,r,App.strudel_notes)},App.banks_hint=(e,r)=>{App.generic_hint(e,r,App.strudel_banks)},App.sounds_hint.async=!0,App.notes_hint.async=!0,App.banks_hint.async=!0,App.sound_hint_func=e=>{let r=e.getCursor();return{list:App.strudel_sounds,from:r,to:r}},App.custom_completion_source=e=>{let r=e.matchBefore(/(note|bank|sound)\(["']/);if(!r)return null;let o=[];return r.text.startsWith("note")?o=App.notes_hint:r.text.startsWith("bank")?o=App.banks_hint:r.text.startsWith("sound")&&(o=App.sounds_hint),{from:e.pos,options:o.map(qe=>({label:qe,type:"text"}))}},App.setup_editor_autocomplete=()=>{let{autocompletion:e}=window.CM;return e({override:[App.custom_completion_source],defaultKeymap:!0})},typeof globalThis.process>"u"&&(globalThis.process={env:{}}),typeof globalThis.process.env>"u"&&(globalThis.process.env={}),typeof globalThis.process.env.NODE_ENV>"u"&&(globalThis.process.env.NODE_ENV="production");let clean=Symbol("clean"),listenerQueue=[],lqIndex=0;const QUEUE_ITEMS_PER_LISTENER=4;let atom=e=>{let r=[],o={get(){return o.lc||o.listen(()=>{})(),o.value},lc:0,listen(qe){return o.lc=r.push(qe),()=>{for(let Nt=lqIndex+QUEUE_ITEMS_PER_LISTENER;Nt<listenerQueue.length;)listenerQueue[Nt]===qe?listenerQueue.splice(Nt,QUEUE_ITEMS_PER_LISTENER):Nt+=QUEUE_ITEMS_PER_LISTENER;let bt=r.indexOf(qe);~bt&&(r.splice(bt,1),--o.lc||o.off())}},notify(qe,bt){let Nt=!listenerQueue.length;for(let Na of r)listenerQueue.push(Na,o.value,qe,bt);if(Nt){for(lqIndex=0;lqIndex<listenerQueue.length;lqIndex+=QUEUE_ITEMS_PER_LISTENER)listenerQueue[lqIndex](listenerQueue[lqIndex+1],listenerQueue[lqIndex+2],listenerQueue[lqIndex+3]);listenerQueue.length=0}},off(){},set(qe){let bt=o.value;bt!==qe&&(o.value=qe,o.notify(bt))},subscribe(qe){let bt=o.listen(qe);return qe(o.value),bt},value:e};return process.env.NODE_ENV!=="production"&&(o[clean]=()=>{r=[],o.lc=0,o.off()}),o},map=(e={})=>{let r=atom(e);return r.setKey=function(o,qe){let bt=r.value;typeof qe>"u"&&o in r.value?(r.value={...r.value},delete r.value[o],r.notify(bt,o)):r.value[o]!==qe&&(r.value={...r.value,[o]:qe},r.notify(bt,o))},r};if(typeof DelayNode<"u"){class e extends DelayNode{constructor(o,qe,bt,Nt){super(o),qe=Math.abs(qe),this.delayTime.value=bt;const Na=o.createGain();Na.gain.value=Math.min(Math.abs(Nt),.995),this.feedback=Na.gain;const ld=o.createGain();return ld.gain.value=qe,this.delayGain=ld,this.connect(Na),this.connect(ld),Na.connect(this),this.connect=fd=>ld.connect(fd),this}start(o){this.delayGain.gain.setValueAtTime(this.delayGain.gain.value,o+this.delayTime.value)}}AudioContext.prototype.createFeedbackDelay=function(r,o,qe){return new e(this,r,o,qe)}}var jt={};jt.generateReverb=function(e,r){for(var o=e.audioContext||new AudioContext,qe=o.sampleRate,bt=e.numChannels||2,Nt=e.decayTime*1.5,Na=Math.round(e.decayTime*qe),ld=Math.round(Nt*qe),fd=Math.round((e.fadeInTime||0)*qe),hd=Math.pow(1/1e3,1/Na),dd=o.createBuffer(bt,ld,qe),gd=0;gd<bt;gd++){for(var yd=dd.getChannelData(gd),_d=0;_d<ld;_d++)yd[_d]=Wn$1()*Math.pow(hd,_d);for(var _d=0;_d<fd;_d++)yd[_d]*=_d/fd}Gn$1(dd,e.lpFreqStart||0,e.lpFreqEnd||0,e.decayTime,r)},jt.generateGraph=function(e,r,o,qe,bt){var Nt=document.createElement("canvas");Nt.width=r,Nt.height=o;var Na=Nt.getContext("2d");Na.fillStyle="#000",Na.fillRect(0,0,Nt.width,Nt.height),Na.fillStyle="#fff";for(var ld=r/e.length,fd=o/(bt-qe),hd=0;hd<e.length;hd++)Na.fillRect(hd*ld,o-(e[hd]-qe)*fd,1,1);return Nt};var Gn$1=function(e,r,o,qe,bt){if(r==0){bt(e);return}var Nt=Vn$1(e),Na=new OfflineAudioContext(e.numberOfChannels,Nt[0].length,e.sampleRate),ld=Na.createBufferSource();ld.buffer=e;var fd=Na.createBiquadFilter();r=Math.min(r,e.sampleRate/2),o=Math.min(o,e.sampleRate/2),fd.type="lowpass",fd.Q.value=1e-4,fd.frequency.setValueAtTime(r,0),fd.frequency.linearRampToValueAtTime(o,qe),ld.connect(fd),fd.connect(Na.destination),ld.start(),Na.oncomplete=function(hd){bt(hd.renderedBuffer)},Na.startRendering(),window.filterNode=fd},Vn$1=function(e){for(var r=[],o=0;o<e.numberOfChannels;o++)r[o]=e.getChannelData(o);return r},Wn$1=function(){return Math.random()*2-1};let fe$2=e=>console.log(e);function fn$1(e,r="superdough"){process.env.NODE_ENV==="development"&&console.error(e),N$3(`[${r}] error: ${e.message}`)}const N$3=(...e)=>fe$2(...e),Fo$1=e=>{fe$2=e},Mn$1=e=>{if(typeof e!="string")return[];const[r,o="",qe]=e.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/)?.slice(1)||[];return r?[r,o,qe?Number(qe):void 0]:[]},xn$1={c:0,d:2,e:4,f:5,g:7,a:9,b:11},gn$1={"#":1,b:-1,s:1,f:-1},zt$1=(e,r=3)=>{const[o,qe,bt=r]=Mn$1(e);if(!o)throw new Error('not a note: "'+e+'"');const Nt=xn$1[o.toLowerCase()],Na=qe?.split("").reduce((ld,fd)=>ld+gn$1[fd],0)||0;return(Number(bt)+1)*12+Nt+Na},Me$1=e=>Math.pow(2,(e-69)/12)*440,D$3=(e,r,o)=>Math.min(Math.max(e,r),o),Ln$1=e=>12*Math.log(e/440)/Math.LN2+69,Kn$1=(e,r)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:o,note:qe}=e;return typeof o=="number"?Ln$1(o):typeof qe=="string"?zt$1(qe):typeof qe=="number"?qe:r};function O$2(e,r=0,o){return isNaN(Number(e))?(!o&&N$3(`"${e}" is not a number, falling back to ${r}`,"warning"),r):e}const xe$1=(e,r)=>(e%r+r)%r,he$2=(e,r)=>xe$1(Math.round(O$2(e,0)),r);function zn$1(e,r){return e/r}function ge$2(e,r){const{s:o,n:qe=0}=e;let bt=Kn$1(e,36),Nt=bt-36,Na,ld=0;if(Array.isArray(r))ld=he$2(qe,r.length),Na=r[ld];else{const hd=gd=>zt$1(gd)-bt,dd=Object.keys(r).filter(gd=>!gd.startsWith("_")).reduce((gd,yd,_d)=>!gd||Math.abs(hd(yd))<Math.abs(hd(gd))?yd:gd,null);Nt=-hd(dd),ld=he$2(qe,r[dd].length),Na=r[dd][ld]}const fd=`${o}:${ld}`;return{transpose:Nt,url:Na,index:ld,midi:bt,label:fd}}typeof AudioContext<"u"&&(AudioContext.prototype.adjustLength=function(e,r,o=1,qe=0){const bt=Math.floor(D$3(qe,0,1)*r.length),Nt=r.sampleRate*e,Na=this.createBuffer(r.numberOfChannels,r.length,r.sampleRate);for(let ld=0;ld<r.numberOfChannels;ld++){let fd=r.getChannelData(ld),hd=Na.getChannelData(ld);for(let dd=0;dd<Nt;dd++){let gd=(bt+dd*Math.abs(o))%fd.length;o<1&&(gd=gd*-1),hd[dd]=fd.at(gd)||0}}return Na},AudioContext.prototype.createReverb=function(e,r,o,qe,bt,Nt,Na){const ld=this.createConvolver();return ld.generate=(fd=2,hd=.1,dd=15e3,gd=1e3,yd,_d,Ad)=>{ld.duration=fd,ld.fade=hd,ld.lp=dd,ld.dim=gd,ld.ir=yd,ld.irspeed=_d,ld.irbegin=Ad,yd?ld.buffer=this.adjustLength(fd,yd,_d,Ad):jt.generateReverb({audioContext:this,numChannels:2,decayTime:fd,fadeInTime:hd,lpFreqStart:dd,lpFreqEnd:gd},xd=>{ld.buffer=xd})},ld.generate(e,r,o,qe,bt,Nt,Na),ld});var pe$2={a:{freqs:[660,1120,2750,3e3,3350],gains:[1,.5012,.0708,.0631,.0126],qs:[80,90,120,130,140]},e:{freqs:[440,1800,2700,3e3,3300],gains:[1,.1995,.1259,.1,.1],qs:[70,80,100,120,120]},i:{freqs:[270,1850,2900,3350,3590],gains:[1,.0631,.0631,.0158,.0158],qs:[40,90,100,120,120]},o:{freqs:[430,820,2700,3e3,3300],gains:[1,.3162,.0501,.0794,.01995],qs:[40,80,100,120,120]},u:{freqs:[370,630,2750,3e3,3400],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},ae:{freqs:[650,1515,2400,3e3,3350],gains:[1,.5,.1008,.0631,.0126],qs:[80,90,120,130,140]},aa:{freqs:[560,900,2570,3e3,3300],gains:[1,.5,.0708,.0631,.0126],qs:[80,90,120,130,140]},oe:{freqs:[500,1430,2300,3e3,3300],gains:[1,.2,.0708,.0316,.01995],qs:[40,60,100,120,120]},ue:{freqs:[250,1750,2150,3200,3300],gains:[1,.1,.0708,.0316,.01995],qs:[40,60,100,120,120]},y:{freqs:[400,1460,2400,3e3,3300],gains:[1,.2,.0708,.0316,.02995],qs:[40,60,100,120,120]},uh:{freqs:[600,1250,2100,3100,3500],gains:[1,.3,.0608,.0316,.01995],qs:[40,70,100,120,130]},un:{freqs:[500,1240,2280,3e3,3500],gains:[1,.1,.1708,.0216,.02995],qs:[40,60,100,120,120]},en:{freqs:[600,1480,2450,3200,3300],gains:[1,.15,.0708,.0316,.02995],qs:[40,60,100,120,120]},an:{freqs:[700,1050,2500,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},on:{freqs:[500,1080,2350,3e3,3300],gains:[1,.1,.0708,.0316,.02995],qs:[40,60,100,120,120]},get Ã¦(){return this.ae},get Ã¸(){return this.oe},get É‘(){return this.aa},get Ã¥(){return this.aa},get Ã¶(){return this.oe},get Ã¼(){return this.ue},get Ä±(){return this.y}};if(typeof GainNode<"u"){class e extends GainNode{constructor(o,qe){if(super(o),!pe$2[qe])throw new Error("vowel: unknown vowel "+qe);const{gains:bt,qs:Nt,freqs:Na}=pe$2[qe],ld=o.createGain();for(let fd=0;fd<5;fd++){const hd=o.createGain();hd.gain.value=bt[fd];const dd=o.createBiquadFilter();dd.type="bandpass",dd.Q.value=Nt[fd],dd.frequency.value=Na[fd],this.connect(dd),dd.connect(hd),hd.connect(ld)}return ld.gain.value=8,this.connect=fd=>ld.connect(fd),this}}AudioContext.prototype.createVowelFilter=function(r){return new e(this,r)}}const Tn$1="data:text/javascript;base64,dmFyIF89ZnVuY3Rpb24oQyl7InVzZSBzdHJpY3QiO3ZhciBUZT1PYmplY3QuZGVmaW5lUHJvcGVydHk7dmFyIHllPShDLEQsTCk9PkQgaW4gQz9UZShDLEQse2VudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwLHZhbHVlOkx9KTpDW0RdPUw7dmFyIFN0PShDLEQsTCk9PnllKEMsdHlwZW9mIEQhPSJzeW1ib2wiP0QrIiI6RCxMKTtjbGFzcyBMIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKHQpe3N1cGVyKHQpLHRoaXMuc3RhcnRlZD0hMSx0aGlzLm5iSW5wdXRzPXQubnVtYmVyT2ZJbnB1dHMsdGhpcy5uYk91dHB1dHM9dC5udW1iZXJPZk91dHB1dHMsdGhpcy5ibG9ja1NpemU9dC5wcm9jZXNzb3JPcHRpb25zLmJsb2NrU2l6ZSx0aGlzLmhvcFNpemU9MTI4LHRoaXMubmJPdmVybGFwcz10aGlzLmJsb2NrU2l6ZS90aGlzLmhvcFNpemUsdGhpcy5pbnB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpLHRoaXMuaW5wdXRCdWZmZXJzSGVhZD1uZXcgQXJyYXkodGhpcy5uYklucHV0cyksdGhpcy5pbnB1dEJ1ZmZlcnNUb1NlbmQ9bmV3IEFycmF5KHRoaXMubmJJbnB1dHMpO2ZvcihsZXQgZT0wO2U8dGhpcy5uYklucHV0cztlKyspdGhpcy5hbGxvY2F0ZUlucHV0Q2hhbm5lbHMoZSwxKTt0aGlzLm91dHB1dEJ1ZmZlcnM9bmV3IEFycmF5KHRoaXMubmJPdXRwdXRzKSx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlPW5ldyBBcnJheSh0aGlzLm5iT3V0cHV0cyk7Zm9yKGxldCBlPTA7ZTx0aGlzLm5iT3V0cHV0cztlKyspdGhpcy5hbGxvY2F0ZU91dHB1dENoYW5uZWxzKGUsMSl9cmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKXtmb3IobGV0IHM9MDtzPHRoaXMubmJJbnB1dHM7cysrKXtsZXQgcj10W3NdLmxlbmd0aDtyIT10aGlzLmlucHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVJbnB1dENoYW5uZWxzKHMscil9Zm9yKGxldCBzPTA7czx0aGlzLm5iT3V0cHV0cztzKyspe2xldCByPWVbc10ubGVuZ3RoO3IhPXRoaXMub3V0cHV0QnVmZmVyc1tzXS5sZW5ndGgmJnRoaXMuYWxsb2NhdGVPdXRwdXRDaGFubmVscyhzLHIpfX1hbGxvY2F0ZUlucHV0Q2hhbm5lbHModCxlKXt0aGlzLmlucHV0QnVmZmVyc1t0XT1uZXcgQXJyYXkoZSk7Zm9yKGxldCBzPTA7czxlO3MrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKzEyOCksdGhpcy5pbnB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLmlucHV0QnVmZmVyc0hlYWRbdF09bmV3IEFycmF5KGUpLHRoaXMuaW5wdXRCdWZmZXJzVG9TZW5kW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMuaW5wdXRCdWZmZXJzSGVhZFt0XVtzXT10aGlzLmlucHV0QnVmZmVyc1t0XVtzXS5zdWJhcnJheSgwLHRoaXMuYmxvY2tTaXplKSx0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKX1hbGxvY2F0ZU91dHB1dENoYW5uZWxzKHQsZSl7dGhpcy5vdXRwdXRCdWZmZXJzW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtzXT1uZXcgRmxvYXQzMkFycmF5KHRoaXMuYmxvY2tTaXplKSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bc10uZmlsbCgwKTt0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdPW5ldyBBcnJheShlKTtmb3IobGV0IHM9MDtzPGU7cysrKXRoaXMub3V0cHV0QnVmZmVyc1RvUmV0cmlldmVbdF1bc109bmV3IEZsb2F0MzJBcnJheSh0aGlzLmJsb2NrU2l6ZSksdGhpcy5vdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZVt0XVtzXS5maWxsKDApfXJlYWRJbnB1dHModCl7aWYodFswXS5sZW5ndGgmJnRbMF1bMF0ubGVuZ3RoPT0wKXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5maWxsKDAsdGhpcy5ibG9ja1NpemUpO3JldHVybn1mb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dFtlXVtzXTt0aGlzLmlucHV0QnVmZmVyc1tlXVtzXS5zZXQocix0aGlzLmJsb2NrU2l6ZSl9fXdyaXRlT3V0cHV0cyh0KXtmb3IobGV0IGU9MDtlPHRoaXMubmJJbnB1dHM7ZSsrKWZvcihsZXQgcz0wO3M8dGhpcy5pbnB1dEJ1ZmZlcnNbZV0ubGVuZ3RoO3MrKyl7bGV0IHI9dGhpcy5vdXRwdXRCdWZmZXJzW2VdW3NdLnN1YmFycmF5KDAsMTI4KTt0W2VdW3NdLnNldChyKX19c2hpZnRJbnB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KX1zaGlmdE91dHB1dEJ1ZmZlcnMoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJPdXRwdXRzO3QrKylmb3IobGV0IGU9MDtlPHRoaXMub3V0cHV0QnVmZmVyc1t0XS5sZW5ndGg7ZSsrKXRoaXMub3V0cHV0QnVmZmVyc1t0XVtlXS5jb3B5V2l0aGluKDAsMTI4KSx0aGlzLm91dHB1dEJ1ZmZlcnNbdF1bZV0uc3ViYXJyYXkodGhpcy5ibG9ja1NpemUtMTI4KS5maWxsKDApfXByZXBhcmVJbnB1dEJ1ZmZlcnNUb1NlbmQoKXtmb3IobGV0IHQ9MDt0PHRoaXMubmJJbnB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5pbnB1dEJ1ZmZlcnNbdF0ubGVuZ3RoO2UrKyl0aGlzLmlucHV0QnVmZmVyc1RvU2VuZFt0XVtlXS5zZXQodGhpcy5pbnB1dEJ1ZmZlcnNIZWFkW3RdW2VdKX1oYW5kbGVPdXRwdXRCdWZmZXJzVG9SZXRyaWV2ZSgpe2ZvcihsZXQgdD0wO3Q8dGhpcy5uYk91dHB1dHM7dCsrKWZvcihsZXQgZT0wO2U8dGhpcy5vdXRwdXRCdWZmZXJzW3RdLmxlbmd0aDtlKyspZm9yKGxldCBzPTA7czx0aGlzLmJsb2NrU2l6ZTtzKyspdGhpcy5vdXRwdXRCdWZmZXJzW3RdW2VdW3NdKz10aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlW3RdW2VdW3NdL3RoaXMubmJPdmVybGFwc31wcm9jZXNzKHQsZSxzKXtjb25zdCBpPXRbMF1bMF0hPT12b2lkIDA7cmV0dXJuIHRoaXMuc3RhcnRlZCYmIWk/ITE6KHRoaXMuc3RhcnRlZD1pLHRoaXMucmVhbGxvY2F0ZUNoYW5uZWxzSWZOZWVkZWQodCxlKSx0aGlzLnJlYWRJbnB1dHModCksdGhpcy5zaGlmdElucHV0QnVmZmVycygpLHRoaXMucHJlcGFyZUlucHV0QnVmZmVyc1RvU2VuZCgpLHRoaXMucHJvY2Vzc09MQSh0aGlzLmlucHV0QnVmZmVyc1RvU2VuZCx0aGlzLm91dHB1dEJ1ZmZlcnNUb1JldHJpZXZlLHMpLHRoaXMuaGFuZGxlT3V0cHV0QnVmZmVyc1RvUmV0cmlldmUoKSx0aGlzLndyaXRlT3V0cHV0cyhlKSx0aGlzLnNoaWZ0T3V0cHV0QnVmZmVycygpLCEwKX1wcm9jZXNzT0xBKHQsZSxzKXtjb25zb2xlLmFzc2VydCghMSwiTm90IG92ZXJyaWRlbiIpfX1jbGFzcyBrdHtjb25zdHJ1Y3Rvcih0KXtpZih0aGlzLnNpemU9dHwwLHRoaXMuc2l6ZTw9MXx8dGhpcy5zaXplJnRoaXMuc2l6ZS0xKXRocm93IG5ldyBFcnJvcigiRkZUIHNpemUgbXVzdCBiZSBhIHBvd2VyIG9mIHR3byBhbmQgYmlnZ2VyIHRoYW4gMSIpO3RoaXMuX2NzaXplPXQ8PDE7Zm9yKHZhciBlPW5ldyBBcnJheSh0aGlzLnNpemUqMikscz0wO3M8ZS5sZW5ndGg7cys9Mil7Y29uc3QgYz1NYXRoLlBJKnMvdGhpcy5zaXplO2Vbc109TWF0aC5jb3MoYyksZVtzKzFdPS1NYXRoLnNpbihjKX10aGlzLnRhYmxlPWU7Zm9yKHZhciByPTAsaT0xO3RoaXMuc2l6ZT5pO2k8PD0xKXIrKzt0aGlzLl93aWR0aD1yJTI9PT0wP3ItMTpyLHRoaXMuX2JpdHJldj1uZXcgQXJyYXkoMTw8dGhpcy5fd2lkdGgpO2Zvcih2YXIgbz0wO288dGhpcy5fYml0cmV2Lmxlbmd0aDtvKyspe3RoaXMuX2JpdHJldltvXT0wO2Zvcih2YXIgYT0wO2E8dGhpcy5fd2lkdGg7YSs9Mil7dmFyIHU9dGhpcy5fd2lkdGgtYS0yO3RoaXMuX2JpdHJldltvXXw9KG8+Pj5hJjMpPDx1fX10aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGwsdGhpcy5faW52PTB9ZnJvbUNvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHxuZXcgQXJyYXkodC5sZW5ndGg+Pj4xKSxyPTA7cjx0Lmxlbmd0aDtyKz0yKXNbcj4+PjFdPXRbcl07cmV0dXJuIHN9Y3JlYXRlQ29tcGxleEFycmF5KCl7Y29uc3QgdD1uZXcgQXJyYXkodGhpcy5fY3NpemUpO2Zvcih2YXIgZT0wO2U8dC5sZW5ndGg7ZSsrKXRbZV09MDtyZXR1cm4gdH10b0NvbXBsZXhBcnJheSh0LGUpe2Zvcih2YXIgcz1lfHx0aGlzLmNyZWF0ZUNvbXBsZXhBcnJheSgpLHI9MDtyPHMubGVuZ3RoO3IrPTIpc1tyXT10W3I+Pj4xXSxzW3IrMV09MDtyZXR1cm4gc31jb21wbGV0ZVNwZWN0cnVtKHQpe2Zvcih2YXIgZT10aGlzLl9jc2l6ZSxzPWU+Pj4xLHI9MjtyPHM7cis9Mil0W2Utcl09dFtyXSx0W2UtcisxXT0tdFtyKzFdfXRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3RyYW5zZm9ybTQoKSx0aGlzLl9vdXQ9bnVsbCx0aGlzLl9kYXRhPW51bGx9cmVhbFRyYW5zZm9ybSh0LGUpe2lmKHQ9PT1lKXRocm93IG5ldyBFcnJvcigiSW5wdXQgYW5kIG91dHB1dCBidWZmZXJzIG11c3QgYmUgZGlmZmVyZW50Iik7dGhpcy5fb3V0PXQsdGhpcy5fZGF0YT1lLHRoaXMuX2ludj0wLHRoaXMuX3JlYWxUcmFuc2Zvcm00KCksdGhpcy5fb3V0PW51bGwsdGhpcy5fZGF0YT1udWxsfWludmVyc2VUcmFuc2Zvcm0odCxlKXtpZih0PT09ZSl0aHJvdyBuZXcgRXJyb3IoIklucHV0IGFuZCBvdXRwdXQgYnVmZmVycyBtdXN0IGJlIGRpZmZlcmVudCIpO3RoaXMuX291dD10LHRoaXMuX2RhdGE9ZSx0aGlzLl9pbnY9MSx0aGlzLl90cmFuc2Zvcm00KCk7Zm9yKHZhciBzPTA7czx0Lmxlbmd0aDtzKyspdFtzXS89dGhpcy5zaXplO3RoaXMuX291dD1udWxsLHRoaXMuX2RhdGE9bnVsbH1fdHJhbnNmb3JtNCgpe3ZhciB0PXRoaXMuX291dCxlPXRoaXMuX2NzaXplLHM9dGhpcy5fd2lkdGgscj0xPDxzLGk9ZS9yPDwxLG8sYSx1PXRoaXMuX2JpdHJldjtpZihpPT09NClmb3Iobz0wLGE9MDtvPGU7bys9aSxhKyspe2NvbnN0IGQ9dVthXTt0aGlzLl9zaW5nbGVUcmFuc2Zvcm0yKG8sZCxyKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3QgZD11W2FdO3RoaXMuX3NpbmdsZVRyYW5zZm9ybTQobyxkLHIpfXZhciBjPXRoaXMuX2ludj8tMToxLGg9dGhpcy50YWJsZTtmb3Iocj4+PTI7cj49MjtyPj49Mil7aT1lL3I8PDE7dmFyIGY9aT4+PjI7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIHA9bytmLGw9byxtPTA7bDxwO2wrPTIsbSs9cil7Y29uc3QgZD1sLGI9ZCtmLEk9YitmLHY9SStmLFA9dFtkXSx3PXRbZCsxXSxUPXRbYl0sQj10W2IrMV0sQT10W0ldLHk9dFtJKzFdLE89dFt2XSxxPXRbdisxXSx4PVAsRT13LE49aFttXSxGPWMqaFttKzFdLFY9VCpOLUIqRixrPVQqRitCKk4sUj1oWzIqbV0sWD1jKmhbMiptKzFdLHR0PUEqUi15KlgsZXQ9QSpYK3kqUixzdD1oWzMqbV0scnQ9YypoWzMqbSsxXSxudD1PKnN0LXEqcnQsaXQ9TypydCtxKnN0LG90PXgrdHQsSz1FK2V0LGo9eC10dCxhdD1FLWV0LGN0PVYrbnQsWj1rK2l0LCQ9YyooVi1udCksdXQ9Yyooay1pdCksbHQ9b3QrY3QsZ3Q9SytaLGJ0PW90LWN0LEl0PUstWixfdD1qK3V0LEJ0PWF0LSQsTXQ9ai11dCxQdD1hdCskO3RbZF09bHQsdFtkKzFdPWd0LHRbYl09X3QsdFtiKzFdPUJ0LHRbSV09YnQsdFtJKzFdPUl0LHRbdl09TXQsdFt2KzFdPVB0fX19X3NpbmdsZVRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2UrMV0sdT1pW2Urc10sYz1pW2UrcysxXSxoPW8rdSxmPWErYyxwPW8tdSxsPWEtYztyW3RdPWgsclt0KzFdPWYsclt0KzJdPXAsclt0KzNdPWx9X3NpbmdsZVRyYW5zZm9ybTQodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPXRoaXMuX2ludj8tMToxLGE9cyoyLHU9cyozLGM9aVtlXSxoPWlbZSsxXSxmPWlbZStzXSxwPWlbZStzKzFdLGw9aVtlK2FdLG09aVtlK2ErMV0sZD1pW2UrdV0sYj1pW2UrdSsxXSxJPWMrbCx2PWgrbSxQPWMtbCx3PWgtbSxUPWYrZCxCPXArYixBPW8qKGYtZCkseT1vKihwLWIpLE89SStULHE9ditCLHg9UCt5LEU9dy1BLE49SS1ULEY9di1CLFY9UC15LGs9dytBO3JbdF09TyxyW3QrMV09cSxyW3QrMl09eCxyW3QrM109RSxyW3QrNF09TixyW3QrNV09RixyW3QrNl09VixyW3QrN109a31fcmVhbFRyYW5zZm9ybTQoKXt2YXIgdD10aGlzLl9vdXQsZT10aGlzLl9jc2l6ZSxzPXRoaXMuX3dpZHRoLHI9MTw8cyxpPWUvcjw8MSxvLGEsdT10aGlzLl9iaXRyZXY7aWYoaT09PTQpZm9yKG89MCxhPTA7bzxlO28rPWksYSsrKXtjb25zdCB3dD11W2FdO3RoaXMuX3NpbmdsZVJlYWxUcmFuc2Zvcm0yKG8sd3Q+Pj4xLHI+Pj4xKX1lbHNlIGZvcihvPTAsYT0wO288ZTtvKz1pLGErKyl7Y29uc3Qgd3Q9dVthXTt0aGlzLl9zaW5nbGVSZWFsVHJhbnNmb3JtNChvLHd0Pj4+MSxyPj4+MSl9dmFyIGM9dGhpcy5faW52Py0xOjEsaD10aGlzLnRhYmxlO2ZvcihyPj49MjtyPj0yO3I+Pj0yKXtpPWUvcjw8MTt2YXIgZj1pPj4+MSxwPWY+Pj4xLGw9cD4+PjE7Zm9yKG89MDtvPGU7bys9aSlmb3IodmFyIG09MCxkPTA7bTw9bDttKz0yLGQrPXIpe3ZhciBiPW8rbSxJPWIrcCx2PUkrcCxQPXYrcCx3PXRbYl0sVD10W2IrMV0sQj10W0ldLEE9dFtJKzFdLHk9dFt2XSxPPXRbdisxXSxxPXRbUF0seD10W1ArMV0sRT13LE49VCxGPWhbZF0sVj1jKmhbZCsxXSxrPUIqRi1BKlYsUj1CKlYrQSpGLFg9aFsyKmRdLHR0PWMqaFsyKmQrMV0sZXQ9eSpYLU8qdHQsc3Q9eSp0dCtPKlgscnQ9aFszKmRdLG50PWMqaFszKmQrMV0saXQ9cSpydC14Km50LG90PXEqbnQreCpydCxLPUUrZXQsaj1OK3N0LGF0PUUtZXQsY3Q9Ti1zdCxaPWsraXQsJD1SK290LHV0PWMqKGstaXQpLGx0PWMqKFItb3QpLGd0PUsrWixidD1qKyQsSXQ9YXQrbHQsX3Q9Y3QtdXQ7aWYodFtiXT1ndCx0W2IrMV09YnQsdFtJXT1JdCx0W0krMV09X3QsbT09PTApe3ZhciBCdD1LLVosTXQ9ai0kO3Rbdl09QnQsdFt2KzFdPU10O2NvbnRpbnVlfWlmKG0hPT1sKXt2YXIgUHQ9YXQsbWU9LWN0LHZlPUssZ2U9LWosYmU9LWMqbHQsSWU9LWMqdXQsX2U9LWMqJCxCZT0tYypaLE1lPVB0K2JlLFBlPW1lK0llLHdlPXZlK0JlLFNlPWdlLV9lLEN0PW8rcC1tLEV0PW8rZi1tO3RbQ3RdPU1lLHRbQ3QrMV09UGUsdFtFdF09d2UsdFtFdCsxXT1TZX19fX1fc2luZ2xlUmVhbFRyYW5zZm9ybTIodCxlLHMpe2NvbnN0IHI9dGhpcy5fb3V0LGk9dGhpcy5fZGF0YSxvPWlbZV0sYT1pW2Urc10sdT1vK2EsYz1vLWE7clt0XT11LHJbdCsxXT0wLHJbdCsyXT1jLHJbdCszXT0wfV9zaW5nbGVSZWFsVHJhbnNmb3JtNCh0LGUscyl7Y29uc3Qgcj10aGlzLl9vdXQsaT10aGlzLl9kYXRhLG89dGhpcy5faW52Py0xOjEsYT1zKjIsdT1zKjMsYz1pW2VdLGg9aVtlK3NdLGY9aVtlK2FdLHA9aVtlK3VdLGw9YytmLG09Yy1mLGQ9aCtwLGI9byooaC1wKSxJPWwrZCx2PW0sUD0tYix3PWwtZCxUPW0sQj1iO3JbdF09SSxyW3QrMV09MCxyW3QrMl09dixyW3QrM109UCxyW3QrNF09dyxyW3QrNV09MCxyW3QrNl09VCxyW3QrN109Qn19bGV0IER0PW49PmNvbnNvbGUubG9nKG4pO2NvbnN0IHp0PSguLi5uKT0+RHQoLi4ubikscXQ9KG4sdCxlKT0+TWF0aC5taW4oTWF0aC5tYXgobix0KSxlKSxUdD1uPT5uLygxK24pLFd0PShuLHQpPT4obiV0K3QpJXQsTHQ9KG4sdCk9PigxK3QpKm4vKDErdCpNYXRoLmFicyhuKSksWT0obix0KT0+TWF0aC50YW5oKG4qKDErdCkpLFl0PShuLHQpPT5xdCgoMSt0KSpuLC0xLDEpLHl0PShuLHQpPT57bGV0IGU9KDErLjUqdCkqbjtjb25zdCBzPVd0KGUrMSw0KTtyZXR1cm4gMS1NYXRoLmFicyhzLTIpfSxIdD0obix0KT0+TWF0aC5zaW4oTWF0aC5QSS8yKnl0KG4sdCkpLFV0PShuLHQpPT57Y29uc3QgZT1UdChNYXRoLmxvZzFwKHQpKSxzPShuLWUvMypuKm4qbikvKDEtZS8zKTtyZXR1cm4gWShzLHQpfSxBdD0obix0LGU9ITEpPT57Y29uc3Qgcz0xKzIqdCxpPS4wNypUdChNYXRoLmxvZzFwKHQpKSxvPVkobitpLDIqdCksYT1ZKGU/aTotbitpLDIqdCksdT1vLWEsYz0xL01hdGguY29zaChzKmkpLGg9YypjLGY9TWF0aC5tYXgoMWUtOCwoZT8xOjIpKnMqaCk7cmV0dXJuIFkodS9mLHQpfSxPdD17c2N1cnZlOkx0LHNvZnQ6WSxoYXJkOll0LGN1YmljOlV0LGRpb2RlOkF0LGFzeW06KG4sdCk9PkF0KG4sdCwhMCksZm9sZDp5dCxzaW5lZm9sZDpIdCxjaGVieXNoZXY6KG4sdCk9Pntjb25zdCBlPTEwKk1hdGgubG9nMXAodCk7bGV0IHM9MSxyPW4saSxvPTA7Zm9yKGxldCBhPTE7YTw2NDthKyspe2lmKGE8Mil7bys9YT09MD9zOnI7Y29udGludWV9aT0yKm4qcy1yLHI9cyxzPWksYSUyPT09MCYmKG8rPU1hdGgubWluKDEuMyplL2EsMikqaSl9cmV0dXJuIFkobyxlLzIwKX19LEc9T2JqZWN0LmZyZWV6ZShPYmplY3Qua2V5cyhPdCkpLEt0PW49PntsZXQgdD1uO3R5cGVvZiBuPT0ic3RyaW5nIiYmKHQ9Ry5pbmRleE9mKG4pLHQ9PT0tMSYmKHp0KGBbc3VwZXJkb3VnaF0gQ291bGQgbm90IGZpbmQgd2F2ZXNoYXBpbmcgYWxnb3JpdGhtICR7bn0uCiAgICAgICAgQXZhaWxhYmxlIG9wdGlvbnMgYXJlICR7Ry5qb2luKCIsICIpfS4KICAgICAgICBEZWZhdWx0aW5nIHRvICR7R1swXX0uYCksdD0wKSk7Y29uc3QgZT1HW3QlRy5sZW5ndGhdO3JldHVybiBPdFtlXX0sTT0obix0LGUpPT5NYXRoLm1pbihNYXRoLm1heChuLHQpLGUpLHh0PShuLHQpPT4obiV0K3QpJXQsanQ9KG4sdCxlKT0+ZSoodC1uKStuLFM9KG4sdCk9Pm5bdF0/P25bMF0sVz1uPT5uLU1hdGguZmxvb3IobiksZnQ9bj0+bnwwLE50PShuLHQsZSk9Pm48Mj8wOmp0KC10Ki41LHQqLjUsZS8obi0xKSksSD0obix0KT0+bipNYXRoLnBvdygyLHQvMTIpO2Z1bmN0aW9uIEZ0KG4sdD0xKXtyZXR1cm4gbj49dD9uLT10Om48MCYmKG4rPXQpLG59Y29uc3QgVT0xMjg7ZnVuY3Rpb24gWnQobix0KXtyZXR1cm4gdD1NYXRoLm1pbih0LDEtdCksbjx0PyhuLz10LG4rbi1uKm4tMSk6bj4xLXQ/KG49KG4tMSkvdCxuKm4rbituKzEpOjB9Y29uc3QgcHQ9e3RyaShuLHQ9LjUpe2NvbnN0IGU9MS10O3JldHVybiBuPj10PzEvZS1uL2U6bi90fSxzaW5lKG4pe3JldHVybiBNYXRoLnNpbihNYXRoLlBJKjIqbikqLjUrLjV9LHJhbXAobil7cmV0dXJuIG59LHNhdyhuKXtyZXR1cm4gMS1ufSxzcXVhcmUobix0PS41KXtyZXR1cm4gbj49dD8wOjF9LGN1c3RvbShuLHQ9WzAsMV0pe2NvbnN0IGU9dC5sZW5ndGgtMSxzPU1hdGguZmxvb3IobiplKSxyPTEvZSxpPU0odFtzXSwwLDEpLGE9TSh0W3MrMV0sMCwxKSx1PWksYz0wLGg9cjtyZXR1cm4oYS11KS8oaC1jKSoobi1yKnMpK2l9LHNhd2JsZXAobix0KXtyZXR1cm4gMipuLTEtWnQobix0KX19O2Z1bmN0aW9uIFEobix0KXtyZXR1cm4gdC5sZW5ndGg+MT90W25dOnRbMF19Y29uc3QgJHQ9T2JqZWN0LmtleXMocHQpO2NsYXNzIEd0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MH0se25hbWU6InRpbWUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToic2tldyIsZGVmYXVsdFZhbHVlOi41fSx7bmFtZToiZGVwdGgiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToicGhhc2VvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToiY3VydmUiLGRlZmF1bHRWYWx1ZToxfSx7bmFtZToiZGNvZmZzZXQiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToibWluIixkZWZhdWx0VmFsdWU6MH0se25hbWU6Im1heCIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waGFzZX1pbmNyZW1lbnRQaGFzZSh0KXt0aGlzLnBoYXNlKz10LHRoaXMucGhhc2U+MSYmKHRoaXMucGhhc2U9dGhpcy5waGFzZS0xKX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXMuYmVnaW5bMF07aWYoY3VycmVudFRpbWU+PXMuZW5kWzBdKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1yKXJldHVybiEwO2NvbnN0IGk9ZVswXSxvPXMuZnJlcXVlbmN5WzBdLGE9cy50aW1lWzBdLHU9cy5kZXB0aFswXSxjPXMuc2tld1swXSxoPXMucGhhc2VvZmZzZXRbMF0sZj1zLmN1cnZlWzBdLHA9cy5kY29mZnNldFswXSxsPXMubWluWzBdLG09cy5tYXhbMF0sZD0kdFtzLnNoYXBlWzBdXSxiPWlbMF0ubGVuZ3RoPz8wO3RoaXMucGhhc2U9PW51bGwmJih0aGlzLnBoYXNlPXh0KGEqbytoLDEpKTtjb25zdCBJPW8vc2FtcGxlUmF0ZTtmb3IobGV0IHY9MDt2PGI7disrKXtmb3IobGV0IFA9MDtQPGkubGVuZ3RoO1ArKyl7bGV0IHc9KHB0W2RdKHRoaXMucGhhc2UsYykrcCkqdTt3PU1hdGgucG93KHcsZiksaVtQXVt2XT1NKHcsbCxtKX10aGlzLmluY3JlbWVudFBoYXNlKEkpfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigibGZvLXByb2Nlc3NvciIsR3QpO2NsYXNzIFF0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNvYXJzZSIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5zdGFydGVkPSExfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87bGV0IGE9cy5jb2Fyc2VbMF0/PzA7YT1NYXRoLm1heCgxLGEpO2ZvcihsZXQgdT0wO3U8VTt1KyspZm9yKGxldCBjPTA7YzxyLmxlbmd0aDtjKyspaVtjXVt1XT11JWE9PT0wP3JbY11bdV06aVtjXVt1LTFdO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY29hcnNlLXByb2Nlc3NvciIsUXQpO2NsYXNzIEp0IGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImNydXNoIixkZWZhdWx0VmFsdWU6MH1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITF9cHJvY2Vzcyh0LGUscyl7Y29uc3Qgcj10WzBdLGk9ZVswXSxvPXJbMF0hPT12b2lkIDA7aWYodGhpcy5zdGFydGVkJiYhbylyZXR1cm4hMTt0aGlzLnN0YXJ0ZWQ9bztsZXQgYT1zLmNydXNoWzBdPz84O2E9TWF0aC5tYXgoMSxhKTtmb3IobGV0IHU9MDt1PFU7dSsrKWZvcihsZXQgYz0wO2M8ci5sZW5ndGg7YysrKXtjb25zdCBoPU1hdGgucG93KDIsYS0xKTtpW2NdW3VdPU1hdGgucm91bmQocltjXVt1XSpoKS9ofXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiY3J1c2gtcHJvY2Vzc29yIixKdCk7Y2xhc3MgWHQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToic2hhcGUiLGRlZmF1bHRWYWx1ZTowfSx7bmFtZToicG9zdGdhaW4iLGRlZmF1bHRWYWx1ZToxfV19Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuc3RhcnRlZD0hMX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2xldCBhPXMuc2hhcGVbMF07YT1hPDE/YTouOTk5OTk5OTk5NixhPTIqYS8oMS1hKTtjb25zdCB1PU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxzLnBvc3RnYWluWzBdKSk7Zm9yKGxldCBjPTA7YzxVO2MrKylmb3IobGV0IGg9MDtoPHIubGVuZ3RoO2grKylpW2hdW2NdPSgxK2EpKnJbaF1bY10vKDErYSpNYXRoLmFicyhyW2hdW2NdKSkqdTtyZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoInNoYXBlLXByb2Nlc3NvciIsWHQpO2NsYXNzIFZ0e2NvbnN0cnVjdG9yKCl7U3QodGhpcywiczAiLDApO1N0KHRoaXMsInMxIiwwKX11cGRhdGUodCxlLHM9MCl7cz1NKHMsMCwxKSxlPU0oZSwwLHNhbXBsZVJhdGUvMi0xKTtjb25zdCByPU0oMipNYXRoLnNpbihlKihkdC9zYW1wbGVSYXRlKSksMCwxLjE0KSxvPTEtTWF0aC5wb3coLjUsKHMrLjEyNSkvLjEyNSkqcjtyZXR1cm4gdGhpcy5zMD1vKnRoaXMuczAtcip0aGlzLnMxK3IqdCx0aGlzLnMxPW8qdGhpcy5zMStyKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgdGUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToidmFsdWUiLGRlZmF1bHRWYWx1ZTouNX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLmZpbHRlcnM9W25ldyBWdCxuZXcgVnRdfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9TShzLnZhbHVlWzBdLDAsMSk7bGV0IHU9Im5vbmUiLGMsaD0xO2E+LjUxPyh1PSJoaXBhc3MiLGg9KGEtLjUpKjIpOmE8LjQ5JiYodT0ibG9wYXNzIixoPWEqMiksYz1NYXRoLnBvdyhoKjExLDQpO2ZvcihsZXQgZj0wO2Y8ci5sZW5ndGg7ZisrKWZvcihsZXQgcD0wO3A8VTtwKyspdT09Im5vbmUiP2lbZl1bcF09cltmXVtwXToodGhpcy5maWx0ZXJzW2ZdLnVwZGF0ZShyW2ZdW3BdLGMsLjEpLHU9PT0ibG9wYXNzIj9pW2ZdW3BdPXRoaXMuZmlsdGVyc1tmXS5zMTp1PT09ImhpcGFzcyI/aVtmXVtwXT1yW2ZdW3BdLXRoaXMuZmlsdGVyc1tmXS5zMTppW2ZdW3BdPXJbZl1bcF0pO3JldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiZGpmLXByb2Nlc3NvciIsdGUpO2Z1bmN0aW9uIHoobil7Y29uc3QgdD1uKm47cmV0dXJuIG4qKDI3K3QpLygyNys5KnQpfWNvbnN0IGR0PTMuMTQxNTkyNjUzNTk7Y2xhc3MgZWUgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NTAwfSx7bmFtZToicSIsZGVmYXVsdFZhbHVlOjF9LHtuYW1lOiJkcml2ZSIsZGVmYXVsdFZhbHVlOi42OX1dfWNvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5wMD1bMCwwXSx0aGlzLnAxPVswLDBdLHRoaXMucDI9WzAsMF0sdGhpcy5wMz1bMCwwXSx0aGlzLnAzMj1bMCwwXSx0aGlzLnAzMz1bMCwwXSx0aGlzLnAzND1bMCwwXX1wcm9jZXNzKHQsZSxzKXtjb25zdCByPXRbMF0saT1lWzBdLG89clswXSE9PXZvaWQgMDtpZih0aGlzLnN0YXJ0ZWQmJiFvKXJldHVybiExO3RoaXMuc3RhcnRlZD1vO2NvbnN0IGE9cy5xWzBdLHU9TShNYXRoLmV4cChzLmRyaXZlWzBdKSwuMSwyZTMpO2xldCBjPXMuZnJlcXVlbmN5WzBdO2M9YyoyKmR0L3NhbXBsZVJhdGUsYz1jPjE/MTpjO2NvbnN0IGg9TWF0aC5taW4oOCxhKi4xMyk7bGV0IGY9MS91Kk1hdGgubWluKDEuNzUsMStoKTtmb3IobGV0IHA9MDtwPFU7cCsrKWZvcihsZXQgbD0wO2w8ci5sZW5ndGg7bCsrKXtjb25zdCBtPXRoaXMucDNbbF0qLjM2MDg5MSt0aGlzLnAzMltsXSouNDE3MjkrdGhpcy5wMzNbbF0qLjE3Nzg5Nit0aGlzLnAzNFtsXSouMDQzOTcyNTt0aGlzLnAzNFtsXT10aGlzLnAzM1tsXSx0aGlzLnAzM1tsXT10aGlzLnAzMltsXSx0aGlzLnAzMltsXT10aGlzLnAzW2xdLHRoaXMucDBbbF0rPSh6KHJbbF1bcF0qdS1oKm0pLXoodGhpcy5wMFtsXSkpKmMsdGhpcy5wMVtsXSs9KHoodGhpcy5wMFtsXSkteih0aGlzLnAxW2xdKSkqYyx0aGlzLnAyW2xdKz0oeih0aGlzLnAxW2xdKS16KHRoaXMucDJbbF0pKSpjLHRoaXMucDNbbF0rPSh6KHRoaXMucDJbbF0pLXoodGhpcy5wM1tsXSkpKmMsaVtsXVtwXT1tKmZ9cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJsYWRkZXItcHJvY2Vzc29yIixlZSk7Y2xhc3Mgc2UgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7c3RhdGljIGdldCBwYXJhbWV0ZXJEZXNjcmlwdG9ycygpe3JldHVyblt7bmFtZToiZGlzdG9ydCIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJwb3N0Z2FpbiIsZGVmYXVsdFZhbHVlOjF9XX1jb25zdHJ1Y3Rvcih7cHJvY2Vzc29yT3B0aW9uczp0fSl7c3VwZXIoKSx0aGlzLnN0YXJ0ZWQ9ITEsdGhpcy5hbGdvcml0aG09S3QodC5hbGdvcml0aG0pfXByb2Nlc3ModCxlLHMpe2NvbnN0IHI9dFswXSxpPWVbMF0sbz1yWzBdIT09dm9pZCAwO2lmKHRoaXMuc3RhcnRlZCYmIW8pcmV0dXJuITE7dGhpcy5zdGFydGVkPW87Zm9yKGxldCBhPTA7YTxVO2ErKyl7Y29uc3QgdT1NKFMocy5wb3N0Z2FpbixhKSwuMDAxLDEpLGM9TWF0aC5leHBtMShTKHMuZGlzdG9ydCxhKSk7Zm9yKGxldCBoPTA7aDxyLmxlbmd0aDtoKyspe2NvbnN0IGY9cltoXVthXTtpW2hdW2FdPXUqdGhpcy5hbGdvcml0aG0oZixjKX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJkaXN0b3J0LXByb2Nlc3NvciIsc2UpO2NsYXNzIHJlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBoYXNlPVtdfXN0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLG1pbjowfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6InBhbnNwcmVhZCIsZGVmYXVsdFZhbHVlOi40LG1pbjowLG1heDoxfSx7bmFtZToiZnJlcXNwcmVhZCIsZGVmYXVsdFZhbHVlOi4yLG1pbjowfSx7bmFtZToiZGV0dW5lIixkZWZhdWx0VmFsdWU6MCxtaW46MH0se25hbWU6InZvaWNlcyIsZGVmYXVsdFZhbHVlOjUsbWluOjF9XX1wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2ZvcihsZXQgaT0wO2k8clswXS5sZW5ndGg7aSsrKXtjb25zdCBvPVMocy5kZXR1bmUsaSksYT1TKHMudm9pY2VzLGkpLHU9UyhzLmZyZXFzcHJlYWQsaSksYz1TKHMucGFuc3ByZWFkLGkpKi41Ky41LGg9TWF0aC5zcXJ0KDEtYyksZj1NYXRoLnNxcnQoYyk7bGV0IHA9UyhzLmZyZXF1ZW5jeSxpKTtwPUgocCxvLzEwMCk7Zm9yKGxldCBsPTA7bDxhO2wrKyl7Y29uc3QgbT0obCYxKT09MTtsZXQgZD1oLGI9ZjttJiYoZD1mLGI9aCk7Y29uc3QgST1IKHAsTnQoYSx1LGwpKSx2PXh0KEkvc2FtcGxlUmF0ZSwxKTt0aGlzLnBoYXNlW2xdPXRoaXMucGhhc2VbbF0/P01hdGgucmFuZG9tKCk7Y29uc3QgUD1wdC5zYXdibGVwKHRoaXMucGhhc2VbbF0sdik7clswXVtpXT1yWzBdW2ldK1AqZCxyWzFdW2ldPXJbMV1baV0rUCpiLHRoaXMucGhhc2VbbF09RnQodGhpcy5waGFzZVtsXSt2KX19cmV0dXJuITB9fXJlZ2lzdGVyUHJvY2Vzc29yKCJzdXBlcnNhdy1vc2NpbGxhdG9yIixyZSk7Y29uc3QgbmU9MjA0ODtmdW5jdGlvbiBpZShuKXtsZXQgdD1uZXcgRmxvYXQzMkFycmF5KG4pO2Zvcih2YXIgZT0wO2U8bjtlKyspdFtlXT0uNSooMS1NYXRoLmNvcygyKk1hdGguUEkqZS9uKSk7cmV0dXJuIHR9Y2xhc3Mgb2UgZXh0ZW5kcyBMe3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6InBpdGNoRmFjdG9yIixkZWZhdWx0VmFsdWU6MX1dfWNvbnN0cnVjdG9yKHQpe3QucHJvY2Vzc29yT3B0aW9ucz17YmxvY2tTaXplOm5lfSxzdXBlcih0KSx0aGlzLmZmdFNpemU9dGhpcy5ibG9ja1NpemUsdGhpcy50aW1lQ3Vyc29yPTAsdGhpcy5oYW5uV2luZG93PWllKHRoaXMuYmxvY2tTaXplKSx0aGlzLmZmdD1uZXcga3QodGhpcy5mZnRTaXplKSx0aGlzLmZyZXFDb21wbGV4QnVmZmVyPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkPXRoaXMuZmZ0LmNyZWF0ZUNvbXBsZXhBcnJheSgpLHRoaXMudGltZUNvbXBsZXhCdWZmZXI9dGhpcy5mZnQuY3JlYXRlQ29tcGxleEFycmF5KCksdGhpcy5tYWduaXR1ZGVzPW5ldyBGbG9hdDMyQXJyYXkodGhpcy5mZnRTaXplLzIrMSksdGhpcy5wZWFrSW5kZXhlcz1uZXcgSW50MzJBcnJheSh0aGlzLm1hZ25pdHVkZXMubGVuZ3RoKSx0aGlzLm5iUGVha3M9MH1wcm9jZXNzT0xBKHQsZSxzKXtsZXQgcj1zLnBpdGNoRmFjdG9yW3MucGl0Y2hGYWN0b3IubGVuZ3RoLTFdO3I8MCYmKHI9ciouMjUpLHI9TWF0aC5tYXgoMCxyKzEpO2Zvcih2YXIgaT0wO2k8dGhpcy5uYklucHV0cztpKyspZm9yKHZhciBvPTA7bzx0W2ldLmxlbmd0aDtvKyspe3ZhciBhPXRbaV1bb10sdT1lW2ldW29dO3RoaXMuYXBwbHlIYW5uV2luZG93KGEpLHRoaXMuZmZ0LnJlYWxUcmFuc2Zvcm0odGhpcy5mcmVxQ29tcGxleEJ1ZmZlcixhKSx0aGlzLmNvbXB1dGVNYWduaXR1ZGVzKCksdGhpcy5maW5kUGVha3MoKSx0aGlzLnNoaWZ0UGVha3MociksdGhpcy5mZnQuY29tcGxldGVTcGVjdHJ1bSh0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZCksdGhpcy5mZnQuaW52ZXJzZVRyYW5zZm9ybSh0aGlzLnRpbWVDb21wbGV4QnVmZmVyLHRoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkKSx0aGlzLmZmdC5mcm9tQ29tcGxleEFycmF5KHRoaXMudGltZUNvbXBsZXhCdWZmZXIsdSksdGhpcy5hcHBseUhhbm5XaW5kb3codSl9dGhpcy50aW1lQ3Vyc29yKz10aGlzLmhvcFNpemV9YXBwbHlIYW5uV2luZG93KHQpe2Zvcih2YXIgZT0wO2U8dGhpcy5ibG9ja1NpemU7ZSsrKXRbZV09dFtlXSp0aGlzLmhhbm5XaW5kb3dbZV0qMS42Mn1jb21wdXRlTWFnbml0dWRlcygpe2Zvcih2YXIgdD0wLGU9MDt0PHRoaXMubWFnbml0dWRlcy5sZW5ndGg7KXtsZXQgcz10aGlzLmZyZXFDb21wbGV4QnVmZmVyW2VdLHI9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltlKzFdO3RoaXMubWFnbml0dWRlc1t0XT1zKioyK3IqKjIsdCs9MSxlKz0yfX1maW5kUGVha3MoKXt0aGlzLm5iUGVha3M9MDt2YXIgdD0yO2xldCBlPXRoaXMubWFnbml0dWRlcy5sZW5ndGgtMjtmb3IoO3Q8ZTspe2xldCBzPXRoaXMubWFnbml0dWRlc1t0XTtpZih0aGlzLm1hZ25pdHVkZXNbdC0xXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QtMl0+PXMpe3QrKztjb250aW51ZX1pZih0aGlzLm1hZ25pdHVkZXNbdCsxXT49c3x8dGhpcy5tYWduaXR1ZGVzW3QrMl0+PXMpe3QrKztjb250aW51ZX10aGlzLnBlYWtJbmRleGVzW3RoaXMubmJQZWFrc109dCx0aGlzLm5iUGVha3MrKyx0Kz0yfX1zaGlmdFBlYWtzKHQpe3RoaXMuZnJlcUNvbXBsZXhCdWZmZXJTaGlmdGVkLmZpbGwoMCk7Zm9yKHZhciBlPTA7ZTx0aGlzLm5iUGVha3M7ZSsrKXtsZXQgbz10aGlzLnBlYWtJbmRleGVzW2VdLGE9TWF0aC5yb3VuZChvKnQpO2lmKGE+dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhazt2YXIgcz0wLHI9dGhpcy5mZnRTaXplO2lmKGU+MCl7bGV0IGg9dGhpcy5wZWFrSW5kZXhlc1tlLTFdO3M9by1NYXRoLmZsb29yKChvLWgpLzIpfWlmKGU8dGhpcy5uYlBlYWtzLTEpe2xldCBoPXRoaXMucGVha0luZGV4ZXNbZSsxXTtyPW8rTWF0aC5jZWlsKChoLW8pLzIpfWxldCB1PXMtbyxjPXItbztmb3IodmFyIGk9dTtpPGM7aSsrKXtsZXQgaD1vK2ksZj1hK2k7aWYoZj49dGhpcy5tYWduaXR1ZGVzLmxlbmd0aClicmVhaztsZXQgcD0yKk1hdGguUEkqKGYtaCkvdGhpcy5mZnRTaXplLGw9TWF0aC5jb3MocCp0aGlzLnRpbWVDdXJzb3IpLG09TWF0aC5zaW4ocCp0aGlzLnRpbWVDdXJzb3IpLGQ9aCoyLGI9ZCsxLEk9dGhpcy5mcmVxQ29tcGxleEJ1ZmZlcltkXSx2PXRoaXMuZnJlcUNvbXBsZXhCdWZmZXJbYl0sUD1JKmwtdiptLHc9SSptK3YqbCxUPWYqMixCPVQrMTt0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtUXSs9UCx0aGlzLmZyZXFDb21wbGV4QnVmZmVyU2hpZnRlZFtCXSs9d319fX1yZWdpc3RlclByb2Nlc3NvcigicGhhc2Utdm9jb2Rlci1wcm9jZXNzb3IiLG9lKTtjbGFzcyBhZSBleHRlbmRzIEF1ZGlvV29ya2xldFByb2Nlc3Nvcntjb25zdHJ1Y3Rvcigpe3N1cGVyKCksdGhpcy5waT1kdCx0aGlzLnBoaT0tdGhpcy5waSx0aGlzLlkwPTAsdGhpcy5ZMT0wLHRoaXMuUFc9dGhpcy5waSx0aGlzLkI9Mi4zLHRoaXMuZHBoaWY9MCx0aGlzLmVudmY9MH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6InB1bHNld2lkdGgiLGRlZmF1bHRWYWx1ZToxLG1pbjowLG1heDpOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9XX1wcm9jZXNzKHQsZSxzKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtpZihjdXJyZW50VGltZTw9cy5iZWdpblswXSlyZXR1cm4hMDtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7Y29uc3Qgcj1lWzBdO2xldCBpPTEsbztmb3IobGV0IGE9MDthPChyWzBdLmxlbmd0aD8/MCk7YSsrKXtjb25zdCB1PSgxLU0oUShhLHMucHVsc2V3aWR0aCksLS45OSwuOTkpKSp0aGlzLnBpLGM9UShhLHMuZGV0dW5lKSxoPUgoUShhLHMuZnJlcXVlbmN5KSxjLzEwMCk7bz1oKih0aGlzLnBpLyhzYW1wbGVSYXRlKi41KSksdGhpcy5kcGhpZis9LjEqKG8tdGhpcy5kcGhpZiksaSo9Ljk5OTgsdGhpcy5lbnZmKz0uMSooaS10aGlzLmVudmYpLHRoaXMuQj0yLjMqKDEtMWUtNCpoKSx0aGlzLkI8MCYmKHRoaXMuQj0wKSx0aGlzLnBoaSs9dGhpcy5kcGhpZix0aGlzLnBoaT49dGhpcy5waSYmKHRoaXMucGhpLT0yKnRoaXMucGkpO2xldCBmPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkwKTt0aGlzLlkwPS41KihmK3RoaXMuWTApO2xldCBwPU1hdGguY29zKHRoaXMucGhpK3RoaXMuQip0aGlzLlkxK3UpO3RoaXMuWTE9LjUqKHArdGhpcy5ZMSk7Zm9yKGxldCBsPTA7bDxyLmxlbmd0aDtsKyspcltsXVthXT0uMTUqKGYtcCkqdGhpcy5lbnZmfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigicHVsc2Utb3NjaWxsYXRvciIsYWUpO2NvbnN0IG10PXtiaXRDOmZ1bmN0aW9uKG4sdCxlKXtyZXR1cm4gbiZ0P2U6MH0sYnI6ZnVuY3Rpb24obix0PTgpe2lmKHQ+MzIpdGhyb3cgbmV3IEVycm9yKCJicigpIFNpemUgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAzMiIpO3tsZXQgZT0wO2ZvcihsZXQgcz0wO3M8dC0wO3MrKyllKz1tdC5iaXRDKG4sMioqcywyKioodC0ocysxKSkpO3JldHVybiBlfX0sc2luZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5zaW4obi8oMTI4L01hdGguUEkpKX0sY29zZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC5jb3Mobi8oMTI4L01hdGguUEkpKX0sdGFuZjpmdW5jdGlvbihuKXtyZXR1cm4gTWF0aC50YW4obi8oMTI4L01hdGguUEkpKX0scmVnRzpmdW5jdGlvbihuLHQpe3JldHVybiB0LnRlc3Qobi50b1N0cmluZygyKSl9fTtsZXQgSixodDtmdW5jdGlvbiBjZShuKXtpZigoSnx8aHQpPT1udWxsKXtKPU9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKE1hdGgpLGh0PUoubWFwKHM9Pk1hdGhbc10pO2NvbnN0IHQ9T2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMobXQpLGU9dC5tYXAocz0+bXRbc10pO0oucHVzaCgiaW50Iiwid2luZG93IiwuLi50KSxodC5wdXNoKE1hdGguZmxvb3IsZ2xvYmFsVGhpcywuLi5lKX1yZXR1cm4gbmV3IEZ1bmN0aW9uKC4uLkosInQiLGByZXR1cm4gMCwKJHtufHwwfTtgKS5iaW5kKGdsb2JhbFRoaXMsLi4uaHQpfWNsYXNzIHVlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye2NvbnN0cnVjdG9yKCl7c3VwZXIoKSx0aGlzLnBvcnQub25tZXNzYWdlPXQ9PntsZXR7Y29kZVRleHQ6ZX09dC5kYXRhO2NvbnN0e2J5dGVCZWF0U3RhcnRUaW1lOnN9PXQuZGF0YTtzIT1udWxsJiYodGhpcy50PTAsdGhpcy5pbml0aWFsT2Zmc2V0PU1hdGguZmxvb3IocykpLGU9ZS50cmltKCkucmVwbGFjZSgvXmV2YWxcKHVuZXNjYXBlXChlc2NhcGUoPzpgfFwoJ3xcKCJ8XChgKSguKj8pKD86YHwnXCl8IlwpfGBcKSkucmVwbGFjZVwoXC91XChcLlwuXClcL2csWyInYF1cJDElWyInYF1cKVwpXCkkLywocixpKT0+dW5lc2NhcGUoZXNjYXBlKGkpLnJlcGxhY2UoL3UoLi4pL2csIiQxJSIpKSksdGhpcy5mdW5jPWNlKGUpfSx0aGlzLmluaXRpYWxPZmZzZXQ9bnVsbCx0aGlzLnQ9bnVsbCx0aGlzLmZ1bmM9bnVsbH1zdGF0aWMgZ2V0IHBhcmFtZXRlckRlc2NyaXB0b3JzKCl7cmV0dXJuW3tuYW1lOiJiZWdpbiIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH0se25hbWU6ImZyZXF1ZW5jeSIsZGVmYXVsdFZhbHVlOjQ0MCxtaW46TnVtYmVyLkVQU0lMT059LHtuYW1lOiJkZXR1bmUiLGRlZmF1bHRWYWx1ZTowLG1pbjpOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWX0se25hbWU6ImVuZCIsZGVmYXVsdFZhbHVlOjAsbWF4Ok51bWJlci5QT1NJVElWRV9JTkZJTklUWSxtaW46MH1dfXByb2Nlc3ModCxlLHMpe2lmKHRoaXMuZGlzY29ubmVjdGVkKXJldHVybiExO2lmKGN1cnJlbnRUaW1lPD1zLmJlZ2luWzBdKXJldHVybiEwO2lmKGN1cnJlbnRUaW1lPj1zLmVuZFswXSlyZXR1cm4hMTt0aGlzLnQ9PW51bGwmJih0aGlzLnQ9cy5iZWdpblswXSpzYW1wbGVSYXRlKTtjb25zdCByPWVbMF07Zm9yKGxldCBpPTA7aTxyWzBdLmxlbmd0aDtpKyspe2NvbnN0IG89UShpLHMuZGV0dW5lKSxhPUgoUShpLHMuZnJlcXVlbmN5KSxvLzEwMCk7bGV0IHU9dGhpcy50LyhzYW1wbGVSYXRlLzI1NikqYSt0aGlzLmluaXRpYWxPZmZzZXQ7Y29uc3QgZj0oKHRoaXMuZnVuYyh1KSYyNTUpLzEyNy41LTEpKi4yO2ZvcihsZXQgcD0wO3A8ci5sZW5ndGg7cCsrKXJbcF1baV09TShmLC0uNCwuNCk7dGhpcy50PXRoaXMudCsxfXJldHVybiEwfX1yZWdpc3RlclByb2Nlc3NvcigiYnl0ZS1iZWF0LXByb2Nlc3NvciIsdWUpO2NvbnN0IGc9T2JqZWN0LmZyZWV6ZSh7Tk9ORTowLEFTWU06MSxNSVJST1I6MixCRU5EUDozLEJFTkRNOjQsQkVORE1QOjUsU1lOQzo2LFFVQU5UOjcsRk9MRDo4LFBXTTo5LE9SQklUOjEwLFNQSU46MTEsQ0hBT1M6MTIsUFJJTUVTOjEzLEJJTkFSWToxNCxCUk9XTklBTjoxNSxSRUNJUFJPQ0FMOjE2LFdPUk1IT0xFOjE3LExPR0lTVElDOjE4LFNJR01PSUQ6MTksRlJBQ1RBTDoyMCxGTElQOjIxfSk7ZnVuY3Rpb24gaGUobil7cmV0dXJuIG49bisyMTI3OTEyMjE0KyhuPDwxMiksbj1uXjMzNDUwNzI3MDBebj4+PjE5LG49biszNzQ3NjEzOTMrKG48PDUpLG49biszNTUwNjM1MTE2Xm48PDksbj1uKzQyNTE5OTM3OTcrKG48PDMpLG49bl4zMDQyNTk0NTY5Xm4+Pj4xNixuPj4+MH1jb25zdCBSdD1uPT4oaGUobik+Pj44KS8xNjc3NzIxNjtmdW5jdGlvbiBsZShuLHQpe2xldCBlPTA7Zm9yKGxldCBzPTA7czx0O3MrKyllPWU8PDF8biYxLG4+Pj49MTtyZXR1cm4gZX1mdW5jdGlvbiBmZShuKXtjb25zdCB0PU1hdGguZmxvb3IobiksZT1uLXQscz1SdCh0KSxyPVJ0KHQrMSk7cmV0dXJuIHMrKHItcykqZX1mdW5jdGlvbiBwZShuLHQ9NCl7bGV0IGU9LjUscz0wLHI9MCxpPTE7Zm9yKGxldCBvPTA7bzx0O28rKylzKz1lKmZlKG4qaSkscis9ZSxlKj0uNSxpKj0yO3JldHVybiBzL3IqMi0xfWNvbnN0IHZ0PXt9O2NsYXNzIGRlIGV4dGVuZHMgQXVkaW9Xb3JrbGV0UHJvY2Vzc29ye3N0YXRpYyBnZXQgcGFyYW1ldGVyRGVzY3JpcHRvcnMoKXtyZXR1cm5be25hbWU6ImJlZ2luIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZW5kIixkZWZhdWx0VmFsdWU6MCxtaW46MCxtYXg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfSx7bmFtZToiZnJlcXVlbmN5IixkZWZhdWx0VmFsdWU6NDQwLG1pbjpOdW1iZXIuRVBTSUxPTn0se25hbWU6ImRldHVuZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJmcmVxc3ByZWFkIixkZWZhdWx0VmFsdWU6LjE4LG1pbjowfSx7bmFtZToicG9zaXRpb24iLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfSx7bmFtZToid2FycCIsZGVmYXVsdFZhbHVlOjAsbWluOjAsbWF4OjF9LHtuYW1lOiJ3YXJwTW9kZSIsZGVmYXVsdFZhbHVlOjB9LHtuYW1lOiJ2b2ljZXMiLGRlZmF1bHRWYWx1ZToxLG1pbjoxfSx7bmFtZToicGFuc3ByZWFkIixkZWZhdWx0VmFsdWU6LjcsbWluOjAsbWF4OjF9LHtuYW1lOiJwaGFzZXJhbmQiLGRlZmF1bHRWYWx1ZTowLG1pbjowLG1heDoxfV19Y29uc3RydWN0b3IodCl7c3VwZXIodCksdGhpcy5mcmFtZUxlbj0wLHRoaXMubnVtRnJhbWVzPTAsdGhpcy5waGFzZT1bXSx0aGlzLmludlNSPTEvc2FtcGxlUmF0ZSx0aGlzLnBvcnQub25tZXNzYWdlPWU9Pntjb25zdHt0eXBlOnMscGF5bG9hZDpyfT1lLmRhdGF8fHt9O2lmKHM9PT0idGFibGUiKXtjb25zdCBpPXIua2V5O2lmKHRoaXMuZnJhbWVMZW49ci5mcmFtZUxlbiwhdnRbaV0pe2NvbnN0IG89W3IuZnJhbWVzXTtsZXQgYT1vWzBdO2ZvcihsZXQgdT0xO3U8MTt1Kyspe2NvbnN0IGM9YS5sZW5ndGg+PjEsaD1hLm1hcChmPT57Y29uc3QgcD1uZXcgRmxvYXQzMkFycmF5KGMpO2ZvcihsZXQgbD0wO2w8YztsKyspcFtsXT0oZlsyKmxdK2ZbMipsKzFdKS8yO3JldHVybiBwfSk7aWYoby5wdXNoKGgpLGE9aCxjPD0zMilicmVha312dFtpXT1vfXRoaXMudGFibGVzPXZ0W2ldLHRoaXMubnVtRnJhbWVzPXRoaXMudGFibGVzWzBdLmxlbmd0aH19fV9taXJyb3IodCl7cmV0dXJuIDEtTWF0aC5hYnMoMip0LTEpfV90b0JpdHModCxlPTIscz0xMil7Y29uc3Qgcj1zKyhlLXMpKnQ7cmV0dXJue2I6cixuOk1hdGgucm91bmQoTWF0aC5wb3coMixyKSl9fV93YXJwUGhhc2UodCxlLHMpe3N3aXRjaChzKXtjYXNlIGcuTk9ORTpyZXR1cm4gdDtjYXNlIGcuQVNZTTp7Y29uc3Qgcj0uMDErLjk5KmU7cmV0dXJuIHQ8cj8uNSp0L3I6LjUrLjUqKHQtcikvKDEtcil9Y2FzZSBnLk1JUlJPUjpyZXR1cm4gdGhpcy5fbWlycm9yKHRoaXMuX3dhcnBQaGFzZSh0LGUsZy5BU1lNKSk7Y2FzZSBnLkJFTkRQOnJldHVybiBNYXRoLnBvdyh0LDErMyplKTtjYXNlIGcuQkVORE06cmV0dXJuIE1hdGgucG93KHQsMS8oMSszKmUpKTtjYXNlIGcuQkVORE1QOnJldHVybiBlPC41P3RoaXMuX3dhcnBQaGFzZSh0LDEtMiplLDMpOnRoaXMuX3dhcnBQaGFzZSh0LDIqZS0xLDIpO2Nhc2UgZy5TWU5DOntjb25zdCByPU1hdGgucG93KDE2LGUqZSk7cmV0dXJuIHQqciUxfWNhc2UgZy5RVUFOVDp7Y29uc3R7bjpyfT10aGlzLl90b0JpdHMoZSk7cmV0dXJuIGZ0KHQqcikvcn1jYXNlIGcuRk9MRDp7Y29uc3QgaT0xK01hdGgubWF4KDEsTWF0aC5yb3VuZCg3KmUpKTtyZXR1cm4gTWF0aC5hYnMoVyhpKnQpLS41KSoyfWNhc2UgZy5QV006e2NvbnN0IHI9TSguNSsuNDkqKDIqZS0xKSwwLDEpO3JldHVybiB0PHI/dC9yKi41Oi41Kyh0LXIpLygxLXIpKi41fWNhc2UgZy5PUkJJVDp7Y29uc3Qgcj0uNSplO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqMyp0KSl9Y2FzZSBnLlNQSU46e2NvbnN0IHI9LjUqZSx7bjppfT10aGlzLl90b0JpdHMoZSwxLDYpO3JldHVybiBXKHQrcipNYXRoLnNpbigyKk1hdGguUEkqaSp0KSl9Y2FzZSBnLkNIQU9TOntjb25zdCBpPSgzLjcrLjMqZSkqdCooMS10KTtyZXR1cm4gTSgoMS1lKSp0K2UqaSwwLDEpfWNhc2UgZy5QUklNRVM6e2NvbnN0IHI9bz0+e2lmKG88MilyZXR1cm4hMTtpZihvJTI9PT0wKXJldHVybiBvPT09Mjtmb3IobGV0IGE9MzthKmE8PW87YSs9MilpZihvJWE9PT0wKXJldHVybiExO3JldHVybiEwfTtsZXR7bjppfT10aGlzLl90b0JpdHMoZSwzKTtmb3IoOyFyKGkpOylpKys7cmV0dXJuIGZ0KHQqaSkvaX1jYXNlIGcuQklOQVJZOntsZXR7YjpyfT10aGlzLl90b0JpdHMoZSwzKTtyPU1hdGgucm91bmQocik7Y29uc3QgaT0xPDxyLG89ZnQodCppKTtyZXR1cm4gbGUobyxyKS9pfWNhc2UgZy5NT0RVTEFSOntjb25zdHtuOnJ9PXRoaXMuX3RvQml0cyhlKSxpPS41KmUsbz1XKHQqcikvcjtyZXR1cm4gVyh0K2kqbyl9Y2FzZSBnLkJST1dOSUFOOntjb25zdCByPS4yNSplKnBlKDY0KnQsNCk7cmV0dXJuIFcodCtyKX1jYXNlIGcuUkVDSVBST0NBTDp7Y29uc3Qgcj0yKzQqZSxpPXQqcixvPXQrKDEtdCkqcixhPW8+MWUtMTI/aS9vOjA7cmV0dXJuIE0oYSwwLDEpfWNhc2UgZy5XT1JNSE9MRTp7Y29uc3Qgcj1NKC44KmUsMCwxKSxpPS41KigxLXIpLG89LjUqKDErcik7cmV0dXJuIHQ8aT90L2kqLjU6dD5vPy41KigxKyh0LW8pLygxLW8pKTouNX1jYXNlIGcuTE9HSVNUSUM6e2xldCByPXQ7Y29uc3QgaT0zLjYrLjQqZSxvPTErTWF0aC5yb3VuZCgyKmUpO2ZvcihsZXQgYT0wO2E8bzthKyspcj1pKnIqKDEtcik7cmV0dXJuIE0ociwwLDEpfWNhc2UgZy5TSUdNT0lEOntjb25zdCByPTErMTAqZSxpPXQtLjUsbz0xLygxK01hdGguZXhwKC1yKmkpKSxhPTEvKDErTWF0aC5leHAoLjUqcikpLHU9MS8oMStNYXRoLmV4cCgtLjUqcikpO3JldHVybihvLWEpLyh1LWEpfWNhc2UgZy5GUkFDVEFMOntjb25zdCByPS41Kk1hdGguc2luKDIqTWF0aC5QSSp0KSplO3JldHVybiBXKHQrcil9Y2FzZSBnLkZMSVA6cmV0dXJuIHQ7ZGVmYXVsdDpyZXR1cm4gdH19X3NhbXBsZUZyYW1lKHQsZSl7Y29uc3Qgcz10Lmxlbmd0aCxyPWUqcztsZXQgaT1yfDA7aT49cyYmKGk9MCk7Y29uc3Qgbz1yLWksYT10W2ldO2xldCB1PWkrMTt1Pj1zJiYodT0wKTtjb25zdCBjPXRbdV07cmV0dXJuIGErKGMtYSkqb31fY2hvb3NlTWlwKHQpe3ZhciByO2NvbnN0IGU9TSh0LDFlLTYsNjQpO2xldCBzPTA7Zm9yKDtzKzE8KCgocj10aGlzLnRhYmxlcyk9PW51bGw/dm9pZCAwOnIubGVuZ3RoKXx8MSkmJmU8dGhpcy50YWJsZXNbc11bMF0ubGVuZ3RoLzg7KXMrKztyZXR1cm4gc31wcm9jZXNzKHQsZSxzKXtpZihjdXJyZW50VGltZT49cy5lbmRbMF0pcmV0dXJuITE7aWYoY3VycmVudFRpbWU8PXMuYmVnaW5bMF0pcmV0dXJuITA7Y29uc3Qgcj1lWzBdWzBdLGk9ZVswXVsxXXx8ZVswXVswXTtpZighdGhpcy50YWJsZXMpcmV0dXJuIHIuZmlsbCgwKSxpIT09ciYmaS5zZXQociksITA7Zm9yKGxldCBvPTA7bzxyLmxlbmd0aDtvKyspe2NvbnN0IGE9UyhzLmRldHVuZSxvKSx1PVMocy5mcmVxc3ByZWFkLG8pLGg9TShTKHMucG9zaXRpb24sbyksMCwxKSoodGhpcy5udW1GcmFtZXMtMSksZj1ofDAscD1oLWYsbD1NKFMocy53YXJwLG8pLDAsMSksbT1TKHMud2FycE1vZGUsbyksZD1TKHMudm9pY2VzLG8pLGI9TShTKHMucGhhc2VyYW5kLG8pLDAsMSksST1kPjE/TShTKHMucGFuc3ByZWFkLG8pLDAsMSk6MCx2PU1hdGguc3FydCguNS0uNSpJKSxQPU1hdGguc3FydCguNSsuNSpJKTtsZXQgdz1TKHMuZnJlcXVlbmN5LG8pO3c9SCh3LGEvMTAwKTtjb25zdCBUPTEvTWF0aC5zcXJ0KGQpO2ZvcihsZXQgQj0wO0I8ZDtCKyspe2NvbnN0IEE9KEImMSk9PTE7bGV0IHk9dixPPVA7QSYmKHk9UCxPPXYpO2NvbnN0IHg9SCh3LE50KGQsdSxCKSkqdGhpcy5pbnZTUixFPXRoaXMuX2Nob29zZU1pcCh4KSxOPXRoaXMudGFibGVzW0VdO3RoaXMucGhhc2VbQl09dGhpcy5waGFzZVtCXT8/TWF0aC5yYW5kb20oKSpiO2NvbnN0IEY9dGhpcy5fd2FycFBoYXNlKHRoaXMucGhhc2VbQl0sbCxtKSxWPXRoaXMuX3NhbXBsZUZyYW1lKE5bZl0sRiksaz10aGlzLl9zYW1wbGVGcmFtZShOW01hdGgubWluKHRoaXMubnVtRnJhbWVzLTEsZisxKV0sRik7bGV0IFI9Visoay1WKSpwO209PT1nLkZMSVAmJnRoaXMucGhhc2VbQl08bCYmKFI9LVIpLHJbb10rPVIqeSpULGlbb10rPVIqTypULHRoaXMucGhhc2VbQl09RnQodGhpcy5waGFzZVtCXSt4KX19cmV0dXJuITB9fXJldHVybiByZWdpc3RlclByb2Nlc3Nvcigid2F2ZXRhYmxlLW9zY2lsbGF0b3ItcHJvY2Vzc29yIixkZSksQy5XYXJwTW9kZT1nLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDLFN5bWJvbC50b1N0cmluZ1RhZyx7dmFsdWU6Ik1vZHVsZSJ9KSxDfSh7fSk7Cg==";let Lt$1;const Rn$1=()=>(Lt$1=new AudioContext,Lt$1),x$3=()=>Lt$1||Rn$1();function Co$1(){return x$3().currentTime}let Ct$1={};function Le$1(e,r){const o=x$3();if(Ct$1[e])return Ct$1[e];const qe=2*o.sampleRate,bt=o.createBuffer(1,qe,o.sampleRate),Nt=bt.getChannelData(0);let Na=0,ld,fd,hd,dd,gd,yd,_d;ld=fd=hd=dd=gd=yd=_d=0;for(let Ad=0;Ad<qe;Ad++)if(e==="white")Nt[Ad]=Math.random()*2-1;else if(e==="brown"){let xd=Math.random()*2-1;Nt[Ad]=(Na+.02*xd)/1.02,Na=Nt[Ad]}else if(e==="pink"){let xd=Math.random()*2-1;ld=.99886*ld+xd*.0555179,fd=.99332*fd+xd*.0750759,hd=.969*hd+xd*.153852,dd=.8665*dd+xd*.3104856,gd=.55*gd+xd*.5329522,yd=-.7616*yd-xd*.016898,Nt[Ad]=ld+fd+hd+dd+gd+yd+_d+xd*.5362,Nt[Ad]*=.11,_d=xd*.115926}else if(e==="crackle"){const xd=r*.01;Math.random()<xd?Nt[Ad]=Math.random()*2-1:Nt[Ad]=0}return e!=="crackle"&&(Ct$1[e]=bt),bt}function Jt(e="white",r,o=.02){const qe=x$3().createBufferSource();return qe.buffer=Le$1(e,o),qe.loop=!0,qe.start(r),{node:qe,stop:bt=>qe.stop(bt)}}function Sn$1(e,r,o){const qe=Jt("pink",o);return{node:Yn$1(e,qe.node,r),stop:bt=>qe?.stop(bt)}}const Ke$2=["pink","white","brown","crackle"];function C$4(e){const r=x$3().createGain();return r.gain.value=e,r}function Ut$1(e,r,o){const qe=C$4(o);return e.connect(qe),qe.connect(r),qe}const me$2=(e,r,o,qe)=>qe-o===0?0:(r-e)/(qe-o);function I$3(e,r,o,qe){const bt=new AudioWorkletNode(e,r,qe);return Object.entries(o).forEach(([Nt,Na])=>{Na!==void 0&&(bt.parameters.get(Nt).value=Na)}),bt}const k$4=(e,r,o,qe,bt,Nt,Na,ld,fd,hd="exponential")=>{r=O$2(r),o=O$2(o),qe=O$2(qe),bt=O$2(bt);const dd=hd==="exponential"?"exponentialRampToValueAtTime":"linearRampToValueAtTime";hd==="exponential"&&(Nt=Nt===0?.001:Nt,Na=Na===0?.001:Na);const gd=Na-Nt,yd=Na,_d=Nt+qe*gd,Ad=fd-ld,xd=Cd=>{let Dd;if(r>Cd){let Td=me$2(Nt,yd,0,r);Dd=Cd*Td+(Nt>yd?Nt:0)}else Dd=(Cd-r)*me$2(yd,_d,0,o)+yd;return hd==="exponential"&&(Dd=Dd||.001),Dd};e.setValueAtTime(Nt,ld),r>Ad?e[dd](xd(Ad),fd):r+o>Ad?(e[dd](xd(r),ld+r),e[dd](xd(Ad),fd)):(e[dd](xd(r),ld+r),e[dd](xd(r+o),ld+r+o),e.setValueAtTime(_d,fd)),e[dd](Nt,fd+bt)};function Nn$1(e){return typeof e=="number"?e%5:{tri:0,triangle:0,sine:1,ramp:2,saw:3,square:4}[e]??0}function Tt$1(e,r,o,qe={}){const{shape:bt=0,...Nt}=qe,{dcoffset:Na=-.5,depth:ld=1}=qe,fd={frequency:1,depth:ld,skew:.5,phaseoffset:0,time:r,begin:r,end:o,shape:Nn$1(bt),dcoffset:Na,min:Na*ld,max:Na*ld+ld,curve:1,...Nt};return I$3(e,"lfo-processor",fd)}function wn$1(e,r,o,qe,bt,Nt){const Na={threshold:r??-3,ratio:o??10,knee:qe??10,attack:bt??.005,release:Nt??.05};return new DynamicsCompressorNode(e,Na)}const Q$5=(e,r="linear",o)=>{const[qe,bt,Nt,Na]=e;if(qe==null&&bt==null&&Nt==null&&Na==null)return o??[.001,.001,1,.01];const ld=Nt??(qe!=null&&bt==null||qe==null&&bt==null?1:.001);return[Math.max(qe??0,.001),Math.max(bt??0,.001),Math.min(ld,1),Math.max(Na??0,.01)]};function be$2(e,r,o,qe,bt,Nt){let{amount:Na,offset:ld,defaultAmount:fd=1,curve:hd="linear",values:dd,holdEnd:gd,defaultValues:yd}=bt;Na==null&&(Na=dd.some(Md=>Md!=null)?fd:0);const _d=ld??0,Ad=Na+_d;if(Math.abs(Ad-_d)){const[Md,Ed,Gd,Qd]=Q$5(dd,hd,yd);k$4(r,Md,Ed,Gd,Qd,_d,Ad,o,gd,hd)}let xd,{defaultDepth:Cd=1,depth:Dd,dcoffset:Td,...Bd}=Nt;return Dd==null&&(Dd=Object.values(Bd).some(Md=>Md!=null)?Cd:0),Dd&&(xd=Tt$1(e,o,qe,{depth:Dd,dcoffset:Td,...Bd}),xd.connect(r)),{lfo:xd,disconnect:()=>xd?.disconnect()}}function Ht$1(e,r,o,qe,bt,Nt,Na,ld,fd,hd,dd,gd,yd,_d){const Ad="exponential",[xd,Cd,Dd,Td]=Q$5([bt,Nt,Na,ld],Ad,[.005,.14,0,.1]);let Bd,Md;if(yd==="ladder"?(Bd=I$3(e,"ladder-processor",{frequency:o,q:qe,drive:_d}),Md=Bd.parameters.get("frequency")):(Bd=e.createBiquadFilter(),Bd.type=r,Bd.Q.value=qe,Bd.frequency.value=o,Md=Bd.frequency),(bt??Nt??Na??ld??fd)!==void 0){fd=O$2(fd,1,!0),gd=O$2(gd,0,!0);const Ed=Math.abs(fd),Gd=Ed*gd;let Qd=D$3(2**-Gd*o,0,2e4),zd=D$3(2**(Ed-Gd)*o,0,2e4);return fd<0&&([Qd,zd]=[zd,Qd]),k$4(Md,xd,Cd,Dd,Td,Qd,zd,hd,dd,Ad),Bd}return Bd}let Ze$2=e=>e<.5?1:1-(e-.5)/.5;function Yn$1(e,r,o=0){const qe=x$3();if(!o)return e;let bt=qe.createGain(),Nt=qe.createGain();e.connect(bt),r.connect(Nt),bt.gain.value=Ze$2(o),Nt.gain.value=Ze$2(1-o);let Na=qe.createGain();return bt.connect(Na),Nt.connect(Na),Na}let Fn$1=["linear","exponential"];function ht$1(e,r,o,qe){if((r.pattack??r.pdecay??r.psustain??r.prelease??r.penv)===void 0)return;const bt=O$2(r.penv,1,!0),Nt=Fn$1[r.pcurve??0];let[Na,ld,fd,hd]=Q$5([r.pattack,r.pdecay,r.psustain,r.prelease],Nt,[.2,.001,1,.001]),dd=r.panchor??fd;const gd=bt*100,yd=0-gd*dd,_d=gd-gd*dd;k$4(e,Na,ld,fd,hd,yd,_d,o,qe,Nt)}function pt$1(e,r,o){const{vibmod:qe=.5,vib:bt}=r;let Nt;if(bt>0){Nt=x$3().createOscillator(),Nt.frequency.value=bt;const Na=x$3().createGain();return Na.gain.value=qe*100,Nt.connect(Na),Na.connect(e),Nt.start(o),Nt}}function rt$2(e,r,o,qe){const bt=new ConstantSourceNode(e),Nt=C$4(0);return Nt.connect(e.destination),bt.connect(Nt),bt.onended=()=>{try{Nt.disconnect()}catch{}try{bt.disconnect()}catch{}r()},bt.start(o),bt.stop(qe),bt}const Cn$1=(e,r=1,o="sine")=>{const qe=x$3();let bt;Ke$2.includes(o)?(bt=qe.createBufferSource(),bt.buffer=Le$1(o,2),bt.loop=!0):(bt=qe.createOscillator(),bt.type=o,bt.frequency.value=e),bt.start();const Nt=new GainNode(qe,{gain:r});return bt.connect(Nt),{node:Nt,stop:Na=>bt.stop(Na)}},Hn$1=(e,r,o,qe="sine")=>{const bt=e.value*r,Nt=bt*o;return Cn$1(bt,Nt,qe)};function Kt$1(e,r,o){const{fmh:qe=1,fmi:bt,fmenv:Nt="exp",fmattack:Na,fmdecay:ld,fmsustain:fd,fmrelease:hd,fmvelocity:dd,fmwave:gd="sine",duration:yd}=r;let _d,Ad=()=>{};if(bt){const xd=x$3().createGain(),Cd=Hn$1(e,qe,bt,gd);if(_d=Cd.node,Ad=Cd.stop,![Na,ld,fd,hd,dd].some(Dd=>Dd!==void 0))_d.connect(e);else{const[Dd,Td,Bd,Md]=Q$5([Na,ld,fd,hd]),Ed=o+yd;k$4(xd.gain,Dd,Td,Bd,Md,0,1,o,Ed,Nt==="exp"?"exponential":"linear"),_d.connect(xd),xd.connect(e)}}return{stop:Ad}}const ze$1=e=>e/(1+e),In$1=(e,r)=>(e%r+r)%r,Pn$1=(e,r)=>(1+r)*e/(1+r*Math.abs(e)),nt$2=(e,r)=>Math.tanh(e*(1+r)),kn$1=(e,r)=>D$3((1+r)*e,-1,1),Te=(e,r)=>{let o=(1+.5*r)*e;const qe=In$1(o+1,4);return 1-Math.abs(qe-2)},Qn$1=(e,r)=>Math.sin(Math.PI/2*Te(e,r)),Jn$1=(e,r)=>{const o=ze$1(Math.log1p(r)),qe=(e-o/3*e*e*e)/(1-o/3);return nt$2(qe,r)},Re$1=(e,r,o=!1)=>{const qe=1+2*r,bt=.07*ze$1(Math.log1p(r)),Nt=nt$2(e+bt,2*r),Na=nt$2(o?bt:-e+bt,2*r),ld=Nt-Na,fd=1/Math.cosh(qe*bt),hd=fd*fd,dd=Math.max(1e-8,(o?1:2)*qe*hd);return nt$2(ld/dd,r)},Un$1=(e,r)=>Re$1(e,r,!0),vn$1=(e,r)=>{const o=10*Math.log1p(r);let qe=1,bt=e,Nt,Na=0;for(let ld=1;ld<64;ld++){if(ld<2){Na+=ld==0?qe:bt;continue}Nt=2*e*qe-bt,bt=qe,qe=Nt,ld%2===0&&(Na+=Math.min(1.3*o/ld,2)*Nt)}return nt$2(Na,o/20)},Se={scurve:Pn$1,soft:nt$2,hard:kn$1,cubic:Jn$1,diode:Re$1,asym:Un$1,fold:Te,sinefold:Qn$1,chebyshev:vn$1},dt$2=Object.freeze(Object.keys(Se)),Ho$1=e=>{let r=e;typeof e=="string"&&(r=dt$2.indexOf(e),r===-1&&(N$3(`[superdough] Could not find waveshaping algorithm ${e}.
        Available options are ${dt$2.join(", ")}.
        Defaulting to ${dt$2[0]}.`),r=0));const o=dt$2[r%dt$2.length];return Se[o]},Bn$1=(e,r,o)=>I$3(x$3(),"distort-processor",{distort:e,postgain:r},{processorOptions:{algorithm:o}}),et$2=(e,r=36)=>{let{note:o,freq:qe}=e;return o=o||r,typeof o=="string"&&(o=zt$1(o)),!qe&&typeof o=="number"&&(qe=Me$1(o)),Number(qe)},it$2=e=>{e!=null&&(e.disconnect(),e.parameters.get("end")?.setValueAtTime(0,0))},Ot$1={},It$1={},Io$1=e=>Ot$1[e];function jn$1(e,r){var o=1024;if(e<o)return e+" B";var qe=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],bt=-1;do e/=o,++bt;while(e>=o);return e.toFixed(1)+" "+qe[bt]}function On$1(e,r){const{speed:o=1}=e,{transpose:qe,url:bt,index:Nt,midi:Na,label:ld}=ge$2(e,r);let fd=Math.abs(o)*Math.pow(2,qe/12);return{transpose:qe,url:bt,index:Nt,midi:Na,label:ld,playbackRate:fd}}const En$1=async(e,r,o)=>{let{url:qe,label:bt,playbackRate:Nt}=On$1(e,r);o&&(qe=await o(qe));const Na=x$3(),ld=await Ne$1(qe,Na,bt);return e.unit==="c"&&(Nt=Nt*ld.duration),{buffer:ld,playbackRate:Nt}},Dn$1=async(e,r,o)=>{let{buffer:qe,playbackRate:bt}=await En$1(e,r,o);e.speed<0&&(qe=An$1(qe));const Nt=x$3().createBufferSource();Nt.buffer=qe,Nt.playbackRate.value=bt;const{loopBegin:Na=0,loopEnd:ld=1,begin:fd=0,end:hd=1}=e,dd=fd*Nt.buffer.duration;e.loop&&(Nt.loop=!0,Nt.loopStart=Na*Nt.buffer.duration-dd,Nt.loopEnd=ld*Nt.buffer.duration-dd);const gd=Nt.buffer.duration/Nt.playbackRate.value,yd=(hd-fd)*gd;return{bufferSource:Nt,offset:dd,bufferDuration:gd,sliceDuration:yd}},Ne$1=(e,r,o,qe=0)=>{const bt=o?`sound "${o}:${qe}"`:"sample";if(e=e.replace("#","%23"),!It$1[e]){N$3(`[sampler] load ${bt}..`,"load-sample",{url:e});const Nt=Date.now();It$1[e]=fetch(e).then(Na=>Na.arrayBuffer()).then(async Na=>{const ld=Date.now()-Nt,fd=jn$1(Na.byteLength);N$3(`[sampler] load ${bt}... done! loaded ${fd} in ${ld}ms`,"loaded-sample",{url:e});const hd=await r.decodeAudioData(Na);return Ot$1[e]=hd,hd})}return It$1[e]};function An$1(e){const r=x$3(),o=r.createBuffer(e.numberOfChannels,e.length,r.sampleRate);for(let qe=0;qe<e.numberOfChannels;qe++)o.copyToChannel(e.getChannelData(qe).slice().reverse(),qe,qe);return o}const Po$1=e=>Ot$1[e];function we$2(e){if(e.startsWith("bubo:")){const[r,o]=e.split(":");e=`github:Bubobubobubobubo/dough-${o}`}return e}function Ye$2(e,r=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let o=e.slice(7);o=o.endsWith("/")?o.slice(0,-1):o;let qe=o.split("/"),bt=qe[0],Nt=qe.length>=2?qe[1]:"samples",Na=qe.length>=3?qe[2]:"main",ld=qe.slice(3);return ld.push(r||""),ld=ld.join("/"),`https://raw.githubusercontent.com/${bt}/${Nt}/${Na}/${ld}`}const qn$1=(e,r,o=e._base||"")=>Object.entries(e).forEach(([qe,bt])=>{if(typeof bt=="string"&&(bt=[bt]),typeof bt!="object")throw new Error("wrong sample map format for "+qe);o=bt._base||o,o=we$2(o),o.startsWith("github:")&&(o=Ye$2(o,""));const Nt=Na=>o+Na;Array.isArray(bt)?bt=bt.map(Nt):bt=Object.fromEntries(Object.entries(bt).map(([Na,ld])=>[Na,(typeof ld=="string"?[ld]:ld).map(Nt)])),r(qe,bt)});let Fe$1={};function ko$1(e,r){Fe$1[e]=r}function $n$1(e){const r=Object.entries(Fe$1).find(([o])=>e.startsWith(o));if(r)return r[1]}async function _n$1(e){const r=$n$1(e);if(r)return r(e);if(e=we$2(e),e.startsWith("github:")&&(e=Ye$2(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[bt,Nt]=e.split("shabda:");e=`https://shabda.ndre.gr/${Nt}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[bt,Nt]=e.split("shabda/speech");Nt=Nt.startsWith("/")?Nt.substring(1):Nt;let[Na,ld]=Nt.split(":"),fd="f",hd="en-GB";Na&&([hd,fd]=Na.split("/")),e=`https://shabda.ndre.gr/speech/${ld}.json?gender=${fd}&language=${hd}&strudel=1'`}if(typeof fetch!="function")return;const o=e.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const qe=await fetch(e).then(bt=>bt.json()).catch(bt=>{throw console.error(bt),new Error(`error loading "${e}"`)});return[qe,qe._base||o]}const to$1=async(e,r=e._base||"",o={})=>{if(typeof e=="string"){const[Nt,Na]=await _n$1(e);return to$1(Nt,r||Na,o)}const{prebake:qe,tag:bt}=o;qn$1(e,(Nt,Na)=>{oo$1(Nt,Na,{baseUrl:r,prebake:qe,tag:bt})},r)},Xe$2=[];async function eo$1(e,r,o,qe,bt){let{s:Nt,nudge:Na=0,cut:ld,loop:fd,clip:hd=void 0,n:dd=0,speed:gd=1,duration:yd}=r;if(gd===0)return;const _d=x$3();let[Ad,xd,Cd,Dd]=Q$5([r.attack,r.decay,r.sustain,r.release]);const{bufferSource:Td,sliceDuration:Bd,offset:Md}=await Dn$1(r,qe,bt);if(_d.currentTime>e){N$3(`[sampler] still loading sound "${Nt}:${dd}"`,"highlight");return}if(!Td){N$3(`[sampler] could not load "${Nt}:${dd}"`,"error");return}let Ed=pt$1(Td.detune,r,e);const Gd=e+Na;Td.start(Gd,Md);const Qd=_d.createGain(),zd=Td.connect(Qd);hd==null&&fd==null&&r.release==null&&(yd=Bd);let nm=e+yd;k$4(zd.gain,Ad,xd,Cd,Dd,0,1,e,nm,"linear"),ht$1(Td.detune,r,e,nm);const qd=_d.createGain();zd.connect(qd),Td.onended=function(){Td.disconnect(),Ed?.stop(),zd.disconnect(),qd.disconnect(),o()};let dm=nm+Dd+.01;Td.stop(dm);const im={node:qd,bufferSource:Td,stop:sm=>{Td.stop(sm)}};if(ld!==void 0){const sm=Xe$2[ld];sm&&(sm.node.gain.setValueAtTime(1,Gd),sm.node.gain.linearRampToValueAtTime(0,Gd+.01)),Xe$2[ld]=im}return im}function no$1(e,r,o){j$3(e,(qe,bt,Nt)=>eo$1(qe,bt,Nt,r),{type:"sample",samples:r,...o})}function oo$1(e,r,o){e.startsWith("wt_")?Be$1(e,r,o):no$1(e,r,o)}let tt$2=(e,r)=>e!==void 0&&e!==r,co$1=class{reverbNode;delayNode;output;summingNode;djfNode;audioContext;constructor(r){this.audioContext=r,this.output=new GainNode(r,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode=new GainNode(r,{gain:1,channelCount:2,channelCountMode:"explicit"}),this.summingNode.connect(this.output)}disconnect(){this.output.disconnect(),this.summingNode.disconnect(),this.delayNode?.disconnect(),this.reverbNode?.disconnect()}getDjf(r,o=0){this.djfNode==null&&(this.djfNode=I$3(this.audioContext,"djf-processor",{value:r}),this.summingNode.disconnect(),this.summingNode.connect(this.djfNode),this.djfNode.connect(this.output)),this.djfNode.parameters.get("value").setValueAtTime(r,o)}getDelay(r=0,o=.5,qe){return o=D$3(o,0,.98),this.delayNode==null&&(this.delayNode=this.audioContext.createFeedbackDelay(1,r,o),this.delayNode.connect(this.summingNode),this.delayNode.start?.(qe)),this.delayNode.delayTime.value!==r&&this.delayNode.delayTime.setValueAtTime(r,qe),this.delayNode.feedback.value!==o&&this.delayNode.feedback.setValueAtTime(o,qe),this.delayNode}getReverb(r,o,qe,bt,Nt,Na,ld){return this.reverbNode==null&&(this.reverbNode=this.audioContext.createReverb(r,o,qe,bt,Nt,Na,ld),this.reverbNode.connect(this.summingNode)),(tt$2(r,this.reverbNode.duration)||tt$2(o,this.reverbNode.fade)||tt$2(qe,this.reverbNode.lp)||tt$2(bt,this.reverbNode.dim)||tt$2(Na,this.reverbNode.irspeed)||tt$2(ld,this.reverbNode.irbegin)||this.reverbNode.ir!==Nt)&&this.reverbNode.generate(r,o,qe,bt,Nt,Na,ld),this.reverbNode}sendReverb(r,o){Ut$1(r,this.reverbNode,o)}sendDelay(r,o){Ut$1(r,this.delayNode,o)}duck(r,o=0,qe=.1,bt=1){const Nt=o,Na=Math.max(qe,.002),ld=this.output.gain;rt$2(this.audioContext,()=>{const fd=this.audioContext.currentTime,hd=ld.value;ld.cancelScheduledValues(fd),ld.setValueAtTime(hd,fd);const dd=Math.max(r,fd),gd=D$3(1-Math.sqrt(bt),.01,hd);ld.exponentialRampToValueAtTime(gd,dd+Nt),ld.exponentialRampToValueAtTime(1,dd+Nt+Na)},0,r-.01)}connectToOutput(r){r.connect(this.summingNode)}},so$1=class{channelMerger;destinationGain;constructor(r){this.audioContext=r,this.initializeAudio()}initializeAudio(){const r=this.audioContext,o=r.destination.maxChannelCount;this.audioContext.destination.channelCount=o,this.channelMerger=new ChannelMergerNode(r,{numberOfInputs:r.destination.channelCount}),this.destinationGain=new GainNode(r),this.channelMerger.connect(this.destinationGain),this.destinationGain.connect(r.destination)}reset(){this.disconnect(),this.initializeAudio()}disconnect(){this.channelMerger.disconnect(),this.destinationGain.disconnect(),this.destinationGain=null,this.channelMerger=null}connectToDestination=(r,o=[0,1])=>{const qe=new StereoPannerNode(this.audioContext);r.connect(qe);const bt=new ChannelSplitterNode(this.audioContext,{numberOfOutputs:qe.channelCount});qe.connect(bt),o.forEach((Nt,Na)=>{bt.connect(this.channelMerger,Na%qe.channelCount,Nt%this.audioContext.destination.channelCount)})}},ao$1=class{audioContext;output;nodes={};constructor(r){this.audioContext=r,this.output=new so$1(r)}reset(){Array.from(this.nodes).forEach(r=>{r.disconnect()}),this.nodes={},this.output.reset()}duck(r,o,qe=0,bt=.1,Nt=1){const Na=[r].flat(),ld=[qe].flat(),fd=[bt].flat(),hd=[Nt].flat();Na.forEach((dd,gd)=>{const yd=this.nodes[dd];if(yd==null){fn$1(new Error(`duck target orbit ${dd} does not exist`),"superdough");return}const _d=ld[gd]??ld[0],Ad=Math.max(fd[gd]??fd[0],.002),xd=hd[gd]??hd[0];yd.duck(o,_d,Ad,xd)})}getOrbit(r,o){return this.nodes[r]==null&&(this.nodes[r]=new co$1(this.audioContext),this.output.connectToDestination(this.nodes[r].output,o)),this.nodes[r]}};const Ce=128,vt$1="System Standard";let He$1=Ce;function lo$1(e){He$1=parseInt(e)??Ce}let Ie$1=!1;function io$1(e){Ie$1=e==!0}const B$2=map();function j$3(e,r,o={}){e=e.toLowerCase().replace(/\s+/g,"_"),B$2.setKey(e,{onTrigger:r,data:o})}let Pe$1=e=>e;function E$2(e){return Pe$1(e)}function Qo$1(e){Pe$1=e}function Bt$1(e){for(const o in e)e[o.toLowerCase()]=e[o];const r=B$2.get();for(const o in r){const[qe,bt]=o.split("_");if(!bt)continue;const Nt=e[qe];if(Nt){if(typeof Nt=="string")r[`${Nt}_${bt}`.toLowerCase()]=r[o];else if(Array.isArray(Nt))for(const Na of Nt)r[`${Na}_${bt}`.toLowerCase()]=r[o]}}B$2.set({...r})}async function ro$1(e){const r=await(await fetch(e)).json();Bt$1(r)}async function Jo$1(...e){switch(e.length){case 1:return typeof e[0]=="string"?ro$1(e[0]):Bt$1(e[0]);case 2:return Bt$1({[e[0]]:e[1]});default:throw new Error("aliasMap expects 1 or 2 arguments, received "+e.length)}}function Uo$1(e,r){if(ut$1(e)==null){N$3("soundAlias: original sound not found");return}B$2.setKey(r,ut$1(e))}function ut$1(e){return typeof e!="string"?(console.warn(`getSound: expected string got "${e}". fall back to triangle`),B$2.get().triangle):B$2.get()[e.toLowerCase()]}const uo$1=async()=>{await navigator.mediaDevices.getUserMedia({audio:!0});let e=await navigator.mediaDevices.enumerateDevices();e=e.filter(o=>o.kind==="audiooutput"&&o.deviceId!=="default");const r=new Map;return r.set(vt$1,""),e.forEach(o=>{r.set(o.label,o.deviceId)}),r};let mt$1={s:"triangle",gain:.8,postgain:1,density:".03",ftype:"12db",fanchor:0,resonance:1,hresonance:1,bandq:1,channels:[1,2],phaserdepth:.75,shapevol:1,distortvol:1,distorttype:0,delay:0,byteBeatExpression:"0",delayfeedback:.5,delaysync:3/16,orbit:1,i:1,velocity:1,fft:8};const ho$1=Object.freeze({...mt$1});function vo$1(e,r){mt$1[e]=r}function Bo$1(){mt$1={...ho$1}}let Et$1=new Map(Object.entries(mt$1));function ke(e,r){Et$1.set(e,r)}function T$2(e){return Et$1.get(e)}function jo$1(e){Object.keys(e).forEach(r=>{ke(r,e[r])})}function po$1(){Et$1=new Map(Object.entries(mt$1))}function Oo$1(e){po$1(),e==="1.0"&&ke("fanchor",.5)}const Eo$1=()=>B$2.set({});let Qe$2=[];function Do$1(e){Qe$2.push(e)}let Pt;function mo$1(){if(!Pt){const e=x$3(),r=Qe$2.concat([Tn$1]);Pt=Promise.all(r.map(o=>e.audioWorklet.addModule(o)))}return Pt}async function bo$1(e={}){const{disableWorklets:r=!1,maxPolyphony:o,audioDeviceName:qe=vt$1,multiChannelOrbits:bt=!1}=e;if(lo$1(o),io$1(bt),typeof window>"u")return;const Nt=x$3();if(qe!=null&&qe!=vt$1)try{const Na=(await uo$1()).get(qe),ld=(Na??"").length>0;Nt.sinkId!==Na&&ld&&await Nt.setSinkId(Na),N$3(`[superdough] Audio Device set to ${qe}, it might take a few seconds before audio plays on all output channels`)}catch{N$3("[superdough] failed to set audio interface","warning")}if(await Nt.resume(),r){N$3("[superdough]: AudioWorklets disabled with disableWorklets");return}try{await mo$1(),N$3("[superdough] AudioWorklets loaded")}catch(Na){console.warn("could not load AudioWorklet effects",Na)}N$3("[superdough] ready")}let kt$1;async function Ao$1(e){return kt$1||(kt$1=new Promise(r=>{document.addEventListener("click",async function o(){document.removeEventListener("click",o),await bo$1(e),r()})})),kt$1}let gt;function Je$1(){return gt==null&&(gt=new ao$1(x$3())),gt}function qo$1(e,r){Je$1().output.connectToDestination(e,r)}function Zo$1(e,r,o=1,qe=.5,bt=1e3,Nt=2e3){const Na=x$3(),ld=Tt$1(Na,e,r,{frequency:o,depth:Nt*2}),fd=2;let hd=0;const dd=[];for(let gd=0;gd<fd;gd++){const yd=Na.createBiquadFilter();yd.type="notch",yd.gain.value=1,yd.frequency.value=bt+hd,yd.Q.value=2-Math.min(Math.max(qe*2,0),1.9),ld.connect(yd.detune),hd+=282,gd>0&&dd[gd-1].connect(yd),dd.push(yd)}return dd[dd.length-1]}function Xo$1(e){e=e??0;const r=["12db","ladder","24db"];return typeof e=="number"?r[Math.floor(xe$1(e,r.length))]:e}let v$4={},ot$2={};function yo$1(e,r=1024,o=.5){if(!v$4[e]){const qe=x$3().createAnalyser();qe.fftSize=r,qe.smoothingTimeConstant=o,v$4[e]=qe,ot$2[e]=new Float32Array(v$4[e].frequencyBinCount)}return v$4[e].fftSize!==r&&(v$4[e].fftSize=r,ot$2[e]=new Float32Array(v$4[e].frequencyBinCount)),v$4[e]}function $o$1(e="time",r=1){const o={time:()=>v$4[r]?.getFloatTimeDomainData(ot$2[r]),frequency:()=>v$4[r]?.getFloatFrequencyData(ot$2[r])}[e];if(!o)throw new Error(`getAnalyzerData: ${e} not supported. use one of ${Object.keys(o).join(", ")}`);return o(),ot$2[r]}function _o$1(){gt?.reset(),v$4={},ot$2={}}let lt$2=new Map;function ye$2(e){return(Array.isArray(e)?e:[e]).map(r=>r-1)}const Go$1=async(e,r,o,qe=.5,bt=.5)=>{const Nt=x$3(),Na=Je$1();let{stretch:ld}=e;if(ld!=null&&(r=r-.04),typeof e!="object")throw new Error(`expected hap.value to be an object, but got "${e}". Hint: append .note() or .s() to the end`,"error");if(e.duration=o,r<Nt.currentTime){console.warn(`[superdough]: cannot schedule sounds in the past (target: ${r.toFixed(2)}, now: ${Nt.currentTime.toFixed(2)})`);return}let{tremolo:fd,tremolosync:hd,tremolodepth:dd=1,tremoloskew:gd,tremolophase:yd=0,tremoloshape:_d,s:Ad=T$2("s"),bank:xd,source:Cd,gain:Dd=T$2("gain"),postgain:Td=T$2("postgain"),density:Bd=T$2("density"),duckorbit:Md,duckonset:Ed,duckattack:Gd,duckdepth:Qd,djf:zd,fanchor:nm=T$2("fanchor"),drive:qd=.69,release:dm=0,cutoff:im,lpenv:sm,lpattack:mm,lpdecay:Mm,lpsustain:Om,lprelease:km,resonance:vm=T$2("resonance"),hpenv:t0,hcutoff:Cm,hpattack:Zm,hpdecay:cm,hpsustain:Xm,hprelease:Hd,hresonance:r0=T$2("hresonance"),bpenv:jm,bandf:am,bpattack:Hm,bpdecay:_0,bpsustain:X0,bprelease:P0,bandq:c0=T$2("bandq"),phaserrate:C0,phaserdepth:Vm=T$2("phaserdepth"),phasersweep:w0,phasercenter:p0,coarse:x0,crush:U0,dry:Vd,shape:Wd,shapevol:Xd=T$2("shapevol"),distort:Jd,distortvol:lm=T$2("distortvol"),distorttype:_m=T$2("distorttype"),pan:um,vowel:Tm,delay:om=T$2("delay"),delayfeedback:Dm=T$2("delayfeedback"),delaysync:Lm=T$2("delaysync"),delaytime:h0,orbit:s0=T$2("orbit"),room:zm,roomfade:a0,roomlp:k0,roomdim:xm,roomsize:Jm,ir:Z0,irspeed:o0,irbegin:$0,i:I0=T$2("i"),velocity:J0=T$2("velocity"),analyze:fg,fft:Q1=T$2("fft"),compressor:X1,compressorRatio:Od,compressorKnee:Pd,compressorAttack:Sd,compressorRelease:wd}=e;h0=h0??zn$1(Lm,qe);const Rd=ye$2(Ie$1&&s0>0?[s0*2-1,s0*2]:T$2("channels")),Yd=e.channels!=null?ye$2(e.channels):Rd,Kd=Na.getOrbit(s0,Yd);Md!=null&&Na.duck(Md,r,Ed,Gd,Qd),Dd=E$2(O$2(Dd,1)),Td=E$2(Td),Xd=E$2(Xd),lm=E$2(lm),om=E$2(om),J0=E$2(J0),dd=E$2(dd),Dd*=J0;const rm=r+o,Sm=rm+dm,Ym=Math.round(Math.random()*1e6);for(let Im=0;Im<=lt$2.size-He$1;Im++){const A0=lt$2.entries().next(),E0=A0.value[1],Rg=A0.value[0],o_=r+.25;E0?.node?.gain?.linearRampToValueAtTime(0,o_),E0?.stop?.(o_),lt$2.delete(Rg)}let l0=[];if(["-","~","_"].includes(Ad))return;xd&&Ad&&(Ad=`${xd}_${Ad}`,e.s=Ad);let Qm;if(Cd)Qm=Cd(r,e,o,qe);else if(ut$1(Ad)){const{onTrigger:Im}=ut$1(Ad),A0=await Im(r,e,()=>{l0.forEach(E0=>E0?.disconnect()),lt$2.delete(Ym)},qe);A0&&(Qm=A0.node,lt$2.set(Ym,A0))}else throw new Error(`sound ${Ad} not found! Is it loaded?`);if(!Qm)return;if(Nt.currentTime>r){N$3("[webaudio] skip hap: still loading",Nt.currentTime-r);return}const n0=[];n0.push(Qm),ld!==void 0&&n0.push(I$3(Nt,"phase-vocoder-processor",{pitchFactor:ld})),n0.push(C$4(Dd));const N0=Xo$1(e.ftype);if(im!==void 0){let Im=()=>Ht$1(Nt,"lowpass",im,vm,mm,Mm,Om,km,sm,r,rm,nm,N0,qd);n0.push(Im()),N0==="24db"&&n0.push(Im())}if(Cm!==void 0){let Im=()=>Ht$1(Nt,"highpass",Cm,r0,Zm,cm,Xm,Hd,t0,r,rm,nm);n0.push(Im()),N0==="24db"&&n0.push(Im())}if(am!==void 0){let Im=()=>Ht$1(Nt,"bandpass",am,c0,Hm,_0,X0,P0,jm,r,rm,nm);n0.push(Im()),N0==="24db"&&n0.push(Im())}if(Tm!==void 0){const Im=Nt.createVowelFilter(Tm);n0.push(Im)}if(x0!==void 0&&n0.push(I$3(Nt,"coarse-processor",{coarse:x0})),U0!==void 0&&n0.push(I$3(Nt,"crush-processor",{crush:U0})),Wd!==void 0&&n0.push(I$3(Nt,"shape-processor",{shape:Wd,postgain:Xd})),Jd!==void 0&&n0.push(Bn$1(Jd,lm,_m)),hd!=null&&(fd=qe*hd),e.wtPosSynced!=null&&(e.wtPosRate/=qe),e.wtWarpSynced!=null&&(e.wtWarpRate/=qe),fd!==void 0){const Im=Math.max(1-dd,0),A0=new GainNode(Nt,{gain:Im}),E0=bt/qe;Tt$1(Nt,r,Sm,{skew:gd??(_d!=null?.5:1),frequency:fd,depth:dd,time:E0,dcoffset:0,shape:_d,phaseoffset:yd,min:0,max:1,curve:1.5}).connect(A0.gain),n0.push(A0)}if(X1!==void 0&&n0.push(wn$1(Nt,X1,Od,Pd,Sd,wd)),um!==void 0){const Im=Nt.createStereoPanner();Im.pan.value=2*um-1,n0.push(Im)}if(C0!==void 0&&Vm>0){const Im=Zo$1(r,Sm,C0,Vm,p0,w0);n0.push(Im)}const V1=new GainNode(Nt,{gain:Td});if(n0.push(V1),om>0&&h0>0&&Dm>0&&(Kd.getDelay(h0,Dm,r),Kd.sendDelay(V1,om)),zm>0){let Im;if(Z0!==void 0){let A0,E0=ut$1(Z0);Array.isArray(E0)?A0=E0.data.samples[I0%E0.data.samples.length]:typeof E0=="object"&&(A0=Object.values(E0.data.samples).flat()[I0%Object.values(E0.data.samples).length]),Im=await Ne$1(A0,Nt,Z0,0)}Kd.getReverb(Jm,a0,k0,xm,Im,o0,$0),Kd.sendReverb(V1,zm)}if(zd!=null&&Kd.getDjf(zd,r),fg){const Im=yo$1(fg,2**(Q1+5)),A0=Ut$1(V1,Im,1);l0.push(A0)}if(Vd!=null){Vd=E$2(Vd);const Im=new GainNode(Nt,{gain:Vd});n0.push(Im),Kd.connectToOutput(Im)}else Kd.connectToOutput(V1);n0.slice(1).reduce((Im,A0)=>Im.connect(A0),n0[0]),l0=l0.concat(n0)},tc$1=(e,r,o,qe)=>{Go$1(r,e-o,r.duration/qe,qe)},Vo$1=["triangle","square","sawtooth","sine"],Wo$1=[["tri","triangle"],["sqr","square"],["saw","sawtooth"],["sin","sine"]];function fo$1(e,r){const o=e,qe=new Float32Array(r);for(let bt=0;bt<r;bt++){const Nt=bt*2/r-1;qe[bt]=Math.tanh(Nt*o)}return qe}function ec$1(){[...Vo$1].forEach(e=>{j$3(e,(r,o,qe)=>{const[bt,Nt,Na,ld]=Q$5([o.attack,o.decay,o.sustain,o.release],"linear",[.001,.05,.6,.01]);let fd=xo$1(e,r,o),{node:hd,stop:dd,triggerRelease:gd}=fd;const yd=C$4(.3),{duration:_d}=o;hd.onended=()=>{hd.disconnect(),yd.disconnect(),qe()};const Ad=C$4(1);let xd=hd.connect(yd).connect(Ad);const Cd=r+_d;k$4(xd.gain,bt,Nt,Na,ld,0,1,r,Cd,"linear");const Dd=Cd+ld+.01;return gd?.(Dd),dd(Dd),{node:xd,stop:Td=>{dd(Td)}}},{type:"synth",prebake:!0})}),j$3("sbd",(e,r,o)=>{const{duration:qe,decay:bt=.5,pdecay:Nt=.5,penv:Na=36,clip:ld}=r,fd=x$3(),hd=.02,dd=1.2,gd=.025,yd=1,_d=fd.createOscillator();_d.type="triangle",_d.frequency.value=et$2(r,29),_d.detune.setValueAtTime(Na*100,0),_d.detune.setValueAtTime(Na*100,e),_d.detune.exponentialRampToValueAtTime(.001,e+Nt);const Ad=C$4(1);Ad.gain.setValueAtTime(1,e+hd),Ad.gain.exponentialRampToValueAtTime(.001,e+hd+bt),_d.start(e);const xd=Jt("brown",e,2),Cd=C$4(1);Cd.gain.setValueAtTime(dd,e),Cd.gain.exponentialRampToValueAtTime(.001,e+gd);const Dd=new WaveShaperNode(fd);Dd.curve=fo$1(2,fd.sampleRate);const Td=C$4(yd);_d.onended=()=>{_d.disconnect(),Ad.disconnect(),Dd.disconnect(),xd.node.disconnect(),Cd.disconnect(),Td.disconnect(),o()};const Bd=_d.connect(Dd).connect(Ad).connect(Td);xd.node.connect(Cd).connect(Td);let Md=e+bt+.01;return ld!=null&&(Md=Math.min(e+ld*qe,Md)),Td.gain.setValueAtTime(yd,Md-.01),Td.gain.linearRampToValueAtTime(0,Md),_d.stop(Md),xd.stop(Md),{node:Bd,stop:Ed=>{_d.stop(Ed)}}},{type:"synth",prebake:!0}),j$3("supersaw",(e,r,o)=>{const qe=x$3();let{duration:bt,n:Nt,unison:Na=5,spread:ld=.6,detune:fd}=r;fd=fd??Nt??.18;const hd=et$2(r),[dd,gd,yd,_d]=Q$5([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),Ad=e+bt,xd=Ad+_d+.01,Cd=D$3(Na,1,100);let Dd=Cd>1?D$3(ld,0,1):0,Td=I$3(qe,"supersaw-oscillator",{frequency:hd,begin:e,end:xd,freqspread:fd,voices:Cd,panspread:Dd},{outputChannelCount:[2]});const Bd=1/Math.sqrt(Cd);ht$1(Td.parameters.get("detune"),r,e,Ad);const Md=pt$1(Td.parameters.get("detune"),r,e),Ed=Kt$1(Td.parameters.get("frequency"),r,e);let Gd=C$4(1);Gd=Td.connect(Gd),k$4(Gd.gain,dd,gd,yd,_d,0,.3*Bd,e,Ad,"linear");let Qd=rt$2(qe,()=>{it$2(Td),Gd.disconnect(),o(),Ed?.stop(),Md?.stop()},e,xd);return{node:Gd,stop:zd=>{Qd.stop(zd)}}},{prebake:!0,type:"synth"}),j$3("bytebeat",(e,r,o)=>{const qe=["(t%255 >= t/255%255)*255","(t*(t*8%60 <= 300)|(-t)*(t*4%512 < 256))+t/400","t","t*(t >> 10^t)","t&128","t&t>>8","((t%255+t%128+t%64+t%32+t%16+t%127.8+t%64.8+t%32.8+t%16.8)/3)","((t%64+t%63.8+t%64.15+t%64.35+t%63.5)/1.25)","(t&(t>>7)-t)","(sin(t*PI/128)*127+127)","((t^t/2+t+64*(sin((t*PI/64)+(t*PI/32768))+64))%128*2)","((t^t/2+t+64*(cos >> 0))%127.85*2)","((t^t/2+t+64)%128*2)","(((t * .25)^(t * .25)/100+(t * .25))%128)*2","((t^t/2+t+64)%7 * 24)"],{n:bt=0}=r,Nt=et$2(r),{byteBeatExpression:Na=qe[bt%qe.length],byteBeatStartTime:ld}=r,fd=x$3();let{duration:hd}=r;const[dd,gd,yd,_d]=Q$5([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),Ad=e+hd,xd=Ad+_d+.01;let Cd=I$3(fd,"byte-beat-processor",{frequency:Nt,begin:e,end:xd},{outputChannelCount:[2]});Cd.port.postMessage({codeText:Na,byteBeatStartTime:ld,frequency:Nt});let Dd=C$4(1);Dd=Cd.connect(Dd),k$4(Dd.gain,dd,gd,yd,_d,0,1,e,Ad,"linear");let Td=rt$2(fd,()=>{it$2(Cd),Dd.disconnect(),o()},e,xd);return{node:Dd,stop:Bd=>{Td.stop(Bd)}}},{prebake:!0,type:"synth"}),j$3("pulse",(e,r,o)=>{const qe=x$3();let{pwrate:bt,pwsweep:Nt}=r;Nt==null&&(bt!=null?Nt=.3:Nt=0),bt==null&&Nt!=null&&(bt=1);let{duration:Na,pw:ld=.5}=r;const fd=et$2(r),[hd,dd,gd,yd]=Q$5([r.attack,r.decay,r.sustain,r.release],"linear",[.001,.05,.6,.01]),_d=e+Na,Ad=_d+yd+.01;let xd=I$3(qe,"pulse-oscillator",{frequency:fd,begin:e,end:Ad,pulsewidth:ld},{outputChannelCount:[2]});ht$1(xd.parameters.get("detune"),r,e,_d);const Cd=pt$1(xd.parameters.get("detune"),r,e),Dd=Kt$1(xd.parameters.get("frequency"),r,e);let Td=C$4(1);Td=xd.connect(Td),k$4(Td.gain,hd,dd,gd,yd,0,1,e,_d,"linear");let Bd;Nt!=0&&(Bd=Tt$1(qe,e,Ad,{frequency:bt,depth:Nt}),Bd.connect(xd.parameters.get("pulsewidth")));let Md=rt$2(qe,()=>{it$2(xd),it$2(Bd),Td.disconnect(),o(),Dd?.stop(),Cd?.stop()},e,Ad);return{node:Td,stop:Ed=>{Md.stop(Ed)}}},{prebake:!0,type:"synth"}),[...Ke$2].forEach(e=>{j$3(e,(r,o,qe)=>{const[bt,Nt,Na,ld]=Q$5([o.attack,o.decay,o.sustain,o.release],"linear",[.001,.05,.6,.01]);let fd,{density:hd}=o;fd=Jt(e,r,hd);let{node:dd,stop:gd,triggerRelease:yd}=fd;const _d=C$4(.3),{duration:Ad}=o;dd.onended=()=>{dd.disconnect(),_d.disconnect(),qe()};const xd=C$4(1);let Cd=dd.connect(_d).connect(xd);const Dd=r+Ad;k$4(Cd.gain,bt,Nt,Na,ld,0,1,r,Dd,"linear");const Td=Dd+ld+.01;return yd?.(Td),gd(Td),{node:Cd,stop:Bd=>{gd(Bd)}}},{type:"synth",prebake:!0})}),Wo$1.forEach(([e,r])=>B$2.set({...B$2.get(),[e]:B$2.get()[r]}))}function Mo$1(e,r){const o=new Float32Array(e+1),qe=new Float32Array(e+1),bt=x$3(),Nt=bt.createOscillator(),Na={sawtooth:hd=>[0,-1/hd],square:hd=>[0,hd%2===0?0:1/hd],triangle:hd=>[hd%2===0?0:1/(hd*hd),0]};if(!Na[r])throw new Error(`unknown wave type ${r}`);o[0]=0,qe[0]=0;let ld=1;for(;ld<=e;){const[hd,dd]=Na[r](ld);o[ld]=hd,qe[ld]=dd,ld++}const fd=bt.createPeriodicWave(o,qe);return Nt.setPeriodicWave(fd),Nt}function xo$1(e,r,o){let{n:qe,duration:bt,noise:Nt=0}=o,Na;!qe||e==="sine"?(Na=x$3().createOscillator(),Na.type=e||"triangle"):Na=Mo$1(qe,e),Na.frequency.value=et$2(o),Na.start(r);let ld=pt$1(Na.detune,o,r);ht$1(Na.detune,o,r,r+bt);const fd=Kt$1(Na.frequency,o,r);let hd;return Nt&&(hd=Sn$1(Na,Nt,r)),{node:hd?.node||Na,stop:dd=>{fd.stop(dd),ld?.stop(dd),hd?.stop(dd),Na.stop(dd)},triggerRelease:dd=>{}}}function go$1(e=1,r=.05,o=220,qe=0,bt=0,Nt=.1,Na=0,ld=1,fd=0,hd=0,dd=0,gd=0,yd=0,_d=0,Ad=0,xd=0,Cd=0,Dd=1,Td=0,Bd=0){let Md=Math.PI*2,Ed=x$3().sampleRate,Gd=t0=>t0>0?1:-1,Qd=fd*=500*Md/Ed/Ed,zd=o*=(1+r*2*Math.random()-r)*Md/Ed,nm=[],qd=0,dm=0,im=0,sm=1,mm=0,Mm=0,Om=0,km,vm;for(qe=qe*Ed+9,Td*=Ed,bt*=Ed,Nt*=Ed,Cd*=Ed,hd*=500*Md/Ed**3,Ad*=Md/Ed,dd*=Md/Ed,gd*=Ed,yd=yd*Ed|0,vm=qe+Td+bt+Nt+Cd|0;im<vm;nm[im++]=Om)++Mm%(xd*100|0)||(Om=Na?Na>1?Na>2?Na>3?Math.sin((qd%Md)**3):Math.max(Math.min(Math.tan(qd),1),-1):1-(2*qd/Md%2+2)%2:1-4*Math.abs(Math.round(qd/Md)-qd/Md):Math.sin(qd),Om=(yd?1-Bd+Bd*Math.sin(Md*im/yd):1)*Gd(Om)*Math.abs(Om)**ld*e*1*(im<qe?im/qe:im<qe+Td?1-(im-qe)/Td*(1-Dd):im<qe+Td+bt?Dd:im<vm-Cd?(vm-im-Cd)/Nt*Dd:0),Om=Cd?Om/2+(Cd>im?0:(im<vm-Cd?1:(vm-im)/Cd)*nm[im-Cd|0]/2):Om),km=(o+=fd+=hd)*Math.cos(Ad*dm++),qd+=km-km*_d*(1-(Math.sin(im)+1)*1e9%2),sm&&++sm>gd&&(o+=dd,zd+=dd,sm=0),yd&&!(++mm%yd)&&(o=zd,fd=Qd,sm||=1);return nm}const Lo$1=(e,r)=>{let{s:o,note:qe=36,freq:bt,zrand:Nt=0,attack:Na=0,decay:ld=0,sustain:fd=.8,release:hd=.1,curve:dd=1,slide:gd=0,deltaSlide:yd=0,pitchJump:_d=0,pitchJumpTime:Ad=0,lfo:xd=0,znoise:Cd=0,zmod:Dd=0,zcrush:Td=0,zdelay:Bd=0,tremolo:Md=0,duration:Ed=.2,zzfx:Gd}=e;const Qd=Math.max(Ed-Na-ld,0);typeof qe=="string"&&(qe=zt$1(qe)),!bt&&typeof qe=="number"&&(bt=Me$1(qe)),o=o.replace("z_","");const zd=["sine","triangle","sawtooth","tan","noise"].indexOf(o)||0;dd=o==="square"?0:dd;const nm=go$1(...Gd||[.25,Nt,bt,Na,Qd,hd,zd,dd,gd,yd,_d,Ad,xd,Cd,Dd,Td,Bd,fd,ld,Md]),qd=x$3(),dm=qd.createBuffer(1,nm.length,qd.sampleRate);dm.getChannelData(0).set(nm);const im=x$3().createBufferSource();return im.buffer=dm,im.start(r),{node:im}};function nc$1(){["zzfx","z_sine","z_sawtooth","z_triangle","z_square","z_tan","z_noise"].forEach(e=>{j$3(e,(r,o,qe)=>{const{node:bt}=Lo$1({s:e,...o},r);return bt.onended=()=>{bt.disconnect(),qe()},{node:bt,stop:()=>{}}},{type:"synth",prebake:!0})})}let ct$2;async function Ko$1(e,r){const o=`dsp-worklet-${Date.now()}`,qe=`${r}
let __q = []; // trigger queue
class MyProcessor extends AudioWorkletProcessor {
  constructor() {
    super();
    this.t = 0;
    this.stopped = false;
    this.port.onmessage = (e) => {
      if(e.data==='stop') {
        this.stopped = true;
      } else if(e.data?.dough) {
        __q.push(e.data)
      } else {
        msg?.(e.data)
      }
    };
  }
  process(inputs, outputs, parameters) {
    const output = outputs[0];
    if(__q.length) {
      for(let i=0;i<__q.length;++i) {
        const deadline = __q[i].time-currentTime;
        if(deadline<=0) {
          trigger(__q[i].dough)
          __q.splice(i,1)
        }
      }
    }
    for (let i = 0; i < output[0].length; i++) {
      const out = dsp(this.t / sampleRate);
      output.forEach((channel) => {
        channel[i] = out;
      });
      this.t++;
    }
  return !this.stopped;
  }
}
registerProcessor('${o}', MyProcessor);
`,bt=`data:text/javascript;base64,${btoa(qe)}`;await e.audioWorklet.addModule(bt);const Nt=new AudioWorkletNode(e,o);return{node:Nt,stop:()=>Nt.port.postMessage("stop")}}const Ue$2=()=>{ct$2&&(ct$2?.stop(),ct$2?.node?.disconnect())};typeof window<"u"&&window.addEventListener("message",e=>{e.data==="strudel-stop"?Ue$2():e.data?.dough&&ct$2?.node.port.postMessage(e.data)});const oc$1=async e=>{const r=x$3();Ue$2(),ct$2=await Ko$1(r,e),ct$2.node.connect(r.destination)};function cc$1(e,r,o,qe){window.postMessage({time:qe,dough:e.value,currentTime:r,duration:e.duration,cps:o})}const Ge$1=Object.freeze({NONE:0,ASYM:1,MIRROR:2,BENDP:3,BENDM:4,BENDMP:5,SYNC:6,QUANT:7,FOLD:8,PWM:9,ORBIT:10,SPIN:11,CHAOS:12,PRIMES:13,BINARY:14,BROWNIAN:15,RECIPROCAL:16,WORMHOLE:17,LOGISTIC:18,SIGMOID:19,FRACTAL:20,FLIP:21}),Ve$2=new Set;async function zo$1(e,r,o=2048){const qe=`${e},${o}`;if(!Ve$2.has(qe)){const bt=(await No$1(e,r)).getChannelData(0),Nt=bt.length,Na=Math.max(1,Math.floor(Nt/o)),ld=new Array(Na);for(let fd=0;fd<Na;fd++){const hd=fd*o;ld[fd]=bt.subarray(hd,hd+o)}return Ve$2.add(qe),{frames:ld,frameLen:o,numFrames:Na,key:qe}}return{frameLen:o,key:qe}}function To$1(e,r){var o=1024;if(e<o)return e+" B";var qe=["KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"],bt=-1;do e/=o,++bt;while(e>=o);return e.toFixed(1)+" "+qe[bt]}function Ro$1(e){const r=new DataView(e);let o=12;for(;o+8<=r.byteLength;){const qe=String.fromCharCode(r.getUint8(o),r.getUint8(o+1),r.getUint8(o+2),r.getUint8(o+3)),bt=r.getUint32(o+4,!0);if(qe==="fmt ")return r.getUint32(o+12,!0);o+=8+bt+(bt&1)}return null}async function So$1(e){const r=Ro$1(e)||44100;return await new OfflineAudioContext(1,1,r).decodeAudioData(e)}const Qt$1={},No$1=(e,r)=>{if(e=e.replace("#","%23"),!Qt$1[e]){N$3(`[wavetable] load table ${r}..`,"load-table",{url:e});const o=Date.now();Qt$1[e]=fetch(e).then(qe=>qe.arrayBuffer()).then(async qe=>{const bt=Date.now()-o,Nt=To$1(qe.byteLength);return N$3(`[wavetable] load table ${r}... done! loaded ${Nt} in ${bt}ms`,"loaded-table",{url:e}),await So$1(qe)})}return Qt$1[e]};function ve$1(e,r=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[o,qe]=e.split("github:");return qe=qe.endsWith("/")?qe.slice(0,-1):qe,qe.split("/").length===2&&(qe+="/main"),`https://raw.githubusercontent.com/${qe}/${r}`}const We$1=(e,r,o,qe={})=>(r=e._base||r,Object.entries(e).forEach(([bt,Nt])=>{if(bt==="_base")return!1;if(typeof Nt=="string"&&(Nt=[Nt]),typeof Nt!="object")throw new Error("wrong json format for "+bt);let Na=r;Na.startsWith("github:")&&(Na=ve$1(Na,"")),Nt=Nt.map(ld=>Na+ld).filter(ld=>ld.toLowerCase().endsWith(".wav")?!0:(N$3(`[wavetable] skipping ${ld} -- wavetables must be ".wav" format`),!1)),Nt.length&&Be$1(bt,Nt,{baseUrl:r,frameLen:o})}));function Be$1(e,r,o){j$3(e,(qe,bt,Nt,Na)=>wo$1(qe,bt,Nt,r,Na,o?.frameLen??2048),{type:"wavetable",tables:r,...o})}const sc$1=async(e,r,o,qe={})=>{if(o!==void 0)return We$1(o,e,r);if(e.startsWith("github:")&&(e=ve$1(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),typeof fetch=="function"&&!(typeof fetch>"u"))return fetch(e).then(bt=>bt.json()).then(bt=>We$1(bt,e,r,qe)).catch(bt=>{throw console.error(bt),new Error(`error loading "${e}"`)})};async function wo$1(e,r,o,qe,bt,Nt){const{s:Na,n:ld=0,duration:fd,clip:hd}=r,dd=x$3(),[gd,yd,_d,Ad]=Q$5([r.attack,r.decay,r.sustain,r.release]);let{warpmode:xd}=r;typeof xd=="string"&&(xd=Ge$1[xd.toUpperCase()]??Ge$1.NONE);const Cd=et$2(r),{url:Dd,label:Td}=ge$2(r,qe),Bd=await zo$1(Dd,Td,Nt);let Md=e+fd;hd!==void 0&&(Md=Math.min(e+hd*fd,Md));const Ed=Md+Ad,Gd=Ed+.01,Qd=I$3(dd,"wavetable-oscillator-processor",{begin:e,end:Gd,frequency:Cd,freqspread:r.detune,position:r.wt,warp:r.warp,warpMode:xd,voices:Math.max(r.unison??1,1),panspread:r.spread,phaserand:r.wtphaserand??r.unison>1?1:0},{outputChannelCount:[2]});if(Qd.port.postMessage({type:"table",payload:Bd}),dd.currentTime>e){N$3(`[wavetable] still loading sound "${Na}:${ld}"`,"highlight");return}const zd=[r.wtattack,r.wtdecay,r.wtsustain,r.wtrelease],nm=[r.warpattack,r.warpdecay,r.warpsustain,r.warprelease],qd=Qd.parameters,dm=qd.get("position"),im=qd.get("warp");let sm=r.wtrate;r.wtsync!=null&&(sm=bt*r.wtsync);const mm=be$2(dd,dm,e,Ed,{offset:r.wt,amount:r.wtenv,defaultAmount:.5,values:zd,holdEnd:Md,defaultValues:[0,.5,0,.1]},{frequency:sm,depth:r.wtdepth,defaultDepth:.5,shape:r.wtshape,skew:r.wtskew,dcoffset:r.wtdc??0});let Mm=r.warprate;r.warpsync!=null&&(Mm=Mm=bt*r.warpsync);const Om=be$2(dd,im,e,Ed,{offset:r.warp,amount:r.warpenv,defaultAmount:.5,values:nm,holdEnd:Md,defaultValues:[0,.5,0,.1]},{frequency:Mm,depth:r.warpdepth,defaultDepth:.5,shape:r.warpshape,skew:r.warpskew,dcoffset:r.warpdc??0}),km=pt$1(Qd.parameters.get("detune"),r,e),vm=Kt$1(Qd.parameters.get("frequency"),r,e),t0=dd.createGain(),Cm=Qd.connect(t0);k$4(Cm.gain,gd,yd,_d,Ad,0,.3,e,Md,"linear"),ht$1(Qd.parameters.get("detune"),r,e,Md);const Zm={node:Cm,source:Qd},cm=rt$2(dd,()=>{it$2(Qd),km?.stop(),vm?.stop(),Cm.disconnect(),mm?.disconnect(),Om?.disconnect(),o()},e,Gd);return Zm.stop=Xm=>{cm.stop(Xm)},Zm}typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const C_ZERO=BigInt(0),C_ONE=BigInt(1),C_TWO=BigInt(2),C_FIVE=BigInt(5),C_TEN=BigInt(10),MAX_CYCLE_LEN=2e3,P$1={s:C_ONE,n:C_ZERO,d:C_ONE};function assign(e,r){try{e=BigInt(e)}catch{throw InvalidParameter()}return e*r}function trunc(e){return typeof e=="bigint"?e:Math.floor(e)}function newFraction(e,r){if(r===C_ZERO)throw DivisionByZero();const o=Object.create(Fraction.prototype);o.s=e<C_ZERO?-C_ONE:C_ONE,e=e<C_ZERO?-e:e;const qe=gcd(e,r);return o.n=e/qe,o.d=r/qe,o}function factorize(e){const r={};let o=e,qe=C_TWO,bt=C_FIVE-C_ONE;for(;bt<=o;){for(;o%qe===C_ZERO;)o/=qe,r[qe]=(r[qe]||C_ZERO)+C_ONE;bt+=C_ONE+C_TWO*qe++}return o!==e?o>1&&(r[o]=(r[o]||C_ZERO)+C_ONE):r[e]=(r[e]||C_ZERO)+C_ONE,r}const parse$b=function(e,r){let o=C_ZERO,qe=C_ONE,bt=C_ONE;if(e!=null)if(r!==void 0){if(typeof e=="bigint")o=e;else{if(isNaN(e))throw InvalidParameter();if(e%1!==0)throw NonIntegerParameter();o=BigInt(e)}if(typeof r=="bigint")qe=r;else{if(isNaN(r))throw InvalidParameter();if(r%1!==0)throw NonIntegerParameter();qe=BigInt(r)}bt=o*qe}else if(typeof e=="object"){if("d"in e&&"n"in e)o=BigInt(e.n),qe=BigInt(e.d),"s"in e&&(o*=BigInt(e.s));else if(0 in e)o=BigInt(e[0]),1 in e&&(qe=BigInt(e[1]));else if(typeof e=="bigint")o=e;else throw InvalidParameter();bt=o*qe}else if(typeof e=="number"){if(isNaN(e))throw InvalidParameter();if(e<0&&(bt=-C_ONE,e=-e),e%1===0)o=BigInt(e);else if(e>0){let Nt=1,Na=0,ld=1,fd=1,hd=1,dd=1e7;for(e>=1&&(Nt=10**Math.floor(1+Math.log10(e)),e/=Nt);ld<=dd&&hd<=dd;){let gd=(Na+fd)/(ld+hd);if(e===gd){ld+hd<=dd?(o=Na+fd,qe=ld+hd):hd>ld?(o=fd,qe=hd):(o=Na,qe=ld);break}else e>gd?(Na+=fd,ld+=hd):(fd+=Na,hd+=ld),ld>dd?(o=fd,qe=hd):(o=Na,qe=ld)}o=BigInt(o)*BigInt(Nt),qe=BigInt(qe)}}else if(typeof e=="string"){let Nt=0,Na=C_ZERO,ld=C_ZERO,fd=C_ZERO,hd=C_ONE,dd=C_ONE,gd=e.replace(/_/g,"").match(/\d+|./g);if(gd===null)throw InvalidParameter();if(gd[Nt]==="-"?(bt=-C_ONE,Nt++):gd[Nt]==="+"&&Nt++,gd.length===Nt+1?ld=assign(gd[Nt++],bt):gd[Nt+1]==="."||gd[Nt]==="."?(gd[Nt]!=="."&&(Na=assign(gd[Nt++],bt)),Nt++,(Nt+1===gd.length||gd[Nt+1]==="("&&gd[Nt+3]===")"||gd[Nt+1]==="'"&&gd[Nt+3]==="'")&&(ld=assign(gd[Nt],bt),hd=C_TEN**BigInt(gd[Nt].length),Nt++),(gd[Nt]==="("&&gd[Nt+2]===")"||gd[Nt]==="'"&&gd[Nt+2]==="'")&&(fd=assign(gd[Nt+1],bt),dd=C_TEN**BigInt(gd[Nt+1].length)-C_ONE,Nt+=3)):gd[Nt+1]==="/"||gd[Nt+1]===":"?(ld=assign(gd[Nt],bt),hd=assign(gd[Nt+2],C_ONE),Nt+=3):gd[Nt+3]==="/"&&gd[Nt+1]===" "&&(Na=assign(gd[Nt],bt),ld=assign(gd[Nt+2],bt),hd=assign(gd[Nt+4],C_ONE),Nt+=5),gd.length<=Nt)qe=hd*dd,bt=o=fd+qe*Na+dd*ld;else throw InvalidParameter()}else if(typeof e=="bigint")o=e,bt=e,qe=C_ONE;else throw InvalidParameter();if(qe===C_ZERO)throw DivisionByZero();P$1.s=bt<C_ZERO?-C_ONE:C_ONE,P$1.n=o<C_ZERO?-o:o,P$1.d=qe<C_ZERO?-qe:qe};function modpow(e,r,o){let qe=C_ONE;for(;r>C_ZERO;e=e*e%o,r>>=C_ONE)r&C_ONE&&(qe=qe*e%o);return qe}function cycleLen(e,r){for(;r%C_TWO===C_ZERO;r/=C_TWO);for(;r%C_FIVE===C_ZERO;r/=C_FIVE);if(r===C_ONE)return C_ZERO;let o=C_TEN%r,qe=1;for(;o!==C_ONE;qe++)if(o=o*C_TEN%r,qe>MAX_CYCLE_LEN)return C_ZERO;return BigInt(qe)}function cycleStart(e,r,o){let qe=C_ONE,bt=modpow(C_TEN,o,r);for(let Nt=0;Nt<300;Nt++){if(qe===bt)return BigInt(Nt);qe=qe*C_TEN%r,bt=bt*C_TEN%r}return 0}function gcd(e,r){if(!e)return r;if(!r)return e;for(;;){if(e%=r,!e)return r;if(r%=e,!r)return e}}function Fraction(e,r){if(parse$b(e,r),this instanceof Fraction)e=gcd(P$1.d,P$1.n),this.s=P$1.s,this.n=P$1.n/e,this.d=P$1.d/e;else return newFraction(P$1.s*P$1.n,P$1.d)}var DivisionByZero=function(){return new Error("Division by Zero")},InvalidParameter=function(){return new Error("Invalid argument")},NonIntegerParameter=function(){return new Error("Parameters must be integer")};Fraction.prototype={s:C_ONE,n:C_ZERO,d:C_ONE,abs:function(){return newFraction(this.n,this.d)},neg:function(){return newFraction(-this.s*this.n,this.d)},add:function(e,r){return parse$b(e,r),newFraction(this.s*this.n*P$1.d+P$1.s*this.d*P$1.n,this.d*P$1.d)},sub:function(e,r){return parse$b(e,r),newFraction(this.s*this.n*P$1.d-P$1.s*this.d*P$1.n,this.d*P$1.d)},mul:function(e,r){return parse$b(e,r),newFraction(this.s*P$1.s*this.n*P$1.n,this.d*P$1.d)},div:function(e,r){return parse$b(e,r),newFraction(this.s*P$1.s*this.n*P$1.d,this.d*P$1.n)},clone:function(){return newFraction(this.s*this.n,this.d)},mod:function(e,r){if(e===void 0)return newFraction(this.s*this.n%this.d,C_ONE);if(parse$b(e,r),C_ZERO===P$1.n*this.d)throw DivisionByZero();return newFraction(this.s*(P$1.d*this.n)%(P$1.n*this.d),P$1.d*this.d)},gcd:function(e,r){return parse$b(e,r),newFraction(gcd(P$1.n,this.n)*gcd(P$1.d,this.d),P$1.d*this.d)},lcm:function(e,r){return parse$b(e,r),P$1.n===C_ZERO&&this.n===C_ZERO?newFraction(C_ZERO,C_ONE):newFraction(P$1.n*this.n,gcd(P$1.n,this.n)*gcd(P$1.d,this.d))},inverse:function(){return newFraction(this.s*this.d,this.n)},pow:function(e,r){if(parse$b(e,r),P$1.d===C_ONE)return P$1.s<C_ZERO?newFraction((this.s*this.d)**P$1.n,this.n**P$1.n):newFraction((this.s*this.n)**P$1.n,this.d**P$1.n);if(this.s<C_ZERO)return null;let o=factorize(this.n),qe=factorize(this.d),bt=C_ONE,Nt=C_ONE;for(let Na in o)if(Na!=="1"){if(Na==="0"){bt=C_ZERO;break}if(o[Na]*=P$1.n,o[Na]%P$1.d===C_ZERO)o[Na]/=P$1.d;else return null;bt*=BigInt(Na)**o[Na]}for(let Na in qe)if(Na!=="1"){if(qe[Na]*=P$1.n,qe[Na]%P$1.d===C_ZERO)qe[Na]/=P$1.d;else return null;Nt*=BigInt(Na)**qe[Na]}return P$1.s<C_ZERO?newFraction(Nt,bt):newFraction(bt,Nt)},log:function(e,r){if(parse$b(e,r),this.s<=C_ZERO||P$1.s<=C_ZERO)return null;const o={},qe=factorize(P$1.n),bt=factorize(P$1.d),Nt=factorize(this.n),Na=factorize(this.d);for(const hd in bt)qe[hd]=(qe[hd]||C_ZERO)-bt[hd];for(const hd in Na)Nt[hd]=(Nt[hd]||C_ZERO)-Na[hd];for(const hd in qe)hd!=="1"&&(o[hd]=!0);for(const hd in Nt)hd!=="1"&&(o[hd]=!0);let ld=null,fd=null;for(const hd in o){const dd=qe[hd]||C_ZERO,gd=Nt[hd]||C_ZERO;if(dd===C_ZERO){if(gd!==C_ZERO)return null;continue}let yd=gd,_d=dd;const Ad=gcd(yd,_d);if(yd/=Ad,_d/=Ad,ld===null&&fd===null)ld=yd,fd=_d;else if(yd*fd!==ld*_d)return null}return ld!==null&&fd!==null?newFraction(ld,fd):null},equals:function(e,r){return parse$b(e,r),this.s*this.n*P$1.d===P$1.s*P$1.n*this.d},lt:function(e,r){return parse$b(e,r),this.s*this.n*P$1.d<P$1.s*P$1.n*this.d},lte:function(e,r){return parse$b(e,r),this.s*this.n*P$1.d<=P$1.s*P$1.n*this.d},gt:function(e,r){return parse$b(e,r),this.s*this.n*P$1.d>P$1.s*P$1.n*this.d},gte:function(e,r){return parse$b(e,r),this.s*this.n*P$1.d>=P$1.s*P$1.n*this.d},compare:function(e,r){parse$b(e,r);let o=this.s*this.n*P$1.d-P$1.s*P$1.n*this.d;return(C_ZERO<o)-(o<C_ZERO)},ceil:function(e){return e=C_TEN**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)+(e*this.n%this.d>C_ZERO&&this.s>=C_ZERO?C_ONE:C_ZERO),e)},floor:function(e){return e=C_TEN**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)-(e*this.n%this.d>C_ZERO&&this.s<C_ZERO?C_ONE:C_ZERO),e)},round:function(e){return e=C_TEN**BigInt(e||0),newFraction(trunc(this.s*e*this.n/this.d)+this.s*((this.s>=C_ZERO?C_ONE:C_ZERO)+C_TWO*(e*this.n%this.d)>this.d?C_ONE:C_ZERO),e)},roundTo:function(e,r){parse$b(e,r);const o=this.n*P$1.d,qe=this.d*P$1.n,bt=o%qe;let Nt=trunc(o/qe);return bt+bt>=qe&&Nt++,newFraction(this.s*Nt*P$1.n,P$1.d)},divisible:function(e,r){return parse$b(e,r),!(!(P$1.n*this.d)||this.n*P$1.d%(P$1.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let r=this.n,o=this.d;e=e||15;let qe=cycleLen(r,o),bt=cycleStart(r,o,qe),Nt=this.s<C_ZERO?"-":"";if(Nt+=trunc(r/o),r%=o,r*=C_TEN,r&&(Nt+="."),qe){for(let Na=bt;Na--;)Nt+=trunc(r/o),r%=o,r*=C_TEN;Nt+="(";for(let Na=qe;Na--;)Nt+=trunc(r/o),r%=o,r*=C_TEN;Nt+=")"}else for(let Na=e;r&&Na--;)Nt+=trunc(r/o),r%=o,r*=C_TEN;return Nt},toFraction:function(e){let r=this.n,o=this.d,qe=this.s<C_ZERO?"-":"";if(o===C_ONE)qe+=r;else{let bt=trunc(r/o);e&&bt>C_ZERO&&(qe+=bt,qe+=" ",r%=o),qe+=r,qe+="/",qe+=o}return qe},toLatex:function(e){let r=this.n,o=this.d,qe=this.s<C_ZERO?"-":"";if(o===C_ONE)qe+=r;else{let bt=trunc(r/o);e&&bt>C_ZERO&&(qe+=bt,r%=o),qe+="\\frac{",qe+=r,qe+="}{",qe+=o,qe+="}"}return qe},toContinued:function(){let e=this.n,r=this.d,o=[];do{o.push(trunc(e/r));let qe=e%r;e=r,r=qe}while(e!==C_ONE);return o},simplify:function(e){const r=BigInt(1/(e||.001)|0),o=this.abs(),qe=o.toContinued();for(let bt=1;bt<qe.length;bt++){let Nt=newFraction(qe[bt-1],C_ONE);for(let ld=bt-2;ld>=0;ld--)Nt=Nt.inverse().add(qe[ld]);let Na=Nt.sub(o);if(Na.n*r<Na.d)return Nt.mul(this.s)}return this}};const Dt="strudel.log";let Oe=1e3,Wt,$t;function Gt(e,r="cyclist"){process.env.NODE_ENV==="development"&&console.error(e),E$1(`[${r}] error: ${e.message}`)}function E$1(e,r,o={}){let qe=performance.now();Wt===e&&qe-$t<Oe||(Wt=e,$t=qe,console.log(`%c${e}`,"background-color: black;color:white;border-radius:15px"),typeof document<"u"&&typeof CustomEvent<"u"&&document.dispatchEvent(new CustomEvent(Dt,{detail:{message:e,type:r,data:o}})))}E$1.key=Dt;const $a=e=>/^[a-gA-G][#bs]*[0-9]$/.test(e),qt=e=>/^[a-gA-G][#bsf]*-?[0-9]?$/.test(e),ze=e=>{if(typeof e!="string")return[];const[r,o="",qe]=e.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/)?.slice(1)||[];return r?[r,o,qe?Number(qe):void 0]:[]},Ee={c:0,d:2,e:4,f:5,g:7,a:9,b:11},Me={"#":1,b:-1,s:1,f:-1},pt=(e,r=3)=>{const[o,qe,bt=r]=ze(e);if(!o)throw new Error('not a note: "'+e+'"');const Nt=Ee[o.toLowerCase()],Na=qe?.split("").reduce((ld,fd)=>ld+Me[fd],0)||0;return(Number(bt)+1)*12+Nt+Na},nt$1=e=>Math.pow(2,(e-69)/12)*440,Pe=e=>12*Math.log(e/440)/Math.LN2+69,Ra=(e,r)=>{if(typeof e!="object")throw new Error("valueToMidi: expected object value");let{freq:o,note:qe}=e;if(typeof o=="number")return Pe(o);if(typeof qe=="string")return pt(qe);if(typeof qe=="number")return qe;if(!r)throw new Error("valueToMidi: expected freq or note to be set");return r},La=(e,r)=>(e-r)*1e3,Je=e=>nt$1(typeof e=="number"?e:pt(e)),je$1=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Ia=e=>{const r=Math.floor(e/12)-1;return je$1[e%12]+r},ft$1=(e,r)=>(e%r+r)%r,Ne=e=>e.reduce((r,o)=>r+o)/e.length;function We(e,r=0){return isNaN(Number(e))?(E$1(`"${e}" is not a number, falling back to ${r}`,"warning"),r):e}const Ha=(e,r)=>ft$1(Math.round(We(e??0,0)),r),Va=e=>{let{value:r,context:o}=e,qe=r;if(typeof qe=="object"&&!Array.isArray(qe)&&(qe=qe.note||qe.n||qe.value,qe===void 0))throw new Error(`cannot find a playable note for ${JSON.stringify(r)}`);if(typeof qe=="number"&&o.type!=="frequency")qe=nt$1(e.value);else if(typeof qe=="number"&&o.type==="frequency")qe=e.value;else if(typeof qe!="string"||!qt(qe))throw new Error("not a note: "+JSON.stringify(qe));return qe},Fa=e=>{let{value:r,context:o}=e;if(typeof r=="object")return r.freq?r.freq:Je(r.note||r.n||r.value);if(typeof r=="number"&&o.type!=="frequency")r=nt$1(e.value);else if(typeof r=="string"&&qt(r))r=nt$1(pt(e.value));else if(typeof r!="number")throw new Error("not a note or frequency: "+r);return r},$e$1=(e,r)=>e.slice(r).concat(e.slice(0,r)),Re=(...e)=>e.reduce((r,o)=>(...qe)=>r(o(...qe)),r=>r),Da=(...e)=>Re(...e.reverse()),it$1=e=>e.filter(r=>r!=null),D$2=e=>[].concat(...e),et$1=e=>e,Ga=(e,r)=>e,ht=(e,r)=>Array.from({length:r-e+1},(o,qe)=>qe+e);function w$2(e,r,o=e.length){const qe=function bt(...Nt){if(Nt.length>=o)return e.apply(this,Nt);{const Na=function(...ld){return bt.apply(this,Nt.concat(ld))};return r&&r(Na,Nt),Na}};return r&&r(qe,[]),qe}function Qt(e){const r=Number(e);if(!isNaN(r))return r;if(qt(e))return pt(e);throw new Error(`cannot parse as numeral: "${e}"`)}function Ut(e,r){return(...o)=>e(...o.map(r))}function $$2(e){return Ut(e,Qt)}function Le(e){const r=Number(e);if(!isNaN(r))return r;const o={pi:Math.PI,w:1,h:.5,q:.25,e:.125,s:.0625,t:1/3,f:.2,x:1/6}[e];if(typeof o<"u")return o;throw new Error(`cannot parse as fractional: "${e}"`)}const Qa=e=>Ut(e,Le),Kt=function(e,r){return[r.slice(0,e),r.slice(e)]},At=(e,r,o)=>r.map((qe,bt)=>e(qe,o[bt])),Ie=function(e){const r=[];for(let o=0;o<e.length-1;++o)r.push([e[o],e[o+1]]);return r},He=(e,r,o)=>Math.min(Math.max(e,r),o),Ve$1=["Do","Reb","Re","Mib","Mi","Fa","Solb","Sol","Lab","La","Sib","Si"],Fe=["Sa","Re","Ga","Ma","Pa","Dha","Ni"],De$1=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Hb","H"],Ge=["Ni","Pab","Pa","Voub","Vou","Ga","Dib","Di","Keb","Ke","Zob","Zo"],Qe$1=["I","Ro","Ha","Ni","Ho","He","To"],Ue$1=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],Ua=(e,r="letters")=>{const o=(r==="solfeggio"?Ve$1:r==="indian"?Fe:r==="german"?De$1:r==="byzantine"?Ge:r==="japanese"?Qe$1:Ue$1)[e%12],qe=Math.floor(e/12)-1;return o+qe};function Ka(e){var r={};return e.filter(function(o){return r.hasOwn(o)?!1:r[o]=!0})}function Xa(e){return e.sort().filter(function(r,o,qe){return!o||r!=qe[o-1]})}function Ke$1(e){return e.sort((r,o)=>r.compare(o)).filter(function(r,o,qe){return!o||r.ne(qe[o-1])})}function Xe$1(e){const r=new TextEncoder().encode(e);return btoa(String.fromCharCode(...r))}function Ye$1(e){const r=new Uint8Array(atob(e).split("").map(o=>o.charCodeAt(0)));return new TextDecoder().decode(r)}function Ya(e){return encodeURIComponent(Xe$1(e))}function Za(e){return Ye$1(decodeURIComponent(e))}function Ze$1(e,r){return Array.isArray(e)?e.map(r):Object.fromEntries(Object.entries(e).map(([o,qe],bt)=>[o,r(qe,o,bt)]))}function Rt(e,r){return e/r}class tn{constructor({getTargetClockTime:r=en,weight:o=16,offsetDelta:qe=.005,checkAfterTime:bt=2,resetAfterTime:Nt=8}){this.offsetTime,this.timeAtPrevOffsetSample,this.prevOffsetTimes=[],this.getTargetClockTime=r,this.weight=o,this.offsetDelta=qe,this.checkAfterTime=bt,this.resetAfterTime=Nt,this.reset=()=>{this.prevOffsetTimes=[],this.offsetTime=null,this.timeAtPrevOffsetSample=null}}calculateOffset(r){const o=this.getTargetClockTime(),qe=o-this.timeAtPrevOffsetSample,bt=o-r;if(qe>this.resetAfterTime&&this.reset(),this.offsetTime==null&&(this.offsetTime=bt),this.prevOffsetTimes.push(bt),this.prevOffsetTimes.length>this.weight&&this.prevOffsetTimes.shift(),this.timeAtPrevOffsetSample==null||qe>this.checkAfterTime){this.timeAtPrevOffsetSample=o;const Nt=Ne(this.prevOffsetTimes);Math.abs(Nt-this.offsetTime)>this.offsetDelta&&(this.offsetTime=Nt)}return this.offsetTime}calculateTimestamp(r,o){return this.calculateOffset(r)+o}}function tl(){return performance.now()*.001}function en(){return Date.now()*.001}const nn=new Map([["control","Control"],["ctrl","Control"],["alt","Alt"],["shift","Shift"],["down","ArrowDown"],["up","ArrowUp"],["left","ArrowLeft"],["right","ArrowRight"]]);let tt$1;function sn(){if(tt$1==null){if(typeof window>"u")return;tt$1={},window.addEventListener("keydown",e=>{tt$1[e.key]=!0}),window.addEventListener("keyup",e=>{tt$1[e.key]=!1})}return{...tt$1}}function Xt(e,r=!1){return typeof e=="object"?r?JSON.stringify(e).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(e):e}Fraction.prototype.sam=function(){return this.floor()},Fraction.prototype.nextSam=function(){return this.sam().add(1)},Fraction.prototype.wholeCycle=function(){return new x$2(this.sam(),this.nextSam())},Fraction.prototype.cyclePos=function(){return this.sub(this.sam())},Fraction.prototype.lt=function(e){return this.compare(e)<0},Fraction.prototype.gt=function(e){return this.compare(e)>0},Fraction.prototype.lte=function(e){return this.compare(e)<=0},Fraction.prototype.gte=function(e){return this.compare(e)>=0},Fraction.prototype.eq=function(e){return this.compare(e)==0},Fraction.prototype.ne=function(e){return this.compare(e)!=0},Fraction.prototype.max=function(e){return this.gt(e)?this:e},Fraction.prototype.maximum=function(...e){return e=e.map(r=>new Fraction(r)),e.reduce((r,o)=>o.max(r),this)},Fraction.prototype.min=function(e){return this.lt(e)?this:e},Fraction.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},Fraction.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},Fraction.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},Fraction.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},Fraction.prototype.show=function(){return this.s*this.n+"/"+this.d},Fraction.prototype.or=function(e){return this.eq(0)?e:this};const h=e=>Fraction(e),rn=(...e)=>{if(e=it$1(e),e.length!==0)return e.reduce((r,o)=>r.gcd(o),h(1))},U$3=(...e)=>{if(e=it$1(e),e.length===0)return;const r=e.pop();return e.reduce((o,qe)=>o===void 0||qe===void 0?void 0:o.lcm(qe),r)},on=e=>e instanceof Fraction;h._original=Fraction;let x$2=class zg{constructor(r,o){this.begin=h(r),this.end=h(o)}get spanCycles(){const r=[];var o=this.begin;const qe=this.end,bt=qe.sam();if(o.equals(qe))return[new zg(o,qe)];for(;qe.gt(o);){if(o.sam().equals(bt)){r.push(new zg(o,this.end));break}const Nt=o.nextSam();r.push(new zg(o,Nt)),o=Nt}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),o=r.add(this.duration);return new zg(r,o)}withTime(r){return new zg(r(this.begin),r(this.end))}withEnd(r){return new zg(this.begin,r(this.end))}withCycle(r){const o=this.begin.sam(),qe=o.add(r(this.begin.sub(o))),bt=o.add(r(this.end.sub(o)));return new zg(qe,bt)}intersection(r){const o=this.begin.max(r.begin),qe=this.end.min(r.end);if(!o.gt(qe)&&!(o.equals(qe)&&(o.equals(this.end)&&this.begin.lt(this.end)||o.equals(r.end)&&r.begin.lt(r.end))))return new zg(o,qe)}intersection_e(r){const o=this.intersection(r);if(o==null)throw"TimeSpans do not intersect";return o}midpoint(){return this.begin.add(this.duration.div(h(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" â†’ "+this.end.show()}},C$3=class iy{constructor(r,o,qe,bt={},Nt=!1){this.whole=r,this.part=o,this.value=qe,this.context=bt,this.stateful=Nt,Nt&&console.assert(typeof this.value=="function","Stateful values must be functions")}get duration(){let r;return typeof this.value?.duration=="number"?r=h(this.value.duration):r=this.whole.end.sub(this.whole.begin),typeof this.value?.clip=="number"?r.mul(this.value.clip):r}get endClipped(){return this.whole.begin.add(this.duration)}isActive(r){return this.whole.begin<=r&&this.endClipped>=r}isInPast(r){return r>this.endClipped}isInNearPast(r,o){return o-r<=this.endClipped}isInFuture(r){return r<this.whole.begin}isInNearFuture(r,o){return o<this.whole.begin&&o>this.whole.begin-r}isWithinTime(r,o){return this.whole.begin<=o&&this.endClipped>=r}wholeOrPart(){return this.whole?this.whole:this.part}withSpan(r){const o=this.whole?r(this.whole):void 0;return new iy(o,r(this.part),this.value,this.context)}withValue(r){return new iy(this.whole,this.part,r(this.value),this.context)}hasOnset(){return this.whole!=null&&this.whole.begin.equals(this.part.begin)}hasTag(r){return this.context.tags?.includes(r)}resolveState(r){if(this.stateful&&this.hasOnset()){console.log("stateful");const o=this.value,[qe,bt]=o(r);return[qe,new iy(this.whole,this.part,bt,this.context,!1)]}return[r,this]}spanEquals(r){return this.whole==null&&r.whole==null||this.whole.equals(r.whole)}equals(r){return this.spanEquals(r)&&this.part.equals(r.part)&&this.value===r.value}show(r=!1){const o=typeof this.value=="object"?r?JSON.stringify(this.value).slice(1,-1).replaceAll('"',"").replaceAll(","," "):JSON.stringify(this.value):this.value;var qe="";if(this.whole==null)qe="~"+this.part.show;else{var bt=this.whole.begin.equals(this.part.begin)&&this.whole.end.equals(this.part.end);this.whole.begin.equals(this.part.begin)||(qe=this.whole.begin.show()+" â‡œ "),bt||(qe+="("),qe+=this.part.show(),bt||(qe+=")"),this.whole.end.equals(this.part.end)||(qe+=" â‡ "+this.whole.end.show())}return"[ "+qe+" | "+o+" ]"}showWhole(r=!1){return`${this.whole==null?"~":this.whole.show()}: ${Xt(this.value,r)}`}combineContext(r){const o=this;return{...o.context,...r.context,locations:(o.context.locations||[]).concat(r.context.locations||[])}}setContext(r){return new iy(this.whole,this.part,this.value,r)}ensureObjectValue(){if(typeof this.value!="object")throw new Error(`expected hap.value to be an object, but got "${this.value}". Hint: append .note() or .s() to the end`,"error")}},st$1=class ox{constructor(r,o={}){this.span=r,this.controls=o}setSpan(r){return new ox(r,this.controls)}withSpan(r){return this.setSpan(r(this.span))}setControls(r){return new ox(this.span,{...this.controls,...r})}};function cn(e,r,o){if(r?.value!==void 0&&Object.keys(r).length===1)return E$1("[warn]: Can't do arithmetic on control pattern."),e;const qe=Object.keys(e).filter(bt=>Object.keys(r).includes(bt));return Object.assign({},e,r,Object.fromEntries(qe.map(bt=>[bt,o(e[bt],r[bt])])))}w$2((e,r)=>e*r),w$2((e,r)=>r.map(e));function un(e,r=60){let o=0,qe=h(0),bt=[""],Nt="";for(;bt[0].length<r;){const Na=e.queryArc(o,o+1),ld=Na.filter(dd=>dd.hasOnset()).map(dd=>dd.duration),fd=rn(...ld),hd=fd.inverse();bt=bt.map(dd=>dd+"|"),Nt+="|";for(let dd=0;dd<hd;dd++){const[gd,yd]=[qe,qe.add(fd)],_d=Na.filter(xd=>xd.whole.begin.lte(gd)&&xd.whole.end.gte(yd)),Ad=_d.length-bt.length;Ad>0&&(bt=bt.concat(Array(Ad).fill(Nt))),bt=bt.map((xd,Cd)=>{const Dd=_d[Cd];if(Dd){const Td=Dd.whole.begin.eq(gd)?""+Dd.value:"-";return xd+Td}return xd+"."}),Nt+=".",qe=qe.add(fd)}o++}return bt.join(`
`)}let _t,j$2=!0;const el=function(e){j$2=!!e},nl=e=>_t=e;class f{constructor(r,o=void 0){this.query=r,this._Pattern=!0,this._steps=o}get _steps(){return this.__steps}set _steps(r){this.__steps=r===void 0?void 0:h(r)}setSteps(r){return this._steps=r,this}withSteps(r){return j$2?new f(this.query,this._steps===void 0?void 0:r(this._steps)):this}get hasSteps(){return this._steps!==void 0}withValue(r){const o=new f(qe=>this.query(qe).map(bt=>bt.withValue(r)));return o._steps=this._steps,o}withState(r){return new f(o=>this.query(r(o)))}fmap(r){return this.withValue(r)}appWhole(r,o){const qe=this,bt=function(Nt){const Na=qe.query(Nt),ld=o.query(Nt),fd=function(hd,dd){const gd=hd.part.intersection(dd.part);if(gd!=null)return new C$3(r(hd.whole,dd.whole),gd,hd.value(dd.value),dd.combineContext(hd))};return D$2(Na.map(hd=>it$1(ld.map(dd=>fd(hd,dd)))))};return new f(bt)}appBoth(r){const o=this,qe=function(Nt,Na){if(!(Nt==null||Na==null))return Nt.intersection_e(Na)},bt=o.appWhole(qe,r);return j$2&&(bt._steps=U$3(r._steps,o._steps)),bt}appLeft(r){const o=this,qe=function(Nt){const Na=[];for(const ld of o.query(Nt)){const fd=r.query(Nt.setSpan(ld.wholeOrPart()));for(const hd of fd){const dd=ld.whole,gd=ld.part.intersection(hd.part);if(gd){const yd=ld.value(hd.value),_d=hd.combineContext(ld),Ad=new C$3(dd,gd,yd,_d);Na.push(Ad)}}}return Na},bt=new f(qe);return bt._steps=this._steps,bt}appRight(r){const o=this,qe=function(Nt){const Na=[];for(const ld of r.query(Nt)){const fd=o.query(Nt.setSpan(ld.wholeOrPart()));for(const hd of fd){const dd=ld.whole,gd=hd.part.intersection(ld.part);if(gd){const yd=hd.value(ld.value),_d=ld.combineContext(hd),Ad=new C$3(dd,gd,yd,_d);Na.push(Ad)}}}return Na},bt=new f(qe);return bt._steps=r._steps,bt}bindWhole(r,o){const qe=this,bt=function(Nt){const Na=function(fd,hd){return new C$3(r(fd.whole,hd.whole),hd.part,hd.value,Object.assign({},fd.context,hd.context,{locations:(fd.context.locations||[]).concat(hd.context.locations||[])}))},ld=function(fd){return o(fd.value).query(Nt.setSpan(fd.part)).map(hd=>Na(fd,hd))};return D$2(qe.query(Nt).map(fd=>ld(fd)))};return new f(bt)}bind(r){const o=function(qe,bt){if(!(qe==null||bt==null))return qe.intersection_e(bt)};return this.bindWhole(o,r)}join(){return this.bind(et$1)}outerBind(r){return this.bindWhole(o=>o,r).setSteps(this._steps)}outerJoin(){return this.outerBind(et$1)}innerBind(r){return this.bindWhole((o,qe)=>qe,r)}innerJoin(){return this.innerBind(et$1)}resetJoin(r=!1){const o=this;return new f(qe=>o.discreteOnly().query(qe).map(bt=>bt.value.late(r?bt.whole.begin:bt.whole.begin.cyclePos()).query(qe).map(Nt=>new C$3(Nt.whole?Nt.whole.intersection(bt.whole):void 0,Nt.part.intersection(bt.part),Nt.value).setContext(bt.combineContext(Nt))).filter(Nt=>Nt.part)).flat())}restartJoin(){return this.resetJoin(!0)}squeezeJoin(){const r=this;function o(qe){const bt=r.discreteOnly().query(qe);function Nt(Na){const ld=Na.value._focusSpan(Na.wholeOrPart()).query(qe.setSpan(Na.part));function fd(hd,dd){let gd;if(dd.whole&&hd.whole&&(gd=dd.whole.intersection(hd.whole),!gd))return;const yd=dd.part.intersection(hd.part);if(!yd)return;const _d=dd.combineContext(hd);return new C$3(gd,yd,dd.value,_d)}return ld.map(hd=>fd(Na,hd))}return D$2(bt.map(Nt)).filter(Na=>Na)}return new f(o)}squeezeBind(r){return this.fmap(r).squeezeJoin()}polyJoin=function(){const r=this;return r.fmap(o=>o.extend(r._steps.div(o._steps))).outerJoin()};polyBind(r){return this.fmap(r).polyJoin()}queryArc(r,o,qe={}){try{return this.query(new st$1(new x$2(r,o),qe))}catch(bt){return E$1(`[query]: ${bt.message}`,"error"),[]}}splitQueries(){const r=this,o=qe=>D$2(qe.span.spanCycles.map(bt=>r.query(qe.setSpan(bt))));return new f(o)}withQuerySpan(r){return new f(o=>this.query(o.withSpan(r)))}withQuerySpanMaybe(r){const o=this;return new f(qe=>{const bt=qe.withSpan(r);return bt.span?o.query(bt):[]})}withQueryTime(r){return new f(o=>this.query(o.withSpan(qe=>qe.withTime(r))))}withHapSpan(r){return new f(o=>this.query(o).map(qe=>qe.withSpan(r)))}withHapTime(r){return this.withHapSpan(o=>o.withTime(r))}withHaps(r){const o=new f(qe=>r(this.query(qe),qe));return o._steps=this._steps,o}withHap(r){return this.withHaps(o=>o.map(r))}setContext(r){return this.withHap(o=>o.setContext(r))}withContext(r){const o=this.withHap(qe=>qe.setContext(r(qe.context)));return this.__pure!==void 0&&(o.__pure=this.__pure,o.__pure_loc=this.__pure_loc),o}stripContext(){return this.withHap(r=>r.setContext({}))}withLoc(r,o){const qe={start:r,end:o},bt=this.withContext(Nt=>{const Na=(Nt.locations||[]).concat([qe]);return{...Nt,locations:Na}});return this.__pure&&(bt.__pure=this.__pure,bt.__pure_loc=qe),bt}filterHaps(r){return new f(o=>this.query(o).filter(r))}filterValues(r){return new f(o=>this.query(o).filter(qe=>r(qe.value))).setSteps(this._steps)}removeUndefineds(){return this.filterValues(r=>r!=null)}onsetsOnly(){return this.filterHaps(r=>r.hasOnset())}discreteOnly(){return this.filterHaps(r=>r.whole)}defragmentHaps(){return this.discreteOnly().withHaps(r=>{const o=[];for(var qe=0;qe<r.length;++qe){for(var bt=!0,Nt=r[qe];bt;){const fd=JSON.stringify(r[qe].value);for(var Na=!1,ld=qe+1;ld<r.length;ld++){const hd=r[ld];if(Nt.whole.equals(hd.whole)){if(Nt.part.begin.eq(hd.part.end)){if(fd===JSON.stringify(hd.value)){Nt=new C$3(Nt.whole,new x$2(hd.part.begin,Nt.part.end),Nt.value),r.splice(ld,1),Na=!0;break}}else if(hd.part.begin.eq(Nt.part.end)&&fd==JSON.stringify(hd.value)){Nt=new C$3(Nt.whole,new x$2(Nt.part.begin,hd.part.end),Nt.value),r.splice(ld,1),Na=!0;break}}}bt=Na}o.push(Nt)}return o})}firstCycle(r=!1){var o=this;return r||(o=o.stripContext()),o.query(new st$1(new x$2(h(0),h(1))))}get firstCycleValues(){return this.firstCycle().map(r=>r.value)}get showFirstCycle(){return this.firstCycle().map(r=>`${r.value}: ${r.whole.begin.toFraction()} - ${r.whole.end.toFraction()}`)}sortHapsByPart(){return this.withHaps(r=>r.sort((o,qe)=>o.part.begin.sub(qe.part.begin).or(o.part.end.sub(qe.part.end)).or(o.whole.begin.sub(qe.whole.begin).or(o.whole.end.sub(qe.whole.end)))))}asNumber(){return this.fmap(Qt)}_opIn(r,o){return this.fmap(o).appLeft(d$1(r))}_opOut(r,o){return this.fmap(o).appRight(d$1(r))}_opMix(r,o){return this.fmap(o).appBoth(d$1(r))}_opSqueeze(r,o){const qe=d$1(r);return this.fmap(bt=>qe.fmap(Nt=>o(bt)(Nt))).squeezeJoin()}_opSqueezeOut(r,o){const qe=this;return d$1(r).fmap(bt=>qe.fmap(Nt=>o(Nt)(bt))).squeezeJoin()}_opReset(r,o){return d$1(r).fmap(qe=>this.fmap(bt=>o(bt)(qe))).resetJoin()}_opRestart(r,o){return d$1(r).fmap(qe=>this.fmap(bt=>o(bt)(qe))).restartJoin()}_opPoly(r,o){const qe=d$1(r);return this.fmap(bt=>qe.fmap(Nt=>o(Nt)(bt))).polyJoin()}layer(...r){return B$1(...r.map(o=>o(this)))}superimpose(...r){return this.stack(...r.map(o=>o(this)))}stack(...r){return B$1(this,...r)}sequence(...r){return G$4(this,...r)}seq(...r){return G$4(this,...r)}cat(...r){return at$1(this,...r)}fastcat(...r){return W$3(this,...r)}slowcat(...r){return K$2(this,...r)}onTrigger(r,o=!0){return this.withHap(qe=>qe.setContext({...qe.context,onTrigger:(...bt)=>{qe.context.onTrigger?.(...bt),r(...bt)},dominantTrigger:qe.context.dominantTrigger||o}))}log(r=qe=>`[hap] ${qe.showWhole(!0)}`,o=qe=>({hap:qe})){return this.onTrigger((...qe)=>{E$1(r(...qe),void 0,o(...qe))},!1)}logValues(r=o=>`[hap] ${Xt(o,!0)}`){return this.log(o=>r(o.value))}drawLine(){return console.log(un(this)),this}unjoin(r,o=et$1){return r.withHap(qe=>qe.withValue(bt=>bt?o(this.ribbon(qe.whole.begin,qe.whole.duration)):this))}into(r,o){return this.unjoin(r,o).innerJoin()}}function an(e,r){let o=[];return r.forEach(qe=>{const bt=o.findIndex(([Nt])=>e(qe,Nt));bt===-1?o.push([qe]):o[bt].push(qe)}),o}const ln=(e,r)=>e.spanEquals(r);f.prototype.collect=function(){return this.withHaps(e=>an(ln,e).map(r=>new C$3(r[0].whole,r[0].part,r,{})))};const sl=l("arpWith",(e,r)=>r.collect().fmap(o=>d$1(e(o))).innerJoin().withHap(o=>new C$3(o.whole,o.part,o.value.value,o.combineContext(o.value)))),rl=l("arp",(e,r)=>r.arpWith(o=>d$1(e).fmap(qe=>o[qe%o.length])),!1);function ut(e){return!Array.isArray(e)&&typeof e=="object"&&!on(e)}function pn(e,r,o){return ut(e)||ut(r)?(ut(e)||(e={value:e}),ut(r)||(r={value:r}),cn(e,r,o)):o(e,r)}(function(){const e={set:[(o,qe)=>qe],keep:[o=>o],keepif:[(o,qe)=>qe?o:void 0],add:[$$2((o,qe)=>o+qe)],sub:[$$2((o,qe)=>o-qe)],mul:[$$2((o,qe)=>o*qe)],div:[$$2((o,qe)=>o/qe)],mod:[$$2(ft$1)],pow:[$$2(Math.pow)],log2:[$$2(Math.log2)],band:[$$2((o,qe)=>o&qe)],bor:[$$2((o,qe)=>o|qe)],bxor:[$$2((o,qe)=>o^qe)],blshift:[$$2((o,qe)=>o<<qe)],brshift:[$$2((o,qe)=>o>>qe)],lt:[(o,qe)=>o<qe],gt:[(o,qe)=>o>qe],lte:[(o,qe)=>o<=qe],gte:[(o,qe)=>o>=qe],eq:[(o,qe)=>o==qe],eqt:[(o,qe)=>o===qe],ne:[(o,qe)=>o!=qe],net:[(o,qe)=>o!==qe],and:[(o,qe)=>o&&qe],or:[(o,qe)=>o||qe],func:[(o,qe)=>qe(o)]},r=["In","Out","Mix","Squeeze","SqueezeOut","Reset","Restart","Poly"];for(const[o,[qe,bt]]of Object.entries(e)){f.prototype["_"+o]=function(Nt){return this.fmap(Na=>qe(Na,Nt))},Object.defineProperty(f.prototype,o,{get:function(){const Nt=this,Na=(...ld)=>Nt[o].in(...ld);for(const ld of r)Na[ld.toLowerCase()]=function(...fd){var hd=Nt;fd=G$4(fd),bt&&(hd=bt(hd),fd=bt(fd));var dd;return o==="keepif"?(dd=hd["_op"+ld](fd,gd=>yd=>qe(gd,yd)),dd=dd.removeUndefineds()):dd=hd["_op"+ld](fd,gd=>yd=>pn(gd,yd,qe)),dd};return Na.squeezein=Na.squeeze,Na}});for(const Nt of r)f.prototype[Nt.toLowerCase()]=function(...Na){return this.set[Nt.toLowerCase()](Na)}}f.prototype.struct=function(...o){return this.keepif.out(...o)},f.prototype.structAll=function(...o){return this.keep.out(...o)},f.prototype.mask=function(...o){return this.keepif.in(...o)},f.prototype.maskAll=function(...o){return this.keep.in(...o)},f.prototype.reset=function(...o){return this.keepif.reset(...o)},f.prototype.resetAll=function(...o){return this.keep.reset(...o)},f.prototype.restart=function(...o){return this.keepif.restart(...o)},f.prototype.restartAll=function(...o){return this.keep.restart(...o)}})();const ol=B$1,il=B$1,cl=xt,ct$1=e=>new f(()=>[],e),v$3=ct$1(1),R$2=ct$1(0);function z$2(e){function r(qe){return qe.span.spanCycles.map(bt=>new C$3(h(bt.begin).wholeCycle(),bt,e))}const o=new f(r,1);return o.__pure=e,o}function Yt(e){return e instanceof f||e?._Pattern}function d$1(e){return Yt(e)?e:_t&&typeof e=="string"?_t(e):z$2(e)}function fn(e){let r=z$2([]);for(const o of e)r=r.bind(qe=>o.fmap(bt=>qe.concat([bt])));return r}function B$1(...e){e=e.map(qe=>Array.isArray(qe)?G$4(...qe):d$1(qe));const r=qe=>D$2(e.map(bt=>bt.query(qe))),o=new f(r);return j$2&&(o._steps=U$3(...e.map(qe=>qe._steps))),o}function St(e,r){if(r=r.map(Nt=>Array.isArray(Nt)?G$4(...Nt):d$1(Nt)),r.length===0)return v$3;if(r.length===1)return r[0];const[o,...qe]=r.map(Nt=>Nt._steps),bt=j$2?o.maximum(...qe):void 0;return B$1(...e(bt,r))}function hn(...e){return St((r,o)=>o.map(qe=>qe._steps.eq(r)?qe:N$2(qe,ct$1(r.sub(qe._steps)))),e)}function dn(...e){return St((r,o)=>o.map(qe=>qe._steps.eq(r)?qe:N$2(ct$1(r.sub(qe._steps)),qe)),e)}function mn(...e){return St((r,o)=>o.map(qe=>{if(qe._steps.eq(r))return qe;const bt=ct$1(r.sub(qe._steps).div(2));return N$2(bt,qe,bt)}),e)}function ul(e,...r){const[o,...qe]=r.map(Na=>Na._steps),bt=o.maximum(...qe),Nt={centre:mn,left:hn,right:dn,expand:B$1,repeat:(...Na)=>xt(...Na).steps(bt)};return e.inhabit(Nt).fmap(Na=>Na(...r)).innerJoin().setSteps(bt)}function K$2(...e){if(e=e.map(qe=>Array.isArray(qe)?W$3(...qe):d$1(qe)),e.length==1)return e[0];const r=function(qe){const bt=qe.span,Nt=ft$1(bt.begin.sam(),e.length),Na=e[Nt];if(!Na)return[];const ld=bt.begin.floor().sub(bt.begin.div(e.length).floor());return Na.withHapTime(fd=>fd.add(ld)).query(qe.setSpan(bt.withTime(fd=>fd.sub(ld))))},o=j$2?U$3(...e.map(qe=>qe._steps)):void 0;return new f(r).splitQueries().setSteps(o)}function Zt(...e){e=e.map(d$1);const r=function(o){const qe=Math.floor(o.span.begin)%e.length;return e[qe]?.query(o)||[]};return new f(r).splitQueries()}function at$1(...e){return K$2(...e)}function al(...e){const r=e.reduce((o,[qe])=>o+qe,0);return e=e.map(([o,qe])=>[o,qe.fast(o)]),N$2(...e).slow(r)}function ll(...e){let r=h(0);for(let o of e)o.length==2&&o.unshift(r),r=o[1];return B$1(...e.map(([o,qe,bt])=>z$2(d$1(bt)).compress(h(o).div(r),h(qe).div(r)))).slow(r).innerJoin()}function W$3(...e){let r=K$2(...e);return e.length>1&&(r=r._fast(e.length),r._steps=e.length),e.length==1&&e[0].__steps_source&&(e._steps=e[0]._steps),r}function G$4(...e){return W$3(...e)}function yn(...e){return W$3(...e)}function vt(e){return Array.isArray(e)?e.length==0?[v$3,0]:e.length==1?vt(e[0]):[W$3(...e.map(r=>vt(r)[0])),e.length]:[d$1(e),1]}const pl=w$2((e,r)=>d$1(r).mask(e)),fl=w$2((e,r)=>d$1(r).struct(e)),hl=w$2((e,r)=>d$1(r).superimpose(...e)),dl=w$2((e,r)=>d$1(r).withValue(e)),ml=w$2((e,r)=>d$1(r).bind(e)),yl=w$2((e,r)=>d$1(r).innerBind(e)),wl=w$2((e,r)=>d$1(r).outerBind(e)),gl=w$2((e,r)=>d$1(r).squeezeBind(e)),bl=w$2((e,r)=>d$1(r).stepBind(e)),_l=w$2((e,r)=>d$1(r).polyBind(e)),vl=w$2((e,r)=>d$1(r).set(e)),kl=w$2((e,r)=>d$1(r).keep(e)),ql=w$2((e,r)=>d$1(r).keepif(e)),Al=w$2((e,r)=>d$1(r).add(e)),Sl=w$2((e,r)=>d$1(r).sub(e)),Tl=w$2((e,r)=>d$1(r).mul(e)),Cl=w$2((e,r)=>d$1(r).div(e)),xl=w$2((e,r)=>d$1(r).mod(e)),Bl=w$2((e,r)=>d$1(r).pow(e)),Ol=w$2((e,r)=>d$1(r).band(e)),zl=w$2((e,r)=>d$1(r).bor(e)),El=w$2((e,r)=>d$1(r).bxor(e)),Ml=w$2((e,r)=>d$1(r).blshift(e)),Pl=w$2((e,r)=>d$1(r).brshift(e)),Jl=w$2((e,r)=>d$1(r).lt(e)),jl=w$2((e,r)=>d$1(r).gt(e)),Nl=w$2((e,r)=>d$1(r).lte(e)),Wl=w$2((e,r)=>d$1(r).gte(e)),$l=w$2((e,r)=>d$1(r).eq(e)),Rl=w$2((e,r)=>d$1(r).eqt(e)),Ll=w$2((e,r)=>d$1(r).ne(e)),Il=w$2((e,r)=>d$1(r).net(e)),Hl=w$2((e,r)=>d$1(r).and(e)),Vl=w$2((e,r)=>d$1(r).or(e)),Fl=w$2((e,r)=>d$1(r).func(e));function l(e,r,o=!0,qe=!1,bt=Nt=>Nt.innerJoin()){if(Array.isArray(e)){const ld={};for(const fd of e)ld[fd]=l(fd,r,o,qe,bt);return ld}const Nt=r.length;var Na;return o?Na=function(...ld){ld=ld.map(d$1);const fd=ld[ld.length-1];let hd;if(Nt===1)hd=r(fd);else{const dd=ld.slice(0,-1);if(dd.every(gd=>gd.__pure!=null)){const gd=dd.map(_d=>_d.__pure),yd=dd.filter(_d=>_d.__pure_loc).map(_d=>_d.__pure_loc);hd=r(...gd,fd),hd=hd.withContext(_d=>{const Ad=(_d.locations||[]).concat(yd);return{..._d,locations:Ad}})}else{const[gd,...yd]=dd;let _d=(...Ad)=>r(...Ad,fd);_d=w$2(_d,null,Nt-1),hd=bt(yd.reduce((Ad,xd)=>Ad.appLeft(xd),gd.fmap(_d)))}}return qe&&(hd._steps=fd._steps),hd}:Na=function(...ld){ld=ld.map(d$1);const fd=r(...ld);return qe&&(fd._steps=ld[ld.length-1]._steps),fd},f.prototype[e]=function(...ld){if(Nt===2&&ld.length!==1)ld=[G$4(...ld)];else if(Nt!==ld.length+1)throw new Error(`.${e}() expects ${Nt-1} inputs but got ${ld.length}.`);return ld=ld.map(d$1),Na(...ld,this)},Nt>1&&(f.prototype["_"+e]=function(...ld){const fd=r(...ld,this);return qe&&fd.setSteps(this._steps),fd}),w$2(Na,null,Nt)}function X$3(e,r,o=!0,qe=!1,bt=Nt=>Nt.stepJoin()){return l(e,r,o,qe,bt)}const Dl=l("round",function(e){return e.asNumber().fmap(r=>Math.round(r))}),Gl=l("floor",function(e){return e.asNumber().fmap(r=>Math.floor(r))}),Ql=l("ceil",function(e){return e.asNumber().fmap(r=>Math.ceil(r))}),Ul=l("toBipolar",function(e){return e.fmap(r=>r*2-1)}),Kl=l("fromBipolar",function(e){return e.fmap(r=>(r+1)/2)}),Xl=l("range",function(e,r,o){return o.mul(r-e).add(e)}),Yl=l("rangex",function(e,r,o){return o._range(Math.log(e),Math.log(r)).fmap(Math.exp)}),Zl=l("range2",function(e,r,o){return o.fromBipolar()._range(e,r)}),tp=l("ratio",e=>e.fmap(r=>Array.isArray(r)?r.slice(1).reduce((o,qe)=>o/qe,r[0]):r)),ep=l("compress",function(e,r,o){return e=h(e),r=h(r),e.gt(r)||e.gt(1)||r.gt(1)||e.lt(0)||r.lt(0)?v$3:o._fastGap(h(1).div(r.sub(e)))._late(e)}),{compressSpan:np,compressspan:sp}=l(["compressSpan","compressspan"],function(e,r){return r._compress(e.begin,e.end)}),{fastGap:rp,fastgap:op}=l(["fastGap","fastgap"],function(e,r){const o=function(bt){const Nt=bt.begin.sam(),Na=bt.begin.sub(Nt).mul(e).min(1),ld=bt.end.sub(Nt).mul(e).min(1);if(!(Na>=1))return new x$2(Nt.add(Na),Nt.add(ld))},qe=function(bt){const Nt=bt.part.begin,Na=bt.part.end,ld=Nt.sam(),fd=Nt.sub(ld).div(e).min(1),hd=Na.sub(ld).div(e).min(1),dd=new x$2(ld.add(fd),ld.add(hd)),gd=bt.whole?new x$2(dd.begin.sub(Nt.sub(bt.whole.begin).div(e)),dd.end.add(bt.whole.end.sub(Na).div(e))):void 0;return new C$3(gd,dd,bt.value,bt.context)};return r.withQuerySpanMaybe(o).withHap(qe).splitQueries()}),ip=l("focus",function(e,r,o){return e=h(e),r=h(r),o._early(e.sam())._fast(h(1).div(r.sub(e)))._late(e)}),{focusSpan:cp,focusspan:up}=l(["focusSpan","focusspan"],function(e,r){return r._focus(e.begin,e.end)}),ap=l("ply",function(e,r){const o=r.fmap(qe=>z$2(qe)._fast(e)).squeezeJoin();return j$2&&(o._steps=h(e).mulmaybe(r._steps)),o}),{fast:lp,density:pp$a}=l(["fast","density"],function(e,r){return e===0?v$3:(e=h(e),r.withQueryTime(o=>o.mul(e)).withHapTime(o=>o.div(e)).setSteps(r._steps))},!0,!0),fp=l("hurry",function(e,r){return r._fast(e).mul(z$2({speed:e}))}),{slow:hp,sparsity:dp}=l(["slow","sparsity"],function(e,r){return e===0?v$3:r._fast(h(1).div(e))}),mp=l("inside",function(e,r,o){return r(o._slow(e))._fast(e)}),yp=l("outside",function(e,r,o){return r(o._fast(e))._slow(e)}),wp=l("lastOf",function(e,r,o){const qe=Array(e-1).fill(o);return qe.push(r(o)),Zt(...qe)}),{firstOf:gp,every:bp}=l(["firstOf","every"],function(e,r,o){const qe=Array(e-1).fill(o);return qe.unshift(r(o)),Zt(...qe)}),_p=l("apply",function(e,r){return e(r)}),vp=l("cpm",function(e,r){return r._fast(e/60/1)}),kp=l("early",function(e,r){return e=h(e),r.withQueryTime(o=>o.add(e)).withHapTime(o=>o.sub(e))},!0,!0),wn=l("late",function(e,r){return e=h(e),r._early(h(0).sub(e))},!0,!0),qp=l("zoom",function(e,r,o){if(r=h(r),e=h(e),e.gte(r))return R$2;const qe=r.sub(e),bt=j$2?o._steps?.mulmaybe(qe):void 0;return o.withQuerySpan(Nt=>Nt.withCycle(Na=>Na.mul(qe).add(e))).withHapSpan(Nt=>Nt.withCycle(Na=>Na.sub(e).div(qe))).splitQueries().setSteps(bt)}),{zoomArc:Ap,zoomarc:Sp}=l(["zoomArc","zoomarc"],function(e,r){return r.zoom(e.begin,e.end)}),Tp=l("bite",(e,r,o)=>r.fmap(qe=>bt=>{const Nt=h(qe).div(bt).mod(1),Na=Nt.add(h(1).div(bt));return o.zoom(Nt,Na)}).appLeft(e).squeezeJoin(),!1),Cp=l("linger",function(e,r){return e==0?v$3:e<0?r._zoom(e.add(1),1)._slow(e):r._zoom(0,e)._slow(e)},!0,!0),{segment:xp,seg:Bp}=l(["segment","seg"],function(e,r){return r.struct(z$2(!0)._fast(e)).setSteps(e)}),Op=l("swingBy",(e,r,o)=>o.inside(r,wn(yn(0,e/2)))),zp=l("swing",(e,r)=>r.swingBy(1/3,e)),{invert:Ep,inv:Mp}=l(["invert","inv"],function(e){return e.fmap(r=>!r)},!0,!0),Pp=l("when",function(e,r,o){return e?r(o):o}),Jp=l("off",function(e,r,o){return B$1(o,r(o.late(e)))}),jp=l("brak",function(e){return e.when(K$2(!1,!0),r=>W$3(r,v$3)._late(.25))}),gn=l("rev",function(e){const r=function(o){const qe=o.span,bt=qe.begin.sam(),Nt=qe.begin.nextSam(),Na=function(ld){const fd=ld.withTime(dd=>bt.add(Nt.sub(dd))),hd=fd.begin;return fd.begin=fd.end,fd.end=hd,fd};return e.query(o.setSpan(Na(qe))).map(ld=>ld.withSpan(Na))};return new f(r).splitQueries()},!1,!0),Np=l("pressBy",function(e,r){return r.fmap(o=>z$2(o).compress(e,1)).squeezeJoin()}),Wp=l("press",function(e){return e._pressBy(.5)});f.prototype.hush=function(){return v$3};const $p=l("palindrome",function(e){return e.lastOf(2,gn)},!0,!0),{juxBy:Rp,juxby:Lp}=l(["juxBy","juxby"],function(e,r,o){e/=2;const qe=function(Na,ld,fd){return ld in Na?Na[ld]:fd},bt=o.withValue(Na=>Object.assign({},Na,{pan:qe(Na,"pan",.5)-e})),Nt=r(o.withValue(Na=>Object.assign({},Na,{pan:qe(Na,"pan",.5)+e})));return B$1(bt,Nt).setSteps(j$2?U$3(bt._steps,Nt._steps):void 0)}),Ip=l("jux",function(e,r){return r._juxBy(1,e,r)}),{echoWith:Hp,echowith:Vp,stutWith:Fp,stutwith:Dp}=l(["echoWith","echowith","stutWith","stutwith"],function(e,r,o,qe){return B$1(...ht(0,e-1).map(bt=>o(qe.late(h(r).mul(bt)),bt)))}),Gp=l("echo",function(e,r,o,qe){return qe._echoWith(e,r,(bt,Nt)=>bt.gain(Math.pow(o,Nt)))}),Qp=l("stut",function(e,r,o,qe){return qe._echoWith(e,o,(bt,Nt)=>bt.gain(Math.pow(r,Nt)))}),bn=l("applyN",function(e,r,o){let qe=o;for(let bt=0;bt<e;bt++)qe=r(qe);return qe}),Up=l(["plyWith","plywith"],function(e,r,o){const qe=o.fmap(bt=>at$1(...ht(0,e-1).map(Nt=>bn(Nt,r,bt)))._fast(e)).squeezeJoin();return j$2&&(qe._steps=h(e).mulmaybe(o._steps)),qe}),Kp=l(["plyForEach","plyforeach"],function(e,r,o){const qe=o.fmap(bt=>at$1(at$1(z$2(bt),...ht(1,e-1).map(Nt=>r(z$2(bt),Nt))))._fast(e)).squeezeJoin();return j$2&&(qe._steps=h(e).mulmaybe(o._steps)),qe}),Tt=function(e,r,o=!1){return e=h(e),K$2(...ht(0,e.sub(1)).map(qe=>o?r.late(h(qe).div(e)):r.early(h(qe).div(e))))},Xp=l("iter",function(e,r){return Tt(e,r,!1)},!0,!0),{iterBack:Yp,iterback:Zp}=l(["iterBack","iterback"],function(e,r){return Tt(e,r,!0)},!0,!0),{repeatCycles:tf}=l("repeatCycles",function(e,r){return new f(function(o){const qe=o.span.begin.sam(),bt=qe.div(e).sam(),Nt=qe.sub(bt);return o=o.withSpan(Na=>Na.withTime(ld=>ld.sub(Nt))),r.query(o).map(Na=>Na.withSpan(ld=>ld.withTime(fd=>fd.add(Nt))))}).splitQueries()},!0,!0),Ct=function(e,r,o,qe=!1,bt=!1){const Nt=Array(e-1).fill(!1);Nt.unshift(!0);const Na=Tt(e,G$4(...Nt),!qe);return bt||(o=o.repeatCycles(e)),o.when(Na,r)},{chunk:ef,slowchunk:nf,slowChunk:sf}=l(["chunk","slowchunk","slowChunk"],function(e,r,o){return Ct(e,r,o,!1,!1)},!0,!0),{chunkBack:rf,chunkback:of}=l(["chunkBack","chunkback"],function(e,r,o){return Ct(e,r,o,!0)},!0,!0),{fastchunk:cf,fastChunk:uf}=l(["fastchunk","fastChunk"],function(e,r,o){return Ct(e,r,o,!1,!0)},!0,!0),{chunkinto:af,chunkInto:lf}=l(["chunkinto","chunkInto"],function(e,r,o){return o.into(W$3(!0,...Array(e-1).fill(!1))._iterback(e),r)}),{chunkbackinto:pf,chunkBackInto:ff}=l(["chunkbackinto","chunkBackInto"],function(e,r,o){return o.into(W$3(!0,...Array(e-1).fill(!1))._iter(e)._early(1),r)}),hf=l("bypass",function(e,r){return e=!!parseInt(e),e?v$3:r},!0,!0),{ribbon:df,rib:mf}=l(["ribbon","rib"],(e,r,o)=>o.early(e).restart(z$2(1).slow(r))),yf=l("hsla",(e,r,o,qe,bt)=>bt.color(`hsla(${e}turn,${r*100}%,${o*100}%,${qe})`)),wf=l("hsl",(e,r,o,qe)=>qe.color(`hsl(${e}turn,${r*100}%,${o*100}%)`));f.prototype.tag=function(e){return this.withContext(r=>({...r,tags:(r.tags||[]).concat([e])}))};const gf=l("filter",(e,r)=>r.withHaps(o=>o.filter(e))),bf=l("filterWhen",(e,r)=>r.filter(o=>e(o.whole.begin))),_f=l("within",(e,r,o,qe)=>B$1(o(qe.filterWhen(bt=>bt.cyclePos()>=e&&bt.cyclePos()<=r)),qe.filterWhen(bt=>bt.cyclePos()<e||bt.cyclePos()>r)));f.prototype.stepJoin=function(){const e=this,r=N$2(...Lt(It(e.queryArc(0,1))))._steps,o=function(qe){const bt=e.early(qe.span.begin.sam()).query(qe.setSpan(new x$2(h(0),h(1))));return N$2(...Lt(It(bt))).query(qe)};return new f(o,r)},f.prototype.stepBind=function(e){return this.fmap(e).stepJoin()};function Lt(e){const r=e.filter((Nt,Na)=>Na.hasSteps).reduce((Nt,Na)=>Nt.add(Na),h(0)),o=it$1(e.map((Nt,Na)=>Na._steps)).reduce((Nt,Na)=>Nt.add(Na),h(0)),qe=r.eq(0)?void 0:o.div(r);function bt(Nt,Na){return Na._steps===void 0?[Nt.mulmaybe(qe),Na]:[Na._steps,Na]}return e.map(Nt=>bt(...Nt))}function It(e){const r=D$2(e.map(qe=>[qe.part.begin,qe.part.end])),o=Ke$1([h(0),h(1),...r]);return Ie(o).map(qe=>[qe[1].sub(qe[0]),B$1(..._n(new x$2(...qe),e).map(bt=>bt.value.withHap(Nt=>Nt.setContext(Nt.combineContext(bt)))))])}function _n(e,r){return it$1(r.map(o=>vn(e,o)))}function vn(e,r){const o=e.intersection(r.part);if(o!=null)return new C$3(r.whole,o,r.value,r.context)}const kn=l("pace",function(e,r){return r._steps===void 0?r:r._steps.eq(h(0))?R$2:r._fast(h(e).div(r._steps)).setSteps(e)});function qn(e,...r){const o=r.map(bt=>vt(bt));if(o.length==0)return v$3;e==0&&(e=o[0][1]);const qe=[];for(const bt of o)bt[1]!=0&&(e==bt[1]?qe.push(bt[0]):qe.push(bt[0]._fast(h(e).div(h(bt[1])))));return B$1(...qe)}function xt(...e){if(Array.isArray(e[0]))return qn(0,...e);if(e=e.filter(qe=>qe.hasSteps),e.length==0)return v$3;const r=U$3(...e.map(qe=>qe._steps));if(r.eq(h(0)))return R$2;const o=B$1(...e.map(qe=>qe.pace(r)));return o._steps=r,o}function N$2(...e){if(e.length===0)return R$2;const r=Na=>Array.isArray(Na)?Na:[Na._steps??1,Na];if(e=e.map(r),e.find(Na=>Na[0]===void 0)){const Na=e.map(fd=>fd[0]).filter(fd=>fd!==void 0);if(Na.length===0)return W$3(...e.map(fd=>fd[1]));if(Na.length===e.length)return R$2;const ld=Na.reduce((fd,hd)=>fd.add(hd),h(0)).div(Na.length);for(let fd of e)fd[0]===void 0&&(fd[0]=ld)}if(e.length==1)return d$1(e[0][1]).withSteps(Na=>e[0][0]);const o=e.map(Na=>Na[0]).reduce((Na,ld)=>Na.add(ld),h(0));let qe=h(0);const bt=[];for(const[Na,ld]of e){if(h(Na).eq(0))continue;const fd=qe.add(Na);bt.push(d$1(ld)._compress(qe.div(o),fd.div(o))),qe=fd}const Nt=B$1(...bt);return Nt._steps=o,Nt}function An(...e){e=e.map(bt=>Array.isArray(bt)?bt.map(d$1):[d$1(bt)]);const r=U$3(...e.map(bt=>h(bt.length)));let o=[];for(let bt=0;bt<r;++bt)o.push(...e.map(Nt=>Nt.length==0?v$3:Nt[bt%Nt.length]));o=o.filter(bt=>bt.hasSteps&&bt._steps>0);const qe=o.reduce((bt,Nt)=>bt.add(Nt._steps),h(0));return o=N$2(...o),o._steps=qe,o}const Sn=X$3("take",function(e,r){if(!r.hasSteps||r._steps.lte(0)||(e=h(e),e.eq(0)))return R$2;const o=e<0;o&&(e=e.abs());const qe=e.div(r._steps);return qe.lte(0)?R$2:qe.gte(1)?r:o?r.zoom(h(1).sub(qe),1):r.zoom(0,qe)}),Tn=X$3("drop",function(e,r){return r.hasSteps?(e=h(e),e.lt(0)?r.take(r._steps.add(e)):r.take(h(0).sub(r._steps.sub(e)))):R$2}),Cn=X$3("extend",function(e,r){return r.fast(e).expand(e)}),vf=X$3("replicate",function(e,r){return r.repeatCycles(e).fast(e).expand(e)}),xn=X$3("expand",function(e,r){return r.withSteps(o=>o.mul(h(e)))}),Bn=X$3("contract",function(e,r){return r.withSteps(o=>o.div(h(e)))});f.prototype.shrinklist=function(e){const r=this;if(!r.hasSteps)return[r];let[o,qe]=Array.isArray(e)?e:[e,r._steps];if(o=h(o),qe===0||o===0)return[r];const bt=o>0,Nt=[];if(bt){const Na=h(1).div(r._steps).mul(o);for(let ld=0;ld<qe;++ld){const fd=Na.mul(ld);if(fd.gt(1))break;Nt.push([fd,1])}}else{o=h(0).sub(o);const Na=h(1).div(r._steps).mul(o);for(let ld=0;ld<qe;++ld){const fd=h(1).sub(Na.mul(ld));if(fd.lt(0))break;Nt.push([h(0),fd])}}return Nt.map(Na=>r.zoom(...Na))};const On=(e,r)=>r.shrinklist(e),zn=l("shrink",function(e,r){if(!r.hasSteps)return R$2;const o=r.shrinklist(e),qe=N$2(...o);return qe._steps=o.reduce((bt,Nt)=>bt.add(Nt._steps),h(0)),qe},!0,!1,e=>e.stepJoin()),kf=l("grow",function(e,r){if(!r.hasSteps)return R$2;const o=r.shrinklist(h(0).sub(e));o.reverse();const qe=N$2(...o);return qe._steps=o.reduce((bt,Nt)=>bt.add(Nt._steps),h(0)),qe},!0,!1,e=>e.stepJoin()),En=function(e,...r){return e.tour(...r)};f.prototype.tour=function(...e){return N$2(...[].concat(...e.map((r,o)=>[...e.slice(0,e.length-o),this,...e.slice(e.length-o)]),this,...e))};const Mn=function(...e){e=e.filter(qe=>qe.hasSteps);const r=K$2(...e.map(qe=>qe._slow(qe._steps))),o=U$3(...e.map(qe=>qe._steps));return r._fast(o).setSteps(o)},qf=N$2,Pn=N$2,Af=N$2,Sf=An,Tf=xt;f.prototype.s_polymeter=f.prototype.polymeter;const Cf=zn;f.prototype.s_taper=f.prototype.shrink;const xf=On;f.prototype.s_taperlist=f.prototype.shrinklist;const Bf=Sn;f.prototype.s_add=f.prototype.take;const Of=Tn;f.prototype.s_sub=f.prototype.drop;const zf=xn;f.prototype.s_expand=f.prototype.expand;const Ef=Cn;f.prototype.s_extend=f.prototype.extend;const Mf=Bn;f.prototype.s_contract=f.prototype.contract;const Pf=En;f.prototype.s_tour=f.prototype.tour;const Jf=Mn;f.prototype.s_zip=f.prototype.zip;const jf=kn;f.prototype.steps=f.prototype.pace;const Nf=l("chop",function(e,r){const o=Array.from({length:e},(Nt,Na)=>Na).map(Nt=>({begin:Nt/e,end:(Nt+1)/e})),qe=function(Nt,Na){if("begin"in Nt&&"end"in Nt&&Nt.begin!==void 0&&Nt.end!==void 0){const ld=Nt.end-Nt.begin;Na={begin:Nt.begin+Na.begin*ld,end:Nt.begin+Na.end*ld}}return Object.assign({},Nt,Na)},bt=function(Nt){return G$4(o.map(Na=>qe(Nt,Na)))};return r.squeezeBind(bt).setSteps(j$2?h(e).mulmaybe(r._steps):void 0)}),Wf=l("striate",function(e,r){const o=Array.from({length:e},(bt,Nt)=>Nt).map(bt=>({begin:bt/e,end:(bt+1)/e})),qe=K$2(...o);return r.set(qe)._fast(e).setSteps(j$2?h(e).mulmaybe(r._steps):void 0)}),te$1=function(e,r,o=.5){return r.speed(1/e*o).unit("c").slow(e)},Jn=l("slice",function(e,r,o){return e.innerBind(qe=>r.outerBind(bt=>o.outerBind(Nt=>{Nt=Nt instanceof Object?Nt:{s:Nt};const Na=Array.isArray(qe)?qe[bt]:bt/qe,ld=Array.isArray(qe)?qe[bt+1]:(bt+1)/qe;return z$2({begin:Na,end:ld,_slices:qe,...Nt})}))).setSteps(r._steps)},!1);f.prototype.onTriggerTime=function(e){return this.onTrigger((r,o,qe,bt)=>{const Nt=bt-o;window.setTimeout(()=>{e(r)},Nt*1e3)},!1)};const $f=l("splice",function(e,r,o){const qe=Jn(e,r,o);return new f(bt=>{const Nt=bt.controls._cps||1;return qe.query(bt).map(Na=>Na.withValue(ld=>({speed:Nt/ld._slices/Na.whole.duration*(ld.speed||1),unit:"c",...ld})))}).setSteps(r._steps)},!1),{loopAt:Rf,loopat:Lf}=l(["loopAt","loopat"],function(e,r){const o=r._steps?r._steps.div(e):void 0;return new f(qe=>te$1(e,r,qe.controls._cps).query(qe),o)}),If=l("fit",e=>e.withHaps((r,o)=>r.map(qe=>qe.withValue(bt=>{const Nt=("end"in bt?bt.end:1)-("begin"in bt?bt.begin:0);return{...bt,speed:(o.controls._cps||1)/qe.whole.duration*Nt,unit:"c"}})))),{loopAtCps:Hf,loopatcps:Vf}=l(["loopAtCps","loopatcps"],function(e,r,o){return te$1(e,o,r)}),Ff=e=>z$2(1).withValue(()=>d$1(e())).innerJoin();let Ht=e=>e<.5?1:1-(e-.5)/.5,jn=(e,r,o)=>{r=d$1(r),e=d$1(e),o=d$1(o);let qe=r.fmap(Nt=>({gain:Ht(Nt)})),bt=r.fmap(Nt=>({gain:Ht(1-Nt)}));return B$1(e.mul(qe),o.mul(bt))};f.prototype.xfade=function(e,r){return jn(this,e,r)};const Nn=e=>(r,o,qe)=>{r=h(r).mod(o),o=h(o);const bt=r.div(o),Nt=r.add(1).div(o);return e(qe.fmap(Na=>z$2(Na)._compress(bt,Nt)))},{beat:Df}=l(["beat"],Nn(e=>e.innerJoin())),ee$2=(e,r,o)=>{o=h(o);const qe=h(1).div(e.length),bt=ld=>{const fd=[];for(const[hd,dd]of ld.entries())dd&&fd.push([h(hd).div(ld.length),dd]);return fd},Nt=At(([ld,fd],[hd,dd])=>{const gd=o.mul(hd-ld).add(ld),yd=gd.add(qe);return new x$2(gd,yd)},bt(e),bt(r));function Na(ld){const fd=ld.span.begin.sam(),hd=ld.span.cycleArc(),dd=[];for(const gd of Nt){const yd=gd.intersection(hd);yd!==void 0&&dd.push(new C$3(gd.withTime(_d=>_d.add(fd)),yd.withTime(_d=>_d.add(fd)),!0))}return dd}return new f(Na).splitQueries()},Gf=(e,r,o)=>(e=d$1(e),r=d$1(r),o=d$1(o),e.innerBind(qe=>r.innerBind(bt=>o.innerBind(Nt=>ee$2(qe,bt,Nt))))),Wn=["scurve","soft","hard","cubic","diode","asym","fold","sinefold","chebyshev"];for(const e of Wn)f.prototype[e]=function(r){const o=d$1(r).fmap(qe=>Array.isArray(qe)?[...qe,e]:[qe,1,e]);return this.distort(o)};function Bt(e){let r=Array.isArray(e);e=r?e:[e];const o=e[0],qe=Nt=>{let Na;if(typeof Nt=="object"&&Nt.value!==void 0&&(Na={...Nt},Nt=Nt.value,delete Na.value),r&&Array.isArray(Nt)){const ld=Na||{};return Nt.forEach((fd,hd)=>{hd<e.length&&(ld[e[hd]]=fd)}),ld}else return Na?(Na[o]=Nt,Na):{[o]:Nt}},bt=function(Nt,Na){return Na?typeof Nt>"u"?Na.fmap(qe):Na.set(d$1(Nt).withValue(qe)):d$1(Nt).withValue(qe)};return f.prototype[o]=function(Nt){return bt(Nt,this)},bt}const rt$1=new Map;function $n(e){return rt$1.has(e)}function i$1(e,...r){const o=Array.isArray(e)?e[0]:e;let qe={};return qe[o]=Bt(e),rt$1.set(o,o),r.forEach(bt=>{qe[bt]=qe[o],rt$1.set(bt,o),f.prototype[bt]=f.prototype[o]}),qe}const{s:Rn,sound:Ln}=i$1(["s","n","gain"],"sound"),{wt:In,wavetablePosition:Hn}=i$1("wt","wavetablePosition"),{wtenv:Vn}=i$1("wtenv"),{wtattack:Fn,wtatt:Dn}=i$1("wtattack","wtatt"),{wtdecay:Gn,wtdec:Qn}=i$1("wtdecay","wtdec"),{wtsustain:Un,wtsus:Kn}=i$1("wtsustain","wtsus"),{wtrelease:Xn,wtrel:Yn}=i$1("wtrelease","wtrel"),{wtrate:Zn}=i$1("wtrate"),{wtsync:ts}=i$1("wtsync"),{wtdepth:es}=i$1("wtdepth"),{wtshape:ns}=i$1("wtshape"),{wtdc:ss}=i$1("wtdc"),{wtskew:rs}=i$1("wtskew"),{warp:os,wavetableWarp:is}=i$1("warp","wavetableWarp"),{warpattack:cs,warpatt:us$1}=i$1("warpattack","warpatt"),{warpdecay:as,warpdec:ls}=i$1("warpdecay","warpdec"),{warpsustain:ps,warpsus:fs}=i$1("warpsustain","warpsus"),{warprelease:hs,warprel:ds}=i$1("warprelease","warprel"),{warprate:ms}=i$1("warprate"),{warpdepth:ys}=i$1("warpdepth"),{warpshape:ws}=i$1("warpshape"),{warpdc:gs}=i$1("warpdc"),{warpskew:bs}=i$1("warpskew"),{warpmode:_s,wavetableWarpMode:vs}=i$1("warpmode","wavetableWarpMode"),{wtphaserand:ks,wavetablePhaseRand:qs}=i$1("wtphaserand","wavetablePhaseRand"),{warpenv:As}=i$1("warpenv"),{warpsync:Ss}=i$1("warpsync"),{source:Ts,src:Cs}=i$1("source","src"),{n:xs}=i$1("n"),{note:Bs}=i$1(["note","n"]),{accelerate:Os}=i$1("accelerate"),{velocity:zs}=i$1("velocity"),{gain:Es}=i$1("gain"),{postgain:Ms}=i$1("postgain"),{amp:Ps}=i$1("amp"),{attack:Js,att:js}=i$1("attack","att"),{fmh:Ns}=i$1(["fmh","fmi"],"fmh"),{fmi:Ws,fm:$s}=i$1(["fmi","fmh"],"fm"),{fmenv:Rs}=i$1("fmenv"),{fmattack:Ls}=i$1("fmattack"),{fmwave:Is}=i$1("fmwave"),{fmdecay:Hs}=i$1("fmdecay"),{fmsustain:Vs}=i$1("fmsustain"),{fmrelease:Fs}=i$1("fmrelease"),{fmvelocity:Ds}=i$1("fmvelocity"),{bank:Gs}=i$1("bank"),{chorus:Qs}=i$1("chorus"),{analyze:Us}=i$1("analyze"),{fft:Ks}=i$1("fft"),{decay:Xs,dec:Ys}=i$1("decay","dec"),{sustain:Zs,sus:tr$1}=i$1("sustain","sus"),{release:er,rel:nr}=i$1("release","rel"),{hold:sr}=i$1("hold"),{bandf:rr,bpf:or,bp:ir}=i$1(["bandf","bandq","bpenv"],"bpf","bp"),{bandq:cr,bpq:ur}=i$1("bandq","bpq"),{begin:ar}=i$1("begin"),{end:lr}=i$1("end"),{loop:pr}=i$1("loop"),{loopBegin:fr,loopb:hr}=i$1("loopBegin","loopb"),{loopEnd:dr,loope:mr}=i$1("loopEnd","loope"),{crush:yr}=i$1("crush"),{coarse:wr}=i$1("coarse"),{tremolo:gr}=i$1(["tremolo","tremolodepth","tremoloskew","tremolophase"],"trem"),{tremolosync:br}=i$1(["tremolosync","tremolodepth","tremoloskew","tremolophase"],"tremsync"),{tremolodepth:_r}=i$1("tremolodepth","tremdepth"),{tremoloskew:vr}=i$1("tremoloskew","tremskew"),{tremolophase:kr}=i$1("tremolophase","tremphase"),{tremoloshape:qr}=i$1("tremoloshape","tremshape"),{drive:Ar}=i$1("drive"),{duck:Sr}=i$1("duckorbit","duck"),{duckdepth:Tr$1}=i$1("duckdepth"),{duckonset:Cr}=i$1("duckonset","duckons"),{duckattack:xr}=i$1("duckattack","duckatt"),{byteBeatExpression:Br,bbexpr:Or$1}=i$1("byteBeatExpression","bbexpr"),{byteBeatStartTime:zr$1,bbst:Er}=i$1("byteBeatStartTime","bbst"),{channels:Mr$1,ch:Pr}=i$1("channels","ch"),{pw:Jr$1}=i$1(["pw","pwrate","pwsweep"]),{pwrate:jr}=i$1("pwrate"),{pwsweep:Nr}=i$1("pwsweep"),{phaserrate:Wr$1,ph:$r,phaser:Rr}=i$1(["phaserrate","phaserdepth","phasercenter","phasersweep"],"ph","phaser"),{phasersweep:Lr,phs:Ir}=i$1("phasersweep","phs"),{phasercenter:Hr$1,phc:Vr$1}=i$1("phasercenter","phc"),{phaserdepth:Fr,phd:Dr,phasdp:Gr$1}=i$1("phaserdepth","phd","phasdp"),{channel:Qr$1}=i$1("channel"),{cut:Ur$1}=i$1("cut"),{cutoff:Kr$1,ctf:Xr$1,lpf:Yr$1,lp:Zr$1}=i$1(["cutoff","resonance","lpenv"],"ctf","lpf","lp"),{lpenv:to,lpe:eo}=i$1("lpenv","lpe"),{hpenv:no,hpe:so}=i$1("hpenv","hpe"),{bpenv:ro,bpe:oo}=i$1("bpenv","bpe"),{lpattack:io,lpa:co}=i$1("lpattack","lpa"),{hpattack:uo,hpa:ao}=i$1("hpattack","hpa"),{bpattack:lo,bpa:po}=i$1("bpattack","bpa"),{lpdecay:fo,lpd:ho}=i$1("lpdecay","lpd"),{hpdecay:mo,hpd:yo}=i$1("hpdecay","hpd"),{bpdecay:wo,bpd:go}=i$1("bpdecay","bpd"),{lpsustain:bo,lps:_o}=i$1("lpsustain","lps"),{hpsustain:vo,hps:ko}=i$1("hpsustain","hps"),{bpsustain:qo,bps:Ao}=i$1("bpsustain","bps"),{lprelease:So,lpr:To}=i$1("lprelease","lpr"),{hprelease:Co,hpr:xo}=i$1("hprelease","hpr"),{bprelease:Bo,bpr:Oo}=i$1("bprelease","bpr"),{ftype:zo}=i$1("ftype"),{fanchor:Eo}=i$1("fanchor"),{vib:Mo,vibrato:Po,v:Jo}=i$1(["vib","vibmod"],"vibrato","v"),{noise:jo}=i$1("noise"),{vibmod:No,vmod:Wo}=i$1(["vibmod","vib"],"vmod"),{hcutoff:$o,hpf:Ro,hp:Lo}=i$1(["hcutoff","hresonance","hpenv"],"hpf","hp"),{hresonance:Io,hpq:Ho}=i$1("hresonance","hpq"),{resonance:Vo,lpq:Fo}=i$1("resonance","lpq"),{djf:Do}=i$1("djf"),{delay:Go}=i$1(["delay","delaytime","delayfeedback"]),{delayfeedback:Qo,delayfb:Uo,dfb:Ko}=i$1("delayfeedback","delayfb","dfb"),{delayspeed:Xo}=i$1("delayspeed"),{delaytime:Yo,delayt:Zo,dt:ti}=i$1("delaytime","delayt","dt"),{delaysync:ei}=i$1("delaysync"),{lock:ni}=i$1("lock"),{detune:si,det:ri}=i$1("detune","det"),{unison:oi}=i$1("unison"),{spread:ii}=i$1("spread"),{dry:ci}=i$1("dry"),{fadeTime:ui,fadeOutTime:ai}=i$1("fadeTime","fadeOutTime"),{fadeInTime:li}=i$1("fadeInTime"),{freq:pi}=i$1("freq"),{pattack:fi,patt:hi}=i$1("pattack","patt"),{pdecay:di,pdec:mi}=i$1("pdecay","pdec"),{psustain:yi,psus:wi}=i$1("psustain","psus"),{prelease:gi,prel:bi}=i$1("prelease","prel"),{penv:_i}=i$1("penv"),{pcurve:vi}=i$1("pcurve"),{panchor:ki}=i$1("panchor"),{gate:qi,gat:Ai}=i$1("gate","gat"),{leslie:Si}=i$1("leslie"),{lrate:Ti}=i$1("lrate"),{lsize:Ci}=i$1("lsize"),{activeLabel:xi}=i$1("activeLabel"),{label:Bi}=i$1(["label","activeLabel"]),{degree:Oi}=i$1("degree"),{mtranspose:zi}=i$1("mtranspose"),{ctranspose:Ei}=i$1("ctranspose"),{harmonic:Mi}=i$1("harmonic"),{stepsPerOctave:Pi}=i$1("stepsPerOctave"),{octaveR:Ji}=i$1("octaveR"),{nudge:ji}=i$1("nudge"),{octave:Ni}=i$1("octave"),{orbit:Wi}=i$1("orbit"),{overgain:$i}=i$1("overgain"),{overshape:Ri}=i$1("overshape"),{pan:Li}=i$1("pan"),{panspan:Ii}=i$1("panspan"),{pansplay:Hi}=i$1("pansplay"),{panwidth:Vi}=i$1("panwidth"),{panorient:Fi}=i$1("panorient"),{rate:Di}=i$1("rate"),{slide:Gi}=i$1("slide"),{semitone:Qi}=i$1("semitone"),{voice:Ui}=i$1("voice"),{chord:Ki}=i$1("chord"),{dictionary:Xi,dict:Yi}=i$1("dictionary","dict"),{anchor:Zi}=i$1("anchor"),{offset:tc}=i$1("offset"),{octaves:ec}=i$1("octaves"),{mode:nc}=i$1(["mode","anchor"]),{room:sc}=i$1(["room","size"]),{roomlp:rc,rlp:oc}=i$1("roomlp","rlp"),{roomdim:ic,rdim:cc}=i$1("roomdim","rdim"),{roomfade:uc,rfade:ac}=i$1("roomfade","rfade"),{ir:lc,iresponse:pc}=i$1(["ir","i"],"iresponse"),{irspeed:fc}=i$1("irspeed"),{irbegin:hc}=i$1("irbegin"),{roomsize:dc,size:mc,sz:yc,rsize:wc}=i$1("roomsize","size","sz","rsize"),{shape:gc}=i$1(["shape","shapevol"]),{distort:bc,dist:_c}=i$1(["distort","distortvol","distorttype"],"dist"),{distortvol:vc}=i$1("distortvol","distvol"),{distorttype:kc}=i$1("distorttype","disttype"),{compressor:qc}=i$1(["compressor","compressorRatio","compressorKnee","compressorAttack","compressorRelease"]),{compressorKnee:Ac}=i$1("compressorKnee"),{compressorRatio:Sc}=i$1("compressorRatio"),{compressorAttack:Tc}=i$1("compressorAttack"),{compressorRelease:Cc}=i$1("compressorRelease"),{speed:ne$1}=i$1("speed"),{stretch:xc}=i$1("stretch"),{unit:Bc}=i$1("unit"),{squiz:Oc}=i$1("squiz"),{vowel:zc}=i$1("vowel"),{waveloss:Ec}=i$1("waveloss"),{density:Mc}=i$1("density"),{expression:Pc}=i$1("expression"),{sustainpedal:Jc}=i$1("sustainpedal"),{fshift:jc}=i$1("fshift"),{fshiftnote:Nc}=i$1("fshiftnote"),{fshiftphase:Wc}=i$1("fshiftphase"),{triode:$c}=i$1("triode"),{krush:Rc}=i$1("krush"),{kcutoff:Lc}=i$1("kcutoff"),{octer:Ic}=i$1("octer"),{octersub:Hc}=i$1("octersub"),{octersubsub:Vc}=i$1("octersubsub"),{ring:Fc}=i$1("ring"),{ringf:Dc}=i$1("ringf"),{ringdf:Gc}=i$1("ringdf"),{freeze:Qc}=i$1("freeze"),{xsdelay:Uc}=i$1("xsdelay"),{tsdelay:Kc}=i$1("tsdelay"),{real:Xc}=i$1("real"),{imag:Yc}=i$1("imag"),{enhance:Zc}=i$1("enhance"),{partials:tu}=i$1("partials"),{comb:eu}=i$1("comb"),{smear:nu$1}=i$1("smear"),{scram:su}=i$1("scram"),{binshift:ru$1}=i$1("binshift"),{hbrick:ou}=i$1("hbrick"),{lbrick:iu}=i$1("lbrick"),{frameRate:cu$1}=i$1("frameRate"),{frames:uu$1}=i$1("frames"),{hours:au}=i$1("hours"),{minutes:lu}=i$1("minutes"),{seconds:pu}=i$1("seconds"),{songPtr:fu}=i$1("songPtr"),{uid:hu}=i$1("uid"),{val:du$1}=i$1("val"),{cps:mu}=i$1("cps"),{clip:yu,legato:wu}=i$1("clip","legato"),{duration:gu,dur:bu}=i$1("duration","dur"),{zrand:_u}=i$1("zrand"),{curve:vu}=i$1("curve"),{deltaSlide:ku}=i$1("deltaSlide"),{pitchJump:qu}=i$1("pitchJump"),{pitchJumpTime:Au$1}=i$1("pitchJumpTime"),{lfo:Su,repeatTime:Tu}=i$1("lfo","repeatTime"),{znoise:Cu$1}=i$1("znoise"),{zmod:xu}=i$1("zmod"),{zcrush:Bu}=i$1("zcrush"),{zdelay:Ou}=i$1("zdelay"),{zzfx:zu}=i$1("zzfx"),{color:Eu,colour:Mu}=i$1(["color","colour"]);let Pu=(...e)=>e.reduce((r,o)=>Object.assign(r,{[o]:Bt(o)}),{});const Ju=l("adsr",(e,r)=>{e=Array.isArray(e)?e:[e];const[o,qe,bt,Nt]=e;return r.set({attack:o,decay:qe,sustain:bt,release:Nt})}),ju=l("ad",(e,r)=>{e=Array.isArray(e)?e:[e];const[o,qe=o]=e;return r.attack(o).decay(qe)}),Nu=l("ds",(e,r)=>{e=Array.isArray(e)?e:[e];const[o,qe=0]=e;return r.set({decay:o,sustain:qe})}),Wu=l("ar",(e,r)=>{e=Array.isArray(e)?e:[e];const[o,qe=o]=e;return r.set({attack:o,release:qe})}),{midichan:$u}=i$1("midichan"),{midimap:Ru}=i$1("midimap"),{midiport:Lu}=i$1("midiport"),{midicmd:Iu}=i$1("midicmd"),Hu=l("control",(e,r)=>{if(!Array.isArray(e))throw new Error("control expects an array of [ccn, ccv]");const[o,qe]=e;return r.ccn(o).ccv(qe)}),{ccn:Vu}=i$1("ccn"),{ccv:Fu}=i$1("ccv"),{ctlNum:Du$1}=i$1("ctlNum"),{nrpnn:Gu}=i$1("nrpnn"),{nrpv:Qu$1}=i$1("nrpv"),{progNum:Uu}=i$1("progNum"),Ku=l("sysex",(e,r)=>{if(!Array.isArray(e))throw new Error("sysex expects an array of [id, data]");const[o,qe]=e;return r.sysexid(o).sysexdata(qe)}),{sysexid:Xu}=i$1("sysexid"),{sysexdata:Yu}=i$1("sysexdata"),{midibend:Zu}=i$1("midibend"),{miditouch:ta}=i$1("miditouch"),{polyTouch:ea}=i$1("polyTouch"),{oschost:na}=i$1("oschost"),{oscport:sa}=i$1("oscport"),se=e=>rt$1.has(e)?rt$1.get(e):e,ra=l("as",(e,r)=>(e=Array.isArray(e)?e:[e],r.fmap(o=>(o=Array.isArray(o)?o:[o],o=Object.fromEntries(e.map((qe,bt)=>[se(qe),o[bt]])),o)))),oa=l("scrub",(e,r)=>e.outerBind(o=>{Array.isArray(o)||(o=[o]);const[qe,bt=1]=o;return r.begin(qe).mul(ne$1(bt)).clip(1)}),!1),Qf=Object.freeze(Object.defineProperty({__proto__:null,accelerate:Os,activeLabel:xi,ad:ju,adsr:Ju,amp:Ps,analyze:Us,anchor:Zi,ar:Wu,as:ra,att:js,attack:Js,bandf:rr,bandq:cr,bank:Gs,bbexpr:Or$1,bbst:Er,begin:ar,binshift:ru$1,bp:ir,bpa:po,bpattack:lo,bpd:go,bpdecay:wo,bpe:oo,bpenv:ro,bpf:or,bpq:ur,bpr:Oo,bprelease:Bo,bps:Ao,bpsustain:qo,byteBeatExpression:Br,byteBeatStartTime:zr$1,ccn:Vu,ccv:Fu,ch:Pr,channel:Qr$1,channels:Mr$1,chord:Ki,chorus:Qs,clip:yu,coarse:wr,color:Eu,colour:Mu,comb:eu,compressor:qc,compressorAttack:Tc,compressorKnee:Ac,compressorRatio:Sc,compressorRelease:Cc,control:Hu,cps:mu,createParam:Bt,createParams:Pu,crush:yr,ctf:Xr$1,ctlNum:Du$1,ctranspose:Ei,curve:vu,cut:Ur$1,cutoff:Kr$1,dec:Ys,decay:Xs,degree:Oi,delay:Go,delayfb:Uo,delayfeedback:Qo,delayspeed:Xo,delaysync:ei,delayt:Zo,delaytime:Yo,deltaSlide:ku,density:Mc,det:ri,detune:si,dfb:Ko,dict:Yi,dictionary:Xi,dist:_c,distort:bc,distorttype:kc,distortvol:vc,djf:Do,drive:Ar,dry:ci,ds:Nu,dt:ti,duck:Sr,duckattack:xr,duckdepth:Tr$1,duckonset:Cr,dur:bu,duration:gu,end:lr,enhance:Zc,expression:Pc,fadeInTime:li,fadeOutTime:ai,fadeTime:ui,fanchor:Eo,fft:Ks,fm:$s,fmattack:Ls,fmdecay:Hs,fmenv:Rs,fmh:Ns,fmi:Ws,fmrelease:Fs,fmsustain:Vs,fmvelocity:Ds,fmwave:Is,frameRate:cu$1,frames:uu$1,freeze:Qc,freq:pi,fshift:jc,fshiftnote:Nc,fshiftphase:Wc,ftype:zo,gain:Es,gat:Ai,gate:qi,getControlName:se,harmonic:Mi,hbrick:ou,hcutoff:$o,hold:sr,hours:au,hp:Lo,hpa:ao,hpattack:uo,hpd:yo,hpdecay:mo,hpe:so,hpenv:no,hpf:Ro,hpq:Ho,hpr:xo,hprelease:Co,hps:ko,hpsustain:vo,hresonance:Io,imag:Yc,ir:lc,irbegin:hc,iresponse:pc,irspeed:fc,isControlName:$n,kcutoff:Lc,krush:Rc,label:Bi,lbrick:iu,legato:wu,leslie:Si,lfo:Su,lock:ni,loop:pr,loopBegin:fr,loopEnd:dr,loopb:hr,loope:mr,lp:Zr$1,lpa:co,lpattack:io,lpd:ho,lpdecay:fo,lpe:eo,lpenv:to,lpf:Yr$1,lpq:Fo,lpr:To,lprelease:So,lps:_o,lpsustain:bo,lrate:Ti,lsize:Ci,midibend:Zu,midichan:$u,midicmd:Iu,midimap:Ru,midiport:Lu,miditouch:ta,minutes:lu,mode:nc,mtranspose:zi,n:xs,noise:jo,note:Bs,nrpnn:Gu,nrpv:Qu$1,nudge:ji,octave:Ni,octaveR:Ji,octaves:ec,octer:Ic,octersub:Hc,octersubsub:Vc,offset:tc,orbit:Wi,oschost:na,oscport:sa,overgain:$i,overshape:Ri,pan:Li,panchor:ki,panorient:Fi,panspan:Ii,pansplay:Hi,panwidth:Vi,partials:tu,patt:hi,pattack:fi,pcurve:vi,pdec:mi,pdecay:di,penv:_i,ph:$r,phasdp:Gr$1,phaser:Rr,phasercenter:Hr$1,phaserdepth:Fr,phaserrate:Wr$1,phasersweep:Lr,phc:Vr$1,phd:Dr,phs:Ir,pitchJump:qu,pitchJumpTime:Au$1,polyTouch:ea,postgain:Ms,prel:bi,prelease:gi,progNum:Uu,psus:wi,psustain:yi,pw:Jr$1,pwrate:jr,pwsweep:Nr,rate:Di,rdim:cc,real:Xc,registerControl:i$1,rel:nr,release:er,repeatTime:Tu,resonance:Vo,rfade:ac,ring:Fc,ringdf:Gc,ringf:Dc,rlp:oc,room:sc,roomdim:ic,roomfade:uc,roomlp:rc,roomsize:dc,rsize:wc,s:Rn,scram:su,scrub:oa,seconds:pu,semitone:Qi,shape:gc,size:mc,slide:Gi,smear:nu$1,songPtr:fu,sound:Ln,source:Ts,speed:ne$1,spread:ii,squiz:Oc,src:Cs,stepsPerOctave:Pi,stretch:xc,sus:tr$1,sustain:Zs,sustainpedal:Jc,sysex:Ku,sysexdata:Yu,sysexid:Xu,sz:yc,tremolo:gr,tremolodepth:_r,tremolophase:kr,tremoloshape:qr,tremoloskew:vr,tremolosync:br,triode:$c,tsdelay:Kc,uid:hu,unison:oi,unit:Bc,v:Jo,val:du$1,velocity:zs,vib:Mo,vibmod:No,vibrato:Po,vmod:Wo,voice:Ui,vowel:zc,warp:os,warpatt:us$1,warpattack:cs,warpdc:gs,warpdec:ls,warpdecay:as,warpdepth:ys,warpenv:As,warpmode:_s,warprate:ms,warprel:ds,warprelease:hs,warpshape:ws,warpskew:bs,warpsus:fs,warpsustain:ps,warpsync:Ss,waveloss:Ec,wavetablePhaseRand:qs,wavetablePosition:Hn,wavetableWarp:is,wavetableWarpMode:vs,wt:In,wtatt:Dn,wtattack:Fn,wtdc:ss,wtdec:Qn,wtdecay:Gn,wtdepth:es,wtenv:Vn,wtphaserand:ks,wtrate:Zn,wtrel:Yn,wtrelease:Xn,wtshape:ns,wtskew:rs,wtsus:Kn,wtsustain:Un,wtsync:ts,xsdelay:Uc,zcrush:Bu,zdelay:Ou,zmod:xu,znoise:Cu$1,zrand:_u,zzfx:zu},Symbol.toStringTag,{value:"Module"})),ia=function(e,r){const[o,qe]=e,[bt,Nt]=r,[Na,ld]=Kt(qe,bt);return[[qe,o-qe],[At((fd,hd)=>fd.concat(hd),Na,Nt),ld]]},ca=function(e,r){const[o,qe]=e,[bt,Nt]=r,[Na,ld]=Kt(o,Nt);return[[o,qe-o],[At((fd,hd)=>fd.concat(hd),bt,Na),ld]]},re=function(e,r){const[o,qe]=e;return Math.min(o,qe)<=1?[e,r]:re(...o>qe?ia(e,r):ca(e,r))},oe=function(e,r){const o=e<0,qe=Math.abs(e),bt=r-qe,Nt=Array(qe).fill([1]),Na=Array(bt).fill([0]),ld=re([qe,bt],[Nt,Na]),fd=D$2(ld[1][0]).concat(D$2(ld[1][1]));return o?fd.map(hd=>1-hd):fd},dt$1=function(e,r,o){const qe=oe(e,r);return o?$e$1(qe,-o):qe},Uf=l("euclid",function(e,r,o){return o.struct(dt$1(e,r,0))}),Kf=l("e",function(e,r){Array.isArray(e)||(e=[e]);const[o,qe=o,bt=0]=e;return r.struct(dt$1(o,qe,bt))}),{euclidrot:Xf,euclidRot:Yf}=l(["euclidrot","euclidRot"],function(e,r,o,qe){return qe.struct(dt$1(e,r,o))}),ie=function(e,r,o,qe){if(e<1)return v$3;const bt=dt$1(e,r,0).join("").split("1").slice(1).map(Nt=>[Nt.length+1,!0]);return qe.struct(Pn(...bt)).late(h(o).div(r))},Zf=l(["euclidLegato"],function(e,r,o){return ie(e,r,0,o)}),th=l(["euclidLegatoRot"],function(e,r,o,qe){return ie(e,r,o,qe)}),{euclidish:eh,eish:nh}=l(["euclidish","eish"],function(e,r,o,qe){const bt=ee$2(oe(e,r),new Array(e).fill(1),o);return qe.struct(bt).setSteps(r)});function ua(e,r,o=.05,qe=.1,bt=.1,Nt=globalThis.setInterval,Na=globalThis.clearInterval,ld=!0){let fd=0,hd=0,dd=10**4,gd=.01;const yd=Dd=>o=Dd(o);bt=bt||qe/2;const _d=()=>{const Dd=e(),Td=Dd+qe+bt;for(hd===0&&(hd=Dd+gd);hd<Td;)hd=ld?Math.round(hd*dd)/dd:hd,r(hd,o,fd,Dd),hd+=o,fd++};let Ad;const xd=()=>{Cd(),_d(),Ad=Nt(_d,qe*1e3)},Cd=()=>{Ad!==void 0&&Na(Ad),Ad=void 0};return{setDuration:yd,start:xd,stop:()=>{fd=0,hd=0,Cd()},pause:()=>Cd(),duration:o,interval:qe,getPhase:()=>hd,minLatency:gd}}function sh(e){return new f(r=>[new C$3(void 0,r.span,e)])}const I$2=e=>{const r=o=>[new C$3(void 0,o.span,e(o.span.begin))];return new f(r)},mt=I$2(e=>e%1),ce$2=mt.toBipolar(),Ot=I$2(e=>1-e%1),ue$2=Ot.toBipolar(),ae=I$2(e=>Math.sin(Math.PI*2*e)),aa=ae.fromBipolar(),rh=aa._early(h(1).div(4)),oh=ae._early(h(1).div(4)),la=I$2(e=>Math.floor(e*2%2)),ih=la.toBipolar(),ch=W$3(mt,Ot),uh=W$3(ce$2,ue$2),ah=W$3(Ot,mt),lh=W$3(ue$2,ce$2),le=I$2(et$1);let zt=0,Et=0;typeof window<"u"&&document.addEventListener("mousemove",e=>{zt=e.clientY/document.body.clientHeight,Et=e.clientX/document.body.clientWidth});const ph=I$2(()=>zt),fh=I$2(()=>zt),hh=I$2(()=>Et),dh=I$2(()=>Et),pe$1=e=>{const r=e<<13^e,o=r>>17^r;return o<<5^o},pa=e=>e-Math.trunc(e),fe$1=e=>pe$1(Math.trunc(pa(e/300)*536870912)),he$1=e=>e%536870912/536870912,ot$1=e=>Math.abs(he$1(fe$1(e))),fa=(e,r)=>{const o=[];for(let qe=0;qe<r;++qe)o.push(he$1(e)),e=pe$1(e);return o},ha=(e,r)=>fa(fe$1(e),r),da=e=>mt.range(0,e).round().segment(e),mh=e=>{const r=d$1(e).log2(0).floor().add(1);return ma(e,r)},ma=(e,r=16)=>{r=d$1(r);const o=da(r).mul(-1).add(r.sub(1));return d$1(e).segment(r).brshift(o).band(z$2(1))},ya=e=>I$2(r=>{const o=ha(r.floor().add(.5),e).map((bt,Nt)=>[bt,Nt]).sort((bt,Nt)=>(bt[0]>Nt[0])-(bt[0]<Nt[0])).map(bt=>bt[1]),qe=r.cyclePos().mul(e).floor()%e;return o[qe]})._segment(e),de$1=(e,r,o)=>{const qe=[...Array(r).keys()].map(bt=>o.zoom(h(bt).div(r),h(bt+1).div(r)));return e.fmap(bt=>qe[bt].repeatCycles(r)._fast(r)).innerJoin()},yh=l("shuffle",(e,r)=>de$1(ya(e),e,r)),wh=l("scramble",(e,r)=>de$1(ye$1(e)._segment(e),e,r)),L$3=I$2(ot$1),gh=L$3.toBipolar(),me$1=e=>L$3.fmap(r=>r<e),bh=e=>d$1(e).fmap(me$1).innerJoin(),_h=me$1(.5),ye$1=e=>L$3.fmap(r=>Math.trunc(r*e)),vh=e=>d$1(e).fmap(ye$1).innerJoin(),we$1=(e,r)=>(r=r.map(d$1),r.length==0?v$3:e.range(0,r.length).fmap(o=>{const qe=Math.min(Math.max(Math.floor(o),0),r.length-1);return r[qe]})),Mt=(e,r)=>we$1(e,r).outerJoin(),ge$1=(e,r)=>we$1(e,r).innerJoin(),wa=(...e)=>Mt(L$3,e),kh=(...e)=>ge$1(L$3,e),qh=wa;f.prototype.choose=function(...e){return Mt(this,e)},f.prototype.choose2=function(...e){return Mt(this.fromBipolar(),e)};const ga=(...e)=>ge$1(L$3.segment(1),e),Ah=ga,be$1=function(e,...r){const o=r.map(ld=>d$1(ld[0])),qe=[];let bt=z$2(0);for(const ld of r)bt=bt.add(ld[1]),qe.push(bt);const Nt=fn(qe),Na=function(ld){const fd=bt.mul(ld);return Nt.fmap(hd=>dd=>o[hd.findIndex(gd=>gd>dd,hd)]).appLeft(fd)};return e.bind(Na)},ba=(...e)=>be$1(...e).outerJoin(),Sh=(...e)=>ba(L$3,...e),_a=(...e)=>be$1(L$3.segment(1),...e).innerJoin(),Th=_a;function va(e){let r=Math.floor(e),o=r+1;const qe=bt=>6*bt**5-15*bt**4+10*bt**3;return(bt=>Nt=>Na=>Nt+qe(bt)*(Na-Nt))(e-r)(ot$1(r))(ot$1(o))}const ka=e=>e.fmap(va);function qa(e){const r=Math.floor(e),o=r+1,qe=ot$1(r),bt=ot$1(o)+qe,Nt=(e-r)/(o-r);return((Na,ld,fd)=>Na+(ld-Na)*fd)(qe,bt,Nt)/2}const Aa=e=>e.fmap(qa),Ch=ka(le.fmap(e=>Number(e))),xh=Aa(le.fmap(e=>Number(e))),Bh=l("degradeByWith",(e,r,o)=>o.fmap(qe=>bt=>qe).appLeft(e.filterValues(qe=>qe>r)),!0,!0),Oh=l("degradeBy",function(e,r){return r._degradeByWith(L$3,e)},!0,!0),zh=l("degrade",e=>e._degradeBy(.5),!0,!0),Eh=l("undegradeBy",function(e,r){return r._degradeByWith(L$3.fmap(o=>1-o),e)},!0,!0),Mh=l("undegrade",e=>e._undegradeBy(.5),!0,!0),Ph=l("sometimesBy",function(e,r,o){return d$1(e).fmap(qe=>B$1(o._degradeBy(qe),r(o._undegradeBy(1-qe)))).innerJoin()}),Jh=l("sometimes",function(e,r){return r._sometimesBy(.5,e)}),jh=l("someCyclesBy",function(e,r,o){return d$1(e).fmap(qe=>B$1(o._degradeByWith(L$3._segment(1),qe),r(o._degradeByWith(L$3.fmap(bt=>1-bt)._segment(1),1-qe)))).innerJoin()}),Nh=l("someCycles",function(e,r){return r._someCyclesBy(.5,e)}),Wh=l("often",function(e,r){return r.sometimesBy(.75,e)}),$h=l("rarely",function(e,r){return r.sometimesBy(.25,e)}),Rh=l("almostNever",function(e,r){return r.sometimesBy(.1,e)}),Lh=l("almostAlways",function(e,r){return r.sometimesBy(.9,e)}),Ih=l("never",function(e,r){return r}),Hh=l("always",function(e,r){return e(r)});function _e(e){Array.isArray(e)===!1&&(e=[e]);const r=sn();return e.every(o=>{const qe=nn.get(o)??o;return r[qe]})}const Vh=l("whenKey",function(e,r,o){return o.when(_e(e),r)}),Fh=l("keyDown",function(e){return e.fmap(_e)}),H$4=function(e,r,o=!0){const qe=Array.isArray(e),bt=Object.keys(e).length;return e=Ze$1(e,d$1),bt===0?v$3:r.fmap(Nt=>{let Na=Nt;return qe&&(Na=o?Math.round(Na)%bt:He(Math.round(Na),0,e.length-1)),e[Na]})},Sa=function(e,r){return Array.isArray(r)&&([r,e]=[e,r]),Ta(e,r)},Ta=l("pick",function(e,r){return H$4(e,r,!1).innerJoin()}),Ca=l("pickmod",function(e,r){return H$4(e,r,!0).innerJoin()}),Dh=l("pickF",function(e,r,o){return o.apply(Sa(e,r))}),Gh=l("pickmodF",function(e,r,o){return o.apply(Ca(e,r))}),Qh=l("pickOut",function(e,r){return H$4(e,r,!1).outerJoin()}),Uh=l("pickmodOut",function(e,r){return H$4(e,r,!0).outerJoin()}),Kh=l("pickRestart",function(e,r){return H$4(e,r,!1).restartJoin()}),Xh=l("pickmodRestart",function(e,r){return H$4(e,r,!0).restartJoin()}),Yh=l("pickReset",function(e,r){return H$4(e,r,!1).resetJoin()}),Zh=l("pickmodReset",function(e,r){return H$4(e,r,!0).resetJoin()}),{inhabit:td,pickSqueeze:ed}=l(["inhabit","pickSqueeze"],function(e,r){return H$4(e,r,!1).squeezeJoin()}),{inhabitmod:nd,pickmodSqueeze:sd}=l(["inhabitmod","pickmodSqueeze"],function(e,r){return H$4(e,r,!0).squeezeJoin()}),rd=(e,r)=>(r=r.map(d$1),r.length==0?v$3:e.fmap(o=>{const qe=ft$1(Math.round(o),r.length);return r[qe]}).squeezeJoin());let lt$1;try{lt$1=window?.speechSynthesis}catch{console.warn("cannot use window: not in browser?")}let Vt=lt$1?.getVoices();function xa(e,r,o){lt$1.cancel();const qe=new SpeechSynthesisUtterance(e);qe.lang=r,Vt=lt$1.getVoices();const bt=Vt.filter(Nt=>Nt.lang.includes(r));typeof o=="number"?qe.voice=bt[o%bt.length]:typeof o=="string"&&(qe.voice=bt.find(Nt=>Nt.name===Nt)),speechSynthesis.speak(qe)}const od=l("speak",function(e,r,o){return o.onTrigger(qe=>{xa(qe.value,e,r)})}),Ba={},Oa=async(...e)=>{const r=await Promise.allSettled(e),o=r.filter(qe=>qe.status==="fulfilled").map(qe=>qe.value);return r.forEach((qe,bt)=>{qe.status==="rejected"&&console.warn(`evalScope: module with index ${bt} could not be loaded:`,qe.reason)}),o.forEach(qe=>{Object.entries(qe).forEach(([bt,Nt])=>{globalThis[bt]=Nt,Ba[bt]=Nt})}),o};function za(e,r={}){const{wrapExpression:o=!0,wrapAsync:qe=!0}=r;o&&(e=`{${e}}`),qe&&(e=`(async ()=>${e})()`);const bt=`"use strict";return (${e})`;return Function(bt)()}const Ea=async(e,r,o)=>{let qe={};if(r){const bt=r(e,o);e=bt.output,qe=bt}return{mode:"javascript",pattern:await za(e,{wrapExpression:!!r}),meta:qe}};class Ma{constructor({onTrigger:r,onToggle:o,getTime:qe}){this.started=!1,this.cps=.5,this.getTime=qe,this.time_at_last_tick_message=0,this.collator=new tn({getTargetClockTime:qe}),this.onToggle=o,this.latency=.1,this.cycle=0,this.id=Math.round(Date.now()*Math.random()),this.worker=new SharedWorker(new URL(""+new URL("data:text/javascript;base64,KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2Z1bmN0aW9uIEwoKXtyZXR1cm4gcGVyZm9ybWFuY2Uubm93KCkqLjAwMX1sZXQgXz0wLHI9MCxvPS41O2NvbnN0IGg9bmV3IE1hcCxtPS4xLE09bmV3IEJyb2FkY2FzdENoYW5uZWwoInN0cnVkZWx0aWNrIiksYj0ocyxlKT0+e00ucG9zdE1lc3NhZ2Uoe3R5cGU6cyxwYXlsb2FkOmV9KX0sQz1FKEwsKHMsZSx0LG4pPT57Y29uc3QgaT1yKmUsZD1zLW4sYz1uK2QsdT1pKm8sbD1fK3UsZz1uLWMtZSxmPWUqbyxwPWwrZix5PWwrZypvO2IoInRpY2siLHtiZWdpbjpsLGVuZDpwLGNwczpvLHRpbWU6bixjeWNsZTp5fSkscisrfSxtKTtsZXQgaz0hMTtjb25zdCBJPXM9PntoLnNldChzLHtzdGFydGVkOiEwfSksIWsmJihDLnN0YXJ0KCksaz0hMCl9LEE9YXN5bmMgcz0+e2guc2V0KHMse3N0YXJ0ZWQ6ITF9KTtjb25zdCBlPUFycmF5LmZyb20oaC52YWx1ZXMoKSkuc29tZSh0PT50LnN0YXJ0ZWQpOyFrfHxlfHwoQy5zdG9wKCksdygwKSxrPSExKX0sdz1zPT57cj0wLF89c30sRD1zPT57Y29uc3R7dHlwZTplLHBheWxvYWQ6dH09cztzd2l0Y2goZSl7Y2FzZSJjcHNjaGFuZ2UiOntpZih0LmNwcyE9PW8pe2NvbnN0IG49ciptO189XytuKm8sbz10LmNwcyxyPTB9YnJlYWt9Y2FzZSJzZXRjeWNsZSI6e3codC5jeWNsZSk7YnJlYWt9Y2FzZSJ0b2dnbGUiOnt0LnN0YXJ0ZWQ/SShzLmlkKTpBKHMuaWQpO2JyZWFrfX19O3NlbGYub25jb25uZWN0PWZ1bmN0aW9uKHMpe2NvbnN0IGU9cy5wb3J0c1swXTtlLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKHQpe0QodC5kYXRhKX0pLGUuc3RhcnQoKX07ZnVuY3Rpb24gRShzLGUsdD0uMDUsbj0uMSxpPS4xKXtsZXQgZD0wLGM9MCx1PTEwKio0LGw9LjAxO2NvbnN0IGc9YT0+dD1hKHQpO2k9aXx8bi8yO2NvbnN0IGY9KCk9Pntjb25zdCBhPXMoKSxPPWErbitpO2ZvcihjPT09MCYmKGM9YStsKTtjPE87KWM9TWF0aC5yb3VuZChjKnUpL3UsYz49YSYmZShjLHQsZCxhKSxjPGEmJmNvbnNvbGUubG9nKCJUT08gTEFURSIsYyksYys9dCxkKyt9O2xldCBwO2NvbnN0IHk9KCk9PntUKCksZigpLHA9c2V0SW50ZXJ2YWwoZixuKjFlMyl9LFQ9KCk9PnAhPT12b2lkIDAmJmNsZWFySW50ZXJ2YWwocCk7cmV0dXJue3NldER1cmF0aW9uOmcsc3RhcnQ6eSxzdG9wOigpPT57ZD0wLGM9MCxUKCl9LHBhdXNlOigpPT5UKCksZHVyYXRpb246dCxpbnRlcnZhbDpuLGdldFBoYXNlOigpPT5jLG1pbkxhdGVuY3k6bH19fSkoKTsK",_documentCurrentScript&&_documentCurrentScript.tagName.toUpperCase()==="SCRIPT"&&_documentCurrentScript.src||new URL("strudel.bundle.js",document.baseURI).href).href,_documentCurrentScript&&_documentCurrentScript.tagName.toUpperCase()==="SCRIPT"&&_documentCurrentScript.src||new URL("strudel.bundle.js",document.baseURI).href)),this.worker.port.start(),this.channel=new BroadcastChannel("strudeltick");const bt=Na=>{const{cps:ld,begin:fd,end:hd,cycle:dd,time:gd}=Na;this.cps=ld,this.cycle=dd;const yd=this.collator.calculateOffset(gd)+gd;Nt(fd,hd,yd),this.time_at_last_tick_message=yd},Nt=(Na,ld,fd)=>{this.started!==!1&&this.pattern.queryArc(Na,ld,{_cps:this.cps,cyclist:"neocyclist"}).forEach(hd=>{if(hd.hasOnset()){const dd=Rt(hd.whole.begin-this.cycle,this.cps)+fd+this.latency,gd=Rt(hd.duration,this.cps);r?.(hd,0,gd,this.cps,dd)}})};this.channel.onmessage=Na=>{if(!this.started)return;const{payload:ld,type:fd}=Na.data;switch(fd){case"tick":bt(ld)}}}sendMessage(r,o){this.worker.port.postMessage({type:r,payload:o,id:this.id})}now(){const r=(this.getTime()-this.time_at_last_tick_message)*this.cps;return this.cycle+r}setCps(r=1){this.sendMessage("cpschange",{cps:r})}setCycle(r){this.sendMessage("setcycle",{cycle:r})}setStarted(r){this.sendMessage("toggle",{started:r}),this.started=r,this.onToggle?.(r)}start(){E$1("[cyclist] start"),this.setStarted(!0)}stop(){E$1("[cyclist] stop"),this.collator.reset(),this.setStarted(!1)}setPattern(r,o=!1){this.pattern=r,o&&!this.started&&this.start()}log(r,o,qe){const bt=qe.filter(Nt=>Nt.hasOnset());console.log(`${r.toFixed(4)} - ${o.toFixed(4)} ${Array(bt.length).fill("I").join("")}`)}}class Pa{constructor({interval:r,onTrigger:o,onToggle:qe,onError:bt,getTime:Nt,latency:Na=.1,setInterval:ld,clearInterval:fd,beforeStart:hd}){this.started=!1,this.beforeStart=hd,this.cps=.5,this.num_ticks_since_cps_change=0,this.lastTick=0,this.lastBegin=0,this.lastEnd=0,this.getTime=Nt,this.num_cycles_at_cps_change=0,this.seconds_at_cps_change,this.onToggle=qe,this.latency=Na,this.clock=ua(Nt,(dd,gd,yd,_d)=>{this.num_ticks_since_cps_change===0&&(this.num_cycles_at_cps_change=this.lastEnd,this.seconds_at_cps_change=dd),this.num_ticks_since_cps_change++;const Ad=this.num_ticks_since_cps_change*gd*this.cps;try{const xd=this.lastEnd;this.lastBegin=xd;const Cd=this.num_cycles_at_cps_change+Ad;if(this.lastEnd=Cd,this.lastTick=dd,dd<_d){console.log("skip query: too late");return}this.pattern.queryArc(xd,Cd,{_cps:this.cps,cyclist:"cyclist"}).forEach(Dd=>{if(Dd.hasOnset()){const Td=(Dd.whole.begin-this.num_cycles_at_cps_change)/this.cps+this.seconds_at_cps_change+Na,Bd=Dd.duration/this.cps,Md=Td-dd;o?.(Dd,Md,Bd,this.cps,Td),Dd.value.cps!==void 0&&this.cps!=Dd.value.cps&&(this.cps=Dd.value.cps,this.num_ticks_since_cps_change=0)}})}catch(xd){Gt(xd),bt?.(xd)}},r,.1,.1,ld,fd)}now(){if(!this.started)return 0;const r=this.getTime()-this.lastTick-this.clock.duration;return this.lastBegin+r*this.cps}setStarted(r){this.started=r,this.onToggle?.(r)}async start(){if(await this.beforeStart?.(),this.num_ticks_since_cps_change=0,this.num_cycles_at_cps_change=0,!this.pattern)throw new Error("Scheduler: no pattern set! call .setPattern first.");E$1("[cyclist] start"),this.clock.start(),this.setStarted(!0)}pause(){E$1("[cyclist] pause"),this.clock.pause(),this.setStarted(!1)}stop(){E$1("[cyclist] stop"),this.clock.stop(),this.lastEnd=0,this.setStarted(!1)}async setPattern(r,o=!1){this.pattern=r,o&&!this.started&&await this.start()}setCps(r=.5){this.cps!==r&&(this.cps=r,this.num_ticks_since_cps_change=0)}log(r,o,qe){const bt=qe.filter(Nt=>Nt.hasOnset());console.log(`${r.toFixed(4)} - ${o.toFixed(4)} ${Array(bt.length).fill("I").join("")}`)}}let kt;function id(){if(!kt)throw new Error("no time set! use setTime to define a time source");return kt()}function Ft(e){kt=e}function cd({defaultOutput:e,onEvalError:r,beforeEval:o,beforeStart:qe,afterEval:bt,getTime:Nt,transpiler:Na,onToggle:ld,editPattern:fd,onUpdateState:hd,sync:dd=!1,setInterval:gd,clearInterval:yd,id:_d,mondo:Ad=!1}){const xd={schedulerError:void 0,evalError:void 0,code:"// LOADING",activeCode:"// LOADING",pattern:void 0,miniLocations:[],widgets:[],pending:!1,started:!1},Cd={id:_d},Dd=Cm=>{Object.assign(xd,Cm),xd.isDirty=xd.code!==xd.activeCode,xd.error=xd.evalError||xd.schedulerError,hd?.(xd)},Td={onTrigger:Ja({defaultOutput:e,getTime:Nt}),getTime:Nt,onToggle:Cm=>{Dd({started:Cm}),ld?.(Cm)},setInterval:gd,clearInterval:yd,beforeStart:qe},Bd=dd&&typeof SharedWorker<"u"?new Ma(Td):new Pa(Td);let Md={},Ed=0,Gd;const Qd=function(){return Md={},Ed=0,Gd=void 0,v$3};function zd(Cm){return Cm._Pattern?Cm.__pure:Cm}const nm=async(Cm,Zm=!0)=>(Cm=fd?.(Cm)||Cm,await Bd.setPattern(Cm,Zm),Cm);Ft(()=>Bd.now());const qd=()=>Bd.stop(),dm=()=>Bd.start(),im=()=>Bd.pause(),sm=()=>Bd.toggle(),mm=Cm=>(Bd.setCps(zd(Cm)),v$3),Mm=Cm=>(Bd.setCps(zd(Cm)/60),v$3);let Om=[];const km=function(Cm){return Om.push(Cm),v$3},vm=function(Cm){return Gd=Cm,v$3},t0=()=>{f.prototype.p=function(Zm){return typeof Zm=="string"&&(Zm.startsWith("_")||Zm.endsWith("_"))?v$3:(Zm==="$"&&(Zm=`$${Ed}`,Ed++),Md[Zm]=this,this)},f.prototype.q=function(Zm){return v$3};try{for(let Zm=1;Zm<10;++Zm)Object.defineProperty(f.prototype,`d${Zm}`,{get(){return this.p(Zm)},configurable:!0}),Object.defineProperty(f.prototype,`p${Zm}`,{get(){return this.p(Zm)},configurable:!0}),f.prototype[`q${Zm}`]=v$3}catch(Zm){console.warn("injectPatternMethods: error:",Zm)}const Cm=l("cpm",function(Zm,cm){return cm._fast(Zm/60/Bd.cps)});return Oa({all:km,each:vm,hush:Qd,cpm:Cm,setCps:mm,setcps:mm,setCpm:Mm,setcpm:Mm})};return{scheduler:Bd,evaluate:async(Cm,Zm=!0,cm=!0)=>{if(!Cm)throw new Error("no code to evaluate");try{Dd({code:Cm,pending:!0}),await t0(),Ft(()=>Bd.now()),await o?.({code:Cm}),Om=[],cm&&Qd(),Ad&&(Cm=`mondolang\`${Cm}\``);let{pattern:Xm,meta:Hd}=await Ea(Cm,Na,Cd);if(Object.keys(Md).length){let r0=[];for(const[jm,am]of Object.entries(Md))r0.push(am.withState(Hm=>Hm.setControls({id:jm})));Gd&&(r0=r0.map(jm=>Gd(jm))),Xm=B$1(...r0)}else Gd&&(Xm=Gd(Xm));if(Om.length)for(let r0 in Om)Xm=Om[r0](Xm);if(!Yt(Xm)){const r0=`got "${typeof evaluated}" instead of pattern`;throw new Error(r0+(typeof evaluated=="function"?", did you forget to call a function?":"."))}return E$1("[eval] code updated"),Xm=await nm(Xm,Zm),Dd({miniLocations:Hd?.miniLocations||[],widgets:Hd?.widgets||[],activeCode:Cm,pattern:Xm,evalError:void 0,schedulerError:void 0,pending:!1}),bt?.({code:Cm,pattern:Xm,meta:Hd}),Xm}catch(Xm){E$1(`[eval] error: ${Xm.message}`,"error"),console.error(Xm),Dd({evalError:Xm,pending:!1}),r?.(Xm)}},start:dm,stop:qd,pause:im,setCps:mm,setPattern:nm,setCode:Cm=>Dd({code:Cm}),toggle:sm,state:xd}}const Ja=({getTime:e,defaultOutput:r})=>async(o,qe,bt,Nt,Na)=>{try{(!o.context.onTrigger||!o.context.dominantTrigger)&&await r(o,qe,bt,Nt,Na),o.context.onTrigger&&await o.context.onTrigger(o,e(),Nt,Na)}catch(ld){Gt(ld,"getTrigger")}},ud=function(e,r={}){const o=document.getElementById("code"),qe="background-image:url("+e+");background-size:contain;";o.style=qe;const{className:bt}=o,Nt=(ld,fd)=>{({style:()=>o.style=qe+";"+fd,className:()=>o.className=fd+" "+bt})[ld]()},Na=Object.entries(r).filter(([ld,fd])=>typeof fd=="function");Object.entries(r).filter(([ld,fd])=>typeof fd=="string").forEach(([ld,fd])=>Nt(ld,fd)),Na.length},ad=()=>{const e=document.getElementById("code");e&&(e.style="")};E$1("ðŸŒ€ @strudel/core loaded ðŸŒ€"),globalThis._strudelLoaded&&console.warn(`@strudel/core was loaded more than once...
This might happen when you have multiple versions of strudel installed. 
Please check with "npm ls @strudel/core".`),globalThis._strudelLoaded=!0;const strudelCore=Object.freeze(Object.defineProperty({__proto__:null,ClockCollator:tn,Cyclist:Pa,Fraction:h,Hap:C$3,Pattern:f,State:st$1,TimeSpan:x$2,__chooseWith:we$1,_brandBy:me$1,_fitslice:_n,_irand:ye$1,_keyDown:_e,_match:vn,_mod:ft$1,_morph:ee$2,_polymeterListSteps:qn,_retime:Lt,_slices:It,accelerate:Os,activeLabel:xi,ad:ju,add:Al,adsr:Ju,almostAlways:Lh,almostNever:Rh,always:Hh,amp:Ps,analyze:Us,anchor:Zi,and:Hl,apply:_p,applyN:bn,ar:Wu,arp:rl,arpWith:sl,arrange:al,as:ra,att:js,attack:Js,averageArray:Ne,backgroundImage:ud,band:Ol,bandf:rr,bandq:cr,bank:Gs,base64ToUnicode:Ye$1,bbexpr:Or$1,bbst:Er,beat:Df,begin:ar,berlin:xh,berlinWith:Aa,binary:mh,binaryN:ma,bind:ml,binshift:ru$1,bite:Tp,bjork:oe,blshift:Ml,bor:zl,bp:ir,bpa:po,bpattack:lo,bpd:go,bpdecay:wo,bpe:oo,bpenv:ro,bpf:or,bpq:ur,bpr:Oo,bprelease:Bo,bps:Ao,bpsustain:qo,brak:jp,brand:_h,brandBy:bh,brshift:Pl,bxor:El,bypass:hf,byteBeatExpression:Br,byteBeatStartTime:zr$1,calculateSteps:el,cat:at$1,ccn:Vu,ccv:Fu,ceil:Ql,ch:Pr,channel:Qr$1,channels:Mr$1,choose:wa,chooseCycles:ga,chooseIn:kh,chooseInWith:ge$1,chooseOut:qh,chooseWith:Mt,chop:Nf,chord:Ki,chorus:Qs,chunk:ef,chunkBack:rf,chunkBackInto:ff,chunkInto:lf,chunkback:of,chunkbackinto:pf,chunkinto:af,clamp:He,cleanupUi:ad,clip:yu,coarse:wr,code2hash:Ya,color:Eu,colour:Mu,comb:eu,compose:Da,compress:ep,compressSpan:np,compressor:qc,compressorAttack:Tc,compressorKnee:Ac,compressorRatio:Sc,compressorRelease:Cc,compressspan:sp,constant:Ga,contract:Bn,control:Hu,controls:Qf,cosine:rh,cosine2:oh,cpm:vp,cps:mu,createClock:ua,createParam:Bt,createParams:Pu,crush:yr,ctf:Xr$1,ctlNum:Du$1,ctranspose:Ei,curry:w$2,curve:vu,cut:Ur$1,cutoff:Kr$1,cycleToSeconds:Rt,dec:Ys,decay:Xs,degrade:zh,degradeBy:Oh,degradeByWith:Bh,degree:Oi,delay:Go,delayfb:Uo,delayfeedback:Qo,delayspeed:Xo,delaysync:ei,delayt:Zo,delaytime:Yo,deltaSlide:ku,det:ri,detune:si,dfb:Ko,dict:Yi,dictionary:Xi,dist:_c,distort:bc,distorttype:kc,distortvol:vc,div:Cl,djf:Do,drawLine:un,drive:Ar,drop:Tn,dry:ci,ds:Nu,dt:ti,duck:Sr,duckattack:xr,duckdepth:Tr$1,duckonset:Cr,dur:bu,duration:gu,e:Kf,early:kp,echo:Gp,echoWith:Hp,echowith:Vp,eish:nh,end:lr,enhance:Zc,eq:$l,eqt:Rl,errorLogger:Gt,euclid:Uf,euclidLegato:Zf,euclidLegatoRot:th,euclidRot:Yf,euclidish:eh,euclidrot:Xf,evalScope:Oa,evaluate:Ea,every:bp,expand:xn,expression:Pc,extend:Cn,fadeInTime:li,fadeOutTime:ai,fadeTime:ui,fanchor:Eo,fast:lp,fastChunk:uf,fastGap:rp,fastcat:W$3,fastchunk:cf,fastgap:op,fft:Ks,filter:gf,filterWhen:bf,firstOf:gp,fit:If,flatten:D$2,floor:Gl,fm:$s,fmattack:Ls,fmdecay:Hs,fmenv:Rs,fmh:Ns,fmi:Ws,fmrelease:Fs,fmsustain:Vs,fmvelocity:Ds,fmwave:Is,focus:ip,focusSpan:cp,focusspan:up,fractionalArgs:Qa,frameRate:cu$1,frames:uu$1,freeze:Qc,freq:pi,freqToMidi:Pe,fromBipolar:Kl,fshift:jc,fshiftnote:Nc,fshiftphase:Wc,ftype:zo,func:Fl,gain:Es,gap:ct$1,gat:Ai,gate:qi,getControlName:se,getCurrentKeyboardState:sn,getEventOffsetMs:La,getFreq:Je,getFrequency:Fa,getPerformanceTimeSeconds:tl,getPlayableNoteValue:Va,getSoundIndex:Ha,getTime:id,getTrigger:Ja,grow:kf,gt:jl,gte:Wl,harmonic:Mi,hash2code:Za,hbrick:ou,hcutoff:$o,hold:sr,hours:au,hp:Lo,hpa:ao,hpattack:uo,hpd:yo,hpdecay:mo,hpe:so,hpenv:no,hpf:Ro,hpq:Ho,hpr:xo,hprelease:Co,hps:ko,hpsustain:vo,hresonance:Io,hsl:wf,hsla:yf,hurry:fp,id:et$1,imag:Yc,inhabit:td,inhabitmod:nd,innerBind:yl,inside:mp,inv:Mp,invert:Ep,ir:lc,irand:vh,irbegin:hc,iresponse:pc,irspeed:fc,isControlName:$n,isNote:qt,isNoteWithOctave:$a,isPattern:Yt,isaw:Ot,isaw2:ue$2,iter:Xp,iterBack:Yp,iterback:Zp,itri:ah,itri2:lh,jux:Ip,juxBy:Rp,juxby:Lp,kcutoff:Lc,keep:kl,keepif:ql,keyAlias:nn,keyDown:Fh,krush:Rc,label:Bi,lastOf:wp,late:wn,lbrick:iu,legato:wu,leslie:Si,lfo:Su,linger:Cp,listRange:ht,lock:ni,logKey:Dt,logger:E$1,loop:pr,loopAt:Rf,loopAtCps:Hf,loopBegin:fr,loopEnd:dr,loopat:Lf,loopatcps:Vf,loopb:hr,loope:mr,lp:Zr$1,lpa:co,lpattack:io,lpd:ho,lpdecay:fo,lpe:eo,lpenv:to,lpf:Yr$1,lpq:Fo,lpr:To,lprelease:So,lps:_o,lpsustain:bo,lrate:Ti,lsize:Ci,lt:Jl,lte:Nl,mapArgs:Ut,mask:pl,midi2note:Ia,midiToFreq:nt$1,midibend:Zu,midichan:$u,midicmd:Iu,midimap:Ru,midiport:Lu,miditouch:ta,minutes:lu,mod:xl,mode:nc,morph:Gf,mouseX:dh,mouseY:fh,mousex:hh,mousey:ph,mtranspose:zi,mul:Tl,n:xs,nanFallback:We,ne:Ll,net:Il,never:Ih,noise:jo,note:Bs,noteToMidi:pt,nothing:R$2,nrpnn:Gu,nrpv:Qu$1,nudge:ji,numeralArgs:$$2,objectMap:Ze$1,octave:Ni,octaveR:Ji,octaves:ec,octer:Ic,octersub:Hc,octersubsub:Vc,off:Jp,offset:tc,often:Wh,or:Vl,orbit:Wi,oschost:na,oscport:sa,outerBind:wl,outside:yp,overgain:$i,overshape:Ri,pace:kn,pairs:Ie,palindrome:$p,pan:Li,panchor:ki,panorient:Fi,panspan:Ii,pansplay:Hi,panwidth:Vi,parseFractional:Le,parseNumeral:Qt,partials:tu,patt:hi,pattack:fi,pcurve:vi,pdec:mi,pdecay:di,penv:_i,perlin:Ch,perlinWith:ka,ph:$r,phasdp:Gr$1,phaser:Rr,phasercenter:Hr$1,phaserdepth:Fr,phaserrate:Wr$1,phasersweep:Lr,phc:Vr$1,phd:Dr,phs:Ir,pick:Sa,pickF:Dh,pickOut:Qh,pickReset:Yh,pickRestart:Kh,pickSqueeze:ed,pickmod:Ca,pickmodF:Gh,pickmodOut:Uh,pickmodReset:Zh,pickmodRestart:Xh,pickmodSqueeze:sd,pipe:Re,pitchJump:qu,pitchJumpTime:Au$1,ply:ap,plyForEach:Kp,plyWith:Up,pm:cl,polyBind:_l,polyTouch:ea,polymeter:xt,polyrhythm:ol,postgain:Ms,pow:Bl,pr:il,prel:bi,prelease:gi,press:Wp,pressBy:Np,progNum:Uu,psus:wi,psustain:yi,pure:z$2,pw:Jr$1,pwrate:jr,pwsweep:Nr,rand:L$3,rand2:gh,randcat:Ah,randrun:ya,range:Xl,range2:Zl,rangex:Yl,rarely:$h,rate:Di,ratio:tp,rdim:cc,real:Xc,ref:Ff,register:l,registerControl:i$1,reify:d$1,rel:nr,release:er,removeUndefineds:it$1,repeatCycles:tf,repeatTime:Tu,repl:cd,replicate:vf,resonance:Vo,rev:gn,rfade:ac,rib:mf,ribbon:df,ring:Fc,ringdf:Gc,ringf:Dc,rlp:oc,room:sc,roomdim:ic,roomfade:uc,roomlp:rc,roomsize:dc,rotate:$e$1,round:Dl,rsize:wc,run:da,s:Rn,s_add:Bf,s_alt:Sf,s_cat:Af,s_contract:Mf,s_expand:zf,s_extend:Ef,s_polymeter:Tf,s_sub:Of,s_taper:Cf,s_taperlist:xf,s_tour:Pf,s_zip:Jf,saw:mt,saw2:ce$2,scram:su,scramble:wh,scrub:oa,seconds:pu,seg:Bp,segment:xp,semitone:Qi,seq:yn,seqPLoop:ll,sequence:G$4,sequenceP:fn,set:vl,setStringParser:nl,setTime:Ft,shape:gc,shrink:zn,shrinklist:On,shuffle:yh,signal:I$2,silence:v$3,sine:aa,sine2:ae,size:mc,slice:Jn,slide:Gi,slow:hp,slowChunk:sf,slowcat:K$2,slowcatPrime:Zt,slowchunk:nf,smear:nu$1,sol2note:Ua,someCycles:Nh,someCyclesBy:jh,sometimes:Jh,sometimesBy:Ph,songPtr:fu,sound:Ln,source:Ts,sparsity:dp,speak:od,speed:ne$1,splice:$f,splitAt:Kt,spread:ii,square:la,square2:ih,squeeze:rd,squeezeBind:gl,squiz:Oc,src:Cs,stack:B$1,stackBy:ul,stackCentre:mn,stackLeft:hn,stackRight:dn,steady:sh,stepBind:bl,stepalt:An,stepcat:N$2,steps:jf,stepsPerOctave:Pi,stretch:xc,striate:Wf,stringifyValues:Xt,struct:fl,strudelScope:Ba,stut:Qp,stutWith:Fp,stutwith:Dp,sub:Sl,superimpose:hl,sus:tr$1,sustain:Zs,sustainpedal:Jc,swing:zp,swingBy:Op,sysex:Ku,sysexdata:Yu,sysexid:Xu,sz:yc,take:Sn,time:le,timeCat:Pn,timecat:qf,toBipolar:Ul,tokenizeNote:ze,tour:En,tremolo:gr,tremolodepth:_r,tremolophase:kr,tremoloshape:qr,tremoloskew:vr,tremolosync:br,tri:ch,tri2:uh,triode:$c,tsdelay:Kc,uid:hu,undegrade:Mh,undegradeBy:Eh,unicodeToBase64:Xe$1,uniq:Ka,uniqsort:Xa,uniqsortr:Ke$1,unison:oi,unit:Bc,v:Jo,val:du$1,valueToMidi:Ra,velocity:zs,vib:Mo,vibmod:No,vibrato:Po,vmod:Wo,voice:Ui,vowel:zc,warp:os,warpatt:us$1,warpattack:cs,warpdc:gs,warpdec:ls,warpdecay:as,warpdepth:ys,warpenv:As,warpmode:_s,warprate:ms,warprel:ds,warprelease:hs,warpshape:ws,warpskew:bs,warpsus:fs,warpsustain:ps,warpsync:Ss,waveloss:Ec,wavetablePhaseRand:qs,wavetablePosition:Hn,wavetableWarp:is,wavetableWarpMode:vs,wchoose:Sh,wchooseCycles:_a,when:Pp,whenKey:Vh,withValue:dl,within:_f,wrandcat:Th,wt:In,wtatt:Dn,wtattack:Fn,wtdc:ss,wtdec:Qn,wtdecay:Gn,wtdepth:es,wtenv:Vn,wtphaserand:ks,wtrate:Zn,wtrel:Yn,wtrelease:Xn,wtshape:ns,wtskew:rs,wtsus:Kn,wtsustain:Un,wtsync:ts,xfade:jn,xsdelay:Uc,zcrush:Bu,zdelay:Ou,zip:Mn,zipWith:At,zmod:xu,znoise:Cu$1,zoom:qp,zoomArc:Ap,zoomarc:Sp,zrand:_u,zzfx:zu},Symbol.toStringTag,{value:"Module"}));function Or(e,r){function o(){this.constructor=e}o.prototype=r.prototype,e.prototype=new o}function uu(e,r,o,qe){var bt=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(bt,uu.prototype),bt.expected=r,bt.found=o,bt.location=qe,bt.name="SyntaxError",bt}Or(uu,Error);function Cu(e,r,o){return o=o||" ",e.length>r?e:(r-=e.length,o+=o.repeat(r),e+o.slice(0,r))}uu.prototype.format=function(e){var r="Error: "+this.message;if(this.location){var o=null,qe;for(qe=0;qe<e.length;qe++)if(e[qe].source===this.location.source){o=e[qe].text.split(/\r\n|\n|\r/g);break}var bt=this.location.start,Nt=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(bt):bt,Na=this.location.source+":"+Nt.line+":"+Nt.column;if(o){var ld=this.location.end,fd=Cu("",Nt.line.toString().length," "),hd=o[bt.line-1],dd=bt.line===ld.line?ld.column:hd.length+1,gd=dd-bt.column||1;r+=`
 --> `+Na+`
`+fd+` |
`+Nt.line+" | "+hd+`
`+fd+" | "+Cu("",bt.column-1," ")+Cu("",gd,"^")}else r+=`
 at `+Na}return r},uu.buildMessage=function(e,r){var o={literal:function(hd){return'"'+bt(hd.text)+'"'},class:function(hd){var dd=hd.parts.map(function(gd){return Array.isArray(gd)?Nt(gd[0])+"-"+Nt(gd[1]):Nt(gd)});return"["+(hd.inverted?"^":"")+dd.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(hd){return hd.description}};function qe(hd){return hd.charCodeAt(0).toString(16).toUpperCase()}function bt(hd){return hd.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(dd){return"\\x0"+qe(dd)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(dd){return"\\x"+qe(dd)})}function Nt(hd){return hd.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(dd){return"\\x0"+qe(dd)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(dd){return"\\x"+qe(dd)})}function Na(hd){return o[hd.type](hd)}function ld(hd){var dd=hd.map(Na),gd,yd;if(dd.sort(),dd.length>0){for(gd=1,yd=1;gd<dd.length;gd++)dd[gd-1]!==dd[gd]&&(dd[yd]=dd[gd],yd++);dd.length=yd}switch(dd.length){case 1:return dd[0];case 2:return dd[0]+" or "+dd[1];default:return dd.slice(0,-1).join(", ")+", or "+dd[dd.length-1]}}function fd(hd){return hd?'"'+bt(hd)+'"':"end of input"}return"Expected "+ld(e)+" but "+fd(r)+" found."};function Mr(e,r){r=r!==void 0?r:{};var o={},qe=r.grammarSource,bt={start:h_},Nt=h_,Na=".",ld="-",fd="0",hd=",",dd="|",gd="[",yd="]",_d="{",Ad="}",xd="%",Cd="<",Dd=">",Td="!",Bd="(",Md=")",Ed="/",Gd="*",Qd="?",zd=":",nm="..",qd="^",dm="struct",im="target",sm="euclid",mm="slow",Mm="rotL",Om="rotR",km="fast",vm="scale",t0="//",Cm="cat",Zm="$",cm="setcps",Xm="setbpm",Hd="hush",r0=/^[1-9]/,jm=/^[eE]/,am=/^[+\-]/,Hm=/^[0-9]/,_0=/^[ \n\r\t\xA0]/,X0=/^["']/,P0=/^[#\--.0-9A-Z\^-_a-z~\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376-\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E-\u066F\u0671-\u06D3\u06D5\u06E5-\u06E6\u06EE-\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4-\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F-\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC-\u09DD\u09DF-\u09E1\u09F0-\u09F1\u09FC\u0A05-\u0A0A\u0A0F-\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32-\u0A33\u0A35-\u0A36\u0A38-\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2-\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0-\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F-\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32-\u0B33\u0B35-\u0B39\u0B3D\u0B5C-\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99-\u0B9A\u0B9C\u0B9E-\u0B9F\u0BA3-\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60-\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0-\u0CE1\u0CF1-\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32-\u0E33\u0E40-\u0E46\u0E81-\u0E82\u0E84\u0E87-\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA-\u0EAB\u0EAD-\u0EB0\u0EB2-\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065-\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE-\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5-\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEF\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7B9\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD-\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5-\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40-\uFB41\uFB43-\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,c0=/^[@_]/,C0=/^[^\n]/,Vm=Ag("number"),w0=Um(".",!1),p0=tg([["1","9"]],!1,!1),x0=tg(["e","E"],!1,!1),U0=tg(["+","-"],!1,!1),Vd=Um("-",!1),Wd=Um("0",!1),Xd=tg([["0","9"]],!1,!1),Jd=Ag("whitespace"),lm=tg([" ",`
`,"\r","	","Â "],!1,!1),_m=Um(",",!1),um=Um("|",!1),Tm=tg(['"',"'"],!1,!1),om=Ag('a letter, a number, "-", "#", ".", "^", "_"'),Dm=tg(["#",["-","."],["0","9"],["A","Z"],["^","_"],["a","z"],"~","Âª","Âµ","Âº",["Ã€","Ã–"],["Ã˜","Ã¶"],["Ã¸","Ë"],["Ë†","Ë‘"],["Ë ","Ë¤"],"Ë¬","Ë®",["Í°","Í´"],["Í¶","Í·"],["Íº","Í½"],"Í¿","Î†",["Îˆ","ÎŠ"],"ÎŒ",["ÎŽ","Î¡"],["Î£","Ïµ"],["Ï·","Ò"],["ÒŠ","Ô¯"],["Ô±","Õ–"],"Õ™",["Õ ","Öˆ"],["×","×ª"],["×¯","×²"],["Ø ","ÙŠ"],["Ù®","Ù¯"],["Ù±","Û“"],"Û•",["Û¥","Û¦"],["Û®","Û¯"],["Ûº","Û¼"],"Û¿","Ü",["Ü’","Ü¯"],["Ý","Þ¥"],"Þ±",["ßŠ","ßª"],["ß´","ßµ"],"ßº",["à €","à •"],"à š","à ¤","à ¨",["à¡€","à¡˜"],["à¡ ","à¡ª"],["à¢ ","à¢´"],["à¢¶","à¢½"],["à¤„","à¤¹"],"à¤½","à¥",["à¥˜","à¥¡"],["à¥±","à¦€"],["à¦…","à¦Œ"],["à¦","à¦"],["à¦“","à¦¨"],["à¦ª","à¦°"],"à¦²",["à¦¶","à¦¹"],"à¦½","à§Ž",["à§œ","à§"],["à§Ÿ","à§¡"],["à§°","à§±"],"à§¼",["à¨…","à¨Š"],["à¨","à¨"],["à¨“","à¨¨"],["à¨ª","à¨°"],["à¨²","à¨³"],["à¨µ","à¨¶"],["à¨¸","à¨¹"],["à©™","à©œ"],"à©ž",["à©²","à©´"],["àª…","àª"],["àª","àª‘"],["àª“","àª¨"],["àªª","àª°"],["àª²","àª³"],["àªµ","àª¹"],"àª½","à«",["à« ","à«¡"],"à«¹",["à¬…","à¬Œ"],["à¬","à¬"],["à¬“","à¬¨"],["à¬ª","à¬°"],["à¬²","à¬³"],["à¬µ","à¬¹"],"à¬½",["à­œ","à­"],["à­Ÿ","à­¡"],"à­±","à®ƒ",["à®…","à®Š"],["à®Ž","à®"],["à®’","à®•"],["à®™","à®š"],"à®œ",["à®ž","à®Ÿ"],["à®£","à®¤"],["à®¨","à®ª"],["à®®","à®¹"],"à¯",["à°…","à°Œ"],["à°Ž","à°"],["à°’","à°¨"],["à°ª","à°¹"],"à°½",["à±˜","à±š"],["à± ","à±¡"],"à²€",["à²…","à²Œ"],["à²Ž","à²"],["à²’","à²¨"],["à²ª","à²³"],["à²µ","à²¹"],"à²½","à³ž",["à³ ","à³¡"],["à³±","à³²"],["à´…","à´Œ"],["à´Ž","à´"],["à´’","à´º"],"à´½","àµŽ",["àµ”","àµ–"],["àµŸ","àµ¡"],["àµº","àµ¿"],["à¶…","à¶–"],["à¶š","à¶±"],["à¶³","à¶»"],"à¶½",["à·€","à·†"],["à¸","à¸°"],["à¸²","à¸³"],["à¹€","à¹†"],["àº","àº‚"],"àº„",["àº‡","àºˆ"],"àºŠ","àº",["àº”","àº—"],["àº™","àºŸ"],["àº¡","àº£"],"àº¥","àº§",["àºª","àº«"],["àº­","àº°"],["àº²","àº³"],"àº½",["à»€","à»„"],"à»†",["à»œ","à»Ÿ"],"à¼€",["à½€","à½‡"],["à½‰","à½¬"],["à¾ˆ","à¾Œ"],["á€€","á€ª"],"á€¿",["á","á•"],["áš","á"],"á¡",["á¥","á¦"],["á®","á°"],["áµ","á‚"],"á‚Ž",["á‚ ","áƒ…"],"áƒ‡","áƒ",["áƒ","áƒº"],["áƒ¼","á‰ˆ"],["á‰Š","á‰"],["á‰","á‰–"],"á‰˜",["á‰š","á‰"],["á‰ ","áŠˆ"],["áŠŠ","áŠ"],["áŠ","áŠ°"],["áŠ²","áŠµ"],["áŠ¸","áŠ¾"],"á‹€",["á‹‚","á‹…"],["á‹ˆ","á‹–"],["á‹˜","áŒ"],["áŒ’","áŒ•"],["áŒ˜","áš"],["áŽ€","áŽ"],["áŽ ","áµ"],["á¸","á½"],["á","á™¬"],["á™¯","á™¿"],["áš","ášš"],["áš ","á›ª"],["á›®","á›¸"],["áœ€","áœŒ"],["áœŽ","áœ‘"],["áœ ","áœ±"],["á€","á‘"],["á ","á¬"],["á®","á°"],["áž€","áž³"],"áŸ—","áŸœ",["á  ","á¡¸"],["á¢€","á¢„"],["á¢‡","á¢¨"],"á¢ª",["á¢°","á£µ"],["á¤€","á¤ž"],["á¥","á¥­"],["á¥°","á¥´"],["á¦€","á¦«"],["á¦°","á§‰"],["á¨€","á¨–"],["á¨ ","á©”"],"áª§",["á¬…","á¬³"],["á­…","á­‹"],["á®ƒ","á® "],["á®®","á®¯"],["á®º","á¯¥"],["á°€","á°£"],["á±","á±"],["á±š","á±½"],["á²€","á²ˆ"],["á²","á²º"],["á²½","á²¿"],["á³©","á³¬"],["á³®","á³±"],["á³µ","á³¶"],["á´€","á¶¿"],["á¸€","á¼•"],["á¼˜","á¼"],["á¼ ","á½…"],["á½ˆ","á½"],["á½","á½—"],"á½™","á½›","á½",["á½Ÿ","á½½"],["á¾€","á¾´"],["á¾¶","á¾¼"],"á¾¾",["á¿‚","á¿„"],["á¿†","á¿Œ"],["á¿","á¿“"],["á¿–","á¿›"],["á¿ ","á¿¬"],["á¿²","á¿´"],["á¿¶","á¿¼"],"â±","â¿",["â‚","â‚œ"],"â„‚","â„‡",["â„Š","â„“"],"â„•",["â„™","â„"],"â„¤","â„¦","â„¨",["â„ª","â„­"],["â„¯","â„¹"],["â„¼","â„¿"],["â……","â…‰"],"â…Ž",["â… ","â†ˆ"],["â°€","â°®"],["â°°","â±ž"],["â± ","â³¤"],["â³«","â³®"],["â³²","â³³"],["â´€","â´¥"],"â´§","â´­",["â´°","âµ§"],"âµ¯",["â¶€","â¶–"],["â¶ ","â¶¦"],["â¶¨","â¶®"],["â¶°","â¶¶"],["â¶¸","â¶¾"],["â·€","â·†"],["â·ˆ","â·Ž"],["â·","â·–"],["â·˜","â·ž"],"â¸¯",["ã€…","ã€‡"],["ã€¡","ã€©"],["ã€±","ã€µ"],["ã€¸","ã€¼"],["ã","ã‚–"],["ã‚","ã‚Ÿ"],["ã‚¡","ãƒº"],["ãƒ¼","ãƒ¿"],["ã„…","ã„¯"],["ã„±","ã†Ž"],["ã† ","ã†º"],["ã‡°","ã‡¿"],["ã€","ä¶µ"],["ä¸€","é¿¯"],["ê€€","ê’Œ"],["ê“","ê“½"],["ê”€","ê˜Œ"],["ê˜","ê˜Ÿ"],["ê˜ª","ê˜«"],["ê™€","ê™®"],["ê™¿","êš"],["êš ","ê›¯"],["êœ—","êœŸ"],["êœ¢","êžˆ"],["êž‹","êž¹"],["êŸ·","ê "],["ê ƒ","ê …"],["ê ‡","ê Š"],["ê Œ","ê ¢"],["ê¡€","ê¡³"],["ê¢‚","ê¢³"],["ê£²","ê£·"],"ê£»",["ê£½","ê£¾"],["ê¤Š","ê¤¥"],["ê¤°","ê¥†"],["ê¥ ","ê¥¼"],["ê¦„","ê¦²"],"ê§",["ê§ ","ê§¤"],["ê§¦","ê§¯"],["ê§º","ê§¾"],["ê¨€","ê¨¨"],["ê©€","ê©‚"],["ê©„","ê©‹"],["ê© ","ê©¶"],"ê©º",["ê©¾","êª¯"],"êª±",["êªµ","êª¶"],["êª¹","êª½"],"ê«€","ê«‚",["ê«›","ê«"],["ê« ","ê«ª"],["ê«²","ê«´"],["ê¬","ê¬†"],["ê¬‰","ê¬Ž"],["ê¬‘","ê¬–"],["ê¬ ","ê¬¦"],["ê¬¨","ê¬®"],["ê¬°","ê­š"],["ê­œ","ê­¥"],["ê­°","ê¯¢"],["ê°€","íž£"],["íž°","íŸ†"],["íŸ‹","íŸ»"],["ï¤€","ï©­"],["ï©°","ï«™"],["ï¬€","ï¬†"],["ï¬“","ï¬—"],"ï¬",["ï¬Ÿ","ï¬¨"],["ï¬ª","ï¬¶"],["ï¬¸","ï¬¼"],"ï¬¾",["ï­€","ï­"],["ï­ƒ","ï­„"],["ï­†","ï®±"],["ï¯“","ï´½"],["ïµ","ï¶"],["ï¶’","ï·‡"],["ï·°","ï·»"],["ï¹°","ï¹´"],["ï¹¶","ï»¼"],["ï¼¡","ï¼º"],["ï½","ï½š"],["ï½¦","ï¾¾"],["ï¿‚","ï¿‡"],["ï¿Š","ï¿"],["ï¿’","ï¿—"],["ï¿š","ï¿œ"]],!1,!1),Lm=Um("[",!1),h0=Um("]",!1),s0=Um("{",!1),zm=Um("}",!1),a0=Um("%",!1),k0=Um("<",!1),xm=Um(">",!1),Jm=tg(["@","_"],!1,!1),Z0=Um("!",!1),o0=Um("(",!1),$0=Um(")",!1),I0=Um("/",!1),J0=Um("*",!1),fg=Um("?",!1),Q1=Um(":",!1),X1=Um("..",!1),Od=Um("^",!1),Pd=Um("struct",!1),Sd=Um("target",!1),wd=Um("euclid",!1),Rd=Um("slow",!1),Yd=Um("rotL",!1),Kd=Um("rotR",!1),rm=Um("fast",!1),Sm=Um("scale",!1),Ym=Um("//",!1),l0=tg([`
`],!0,!1),Qm=Um("cat",!1),n0=Um("$",!1),N0=Um("setcps",!1),V1=Um("setbpm",!1),Im=Um("hush",!1),A0=function(){return parseFloat(c_())},E0=function(bd){const Fd=bd.join("");return Fd==="."||Fd==="_"},Rg=function(bd){return new ky(bd.join(""))},o_=function(bd){return bd},tO=function(bd,Fd){return bd.arguments_.stepsPerCycle=Fd,bd},$_=function(bd){return bd},S_=function(bd){return bd.arguments_.alignment="polymeter_slowcat",bd},ny=function(bd){return Fd=>Fd.options_.weight=(Fd.options_.weight??1)+(bd??2)-1},a_=function(bd){return Fd=>{const Ld=(Fd.options_.reps??1)+(bd??2)-1;Fd.options_.reps=Ld,Fd.options_.ops=Fd.options_.ops.filter(em=>em.type_!=="replicate"),Fd.options_.ops.push({type_:"replicate",arguments_:{amount:Ld}}),Fd.options_.weight=Ld}},iO=function(bd,Fd,Ld){return em=>em.options_.ops.push({type_:"bjorklund",arguments_:{pulse:bd,step:Fd,rotation:Ld}})},nO=function(bd){return Fd=>Fd.options_.ops.push({type_:"stretch",arguments_:{amount:bd,type:"slow"}})},ry=function(bd){return Fd=>Fd.options_.ops.push({type_:"stretch",arguments_:{amount:bd,type:"fast"}})},rO=function(bd){return Fd=>Fd.options_.ops.push({type_:"degradeBy",arguments_:{amount:bd,seed:S0++}})},sy=function(bd){return Fd=>Fd.options_.ops.push({type_:"tail",arguments_:{element:bd}})},vg=function(bd){return Fd=>Fd.options_.ops.push({type_:"range",arguments_:{element:bd}})},oy=function(bd,Fd){const Ld=new y2(bd,{ops:[],weight:1,reps:1});for(const em of Fd)em(Ld);return Ld},s2=function(bd,Fd){return new T0(Fd,"fastcat",void 0,!!bd)},xg=function(bd){return{alignment:"stack",list:bd}},l_=function(bd){return{alignment:"rand",list:bd,seed:S0++}},o2=function(bd){return{alignment:"feet",list:bd,seed:S0++}},a2=function(bd,Fd){return Fd&&Fd.list.length>0?new T0([bd,...Fd.list],Fd.alignment,Fd.seed):bd},D0=function(bd,Fd){return new T0(Fd?[bd,...Fd.list]:[bd],"polymeter")},sO=function(bd){return bd},l2=function(bd){return{name:"struct",args:{mini:bd}}},d0=function(bd){return{name:"target",args:{name:bd}}},ay=function(bd,Fd,Ld){return{name:"bjorklund",args:{pulse:bd,step:parseInt(Fd)}}},V0=function(bd){return{name:"stretch",args:{amount:bd}}},oO=function(bd){return{name:"shift",args:{amount:"-"+bd}}},aO=function(bd){return{name:"shift",args:{amount:bd}}},ly=function(bd){return{name:"stretch",args:{amount:"1/"+bd}}},lO=function(bd){return{name:"scale",args:{scale:bd.join("")}}},u_=function(bd,Fd){return Fd},uy=function(bd,Fd){return Fd.unshift(bd),new T0(Fd,"slowcat")},uO=function(bd){return bd},u2=function(bd,Fd){return new mg(bd.name,bd.args,Fd)},cO=function(bd){return bd},cy=function(bd){return bd},Pm=function(bd){return new Sg("setcps",{value:bd})},hO=function(bd){return new Sg("setcps",{value:bd/120/2})},C_=function(){return new Sg("hush")},Nd=r.peg$currPos|0,Wm=Nd,Zg=[{line:1,column:1}],W1=Nd,Y1=r.peg$maxFailExpected||[],Am=r.peg$silentFails|0,Rm;if(r.startRule){if(!(r.startRule in bt))throw new Error(`Can't start parsing from rule "`+r.startRule+'".');Nt=bt[r.startRule]}function c_(){return e.substring(Wm,Nd)}function jg(){return Ng(Wm,Nd)}function Um(bd,Fd){return{type:"literal",text:bd,ignoreCase:Fd}}function tg(bd,Fd,Ld){return{type:"class",parts:bd,inverted:Fd,ignoreCase:Ld}}function c2(){return{type:"end"}}function Ag(bd){return{type:"other",description:bd}}function Yg(bd){var Fd=Zg[bd],Ld;if(Fd)return Fd;if(bd>=Zg.length)Ld=Zg.length-1;else for(Ld=bd;!Zg[--Ld];);for(Fd=Zg[Ld],Fd={line:Fd.line,column:Fd.column};Ld<bd;)e.charCodeAt(Ld)===10?(Fd.line++,Fd.column=1):Fd.column++,Ld++;return Zg[bd]=Fd,Fd}function Ng(bd,Fd,Ld){var em=Yg(bd),Fm=Yg(Fd),O0={source:qe,start:{offset:bd,line:em.line,column:em.column},end:{offset:Fd,line:Fm.line,column:Fm.column}};return O0}function Gm(bd){Nd<W1||(Nd>W1&&(W1=Nd,Y1=[]),Y1.push(bd))}function M_(bd,Fd,Ld){return new uu(uu.buildMessage(bd,Fd),bd,Fd,Ld)}function h_(){var bd;return bd=D_(),bd}function q0(){var bd,Fd;return Am++,bd=Nd,fy(),Fd=k_(),Fd!==o?(w_(),pg(),Wm=bd,bd=A0()):(Nd=bd,bd=o),Am--,bd===o&&Am===0&&Gm(Vm),bd}function $g(){var bd;return e.charCodeAt(Nd)===46?(bd=Na,Nd++):(bd=o,Am===0&&Gm(w0)),bd}function P_(){var bd;return bd=e.charAt(Nd),r0.test(bd)?Nd++:(bd=o,Am===0&&Gm(p0)),bd}function hy(){var bd;return bd=e.charAt(Nd),jm.test(bd)?Nd++:(bd=o,Am===0&&Gm(x0)),bd}function pg(){var bd,Fd,Ld,em,Fm;if(bd=Nd,Fd=hy(),Fd!==o){if(Ld=e.charAt(Nd),am.test(Ld)?Nd++:(Ld=o,Am===0&&Gm(U0)),Ld===o&&(Ld=null),em=[],Fm=Ug(),Fm!==o)for(;Fm!==o;)em.push(Fm),Fm=Ug();else em=o;em!==o?(Fd=[Fd,Ld,em],bd=Fd):(Nd=bd,bd=o)}else Nd=bd,bd=o;return bd}function w_(){var bd,Fd,Ld,em;if(bd=Nd,Fd=$g(),Fd!==o){if(Ld=[],em=Ug(),em!==o)for(;em!==o;)Ld.push(em),em=Ug();else Ld=o;Ld!==o?(Fd=[Fd,Ld],bd=Fd):(Nd=bd,bd=o)}else Nd=bd,bd=o;return bd}function k_(){var bd,Fd,Ld,em;if(bd=h2(),bd===o)if(bd=Nd,Fd=P_(),Fd!==o){for(Ld=[],em=Ug();em!==o;)Ld.push(em),em=Ug();Fd=[Fd,Ld],bd=Fd}else Nd=bd,bd=o;return bd}function fy(){var bd;return e.charCodeAt(Nd)===45?(bd=ld,Nd++):(bd=o,Am===0&&Gm(Vd)),bd}function h2(){var bd;return e.charCodeAt(Nd)===48?(bd=fd,Nd++):(bd=o,Am===0&&Gm(Wd)),bd}function Ug(){var bd;return bd=e.charAt(Nd),Hm.test(bd)?Nd++:(bd=o,Am===0&&Gm(Xd)),bd}function Nm(){var bd,Fd;for(Am++,bd=[],Fd=e.charAt(Nd),_0.test(Fd)?Nd++:(Fd=o,Am===0&&Gm(lm));Fd!==o;)bd.push(Fd),Fd=e.charAt(Nd),_0.test(Fd)?Nd++:(Fd=o,Am===0&&Gm(lm));return Am--,Fd=o,Am===0&&Gm(Jd),bd}function m1(){var bd,Fd,Ld,em;return bd=Nd,Fd=Nm(),e.charCodeAt(Nd)===44?(Ld=hd,Nd++):(Ld=o,Am===0&&Gm(_m)),Ld!==o?(em=Nm(),Fd=[Fd,Ld,em],bd=Fd):(Nd=bd,bd=o),bd}function fO(){var bd,Fd,Ld,em;return bd=Nd,Fd=Nm(),e.charCodeAt(Nd)===124?(Ld=dd,Nd++):(Ld=o,Am===0&&Gm(um)),Ld!==o?(em=Nm(),Fd=[Fd,Ld,em],bd=Fd):(Nd=bd,bd=o),bd}function pO(){var bd,Fd,Ld,em;return bd=Nd,Fd=Nm(),e.charCodeAt(Nd)===46?(Ld=Na,Nd++):(Ld=o,Am===0&&Gm(w0)),Ld!==o?(em=Nm(),Fd=[Fd,Ld,em],bd=Fd):(Nd=bd,bd=o),bd}function ig(){var bd;return bd=e.charAt(Nd),X0.test(bd)?Nd++:(bd=o,Am===0&&Gm(Tm)),bd}function dg(){var bd;return Am++,bd=e.charAt(Nd),P0.test(bd)?Nd++:(bd=o,Am===0&&Gm(Dm)),Am--,bd===o&&Am===0&&Gm(om),bd}function py(){var bd,Fd,Ld,em;if(bd=Nd,Nm(),Fd=[],Ld=dg(),Ld!==o)for(;Ld!==o;)Fd.push(Ld),Ld=dg();else Fd=o;return Fd!==o?(Ld=Nm(),Wm=Nd,em=E0(Fd),em?em=o:em=void 0,em!==o?(Wm=bd,bd=Rg(Fd)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function f2(){var bd,Fd,Ld,em;return bd=Nd,Nm(),e.charCodeAt(Nd)===91?(Fd=gd,Nd++):(Fd=o,Am===0&&Gm(Lm)),Fd!==o?(Nm(),Ld=yy(),Ld!==o?(Nm(),e.charCodeAt(Nd)===93?(em=yd,Nd++):(em=o,Am===0&&Gm(h0)),em!==o?(Nm(),Wm=bd,bd=o_(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function dy(){var bd,Fd,Ld,em,Fm;return bd=Nd,Nm(),e.charCodeAt(Nd)===123?(Fd=_d,Nd++):(Fd=o,Am===0&&Gm(s0)),Fd!==o?(Nm(),Ld=by(),Ld!==o?(Nm(),e.charCodeAt(Nd)===125?(em=Ad,Nd++):(em=o,Am===0&&Gm(zm)),em!==o?(Fm=my(),Fm===o&&(Fm=null),Nm(),Wm=bd,bd=tO(Ld,Fm)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function my(){var bd,Fd,Ld;return bd=Nd,e.charCodeAt(Nd)===37?(Fd=xd,Nd++):(Fd=o,Am===0&&Gm(a0)),Fd!==o?(Ld=L0(),Ld!==o?(Wm=bd,bd=$_(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function gy(){var bd,Fd,Ld,em;return bd=Nd,Nm(),e.charCodeAt(Nd)===60?(Fd=Cd,Nd++):(Fd=o,Am===0&&Gm(k0)),Fd!==o?(Nm(),Ld=by(),Ld!==o?(Nm(),e.charCodeAt(Nd)===62?(em=Dd,Nd++):(em=o,Am===0&&Gm(xm)),em!==o?(Nm(),Wm=bd,bd=S_(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function L0(){var bd;return bd=py(),bd===o&&(bd=f2(),bd===o&&(bd=dy(),bd===o&&(bd=gy()))),bd}function f0(){var bd;return bd=Lg(),bd===o&&(bd=_y(),bd===o&&(bd=p2(),bd===o&&(bd=d2(),bd===o&&(bd=dO(),bd===o&&(bd=mO(),bd===o&&(bd=ng(),bd===o&&(bd=Oy()))))))),bd}function Lg(){var bd,Fd,Ld;return bd=Nd,Nm(),Fd=e.charAt(Nd),c0.test(Fd)?Nd++:(Fd=o,Am===0&&Gm(Jm)),Fd!==o?(Ld=q0(),Ld===o&&(Ld=null),Wm=bd,bd=ny(Ld)):(Nd=bd,bd=o),bd}function dO(){var bd,Fd,Ld;return bd=Nd,Nm(),e.charCodeAt(Nd)===33?(Fd=Td,Nd++):(Fd=o,Am===0&&Gm(Z0)),Fd!==o?(Ld=q0(),Ld===o&&(Ld=null),Wm=bd,bd=a_(Ld)):(Nd=bd,bd=o),bd}function _y(){var bd,Fd,Ld,em,Fm,O0,z0;return bd=Nd,e.charCodeAt(Nd)===40?(Fd=Bd,Nd++):(Fd=o,Am===0&&Gm(o0)),Fd!==o?(Nm(),Ld=f_(),Ld!==o?(Nm(),em=m1(),em!==o?(Nm(),Fm=f_(),Fm!==o?(Nm(),m1(),Nm(),O0=f_(),O0===o&&(O0=null),Nm(),e.charCodeAt(Nd)===41?(z0=Md,Nd++):(z0=o,Am===0&&Gm($0)),z0!==o?(Wm=bd,bd=iO(Ld,Fm,O0)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function p2(){var bd,Fd,Ld;return bd=Nd,e.charCodeAt(Nd)===47?(Fd=Ed,Nd++):(Fd=o,Am===0&&Gm(I0)),Fd!==o?(Ld=L0(),Ld!==o?(Wm=bd,bd=nO(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function d2(){var bd,Fd,Ld;return bd=Nd,e.charCodeAt(Nd)===42?(Fd=Gd,Nd++):(Fd=o,Am===0&&Gm(J0)),Fd!==o?(Ld=L0(),Ld!==o?(Wm=bd,bd=ry(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function mO(){var bd,Fd,Ld;return bd=Nd,e.charCodeAt(Nd)===63?(Fd=Qd,Nd++):(Fd=o,Am===0&&Gm(fg)),Fd!==o?(Ld=q0(),Ld===o&&(Ld=null),Wm=bd,bd=rO(Ld)):(Nd=bd,bd=o),bd}function ng(){var bd,Fd,Ld;return bd=Nd,e.charCodeAt(Nd)===58?(Fd=zd,Nd++):(Fd=o,Am===0&&Gm(Q1)),Fd!==o?(Ld=L0(),Ld!==o?(Wm=bd,bd=sy(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function Oy(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,2)===nm?(Fd=nm,Nd+=2):(Fd=o,Am===0&&Gm(X1)),Fd!==o?(Ld=L0(),Ld!==o?(Wm=bd,bd=vg(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function f_(){var bd,Fd,Ld,em;if(bd=Nd,Fd=L0(),Fd!==o){for(Ld=[],em=f0();em!==o;)Ld.push(em),em=f0();Wm=bd,bd=oy(Fd,Ld)}else Nd=bd,bd=o;return bd}function Q0(){var bd,Fd,Ld,em;if(bd=Nd,e.charCodeAt(Nd)===94?(Fd=qd,Nd++):(Fd=o,Am===0&&Gm(Od)),Fd===o&&(Fd=null),Ld=[],em=f_(),em!==o)for(;em!==o;)Ld.push(em),em=f_();else Ld=o;return Ld!==o?(Wm=bd,bd=s2(Fd,Ld)):(Nd=bd,bd=o),bd}function gO(){var bd,Fd,Ld,em,Fm;if(bd=Nd,Fd=[],Ld=Nd,em=m1(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o),Ld!==o)for(;Ld!==o;)Fd.push(Ld),Ld=Nd,em=m1(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o);else Fd=o;return Fd!==o&&(Wm=bd,Fd=xg(Fd)),bd=Fd,bd}function m0(){var bd,Fd,Ld,em,Fm;if(bd=Nd,Fd=[],Ld=Nd,em=fO(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o),Ld!==o)for(;Ld!==o;)Fd.push(Ld),Ld=Nd,em=fO(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o);else Fd=o;return Fd!==o&&(Wm=bd,Fd=l_(Fd)),bd=Fd,bd}function m2(){var bd,Fd,Ld,em,Fm;if(bd=Nd,Fd=[],Ld=Nd,em=pO(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o),Ld!==o)for(;Ld!==o;)Fd.push(Ld),Ld=Nd,em=pO(),em!==o?(Fm=Q0(),Fm!==o?Ld=Fm:(Nd=Ld,Ld=o)):(Nd=Ld,Ld=o);else Fd=o;return Fd!==o&&(Wm=bd,Fd=o2(Fd)),bd=Fd,bd}function yy(){var bd,Fd,Ld;return bd=Nd,Fd=Q0(),Fd!==o?(Ld=gO(),Ld===o&&(Ld=m0(),Ld===o&&(Ld=m2())),Ld===o&&(Ld=null),Wm=bd,bd=a2(Fd,Ld)):(Nd=bd,bd=o),bd}function by(){var bd,Fd,Ld;return bd=Nd,Fd=Q0(),Fd!==o?(Ld=gO(),Ld===o&&(Ld=null),Wm=bd,bd=D0(Fd,Ld)):(Nd=bd,bd=o),bd}function _O(){var bd,Fd,Ld,em;return bd=Nd,Nm(),Fd=ig(),Fd!==o?(Nm(),Ld=yy(),Ld!==o?(Nm(),em=ig(),em!==o?(Wm=bd,bd=sO(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function OO(){var bd;return bd=Sy(),bd===o&&(bd=_2(),bd===o&&(bd=$y(),bd===o&&(bd=vy(),bd===o&&(bd=xy(),bd===o&&(bd=g2(),bd===o&&(bd=Ay(),bd===o&&(bd=O2()))))))),bd}function g2(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,6)===dm?(Fd=dm,Nd+=6):(Fd=o,Am===0&&Gm(Pd)),Fd!==o?(Nm(),Ld=Qg(),Ld!==o?(Wm=bd,bd=l2(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function vy(){var bd,Fd,Ld,em,Fm;return bd=Nd,e.substr(Nd,6)===im?(Fd=im,Nd+=6):(Fd=o,Am===0&&Gm(Sd)),Fd!==o?(Nm(),Ld=ig(),Ld!==o?(em=py(),em!==o?(Fm=ig(),Fm!==o?(Wm=bd,bd=d0(em)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function xy(){var bd,Fd,Ld,em;return bd=Nd,e.substr(Nd,6)===sm?(Fd=sm,Nd+=6):(Fd=o,Am===0&&Gm(wd)),Fd!==o?(Nm(),Ld=k_(),Ld!==o?(Nm(),em=k_(),em!==o?(Nm(),k_(),Wm=bd,bd=ay(Ld,em)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function _2(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,4)===mm?(Fd=mm,Nd+=4):(Fd=o,Am===0&&Gm(Rd)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=V0(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function O2(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,4)===Mm?(Fd=Mm,Nd+=4):(Fd=o,Am===0&&Gm(Yd)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=oO(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function Ay(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,4)===Om?(Fd=Om,Nd+=4):(Fd=o,Am===0&&Gm(Kd)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=aO(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function $y(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,4)===km?(Fd=km,Nd+=4):(Fd=o,Am===0&&Gm(rm)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=ly(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function Sy(){var bd,Fd,Ld,em,Fm;if(bd=Nd,e.substr(Nd,5)===vm?(Fd=vm,Nd+=5):(Fd=o,Am===0&&Gm(Sm)),Fd!==o)if(Nm(),Ld=ig(),Ld!==o){if(em=[],Fm=dg(),Fm!==o)for(;Fm!==o;)em.push(Fm),Fm=dg();else em=o;em!==o?(Fm=ig(),Fm!==o?(Wm=bd,bd=lO(em)):(Nd=bd,bd=o)):(Nd=bd,bd=o)}else Nd=bd,bd=o;else Nd=bd,bd=o;return bd}function E_(){var bd,Fd,Ld,em;if(bd=Nd,e.substr(Nd,2)===t0?(Fd=t0,Nd+=2):(Fd=o,Am===0&&Gm(Ym)),Fd!==o){for(Ld=[],em=e.charAt(Nd),C0.test(em)?Nd++:(em=o,Am===0&&Gm(l0));em!==o;)Ld.push(em),em=e.charAt(Nd),C0.test(em)?Nd++:(em=o,Am===0&&Gm(l0));Fd=[Fd,Ld],bd=Fd}else Nd=bd,bd=o;return bd}function yO(){var bd,Fd,Ld,em,Fm,O0,z0,Bg;if(bd=Nd,e.substr(Nd,3)===Cm?(Fd=Cm,Nd+=3):(Fd=o,Am===0&&Gm(Qm)),Fd!==o)if(Nm(),e.charCodeAt(Nd)===91?(Ld=gd,Nd++):(Ld=o,Am===0&&Gm(Lm)),Ld!==o)if(Nm(),em=Qg(),em!==o){for(Fm=[],O0=Nd,z0=m1(),z0!==o?(Bg=Qg(),Bg!==o?(Wm=O0,O0=u_(em,Bg)):(Nd=O0,O0=o)):(Nd=O0,O0=o);O0!==o;)Fm.push(O0),O0=Nd,z0=m1(),z0!==o?(Bg=Qg(),Bg!==o?(Wm=O0,O0=u_(em,Bg)):(Nd=O0,O0=o)):(Nd=O0,O0=o);O0=Nm(),e.charCodeAt(Nd)===93?(z0=yd,Nd++):(z0=o,Am===0&&Gm(h0)),z0!==o?(Wm=bd,bd=uy(em,Fm)):(Nd=bd,bd=o)}else Nd=bd,bd=o;else Nd=bd,bd=o;else Nd=bd,bd=o;return bd}function Cy(){var bd;return bd=yO(),bd===o&&(bd=_O()),bd}function Qg(){var bd,Fd,Ld,em,Fm;if(bd=Nd,Fd=Cy(),Fd!==o){for(Nm(),Ld=[],em=E_();em!==o;)Ld.push(em),em=E_();Wm=bd,bd=uO(Fd)}else Nd=bd,bd=o;return bd===o&&(bd=Nd,Fd=OO(),Fd!==o?(Nm(),e.charCodeAt(Nd)===36?(Ld=Zm,Nd++):(Ld=o,Am===0&&Gm(n0)),Ld!==o?(em=Nm(),Fm=Qg(),Fm!==o?(Wm=bd,bd=u2(Fd,Fm)):(Nd=bd,bd=o)):(Nd=bd,bd=o)):(Nd=bd,bd=o)),bd}function bO(){var bd,Fd;return bd=Nd,Fd=Qg(),Fd!==o&&(Wm=bd,Fd=cO(Fd)),bd=Fd,bd===o&&(bd=E_()),bd}function vO(){var bd;return bd=bO(),bd}function My(){var bd,Fd;return bd=Nd,Nm(),Fd=Py(),Fd===o&&(Fd=wy(),Fd===o&&(Fd=qg())),Fd!==o?(Nm(),Wm=bd,bd=cy(Fd)):(Nd=bd,bd=o),bd}function Py(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,6)===cm?(Fd=cm,Nd+=6):(Fd=o,Am===0&&Gm(N0)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=Pm(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function wy(){var bd,Fd,Ld;return bd=Nd,e.substr(Nd,6)===Xm?(Fd=Xm,Nd+=6):(Fd=o,Am===0&&Gm(V1)),Fd!==o?(Nm(),Ld=q0(),Ld!==o?(Wm=bd,bd=hO(Ld)):(Nd=bd,bd=o)):(Nd=bd,bd=o),bd}function qg(){var bd,Fd;return bd=Nd,e.substr(Nd,4)===Hd?(Fd=Hd,Nd+=4):(Fd=o,Am===0&&Gm(Im)),Fd!==o&&(Wm=bd,Fd=C_()),bd=Fd,bd}function D_(){var bd;return bd=vO(),bd===o&&(bd=My()),bd}var ky=function(bd){this.type_="atom",this.source_=bd,this.location_=jg()},T0=function(bd,Fd,Ld,em){this.type_="pattern",this.arguments_={alignment:Fd,_steps:em},Ld!==void 0&&(this.arguments_.seed=Ld),this.source_=bd},mg=function(bd,Fd,Ld){this.type_=bd,this.arguments_=Fd,this.source_=Ld},y2=function(bd,Fd){this.type_="element",this.source_=bd,this.options_=Fd,this.location_=jg()},Sg=function(bd,Fd){this.type_="command",this.name_=bd,this.options_=Fd},S0=0;if(Rm=Nt(),r.peg$library)return{peg$result:Rm,peg$currPos:Nd,peg$FAILED:o,peg$maxFailExpected:Y1,peg$maxFailPos:W1};if(Rm!==o&&Nd===e.length)return Rm;throw Rm!==o&&Nd<e.length&&Gm(c2()),M_(Y1,W1<e.length?e.charAt(W1):null,W1<e.length?Ng(W1,W1+1):Ng(W1,W1))}const Gr=["start"];typeof BigInt>"u"&&(BigInt=function(e){if(isNaN(e))throw new Error("");return e});const C$2=BigInt(0),m$2=BigInt(1),ru=BigInt(2),Du=BigInt(5),N$1=BigInt(10),zr=2e3,A$1={s:m$2,n:C$2,d:m$2};function z$1(e,r){try{e=BigInt(e)}catch{throw Z$2()}return e*r}function S$2(e){return typeof e=="bigint"?e:Math.floor(e)}function I$1(e,r){if(r===C$2)throw du();const o=Object.create(b$1.prototype);o.s=e<C$2?-m$2:m$2,e=e<C$2?-e:e;const qe=U$2(e,r);return o.n=e/qe,o.d=r/qe,o}function Q$4(e){const r={};let o=e,qe=ru,bt=Du-m$2;for(;bt<=o;){for(;o%qe===C$2;)o/=qe,r[qe]=(r[qe]||C$2)+m$2;bt+=m$2+ru*qe++}return o!==e?o>1&&(r[o]=(r[o]||C$2)+m$2):r[e]=(r[e]||C$2)+m$2,r}const k$3=function(e,r){let o=C$2,qe=m$2,bt=m$2;if(e!=null)if(r!==void 0){if(typeof e=="bigint")o=e;else{if(isNaN(e))throw Z$2();if(e%1!==0)throw Qu();o=BigInt(e)}if(typeof r=="bigint")qe=r;else{if(isNaN(r))throw Z$2();if(r%1!==0)throw Qu();qe=BigInt(r)}bt=o*qe}else if(typeof e=="object"){if("d"in e&&"n"in e)o=BigInt(e.n),qe=BigInt(e.d),"s"in e&&(o*=BigInt(e.s));else if(0 in e)o=BigInt(e[0]),1 in e&&(qe=BigInt(e[1]));else if(typeof e=="bigint")o=e;else throw Z$2();bt=o*qe}else if(typeof e=="number"){if(isNaN(e))throw Z$2();if(e<0&&(bt=-m$2,e=-e),e%1===0)o=BigInt(e);else if(e>0){let Nt=1,Na=0,ld=1,fd=1,hd=1,dd=1e7;for(e>=1&&(Nt=10**Math.floor(1+Math.log10(e)),e/=Nt);ld<=dd&&hd<=dd;){let gd=(Na+fd)/(ld+hd);if(e===gd){ld+hd<=dd?(o=Na+fd,qe=ld+hd):hd>ld?(o=fd,qe=hd):(o=Na,qe=ld);break}else e>gd?(Na+=fd,ld+=hd):(fd+=Na,hd+=ld),ld>dd?(o=fd,qe=hd):(o=Na,qe=ld)}o=BigInt(o)*BigInt(Nt),qe=BigInt(qe)}}else if(typeof e=="string"){let Nt=0,Na=C$2,ld=C$2,fd=C$2,hd=m$2,dd=m$2,gd=e.replace(/_/g,"").match(/\d+|./g);if(gd===null)throw Z$2();if(gd[Nt]==="-"?(bt=-m$2,Nt++):gd[Nt]==="+"&&Nt++,gd.length===Nt+1?ld=z$1(gd[Nt++],bt):gd[Nt+1]==="."||gd[Nt]==="."?(gd[Nt]!=="."&&(Na=z$1(gd[Nt++],bt)),Nt++,(Nt+1===gd.length||gd[Nt+1]==="("&&gd[Nt+3]===")"||gd[Nt+1]==="'"&&gd[Nt+3]==="'")&&(ld=z$1(gd[Nt],bt),hd=N$1**BigInt(gd[Nt].length),Nt++),(gd[Nt]==="("&&gd[Nt+2]===")"||gd[Nt]==="'"&&gd[Nt+2]==="'")&&(fd=z$1(gd[Nt+1],bt),dd=N$1**BigInt(gd[Nt+1].length)-m$2,Nt+=3)):gd[Nt+1]==="/"||gd[Nt+1]===":"?(ld=z$1(gd[Nt],bt),hd=z$1(gd[Nt+2],m$2),Nt+=3):gd[Nt+3]==="/"&&gd[Nt+1]===" "&&(Na=z$1(gd[Nt],bt),ld=z$1(gd[Nt+2],bt),hd=z$1(gd[Nt+4],m$2),Nt+=5),gd.length<=Nt)qe=hd*dd,bt=o=fd+qe*Na+dd*ld;else throw Z$2()}else if(typeof e=="bigint")o=e,bt=e,qe=m$2;else throw Z$2();if(qe===C$2)throw du();A$1.s=bt<C$2?-m$2:m$2,A$1.n=o<C$2?-o:o,A$1.d=qe<C$2?-qe:qe};function Tr(e,r,o){let qe=m$2;for(;r>C$2;e=e*e%o,r>>=m$2)r&m$2&&(qe=qe*e%o);return qe}function Zr(e,r){for(;r%ru===C$2;r/=ru);for(;r%Du===C$2;r/=Du);if(r===m$2)return C$2;let o=N$1%r,qe=1;for(;o!==m$2;qe++)if(o=o*N$1%r,qe>zr)return C$2;return BigInt(qe)}function Wr(e,r,o){let qe=m$2,bt=Tr(N$1,o,r);for(let Nt=0;Nt<300;Nt++){if(qe===bt)return BigInt(Nt);qe=qe*N$1%r,bt=bt*N$1%r}return 0}function U$2(e,r){if(!e)return r;if(!r)return e;for(;;){if(e%=r,!e)return r;if(r%=e,!r)return e}}function b$1(e,r){if(k$3(e,r),this instanceof b$1)e=U$2(A$1.d,A$1.n),this.s=A$1.s,this.n=A$1.n/e,this.d=A$1.d/e;else return I$1(A$1.s*A$1.n,A$1.d)}var du=function(){return new Error("Division by Zero")},Z$2=function(){return new Error("Invalid argument")},Qu=function(){return new Error("Parameters must be integer")};b$1.prototype={s:m$2,n:C$2,d:m$2,abs:function(){return I$1(this.n,this.d)},neg:function(){return I$1(-this.s*this.n,this.d)},add:function(e,r){return k$3(e,r),I$1(this.s*this.n*A$1.d+A$1.s*this.d*A$1.n,this.d*A$1.d)},sub:function(e,r){return k$3(e,r),I$1(this.s*this.n*A$1.d-A$1.s*this.d*A$1.n,this.d*A$1.d)},mul:function(e,r){return k$3(e,r),I$1(this.s*A$1.s*this.n*A$1.n,this.d*A$1.d)},div:function(e,r){return k$3(e,r),I$1(this.s*A$1.s*this.n*A$1.d,this.d*A$1.n)},clone:function(){return I$1(this.s*this.n,this.d)},mod:function(e,r){if(e===void 0)return I$1(this.s*this.n%this.d,m$2);if(k$3(e,r),C$2===A$1.n*this.d)throw du();return I$1(this.s*(A$1.d*this.n)%(A$1.n*this.d),A$1.d*this.d)},gcd:function(e,r){return k$3(e,r),I$1(U$2(A$1.n,this.n)*U$2(A$1.d,this.d),A$1.d*this.d)},lcm:function(e,r){return k$3(e,r),A$1.n===C$2&&this.n===C$2?I$1(C$2,m$2):I$1(A$1.n*this.n,U$2(A$1.n,this.n)*U$2(A$1.d,this.d))},inverse:function(){return I$1(this.s*this.d,this.n)},pow:function(e,r){if(k$3(e,r),A$1.d===m$2)return A$1.s<C$2?I$1((this.s*this.d)**A$1.n,this.n**A$1.n):I$1((this.s*this.n)**A$1.n,this.d**A$1.n);if(this.s<C$2)return null;let o=Q$4(this.n),qe=Q$4(this.d),bt=m$2,Nt=m$2;for(let Na in o)if(Na!=="1"){if(Na==="0"){bt=C$2;break}if(o[Na]*=A$1.n,o[Na]%A$1.d===C$2)o[Na]/=A$1.d;else return null;bt*=BigInt(Na)**o[Na]}for(let Na in qe)if(Na!=="1"){if(qe[Na]*=A$1.n,qe[Na]%A$1.d===C$2)qe[Na]/=A$1.d;else return null;Nt*=BigInt(Na)**qe[Na]}return A$1.s<C$2?I$1(Nt,bt):I$1(bt,Nt)},log:function(e,r){if(k$3(e,r),this.s<=C$2||A$1.s<=C$2)return null;const o={},qe=Q$4(A$1.n),bt=Q$4(A$1.d),Nt=Q$4(this.n),Na=Q$4(this.d);for(const hd in bt)qe[hd]=(qe[hd]||C$2)-bt[hd];for(const hd in Na)Nt[hd]=(Nt[hd]||C$2)-Na[hd];for(const hd in qe)hd!=="1"&&(o[hd]=!0);for(const hd in Nt)hd!=="1"&&(o[hd]=!0);let ld=null,fd=null;for(const hd in o){const dd=qe[hd]||C$2,gd=Nt[hd]||C$2;if(dd===C$2){if(gd!==C$2)return null;continue}let yd=gd,_d=dd;const Ad=U$2(yd,_d);if(yd/=Ad,_d/=Ad,ld===null&&fd===null)ld=yd,fd=_d;else if(yd*fd!==ld*_d)return null}return ld!==null&&fd!==null?I$1(ld,fd):null},equals:function(e,r){return k$3(e,r),this.s*this.n*A$1.d===A$1.s*A$1.n*this.d},lt:function(e,r){return k$3(e,r),this.s*this.n*A$1.d<A$1.s*A$1.n*this.d},lte:function(e,r){return k$3(e,r),this.s*this.n*A$1.d<=A$1.s*A$1.n*this.d},gt:function(e,r){return k$3(e,r),this.s*this.n*A$1.d>A$1.s*A$1.n*this.d},gte:function(e,r){return k$3(e,r),this.s*this.n*A$1.d>=A$1.s*A$1.n*this.d},compare:function(e,r){k$3(e,r);let o=this.s*this.n*A$1.d-A$1.s*A$1.n*this.d;return(C$2<o)-(o<C$2)},ceil:function(e){return e=N$1**BigInt(e||0),I$1(S$2(this.s*e*this.n/this.d)+(e*this.n%this.d>C$2&&this.s>=C$2?m$2:C$2),e)},floor:function(e){return e=N$1**BigInt(e||0),I$1(S$2(this.s*e*this.n/this.d)-(e*this.n%this.d>C$2&&this.s<C$2?m$2:C$2),e)},round:function(e){return e=N$1**BigInt(e||0),I$1(S$2(this.s*e*this.n/this.d)+this.s*((this.s>=C$2?m$2:C$2)+ru*(e*this.n%this.d)>this.d?m$2:C$2),e)},roundTo:function(e,r){k$3(e,r);const o=this.n*A$1.d,qe=this.d*A$1.n,bt=o%qe;let Nt=S$2(o/qe);return bt+bt>=qe&&Nt++,I$1(this.s*Nt*A$1.n,A$1.d)},divisible:function(e,r){return k$3(e,r),!(!(A$1.n*this.d)||this.n*A$1.d%(A$1.n*this.d))},valueOf:function(){return Number(this.s*this.n)/Number(this.d)},toString:function(e){let r=this.n,o=this.d;e=e||15;let qe=Zr(r,o),bt=Wr(r,o,qe),Nt=this.s<C$2?"-":"";if(Nt+=S$2(r/o),r%=o,r*=N$1,r&&(Nt+="."),qe){for(let Na=bt;Na--;)Nt+=S$2(r/o),r%=o,r*=N$1;Nt+="(";for(let Na=qe;Na--;)Nt+=S$2(r/o),r%=o,r*=N$1;Nt+=")"}else for(let Na=e;r&&Na--;)Nt+=S$2(r/o),r%=o,r*=N$1;return Nt},toFraction:function(e){let r=this.n,o=this.d,qe=this.s<C$2?"-":"";if(o===m$2)qe+=r;else{let bt=S$2(r/o);e&&bt>C$2&&(qe+=bt,qe+=" ",r%=o),qe+=r,qe+="/",qe+=o}return qe},toLatex:function(e){let r=this.n,o=this.d,qe=this.s<C$2?"-":"";if(o===m$2)qe+=r;else{let bt=S$2(r/o);e&&bt>C$2&&(qe+=bt,r%=o),qe+="\\frac{",qe+=r,qe+="}{",qe+=o,qe+="}"}return qe},toContinued:function(){let e=this.n,r=this.d,o=[];do{o.push(S$2(e/r));let qe=e%r;e=r,r=qe}while(e!==m$2);return o},simplify:function(e){const r=BigInt(1/(e||.001)|0),o=this.abs(),qe=o.toContinued();for(let bt=1;bt<qe.length;bt++){let Nt=I$1(qe[bt-1],m$2);for(let ld=bt-2;ld>=0;ld--)Nt=Nt.inverse().add(qe[ld]);let Na=Nt.sub(o);if(Na.n*r<Na.d)return Nt.mul(this.s)}return this}};let L$2=class Wg{constructor(r,o){this.begin=W$2(r),this.end=W$2(o)}get spanCycles(){const r=[];var o=this.begin;const qe=this.end,bt=qe.sam();if(o.equals(qe))return[new Wg(o,qe)];for(;qe.gt(o);){if(o.sam().equals(bt)){r.push(new Wg(o,this.end));break}const Nt=o.nextSam();r.push(new Wg(o,Nt)),o=Nt}return r}get duration(){return this.end.sub(this.begin)}cycleArc(){const r=this.begin.cyclePos(),o=r.add(this.duration);return new Wg(r,o)}withTime(r){return new Wg(r(this.begin),r(this.end))}withEnd(r){return new Wg(this.begin,r(this.end))}withCycle(r){const o=this.begin.sam(),qe=o.add(r(this.begin.sub(o))),bt=o.add(r(this.end.sub(o)));return new Wg(qe,bt)}intersection(r){const o=this.begin.max(r.begin),qe=this.end.min(r.end);if(!o.gt(qe)&&!(o.equals(qe)&&(o.equals(this.end)&&this.begin.lt(this.end)||o.equals(r.end)&&r.begin.lt(r.end))))return new Wg(o,qe)}intersection_e(r){const o=this.intersection(r);if(o==null)throw"TimeSpans do not intersect";return o}midpoint(){return this.begin.add(this.duration.div(W$2(2)))}equals(r){return this.begin.equals(r.begin)&&this.end.equals(r.end)}show(){return this.begin.show()+" â†’ "+this.end.show()}};const Ur=e=>e.filter(r=>r!=null);b$1.prototype.sam=function(){return this.floor()},b$1.prototype.nextSam=function(){return this.sam().add(1)},b$1.prototype.wholeCycle=function(){return new L$2(this.sam(),this.nextSam())},b$1.prototype.cyclePos=function(){return this.sub(this.sam())},b$1.prototype.lt=function(e){return this.compare(e)<0},b$1.prototype.gt=function(e){return this.compare(e)>0},b$1.prototype.lte=function(e){return this.compare(e)<=0},b$1.prototype.gte=function(e){return this.compare(e)>=0},b$1.prototype.eq=function(e){return this.compare(e)==0},b$1.prototype.ne=function(e){return this.compare(e)!=0},b$1.prototype.max=function(e){return this.gt(e)?this:e},b$1.prototype.maximum=function(...e){return e=e.map(r=>new b$1(r)),e.reduce((r,o)=>o.max(r),this)},b$1.prototype.min=function(e){return this.lt(e)?this:e},b$1.prototype.mulmaybe=function(e){return e!==void 0?this.mul(e):void 0},b$1.prototype.divmaybe=function(e){return e!==void 0?this.div(e):void 0},b$1.prototype.addmaybe=function(e){return e!==void 0?this.add(e):void 0},b$1.prototype.submaybe=function(e){return e!==void 0?this.sub(e):void 0},b$1.prototype.show=function(){return this.s*this.n+"/"+this.d},b$1.prototype.or=function(e){return this.eq(0)?e:this};const W$2=e=>b$1(e),cu=(...e)=>{if(e=Ur(e),e.length===0)return;const r=e.pop();return e.reduce((o,qe)=>o===void 0||qe===void 0?void 0:o.lcm(qe),r)};W$2._original=b$1;const ue$1=3e-4,Vr=(e,r)=>(o,qe)=>{const bt=e.source_[qe].options_?.ops,Nt=o.__steps_source;if(bt)for(const Na of bt)switch(Na.type_){case"stretch":{const ld=["fast","slow"],{type:fd,amount:hd}=Na.arguments_;if(!ld.includes(fd))throw new Error(`mini: stretch: type must be one of ${ld.join("|")} but got ${fd}`);o=d$1(o)[fd](r(hd));break}case"replicate":{const{amount:ld}=Na.arguments_;o=d$1(o),o=o._repeatCycles(ld)._fast(ld);break}case"bjorklund":{Na.arguments_.rotation?o=o.euclidRot(r(Na.arguments_.pulse),r(Na.arguments_.step),r(Na.arguments_.rotation)):o=o.euclid(r(Na.arguments_.pulse),r(Na.arguments_.step));break}case"degradeBy":{o=d$1(o)._degradeByWith(L$3.early(ue$1*Na.arguments_.seed),Na.arguments_.amount??.5);break}case"tail":{const ld=r(Na.arguments_.element);o=o.fmap(fd=>hd=>Array.isArray(fd)?[...fd,hd]:[fd,hd]).appLeft(ld);break}case"range":{const ld=r(Na.arguments_.element);o=d$1(o);const fd=(hd,dd,gd=1)=>Array.from({length:Math.abs(dd-hd)/gd+1},(yd,_d)=>hd<dd?hd+_d*gd:hd-_d*gd);o=((hd,dd)=>hd.squeezeBind(gd=>dd.bind(yd=>W$3(...fd(gd,yd)))))(o,ld);break}default:console.warn(`operator "${Na.type_}" not implemented`)}return o.__steps_source=o.__steps_source||Nt,o};function nu(e,r,o,qe=0){o?.(e);const bt=Nt=>nu(Nt,r,o,qe);switch(e.type_){case"pattern":{const Nt=e.source_.map(hd=>bt(hd)).map(Vr(e,bt)),Na=e.arguments_.alignment,ld=Nt.filter(hd=>hd.__steps_source);let fd;switch(Na){case"stack":{fd=B$1(...Nt),ld.length&&(fd._steps=cu(...ld.map(hd=>W$2(hd._steps))));break}case"polymeter_slowcat":{fd=B$1(...Nt.map(hd=>hd._slow(hd.__weight))),ld.length&&(fd._steps=cu(...ld.map(hd=>W$2(hd._steps))));break}case"polymeter":{const hd=e.arguments_.stepsPerCycle?bt(e.arguments_.stepsPerCycle).fmap(gd=>h(gd)):z$2(h(Nt.length>0?Nt[0].__weight:1)),dd=Nt.map(gd=>gd.fast(hd.fmap(yd=>yd.div(gd.__weight))));fd=B$1(...dd);break}case"rand":{fd=ge$1(L$3.early(ue$1*e.arguments_.seed).segment(1),Nt),ld.length&&(fd._steps=cu(...ld.map(hd=>W$2(hd._steps))));break}case"feet":{fd=W$3(...Nt);break}default:{if(e.source_.some(hd=>!!hd.options_?.weight)){const hd=e.source_.reduce((dd,gd)=>dd.add(gd.options_?.weight||h(1)),h(0));fd=Pn(...e.source_.map((dd,gd)=>[dd.options_?.weight||h(1),Nt[gd]])),fd.__weight=hd,fd._steps=hd,ld.length&&(fd._steps=fd._steps.mul(cu(...ld.map(dd=>W$2(dd._steps)))))}else fd=G$4(...Nt),fd._steps=Nt.length;e.arguments_._steps&&(fd.__steps_source=!0)}}return ld.length&&(fd.__steps_source=!0),fd}case"element":return bt(e.source_);case"atom":{if(e.source_==="~"||e.source_==="-")return v$3;if(!e.location_)return console.warn("no location for",e),e.source_;const Nt=isNaN(Number(e.source_))?e.source_:Number(e.source_);if(qe===-1)return z$2(Nt);const[Na,ld]=ee$1(r,e,qe);return z$2(Nt).withLoc(Na,ld)}case"stretch":return bt(e.source_).slow(bt(e.arguments_.amount));default:return console.warn(`node type "${e.type_}" not implemented -> returning silence`),v$3}}const ee$1=(e,r,o=0)=>{const{start:qe,end:bt}=r.location_,Nt=e?.split("").slice(qe.offset,bt.offset).join(""),[Na=0,ld=0]=Nt?Nt.split(r.source_).map(fd=>fd.split("").filter(hd=>hd===" ").length):[];return[qe.offset+Na+o,bt.offset-ld+o]},Au=(e,r=0,o=e)=>{try{return Mr(e)}catch(qe){const bt=[qe.location.start.offset+r,qe.location.end.offset+r],Nt=o.slice(0,bt[0]).split(`
`).length;throw new Error(`[mini] parse error at line ${Nt}: ${qe.message}`)}},Xr=(e,r,o)=>{const qe=Au(e,r,o);let bt=[];return nu(qe,e,Nt=>{Nt.type_==="atom"&&bt.push(Nt)},-1),bt},Yr=(e,r=0,o)=>Xr(e,r,o).map(qe=>ee$1(e,qe,r)),te=(...e)=>{const r=e.map(o=>{const qe=`"${o}"`,bt=Au(qe);return nu(bt,qe)});return G$4(...r)},Hr=(e,r)=>{const o=`"${e}"`,qe=Au(o);return nu(qe,o,null,r)},Jr=e=>{const r=Au(e);return nu(r,e)};function Kr(e){return typeof e=="string"?te(e):d$1(e)}function Qr(){nl(te)}const strudelMini=Object.freeze(Object.defineProperty({__proto__:null,StartRules:Gr,SyntaxError:uu,getLeafLocation:ee$1,getLeafLocations:Yr,getLeaves:Xr,h:Jr,m:Hr,mini:te,mini2ast:Au,miniAllStrings:Qr,minify:Kr,parse:Mr,patternifyAST:nu},Symbol.toStringTag,{value:"Module"})),H$3="data:text/javascript;base64,dmFyIGF0PU9iamVjdC5kZWZpbmVQcm9wZXJ0eTt2YXIgaHQ9KHUsbSxmKT0+bSBpbiB1P2F0KHUsbSx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsd3JpdGFibGU6ITAsdmFsdWU6Zn0pOnVbbV09Zjt2YXIgZT0odSxtLGYpPT5odCh1LHR5cGVvZiBtIT0ic3ltYm9sIj9tKyIiOm0sZik7KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHU9dHlwZW9mIHNhbXBsZVJhdGU8InUiP3NhbXBsZVJhdGU6NDhlMyxtPU1hdGguUEkvdSxmPTEvdTtsZXQgVj1oPT5NYXRoLnBvdyhoLDIpO2Z1bmN0aW9uIF8oaCl7cmV0dXJuIFYoaCl9ZnVuY3Rpb24gTyhoLHMsdCl7Y29uc3QgaT1NYXRoLnNpbigoMS10KSouNSpNYXRoLlBJKSxuPU1hdGguc2luKHQqLjUqTWF0aC5QSSk7cmV0dXJuIGgqaStzKm59Y2xhc3MgZ3tjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc2luKHRoaXMucGhhc2UqMipNYXRoLlBJKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStzL3UpJTEsdH19Y2xhc3MgSXtjb25zdHJ1Y3Rvcigpe2UodGhpcywicGhhc2UiLDApfXVwZGF0ZShzKXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMSoyLTF9fWZ1bmN0aW9uIE0oaCxzKXtyZXR1cm4gaDxzPyhoLz1zLGgraC1oKmgtMSk6aD4xLXM/KGg9KGgtMSkvcyxoKmgraCtoKzEpOjB9Y2xhc3MgU3tjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnBoYXNlPXMucGhhc2U/PzB9dXBkYXRlKHMpe2NvbnN0IHQ9cy91O2xldCBpPU0odGhpcy5waGFzZSx0KSxuPTIqdGhpcy5waGFzZS0xLWk7cmV0dXJuIHRoaXMucGhhc2UrPXQsdGhpcy5waGFzZT4xJiYodGhpcy5waGFzZS09MSksbn19ZnVuY3Rpb24gVChoLHMsdCl7cmV0dXJuIGg8Mj8wOigobixsLHIpPT5yKihsLW4pK24pKC1zKi41LHMqLjUsdC8oaC0xKSl9ZnVuY3Rpb24geihoLHMpe3JldHVybiBoKk1hdGgucG93KDIscy8xMil9Y2xhc3MgRntjb25zdHJ1Y3RvcihzPXt9KXt0aGlzLnZvaWNlcz1zLnZvaWNlcz8/NSx0aGlzLmZyZXFzcHJlYWQ9cy5mcmVxc3ByZWFkPz8uMix0aGlzLnBhbnNwcmVhZD1zLnBhbnNwcmVhZD8/LjQsdGhpcy5waGFzZT1uZXcgRmxvYXQzMkFycmF5KHRoaXMudm9pY2VzKS5tYXAoKCk9Pk1hdGgucmFuZG9tKCkpfXVwZGF0ZShzKXtjb25zdCB0PU1hdGguc3FydCgxLXRoaXMucGFuc3ByZWFkKSxpPU1hdGguc3FydCh0aGlzLnBhbnNwcmVhZCk7bGV0IG49MCxsPTA7Zm9yKGxldCByPTA7cjx0aGlzLnZvaWNlcztyKyspe2NvbnN0IGE9eihzLFQodGhpcy52b2ljZXMsdGhpcy5mcmVxc3ByZWFkLHIpKS91LGM9KHImMSk9PTE7bGV0IGQ9dDtjJiYoZD1pKTtsZXQgYj1NKHRoaXMucGhhc2Vbcl0sYSksRT0yKnRoaXMucGhhc2Vbcl0tMS1iO249bitFKmQsbD1sK0UqZCx0aGlzLnBoYXNlW3JdKz1hLHRoaXMucGhhc2Vbcl0+MSYmKHRoaXMucGhhc2Vbcl0tPTEpfXJldHVybiBuK2x9fWNsYXNzIGt7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyl7dGhpcy5waGFzZSs9ZipzO2xldCB0PXRoaXMucGhhc2UlMTtyZXR1cm4odDwuNT8yKnQ6MS0yKih0LS41KSkqMi0xfX1jbGFzcyBxe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJzMCIsMCk7ZSh0aGlzLCJzMSIsMCl9dXBkYXRlKHMsdCxpPTApe2k9TWF0aC5tYXgoaSwwKSx0PU1hdGgubWluKHQsMmU0KTtjb25zdCBuPTIqTWF0aC5zaW4odCptKSxyPTEtTWF0aC5wb3coLjUsKGkrLjEyNSkvLjEyNSkqbjtyZXR1cm4gdGhpcy5zMD1yKnRoaXMuczAtbip0aGlzLnMxK24qcyx0aGlzLnMxPXIqdGhpcy5zMStuKnRoaXMuczAsdGhpcy5zMX19Y2xhc3MgQ3tjb25zdHJ1Y3RvcihzPTApe3RoaXMucGhhc2U9c31zYXcocyx0KXtsZXQgaT0odGhpcy5waGFzZStzKSUxLG49TShpLHQpO3JldHVybiAyKmktMS1ufXVwZGF0ZShzLHQ9LjUpe2NvbnN0IGk9cy91O2xldCBuPXRoaXMuc2F3KDAsaSktdGhpcy5zYXcodCxpKTtyZXR1cm4gdGhpcy5waGFzZT0odGhpcy5waGFzZStpKSUxLG4rdCoyLTF9fWNsYXNzIEx7Y29uc3RydWN0b3IoKXtlKHRoaXMsInBoYXNlIiwwKX11cGRhdGUocyx0PS41KXtyZXR1cm4gdGhpcy5waGFzZSs9ZipzLHRoaXMucGhhc2UlMTx0PzE6LTF9fWNsYXNzIFB7Y29uc3RydWN0b3IoKXtlKHRoaXMsInVwZGF0ZSIscz0+TWF0aC5yYW5kb20oKTxzKmY/TWF0aC5yYW5kb20oKTowKX19Y2xhc3MgTnt1cGRhdGUoKXtyZXR1cm4gTWF0aC5yYW5kb20oKSoyLTF9fWNsYXNzIEd7Y29uc3RydWN0b3IoKXt0aGlzLm91dD0wfXVwZGF0ZSgpe2xldCBzPU1hdGgucmFuZG9tKCkqMi0xO3JldHVybiB0aGlzLm91dD0odGhpcy5vdXQrLjAyKnMpLzEuMDIsdGhpcy5vdXR9fWNsYXNzIGp7Y29uc3RydWN0b3IoKXt0aGlzLmIwPTAsdGhpcy5iMT0wLHRoaXMuYjI9MCx0aGlzLmIzPTAsdGhpcy5iND0wLHRoaXMuYjU9MCx0aGlzLmI2PTB9dXBkYXRlKCl7Y29uc3Qgcz1NYXRoLnJhbmRvbSgpKjItMTt0aGlzLmIwPS45OTg4Nip0aGlzLmIwK3MqLjA1NTUxNzksdGhpcy5iMT0uOTkzMzIqdGhpcy5iMStzKi4wNzUwNzU5LHRoaXMuYjI9Ljk2OSp0aGlzLmIyK3MqLjE1Mzg1Mix0aGlzLmIzPS44NjY1KnRoaXMuYjMrcyouMzEwNDg1Nix0aGlzLmI0PS41NSp0aGlzLmI0K3MqLjUzMjk1MjIsdGhpcy5iNT0tLjc2MTYqdGhpcy5iNS1zKi4wMTY4OTg7Y29uc3QgdD10aGlzLmIwK3RoaXMuYjErdGhpcy5iMit0aGlzLmIzK3RoaXMuYjQrdGhpcy5iNSt0aGlzLmI2K3MqLjUzNjI7cmV0dXJuIHRoaXMuYjY9cyouMTE1OTI2LHQqLjExfX1jbGFzcyBCe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJwaGFzZSIsMSl9dXBkYXRlKHMpe3RoaXMucGhhc2UrPWYqcztsZXQgdD10aGlzLnBoYXNlPj0xPzE6MDtyZXR1cm4gdGhpcy5waGFzZT10aGlzLnBoYXNlJTEsdH19ZnVuY3Rpb24gUihoLHMsdCxpPTEpe2lmKGg8PTApcmV0dXJuIHM7aWYoaD49MSlyZXR1cm4gdDtsZXQgbjtyZXR1cm4gaT09PTA/bj1oOmk+MD9uPU1hdGgucG93KGgsaSk6bj0xLU1hdGgucG93KDEtaCwtaSkscysodC1zKSpufWNsYXNzIHZ7Y29uc3RydWN0b3Iocz17fSl7dGhpcy5zdGF0ZT0ib2ZmIix0aGlzLnN0YXJ0VGltZT0wLHRoaXMuc3RhcnRWYWw9MCx0aGlzLmRlY2F5Q3VydmU9cy5kZWNheUN1cnZlPz8xfXVwZGF0ZShzLHQsaSxuLGwscil7c3dpdGNoKHRoaXMuc3RhdGUpe2Nhc2Uib2ZmIjpyZXR1cm4gdD4wJiYodGhpcy5zdGF0ZT0iYXR0YWNrIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9MCksMDtjYXNlImF0dGFjayI6e2xldCBwPXMtdGhpcy5zdGFydFRpbWU7cmV0dXJuIHA+aT8odGhpcy5zdGF0ZT0iZGVjYXkiLHRoaXMuc3RhcnRUaW1lPXMsMSk6UihwL2ksdGhpcy5zdGFydFZhbCwxLDEpfWNhc2UiZGVjYXkiOntsZXQgcD1zLXRoaXMuc3RhcnRUaW1lLGE9UihwL24sMSxsLC10aGlzLmRlY2F5Q3VydmUpO3JldHVybiB0PD0wPyh0aGlzLnN0YXRlPSJyZWxlYXNlIix0aGlzLnN0YXJ0VGltZT1zLHRoaXMuc3RhcnRWYWw9YSxhKTpwPm4/KHRoaXMuc3RhdGU9InN1c3RhaW4iLHRoaXMuc3RhcnRUaW1lPXMsbCk6YX1jYXNlInN1c3RhaW4iOnJldHVybiB0PD0wJiYodGhpcy5zdGF0ZT0icmVsZWFzZSIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWwpLGw7Y2FzZSJyZWxlYXNlIjp7bGV0IHA9cy10aGlzLnN0YXJ0VGltZTtpZihwPnIpcmV0dXJuIHRoaXMuc3RhdGU9Im9mZiIsMDtsZXQgYT1SKHAvcix0aGlzLnN0YXJ0VmFsLDAsLXRoaXMuZGVjYXlDdXJ2ZSk7cmV0dXJuIHQ+MCYmKHRoaXMuc3RhdGU9ImF0dGFjayIsdGhpcy5zdGFydFRpbWU9cyx0aGlzLnN0YXJ0VmFsPWEpLGF9fXRocm93ImludmFsaWQgZW52ZWxvcGUgc3RhdGUifX1jb25zdCBXPTEwO2NsYXNzIHh7Y29uc3RydWN0b3IoKXtlKHRoaXMsIndyaXRlSWR4IiwwKTtlKHRoaXMsInJlYWRJZHgiLDApO2UodGhpcywiYnVmZmVyIixuZXcgRmxvYXQzMkFycmF5KFcqdSkpfXdyaXRlKHMsdCl7dGhpcy53cml0ZUlkeD0odGhpcy53cml0ZUlkeCsxKSV0aGlzLmJ1ZmZlci5sZW5ndGgsdGhpcy5idWZmZXJbdGhpcy53cml0ZUlkeF09cztsZXQgaT1NYXRoLm1pbihNYXRoLmZsb29yKHUqdCksdGhpcy5idWZmZXIubGVuZ3RoLTEpO3RoaXMucmVhZElkeD10aGlzLndyaXRlSWR4LWksdGhpcy5yZWFkSWR4PDAmJih0aGlzLnJlYWRJZHgrPXRoaXMuYnVmZmVyLmxlbmd0aCl9dXBkYXRlKHMsdCl7cmV0dXJuIHRoaXMud3JpdGUocyx0KSx0aGlzLmJ1ZmZlclt0aGlzLnJlYWRJZHhdfX1jbGFzcyBYe2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJkZWxheSIsbmV3IHgpO2UodGhpcywibW9kdWxhdG9yIixuZXcgayl9dXBkYXRlKHMsdCxpLG4sbCl7Y29uc3Qgcj10aGlzLm1vZHVsYXRvci51cGRhdGUobikqbCxwPXRoaXMuZGVsYXkudXBkYXRlKHMsaSooMStyKSk7cmV0dXJuIE8ocyxwLHQpfX1jbGFzcyAke2NvbnN0cnVjdG9yKCl7ZSh0aGlzLCJob2xkIiwwKTtlKHRoaXMsInQiLDApfXVwZGF0ZShzLHQpe3JldHVybiB0aGlzLnQrKyV0PT09MCYmKHRoaXMudD0wLHRoaXMuaG9sZD1zKSx0aGlzLmhvbGR9fWNsYXNzIFV7dXBkYXRlKHMsdCl7dD1NYXRoLm1heCgxLHQpO2NvbnN0IGk9TWF0aC5wb3coMix0LTEpO3JldHVybiBNYXRoLnJvdW5kKHMqaSkvaX19Y2xhc3MgWXt1cGRhdGUocyx0PTAsaT0xKXtpPU1hdGgubWF4KC4wMDEsTWF0aC5taW4oMSxpKSk7Y29uc3Qgbj1NYXRoLmV4cG0xKHQpO3JldHVybigxK24pKnMvKDErbipNYXRoLmFicyhzKSkqaX19Y2xhc3Mgd3tjb25zdHJ1Y3RvcihzLHQsaSl7ZSh0aGlzLCJidWZmZXIiKTtlKHRoaXMsInNhbXBsZVJhdGUiKTtlKHRoaXMsInBvcyIsMCk7ZSh0aGlzLCJzYW1wbGVGcmVxIixBKCkpO3RoaXMuYnVmZmVyPXMsdGhpcy5zYW1wbGVSYXRlPXQsdGhpcy5kdXJhdGlvbj10aGlzLmJ1ZmZlci5sZW5ndGgvdGhpcy5zYW1wbGVSYXRlLHRoaXMuc3BlZWQ9dS90aGlzLnNhbXBsZVJhdGUsaSYmKHRoaXMuc3BlZWQqPXRoaXMuZHVyYXRpb24pfXVwZGF0ZShzKXtpZih0aGlzLnBvcz49dGhpcy5idWZmZXIubGVuZ3RoKXJldHVybiAwO2NvbnN0IHQ9cy90aGlzLnNhbXBsZUZyZXEqdGhpcy5zcGVlZDtsZXQgaT10aGlzLmJ1ZmZlcltNYXRoLmZsb29yKHRoaXMucG9zKV07cmV0dXJuIHRoaXMucG9zPXRoaXMucG9zK3QsaX19ZSh3LCJzYW1wbGVzIixuZXcgTWFwKTtjb25zdCB5PShoLHM9ImxpbmVhciIsdCk9Pntjb25zdFtyLHAsYSxjXT1oO2lmKHI9PW51bGwmJnA9PW51bGwmJmE9PW51bGwmJmM9PW51bGwpcmV0dXJuIHQ/P1suMDAxLC4wMDEsMSwuMDFdO2NvbnN0IGQ9YT8/KHIhPW51bGwmJnA9PW51bGx8fHI9PW51bGwmJnA9PW51bGw/MTouMDAxKTtyZXR1cm5bTWF0aC5tYXgocj8/MCwuMDAxKSxNYXRoLm1heChwPz8wLC4wMDEpLE1hdGgubWluKGQsMSksTWF0aC5tYXgoYz8/MCwuMDEpXX07bGV0IEQ9e3NpbmU6ZyxzYXc6Uyx6YXc6SSxzYXd0b290aDpTLHphd3Rvb3RoOkksc3VwZXJzYXc6Rix0cmk6ayx0cmlhbmdsZTprLHB1bHNlOkMsc3F1YXJlOkMscHVsemU6TCxkdXN0OlAsY3JhY2tsZTpQLGltcHVsc2U6Qix3aGl0ZTpOLGJyb3duOkcscGluazpqfTtjb25zdCBaPXtjaG9ydXM6MCxub3RlOjQ4LHM6InRyaWFuZ2xlIixiYW5rOiIiLGdhaW46MSxwb3N0Z2FpbjoxLHZlbG9jaXR5OjEsZGVuc2l0eToiLjAzIixmdHlwZToiMTJkYiIsZmFuY2hvcjowLHJlc29uYW5jZTowLGhyZXNvbmFuY2U6MCxiYW5kcTowLGNoYW5uZWxzOlsxLDJdLHBoYXNlcmRlcHRoOi43NSxzaGFwZXZvbDoxLGRpc3RvcnR2b2w6MSxkZWxheTowLGJ5dGVCZWF0RXhwcmVzc2lvbjoiMCIsZGVsYXlmZWVkYmFjazouNSxkZWxheXNwZWVkOjEsZGVsYXl0aW1lOi4yNSxvcmJpdDoxLGk6MSxmZnQ6OCx6OiJ0cmlhbmdsZSIscGFuOi41LGZtaDoxLGZtZW52OjAsc3BlZWQ6MSxwdzouNX07bGV0IG89aD0+WltoXTtjb25zdCBIPXtjOjAsZDoyLGU6NCxmOjUsZzo3LGE6OSxiOjExfSxKPXsiIyI6MSxiOi0xLHM6MSxmOi0xfSxLPShoLHM9Myk9Pnt2YXIgYTtsZXRbdCxpPSIiLG49IiJdPSgoYT1TdHJpbmcoaCkubWF0Y2goL14oW2EtZ0EtR10pKFsjYnNmXSopKFswLTldKikkLykpPT1udWxsP3ZvaWQgMDphLnNsaWNlKDEpKXx8W107aWYoIXQpdGhyb3cgbmV3IEVycm9yKCdub3QgYSBub3RlOiAiJytoKyciJyk7Y29uc3QgbD1IW3QudG9Mb3dlckNhc2UoKV0scj0oaT09bnVsbD92b2lkIDA6aS5zcGxpdCgiIikucmVkdWNlKChjLGQpPT5jK0pbZF0sMCkpfHwwO3JldHVybihOdW1iZXIobnx8cykrMSkqMTIrbCtyfSxRPWg9Pk1hdGgucG93KDIsKGgtNjkpLzEyKSo0NDAsQT1oPT4oaD1ofHxvKCJub3RlIiksdHlwZW9mIGg9PSJzdHJpbmciJiYoaD1LKGgsMykpLFEoaCkpO2NsYXNzIHR0e2NvbnN0cnVjdG9yKHMpe2UodGhpcywiaWQiLDApO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJhdHRhY2siKTtlKHRoaXMsImRlY2F5Iik7ZSh0aGlzLCJzdXN0YWluIik7ZSh0aGlzLCJyZWxlYXNlIik7ZSh0aGlzLCJfYmVnaW4iKTtlKHRoaXMsIl9kdXJhdGlvbiIpO2UodGhpcywiX3NvdW5kIik7ZSh0aGlzLCJfY2hhbm5lbHMiLDEpO2UodGhpcywiX2J1ZmZlcnMiKTtlKHRoaXMsInVuaXQiKTtlKHRoaXMsIl9wZW52Iik7ZSh0aGlzLCJwZW52Iik7ZSh0aGlzLCJwYXR0YWNrIik7ZSh0aGlzLCJwZGVjYXkiKTtlKHRoaXMsInBzdXN0YWluIik7ZSh0aGlzLCJwcmVsZWFzZSIpO2UodGhpcywidmliIik7ZSh0aGlzLCJfdmliIik7ZSh0aGlzLCJ2aWJtb2QiKTtlKHRoaXMsIl9mbSIpO2UodGhpcywiZm1oIik7ZSh0aGlzLCJmbWkiKTtlKHRoaXMsIl9mbWVudiIpO2UodGhpcywiZm1hdHRhY2siKTtlKHRoaXMsImZtZGVjYXkiKTtlKHRoaXMsImZtc3VzdGFpbiIpO2UodGhpcywiZm1yZWxlYXNlIik7ZSh0aGlzLCJfbHBlbnYiKTtlKHRoaXMsImxwZW52Iik7ZSh0aGlzLCJscGF0dGFjayIpO2UodGhpcywibHBkZWNheSIpO2UodGhpcywibHBzdXN0YWluIik7ZSh0aGlzLCJscHJlbGVhc2UiKTtlKHRoaXMsIl9ocGVudiIpO2UodGhpcywiaHBlbnYiKTtlKHRoaXMsImhwYXR0YWNrIik7ZSh0aGlzLCJocGRlY2F5Iik7ZSh0aGlzLCJocHN1c3RhaW4iKTtlKHRoaXMsImhwcmVsZWFzZSIpO2UodGhpcywiX2JwZW52Iik7ZSh0aGlzLCJicGVudiIpO2UodGhpcywiYnBhdHRhY2siKTtlKHRoaXMsImJwZGVjYXkiKTtlKHRoaXMsImJwc3VzdGFpbiIpO2UodGhpcywiYnByZWxlYXNlIik7ZSh0aGlzLCJjdXRvZmYiKTtlKHRoaXMsImhjdXRvZmYiKTtlKHRoaXMsImJhbmRmIik7ZSh0aGlzLCJjb2Fyc2UiKTtlKHRoaXMsImNydXNoIik7ZSh0aGlzLCJkaXN0b3J0Iik7ZSh0aGlzLCJmcmVxIik7ZSh0aGlzLCJub3RlIik7ZSh0aGlzLCJfbHBmIik7ZSh0aGlzLCJfaHBmIik7ZSh0aGlzLCJfYnBmIik7ZSh0aGlzLCJfY2hvcnVzIik7ZSh0aGlzLCJfY29hcnNlIik7ZSh0aGlzLCJfY3J1c2giKTtlKHRoaXMsIl9kaXN0b3J0Iik7dmFyIGksbixsLHIscCxhLGM7dGhpcy5mcmVxPz8odGhpcy5mcmVxPUEocy5ub3RlKSksdGhpcy5fYmVnaW49cy5fYmVnaW4sdGhpcy5fZHVyYXRpb249cy5fZHVyYXRpb24sdGhpcy5yZWxlYXNlPXMucmVsZWFzZT8/MDtsZXQgdD10aGlzO2lmKE9iamVjdC5hc3NpZ24odCxzKSx0LnM9dC5zPz9vKCJzIiksdC5nYWluPV8odC5nYWluPz9vKCJnYWluIikpLHQudmVsb2NpdHk9Xyh0LnZlbG9jaXR5Pz9vKCJ2ZWxvY2l0eSIpKSx0LnBvc3RnYWluPV8odC5wb3N0Z2Fpbj8/bygicG9zdGdhaW4iKSksdC5kZW5zaXR5PXQuZGVuc2l0eT8/bygiZGVuc2l0eSIpLHQuZmFuY2hvcj10LmZhbmNob3I/P28oImZhbmNob3IiKSx0LmRyaXZlPXQuZHJpdmU/Py42OSx0LnBoYXNlcmRlcHRoPXQucGhhc2VyZGVwdGg/P28oInBoYXNlcmRlcHRoIiksdC5zaGFwZXZvbD1fKHQuc2hhcGV2b2w/P28oInNoYXBldm9sIikpLHQuZGlzdG9ydHZvbD1fKHQuZGlzdG9ydHZvbD8/bygiZGlzdG9ydHZvbCIpKSx0Lmk9dC5pPz9vKCJpIiksdC5jaG9ydXM9dC5jaG9ydXM/P28oImNob3J1cyIpLHQuZmZ0PXQuZmZ0Pz9vKCJmZnQiKSx0LnBhbj10LnBhbj8/bygicGFuIiksdC5vcmJpdD10Lm9yYml0Pz9vKCJvcmJpdCIpLHQuZm1lbnY9dC5mbWVudj8/bygiZm1lbnYiKSx0LnJlc29uYW5jZT10LnJlc29uYW5jZT8/bygicmVzb25hbmNlIiksdC5ocmVzb25hbmNlPXQuaHJlc29uYW5jZT8/bygiaHJlc29uYW5jZSIpLHQuYmFuZHE9dC5iYW5kcT8/bygiYmFuZHEiKSx0LnNwZWVkPXQuc3BlZWQ/P28oInNwZWVkIiksdC5wdz10LnB3Pz9vKCJwdyIpLFt0LmF0dGFjayx0LmRlY2F5LHQuc3VzdGFpbix0LnJlbGVhc2VdPXkoW3QuYXR0YWNrLHQuZGVjYXksdC5zdXN0YWluLHQucmVsZWFzZV0pLHQuX2hvbGRFbmQ9dC5fYmVnaW4rdC5fZHVyYXRpb24sdC5fZW5kPXQuX2hvbGRFbmQrdC5yZWxlYXNlKy4wMSx0LmZtaSYmKHQucz09PSJzYXcifHx0LnM9PT0ic2F3dG9vdGgiKSYmKHQucz0iemF3IiksRFt0LnNdKXtjb25zdCBkPURbdC5zXTt0Ll9zb3VuZD1uZXcgZCx0Ll9jaGFubmVscz0xfWVsc2UgaWYody5zYW1wbGVzLmhhcyh0LnMpKXtjb25zdCBkPXcuc2FtcGxlcy5nZXQodC5zKTt0Ll9idWZmZXJzPVtdLHQuX2NoYW5uZWxzPWQuY2hhbm5lbHMubGVuZ3RoO2ZvcihsZXQgYj0wO2I8dC5fY2hhbm5lbHM7YisrKXQuX2J1ZmZlcnMucHVzaChuZXcgdyhkLmNoYW5uZWxzW2JdLGQuc2FtcGxlUmF0ZSx0LnVuaXQ9PT0iYyIpKX1lbHNlIGNvbnNvbGUud2Fybigic291bmQgbm90IGxvYWRlZCIsdC5zKTt0LnBlbnYmJih0Ll9wZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV09eShbdC5wYXR0YWNrLHQucGRlY2F5LHQucHN1c3RhaW4sdC5wcmVsZWFzZV0pKSx0LnZpYiYmKHQuX3ZpYj1uZXcgZyx0LnZpYm1vZD10LnZpYm1vZD8/bygidmlibW9kIikpLHQuZm1pJiYodC5fZm09bmV3IGcsdC5mbWg9dC5mbWg/P28oImZtaCIpLHQuZm1lbnYmJih0Ll9mbWVudj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksW3QuZm1hdHRhY2ssdC5mbWRlY2F5LHQuZm1zdXN0YWluLHQuZm1yZWxlYXNlXT15KFt0LmZtYXR0YWNrLHQuZm1kZWNheSx0LmZtc3VzdGFpbix0LmZtcmVsZWFzZV0pKSksdC5fYWRzcj1uZXcgdih7ZGVjYXlDdXJ2ZToyfSksdC5kZWxheT1fKHQuZGVsYXk/P28oImRlbGF5IikpLHQuZGVsYXlmZWVkYmFjaz10LmRlbGF5ZmVlZGJhY2s/P28oImRlbGF5ZmVlZGJhY2siKSx0LmRlbGF5c3BlZWQ9dC5kZWxheXNwZWVkPz9vKCJkZWxheXNwZWVkIiksdC5kZWxheXRpbWU9dC5kZWxheXRpbWU/P28oImRlbGF5dGltZSIpLHQubHBlbnYmJih0Ll9scGVudj1uZXcgdih7ZGVjYXlDdXJ2ZTo0fSksW3QubHBhdHRhY2ssdC5scGRlY2F5LHQubHBzdXN0YWluLHQubHByZWxlYXNlXT15KFt0LmxwYXR0YWNrLHQubHBkZWNheSx0Lmxwc3VzdGFpbix0LmxwcmVsZWFzZV0pKSx0LmhwZW52JiYodC5faHBlbnY9bmV3IHYoe2RlY2F5Q3VydmU6NH0pLFt0LmhwYXR0YWNrLHQuaHBkZWNheSx0Lmhwc3VzdGFpbix0LmhwcmVsZWFzZV09eShbdC5ocGF0dGFjayx0LmhwZGVjYXksdC5ocHN1c3RhaW4sdC5ocHJlbGVhc2VdKSksdC5icGVudiYmKHQuX2JwZW52PW5ldyB2KHtkZWNheUN1cnZlOjR9KSxbdC5icGF0dGFjayx0LmJwZGVjYXksdC5icHN1c3RhaW4sdC5icHJlbGVhc2VdPXkoW3QuYnBhdHRhY2ssdC5icGRlY2F5LHQuYnBzdXN0YWluLHQuYnByZWxlYXNlXSkpLHQuX2Nob3J1cz10LmNob3J1cz9bXTpudWxsLHQuX2xwZj10LmN1dG9mZj9bXTpudWxsLHQuX2hwZj10LmhjdXRvZmY/W106bnVsbCx0Ll9icGY9dC5iYW5kZj9bXTpudWxsLHQuX2NvYXJzZT10LmNvYXJzZT9bXTpudWxsLHQuX2NydXNoPXQuY3J1c2g/W106bnVsbCx0Ll9kaXN0b3J0PXQuZGlzdG9ydD9bXTpudWxsO2ZvcihsZXQgZD0wO2Q8dGhpcy5fY2hhbm5lbHM7ZCsrKShpPXQuX2xwZik9PW51bGx8fGkucHVzaChuZXcgcSksKG49dC5faHBmKT09bnVsbHx8bi5wdXNoKG5ldyBxKSwobD10Ll9icGYpPT1udWxsfHxsLnB1c2gobmV3IHEpLChyPXQuX2Nob3J1cyk9PW51bGx8fHIucHVzaChuZXcgWCksKHA9dC5fY29hcnNlKT09bnVsbHx8cC5wdXNoKG5ldyAkKSwoYT10Ll9jcnVzaCk9PW51bGx8fGEucHVzaChuZXcgVSksKGM9dC5fZGlzdG9ydCk9PW51bGx8fGMucHVzaChuZXcgWSl9dXBkYXRlKHMpe2lmKCF0aGlzLl9zb3VuZCYmIXRoaXMuX2J1ZmZlcnMpcmV0dXJuIDA7bGV0IHQ9KyhzPj10aGlzLl9iZWdpbiYmczw9dGhpcy5faG9sZEVuZCksaT10aGlzLmZyZXEqdGhpcy5zcGVlZDtpZih0aGlzLl9mbSYmdGhpcy5mbWghPT12b2lkIDAmJnRoaXMuZm1pIT09dm9pZCAwKXtsZXQgYT10aGlzLmZtaTtpZih0aGlzLl9mbWVudil7Y29uc3QgYj10aGlzLl9mbWVudi51cGRhdGUocyx0LHRoaXMuZm1hdHRhY2ssdGhpcy5mbWRlY2F5LHRoaXMuZm1zdXN0YWluLHRoaXMuZm1yZWxlYXNlKTthPXRoaXMuZm1lbnYqYiphfWNvbnN0IGM9aSp0aGlzLmZtaCxkPWMqYTtpPWkrdGhpcy5fZm0udXBkYXRlKGMpKmR9aWYodGhpcy5fdmliJiZ0aGlzLnZpYm1vZCE9PXZvaWQgMCYmKGk9aSoyKioodGhpcy5fdmliLnVwZGF0ZSh0aGlzLnZpYikqdGhpcy52aWJtb2QvMTIpKSx0aGlzLl9wZW52JiZ0aGlzLnBlbnYhPT12b2lkIDApe2NvbnN0IGE9dGhpcy5fcGVudi51cGRhdGUocyx0LHRoaXMucGF0dGFjayx0aGlzLnBkZWNheSx0aGlzLnBzdXN0YWluLHRoaXMucHJlbGVhc2UpO2k9aSthKnRoaXMucGVudn1sZXQgbj10aGlzLmN1dG9mZjtpZihuIT09dm9pZCAwJiZ0aGlzLl9scGVudil7Y29uc3QgYT10aGlzLl9scGVudi51cGRhdGUocyx0LHRoaXMubHBhdHRhY2ssdGhpcy5scGRlY2F5LHRoaXMubHBzdXN0YWluLHRoaXMubHByZWxlYXNlKTtuPXRoaXMubHBlbnYqYSpuK259bGV0IGw9dGhpcy5oY3V0b2ZmO2lmKGwhPT12b2lkIDAmJnRoaXMuX2hwZW52JiZ0aGlzLmhwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2hwZW52LnVwZGF0ZShzLHQsdGhpcy5ocGF0dGFjayx0aGlzLmhwZGVjYXksdGhpcy5ocHN1c3RhaW4sdGhpcy5ocHJlbGVhc2UpO2w9MioqdGhpcy5ocGVudiphKmwrbH1sZXQgcj10aGlzLmJhbmRmO2lmKHIhPT12b2lkIDAmJnRoaXMuX2JwZW52JiZ0aGlzLmJwZW52IT09dm9pZCAwKXtjb25zdCBhPXRoaXMuX2JwZW52LnVwZGF0ZShzLHQsdGhpcy5icGF0dGFjayx0aGlzLmJwZGVjYXksdGhpcy5icHN1c3RhaW4sdGhpcy5icHJlbGVhc2UpO3I9MioqdGhpcy5icGVudiphKnIrcn1jb25zdCBwPXRoaXMuX2Fkc3IudXBkYXRlKHMsdCx0aGlzLmF0dGFjayx0aGlzLmRlY2F5LHRoaXMuc3VzdGFpbix0aGlzLnJlbGVhc2UpO2ZvcihsZXQgYT0wO2E8dGhpcy5fY2hhbm5lbHM7YSsrKXtpZih0aGlzLl9zb3VuZCYmdGhpcy5zPT09InB1bHNlIj90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSx0aGlzLnB3KTp0aGlzLl9zb3VuZD90aGlzLm91dFthXT10aGlzLl9zb3VuZC51cGRhdGUoaSk6dGhpcy5fYnVmZmVycyYmKHRoaXMub3V0W2FdPXRoaXMuX2J1ZmZlcnNbYV0udXBkYXRlKGkpKSx0aGlzLm91dFthXT10aGlzLm91dFthXSp0aGlzLmdhaW4qdGhpcy52ZWxvY2l0eSx0aGlzLl9jaG9ydXMpe2NvbnN0IGM9dGhpcy5fY2hvcnVzW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNob3J1cywuMDMrLjA1KmEsMSwuMTEpO3RoaXMub3V0W2FdPWMrdGhpcy5vdXRbYV19dGhpcy5fbHBmJiYodGhpcy5fbHBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxuLHRoaXMucmVzb25hbmNlKSx0aGlzLm91dFthXT10aGlzLl9scGZbYV0uczEpLHRoaXMuX2hwZiYmKHRoaXMuX2hwZlthXS51cGRhdGUodGhpcy5vdXRbYV0sbCx0aGlzLmhyZXNvbmFuY2UpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdLXRoaXMuX2hwZlthXS5zMSksdGhpcy5fYnBmJiYodGhpcy5fYnBmW2FdLnVwZGF0ZSh0aGlzLm91dFthXSxyLHRoaXMuYmFuZHEpLHRoaXMub3V0W2FdPXRoaXMuX2JwZlthXS5zMCksdGhpcy5fY29hcnNlJiYodGhpcy5vdXRbYV09dGhpcy5fY29hcnNlW2FdLnVwZGF0ZSh0aGlzLm91dFthXSx0aGlzLmNvYXJzZSkpLHRoaXMuX2NydXNoJiYodGhpcy5vdXRbYV09dGhpcy5fY3J1c2hbYV0udXBkYXRlKHRoaXMub3V0W2FdLHRoaXMuY3J1c2gpKSx0aGlzLl9kaXN0b3J0JiYodGhpcy5vdXRbYV09dGhpcy5fZGlzdG9ydFthXS51cGRhdGUodGhpcy5vdXRbYV0sdGhpcy5kaXN0b3J0LHRoaXMuZGlzdG9ydHZvbCkpLHRoaXMub3V0W2FdPXRoaXMub3V0W2FdKnAsdGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qdGhpcy5wb3N0Z2Fpbix0aGlzLl9idWZmZXJzfHwodGhpcy5vdXRbYV09dGhpcy5vdXRbYV0qLjIpfWlmKHRoaXMuX2NoYW5uZWxzPT09MSYmKHRoaXMub3V0WzFdPXRoaXMub3V0WzBdKSx0aGlzLnBhbiE9PS41KXtjb25zdCBhPXRoaXMucGFuKk1hdGguUEkvMjt0aGlzLm91dFswXT10aGlzLm91dFswXSpNYXRoLmNvcyhhKSx0aGlzLm91dFsxXT10aGlzLm91dFsxXSpNYXRoLnNpbihhKX19fWNsYXNzIHN0e2NvbnN0cnVjdG9yKHM9NDhlMyx0PTApe2UodGhpcywidm9pY2VzIixbXSk7ZSh0aGlzLCJ2aWQiLDApO2UodGhpcywicSIsW10pO2UodGhpcywib3V0IixbMCwwXSk7ZSh0aGlzLCJkZWxheXNlbmQiLFswLDBdKTtlKHRoaXMsImRlbGF5dGltZSIsbygiZGVsYXl0aW1lIikpO2UodGhpcywiZGVsYXlmZWVkYmFjayIsbygiZGVsYXlmZWVkYmFjayIpKTtlKHRoaXMsImRlbGF5c3BlZWQiLG8oImRlbGF5c3BlZWQiKSk7ZSh0aGlzLCJ0IiwwKTt0aGlzLnNhbXBsZVJhdGU9cyx0aGlzLnQ9TWF0aC5mbG9vcih0KnMpLHRoaXMuX2RlbGF5TD1uZXcgeCx0aGlzLl9kZWxheVI9bmV3IHh9bG9hZFNhbXBsZShzLHQsaSl7dy5zYW1wbGVzLnNldChzLHtjaGFubmVsczp0LHNhbXBsZVJhdGU6aX0pfXNjaGVkdWxlU3Bhd24ocyl7aWYocy5fYmVnaW49PT12b2lkIDApdGhyb3cgbmV3IEVycm9yKCJbZG91Z2hdOiBzY2hlZHVsZVNwYXduIGV4cGVjdGVkIF9iZWdpbiB0byBiZSBzZXQiKTtpZihzLl9kdXJhdGlvbj09PXZvaWQgMCl0aHJvdyBuZXcgRXJyb3IoIltkb3VnaF06IHNjaGVkdWxlU3Bhd24gZXhwZWN0ZWQgX2R1cmF0aW9uIHRvIGJlIHNldCIpO3Muc2FtcGxlUmF0ZT10aGlzLnNhbXBsZVJhdGU7Y29uc3QgdD1NYXRoLmZsb29yKHMuX2JlZ2luKnRoaXMuc2FtcGxlUmF0ZSk7dGhpcy5zY2hlZHVsZSh7dGltZTp0LHR5cGU6InNwYXduIixhcmc6c30pfXNwYXduKHMpe3MuaWQ9dGhpcy52aWQrKztjb25zdCB0PW5ldyB0dChzKTt0aGlzLnZvaWNlcy5wdXNoKHQpO2NvbnN0IGk9TWF0aC5jZWlsKHQuX2VuZCp0aGlzLnNhbXBsZVJhdGUpO3RoaXMuc2NoZWR1bGUoe3RpbWU6aSx0eXBlOiJkZXNwYXduIixhcmc6dC5pZH0pfWRlc3Bhd24ocyl7dGhpcy52b2ljZXM9dGhpcy52b2ljZXMuZmlsdGVyKHQ9PnQuaWQhPT1zKX1zY2hlZHVsZShzKXtpZighdGhpcy5xLmxlbmd0aCl7dGhpcy5xLnB1c2gocyk7cmV0dXJufWxldCB0PTA7Zm9yKDt0PHRoaXMucS5sZW5ndGgmJnRoaXMucVt0XS50aW1lPHMudGltZTspdCsrO3RoaXMucS5zcGxpY2UodCwwLHMpfXVwZGF0ZSgpe2Zvcig7dGhpcy5xLmxlbmd0aD4wJiZ0aGlzLnFbMF0udGltZTw9dGhpcy50Oyl0aGlzW3RoaXMucVswXS50eXBlXSh0aGlzLnFbMF0uYXJnKSx0aGlzLnEuc2hpZnQoKTt0aGlzLm91dFswXT0wLHRoaXMub3V0WzFdPTA7Zm9yKGxldCBpPTA7aTx0aGlzLnZvaWNlcy5sZW5ndGg7aSsrKXRoaXMudm9pY2VzW2ldLnVwZGF0ZSh0aGlzLnQvdGhpcy5zYW1wbGVSYXRlKSx0aGlzLm91dFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdLHRoaXMub3V0WzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0sdGhpcy52b2ljZXNbaV0uZGVsYXkmJih0aGlzLmRlbGF5c2VuZFswXSs9dGhpcy52b2ljZXNbaV0ub3V0WzBdKnRoaXMudm9pY2VzW2ldLmRlbGF5LHRoaXMuZGVsYXlzZW5kWzFdKz10aGlzLnZvaWNlc1tpXS5vdXRbMV0qdGhpcy52b2ljZXNbaV0uZGVsYXksdGhpcy5kZWxheXRpbWU9dGhpcy52b2ljZXNbaV0uZGVsYXl0aW1lLHRoaXMuZGVsYXlzcGVlZD10aGlzLnZvaWNlc1tpXS5kZWxheXNwZWVkLHRoaXMuZGVsYXlmZWVkYmFjaz10aGlzLnZvaWNlc1tpXS5kZWxheWZlZWRiYWNrKTtjb25zdCBzPXRoaXMuX2RlbGF5TC51cGRhdGUodGhpcy5kZWxheXNlbmRbMF0sdGhpcy5kZWxheXRpbWUpLHQ9dGhpcy5fZGVsYXlSLnVwZGF0ZSh0aGlzLmRlbGF5c2VuZFsxXSx0aGlzLmRlbGF5dGltZSk7dGhpcy5kZWxheXNlbmRbMF09cyp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5kZWxheXNlbmRbMV09dCp0aGlzLmRlbGF5ZmVlZGJhY2ssdGhpcy5vdXRbMF0rPXMsdGhpcy5vdXRbMV0rPXQsdGhpcy50Kyt9fWNvbnN0IGV0PShoLHMsdCk9Pk1hdGgubWluKE1hdGgubWF4KGgscyksdCk7Y2xhc3MgaXQgZXh0ZW5kcyBBdWRpb1dvcmtsZXRQcm9jZXNzb3J7Y29uc3RydWN0b3IoKXtzdXBlcigpLHRoaXMuZG91Z2g9bmV3IHN0KHNhbXBsZVJhdGUsY3VycmVudFRpbWUpLHRoaXMucG9ydC5vbm1lc3NhZ2U9cz0+e3MuZGF0YS5zcGF3bj90aGlzLmRvdWdoLnNjaGVkdWxlU3Bhd24ocy5kYXRhLnNwYXduKTpzLmRhdGEuc2FtcGxlP3RoaXMuZG91Z2gubG9hZFNhbXBsZShzLmRhdGEuc2FtcGxlLHMuZGF0YS5jaGFubmVscyxzLmRhdGEuc2FtcGxlUmF0ZSk6cy5kYXRhLnNhbXBsZXM/cy5kYXRhLnNhbXBsZXMuZm9yRWFjaCgoW3QsaSxuXSk9Pnt0aGlzLmRvdWdoLmxvYWRTYW1wbGUodCxpLG4pfSk6Y29uc29sZS5sb2coInVucmVjb2duaXplZCBldmVudCB0eXBlIixzLmRhdGEpfX1wcm9jZXNzKHMsdCxpKXtpZih0aGlzLmRpc2Nvbm5lY3RlZClyZXR1cm4hMTtjb25zdCBuPXRbMF07Zm9yKGxldCBsPTA7bDxuWzBdLmxlbmd0aDtsKyspe3RoaXMuZG91Z2gudXBkYXRlKCk7Zm9yKGxldCByPTA7cjxuLmxlbmd0aDtyKyspbltyXVtsXT1ldCh0aGlzLmRvdWdoLm91dFtyXSwtMSwxKX1yZXR1cm4hMH19cmVnaXN0ZXJQcm9jZXNzb3IoImRvdWdoLXByb2Nlc3NvciIsaXQpfSkoKTsK";typeof sampleRate<"u"&&sampleRate;const us=H$3,Z$1=(e="test-canvas",r)=>{let{contextType:o="2d",pixelated:qe=!1,pixelRatio:bt=window.devicePixelRatio}=r||{},Nt=document.querySelector("#"+e);if(!Nt){Nt=document.createElement("canvas"),Nt.id=e,Nt.width=window.innerWidth*bt,Nt.height=window.innerHeight*bt,Nt.style="pointer-events:none;width:100%;height:100%;position:fixed;top:0;left:0",qe&&(Nt.style.imageRendering="pixelated"),document.body.prepend(Nt);let Na;window.addEventListener("resize",()=>{Na&&clearTimeout(Na),Na=setTimeout(()=>{Nt.width=window.innerWidth*bt,Nt.height=window.innerHeight*bt},200)})}return Nt.getContext(o,{willReadFrequently:!0})};let $$1={};function pe(e){$$1[e]!==void 0&&(cancelAnimationFrame($$1[e]),delete $$1[e])}function De(e){Object.keys($$1).forEach(r=>(!e||r.startsWith(e))&&pe(r))}let R$1={};f.prototype.draw=function(e,r){if(typeof window>"u")return this;let{id:o=1,lookbehind:qe=0,lookahead:bt=0}=r,Nt=Math.max(id(),0);pe(o),qe=Math.abs(qe),R$1[o]=(R$1[o]||[]).filter(hd=>!hd.isInFuture(Nt));let Na=this.queryArc(Nt,Nt+bt).filter(hd=>hd.hasOnset());R$1[o]=R$1[o].concat(Na);let ld;const fd=()=>{const hd=id(),dd=hd+bt;R$1[o]=R$1[o].filter(_d=>_d.isInNearPast(qe,hd));let gd=Math.max(ld||dd,dd-1/10);const yd=this.queryArc(gd,dd).filter(_d=>_d.hasOnset());R$1[o]=R$1[o].concat(yd),ld=dd,e(R$1[o],hd,dd,this),$$1[o]=requestAnimationFrame(fd)};return $$1[o]=requestAnimationFrame(fd),this};const Ke=(e=!0,r)=>{const o=Z$1();e&&o.clearRect(0,0,o.canvas.width,o.canvas.height),De(r)};f.prototype.onPaint=function(e){return this.withState(r=>(r.controls.painters||(r.controls.painters=[]),r.controls.painters.push(e),r))},f.prototype.getPainters=function(){let e=[];return this.queryArc(0,0,{painters:e}),e};class $e{constructor(r,o){this.onFrame=r,this.onError=o}start(){const r=this;let o=requestAnimationFrame(function qe(bt){try{r.onFrame(bt)}catch(Nt){r.onError(Nt)}o=requestAnimationFrame(qe)});r.cancel=()=>{cancelAnimationFrame(o)}}stop(){this.cancel&&this.cancel()}}class Qe{constructor(r,o){this.visibleHaps=[],this.lastFrame=null,this.drawTime=o,this.painters=[],this.framer=new $e(()=>{if(!this.scheduler){console.warn("Drawer: no scheduler");return}const qe=Math.abs(this.drawTime[0]),bt=this.drawTime[1],Nt=this.scheduler.now()+bt;if(this.lastFrame===null){this.lastFrame=Nt;return}const Na=this.scheduler.pattern.queryArc(Math.max(this.lastFrame,Nt-1/10),Nt);this.lastFrame=Nt,this.visibleHaps=(this.visibleHaps||[]).filter(fd=>fd.whole&&fd.endClipped>=Nt-qe-bt).concat(Na.filter(fd=>fd.hasOnset()));const ld=Nt-bt;r(this.visibleHaps,ld,this,this.painters)},qe=>{console.warn("draw error",qe)})}setDrawTime(r){this.drawTime=r}invalidate(r=this.scheduler,o){if(!r)return;o=o??r.now(),this.scheduler=r;let[qe,bt]=this.drawTime;const[Nt,Na]=[Math.max(o,0),o+bt+.1];this.visibleHaps=this.visibleHaps.filter(fd=>fd.whole?.begin<o),this.painters=[];const ld=r.pattern.queryArc(Nt,Na,{painters:this.painters});this.visibleHaps=this.visibleHaps.concat(ld)}start(r){this.scheduler=r,this.invalidate(),this.framer.start()}stop(){this.framer&&this.framer.stop()}}function Ue(e){return typeof window>"u"?"#fff":getComputedStyle(document.documentElement).getPropertyValue(e)}let ye={background:"#222",foreground:"#75baff",caret:"#ffcc00",selection:"rgba(128, 203, 196, 0.5)",selectionMatch:"#036dd626",lineHighlight:"#00000050",gutterBackground:"transparent",gutterForeground:"#8a919966"};function W$1(){return ye}function Ze(e){ye=e}let fe="#22222210";f.prototype.animate=function({callback:e,sync:r=!1,smear:o=.5}={}){window.frame&&cancelAnimationFrame(window.frame);const qe=Z$1();let{clientWidth:bt,clientHeight:Nt}=qe.canvas;bt*=window.devicePixelRatio,Nt*=window.devicePixelRatio;let Na=o===0?"99":Number((1-o)*100).toFixed(0);Na=Na.length===1?`0${Na}`:Na,fe=`#200010${Na}`;const ld=fd=>{let hd;fd=Math.round(fd),hd=this.slow(1e3).queryArc(fd,fd),qe.fillStyle=fe,qe.fillRect(0,0,bt,Nt),hd.forEach(dd=>{let{x:gd,y:yd,w:_d,h:Ad,s:xd,r:Cd,angle:Dd=0,fill:Td="darkseagreen"}=dd.value;if(_d*=bt,Ad*=Nt,Cd!==void 0&&Dd!==void 0){const Md=Dd*2*Math.PI,[Ed,Gd]=[(bt-_d)/2,(Nt-Ad)/2];gd=Ed+Math.cos(Md)*Cd*Ed,yd=Gd+Math.sin(Md)*Cd*Gd}else gd*=bt-_d,yd*=Nt-Ad;const Bd={...dd.value,x:gd,y:yd,w:_d,h:Ad};qe.fillStyle=Td,xd==="rect"?qe.fillRect(gd,yd,_d,Ad):xd==="ellipse"&&(qe.beginPath(),qe.ellipse(gd+_d/2,yd+Ad/2,_d/2,Ad/2,0,0,2*Math.PI),qe.fill()),e&&e(qe,Bd,dd)}),window.frame=requestAnimationFrame(ld)};return window.frame=requestAnimationFrame(ld),v$3};const{x:we,y:xe,w:et,h:tt,angle:nt,r:rt,fill:at,smear:ot}=Pu("x","y","w","h","angle","r","fill","smear"),it=l("rescale",function(e,r){return r.mul(we(e).w(e).y(e).h(e))}),lt=l("moveXY",function(e,r,o){return o.add(we(e).y(r))}),st=l("zoomIn",function(e,r){const o=z$2(1).sub(e).div(2);return r.rescale(e).move(o,o)}),ce$1={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function ft(e){return e=e.toLowerCase(),e[0]==="#"?de(e):ce$1[e]!==void 0?de(ce$1[e]):-1}function de(e){return e=e.slice(1),parseInt(e,16)}const G$3=(e,r,o)=>e*(o-r)+r,he=e=>{let{value:r}=e;typeof e.value!="object"&&(r={value:r});let{note:o,n:qe,freq:bt,s:Nt}=r;if(bt)return Pe(bt);if(o=o??qe,typeof o=="string")try{return pt(o)}catch{return 0}return typeof o=="number"?o:Nt?"_"+Nt:r};f.prototype.pianoroll=function(e={}){let{cycles:r=4,playhead:o=.5,overscan:qe=0,hideNegative:bt=!1,ctx:Nt=Z$1(),id:Na=1}=e,ld=-r*o,fd=r*(1-o);const hd=(dd,gd)=>(!bt||dd.whole.begin>=0)&&dd.isWithinTime(gd+ld,gd+fd);return this.draw((dd,gd)=>{ee({...e,time:gd,ctx:Nt,haps:dd.filter(yd=>hd(yd,gd))})},{lookbehind:ld-qe,lookahead:fd+qe,id:Na}),this};function ct(e){return Yt(e)?e.pianoroll():r=>r.pianoroll(e)}function ee({time:e,haps:r,cycles:o=4,playhead:qe=.5,flipTime:bt=0,flipValues:Nt=0,hideNegative:Na=!1,inactive:ld=W$1().foreground,active:fd=W$1().foreground,background:hd="transparent",smear:dd=0,playheadColor:gd=W$1().foreground,minMidi:yd=10,maxMidi:_d=90,autorange:Ad=0,timeframe:xd,fold:Cd=1,vertical:Dd=0,labels:Td=!1,fill:Bd=1,fillActive:Md=!1,strokeActive:Ed=!0,stroke:Gd,hideInactive:Qd=0,colorizeInactive:zd=1,fontFamily:nm,ctx:qd,id:dm}={}){const im=qd.canvas.width,sm=qd.canvas.height;let mm=-o*qe,Mm=o*(1-qe);dm&&(r=r.filter(Hm=>Hm.hasTag(dm))),xd&&(console.warn("timeframe is deprecated! use from/to instead"),mm=0,Mm=xd);const Om=Dd?sm:im,km=Dd?im:sm;let vm=Dd?[Om,0]:[0,Om];const t0=Mm-mm,Cm=Dd?[0,km]:[km,0];let Zm=_d-yd+1,cm=km/Zm,Xm=[];bt&&vm.reverse(),Nt&&Cm.reverse();const{min:Hd,max:r0,values:jm}=r.reduce(({min:Hm,max:_0,values:X0},P0)=>{const c0=he(P0);return{min:c0<Hm?c0:Hm,max:c0>_0?c0:_0,values:X0.includes(c0)?X0:[...X0,c0]}},{min:1/0,max:-1/0,values:[]});Ad&&(yd=Hd,_d=r0,Zm=_d-yd+1),Xm=jm.sort((Hm,_0)=>typeof Hm=="number"&&typeof _0=="number"?Hm-_0:typeof Hm=="number"?1:String(Hm).localeCompare(String(_0))),cm=Cd?km/Xm.length:km/Zm,qd.fillStyle=hd,qd.globalAlpha=1,dd||(qd.clearRect(0,0,im,sm),qd.fillRect(0,0,im,sm)),r.forEach(Hm=>{const _0=Hm.whole.begin<=e&&Hm.endClipped>e;let X0=Gd??(Ed&&_0),P0=!_0&&Bd||_0&&Md;if(Qd&&!_0)return;let c0=Hm.value?.color;fd=c0||fd,ld=zd&&c0||ld,c0=_0?fd:ld,qd.fillStyle=P0?c0:"transparent",qd.strokeStyle=c0;const{velocity:C0=1,gain:Vm=1}=Hm.value||{};qd.globalAlpha=C0*Vm;const w0=(Hm.whole.begin-(bt?Mm:mm))/t0,p0=G$3(w0,...vm);let x0=G$3(Hm.duration/t0,0,Om);const U0=he(Hm),Vd=Cd?Xm.indexOf(U0)/Xm.length:(Number(U0)-yd)/Zm,Wd=G$3(Vd,...Cm);let Xd=0;const Jd=G$3(e/t0,...vm);let lm;if(Dd?lm=[Wd+1-(Nt?cm:0),Om-Jd+p0+Xd+1-(bt?0:x0),cm-2,x0-2]:lm=[p0-Jd+Xd+1-(bt?x0:0),Wd+1-(Nt?0:cm),x0-2,cm-2],X0&&qd.strokeRect(...lm),P0&&qd.fillRect(...lm),Td){const _m=Hm.value.note??Hm.value.s+(Hm.value.n?`:${Hm.value.n}`:""),{label:um,activeLabel:Tm}=Hm.value,om=(_0&&Tm||um)??_m;let Dm=Dd?x0:cm*.75;qd.font=`${Dm}px ${nm||"monospace"}`,qd.fillStyle=P0?"black":c0,qd.textBaseline="top",qd.fillText(om,...lm)}}),qd.globalAlpha=1;const am=G$3(-mm/t0,...vm);return qd.strokeStyle=gd,qd.beginPath(),Dd?(qd.moveTo(0,am),qd.lineTo(km,am)):(qd.moveTo(am,0),qd.lineTo(am,km)),qd.stroke(),this}function ve(e,r={}){let[o,qe]=e;o=Math.abs(o);const bt=qe+o,Nt=bt!==0?o/bt:0;return{fold:1,...r,cycles:bt,playhead:Nt}}const je=(e={})=>(r,o,qe,bt)=>ee({ctx:r,time:o,haps:qe,...ve(bt,e)});f.prototype.punchcard=function(e){return this.onPaint(je(e))},f.prototype.wordfall=function(e){return this.punchcard({vertical:1,labels:1,stroke:0,fillActive:1,active:"white",...e})};function dt(e){const{drawTime:r,...o}=e;ee({...ve(r),...o})}function Xe(e,r,o,qe){const bt=(e-90)*Math.PI/180;return[o+Math.cos(bt)*r,qe+Math.sin(bt)*r]}const ue=(e,r,o,qe,bt=0)=>Xe((e+bt)*360,r*e,o,qe);function me(e){let{ctx:r,from:o=0,to:qe=3,margin:bt=50,cx:Nt=100,cy:Na=100,rotate:ld=0,thickness:fd=bt/2,color:hd=W$1().foreground,cap:dd="round",stretch:gd=1,fromOpacity:yd=1,toOpacity:_d=1}=e;o*=gd,qe*=gd,ld*=gd,r.lineWidth=fd,r.lineCap=dd,r.strokeStyle=hd,r.globalAlpha=yd,r.beginPath();let[Ad,xd]=ue(o,bt,Nt,Na,ld);r.moveTo(Ad,xd);const Cd=1/60;let Dd=o;for(;Dd<=qe;){const[Td,Bd]=ue(Dd,bt,Nt,Na,ld);r.globalAlpha=(Dd-o)/(qe-o)*_d,r.lineTo(Td,Bd),Dd+=Cd}r.stroke()}function Ye(e){let{stretch:r=1,size:o=80,thickness:qe=o/2,cap:bt="butt",inset:Nt=3,playheadColor:Na="#ffffff",playheadLength:ld=.02,playheadThickness:fd=qe,padding:hd=0,steady:dd=1,activeColor:gd=W$1().foreground,inactiveColor:yd=W$1().gutterForeground,colorizeInactive:_d=0,fade:Ad=!0,ctx:xd,time:Cd,haps:Dd,drawTime:Td,id:Bd}=e;Bd&&(Dd=Dd.filter(im=>im.hasTag(Bd)));const[Md,Ed]=[xd.canvas.width,xd.canvas.height];xd.clearRect(0,0,Md*2,Ed*2);const[Gd,Qd]=[Md/2,Ed/2],zd={margin:o/r,cx:Gd,cy:Qd,stretch:r,cap:bt,thickness:qe},nm={...zd,thickness:fd,from:Nt-ld,to:Nt,color:Na},[qd]=Td,dm=dd*Cd;Dd.forEach(im=>{const sm=im.whole.begin<=Cd&&im.endClipped>Cd,mm=im.whole.begin-Cd+Nt,Mm=im.endClipped-Cd+Nt-hd,Om=im.value?.color||gd,km=_d||sm?Om:yd,vm=Ad?1-Math.abs((im.whole.begin-Cd)/qd):1;me({ctx:xd,...zd,from:mm,to:Mm,rotate:dm,color:km,fromOpacity:vm,toOpacity:vm})}),me({ctx:xd,...nm,rotate:dm})}f.prototype.spiral=function(e={}){return this.onPaint((r,o,qe,bt)=>Ye({ctx:r,time:o,haps:qe,drawTime:bt,...e}))};const Be=nt$1(36),ge=(e,r,o,qe)=>{qe=qe*Math.PI*2;const bt=Math.sin(qe)*o+e,Nt=Math.cos(qe)*o+r;return[bt,Nt]},be=(e,r)=>.5-Math.log2(e/r)%1;function Ve({haps:e,ctx:r,id:o,hapcircles:qe=1,circle:bt=0,edo:Nt=12,root:Na=Be,thickness:ld=3,hapRadius:fd=6,mode:hd="flake",margin:dd=10}={}){const gd=hd==="polygon",yd=hd==="flake",_d=r.canvas.width,Ad=r.canvas.height;r.clearRect(0,0,_d,Ad);const xd=W$1().foreground,Cd=Math.min(_d,Ad)/2-ld/2-fd-dd,Dd=_d/2,Td=Ad/2;o&&(e=e.filter(Md=>Md.hasTag(o))),r.strokeStyle=xd,r.fillStyle=xd,r.globalAlpha=1,r.lineWidth=ld,bt&&(r.beginPath(),r.arc(Dd,Td,Cd,0,2*Math.PI),r.stroke()),Nt&&(Array.from({length:Nt},(Md,Ed)=>{const Gd=be(Na*Math.pow(2,Ed/Nt),Na),[Qd,zd]=ge(Dd,Td,Cd,Gd);r.beginPath(),r.arc(Qd,zd,fd,0,2*Math.PI),r.fill()}),r.stroke());let Bd=[];r.lineWidth=fd,e.forEach(Md=>{let Ed;try{Ed=Fa(Md)}catch{return}const Gd=be(Ed,Na),[Qd,zd]=ge(Dd,Td,Cd,Gd),nm=Md.value.color||xd;r.strokeStyle=nm,r.fillStyle=nm;const{velocity:qd=1,gain:dm=1}=Md.value||{},im=qd*dm;r.globalAlpha=im,Bd.push([Qd,zd,Gd,nm,im]),r.beginPath(),qe&&(r.moveTo(Qd+fd,zd),r.arc(Qd,zd,fd,0,2*Math.PI),r.fill()),yd&&(r.moveTo(Dd,Td),r.lineTo(Qd,zd)),r.stroke()}),r.strokeStyle=xd,r.globalAlpha=1,gd&&Bd.length&&(Bd=Bd.sort((Md,Ed)=>Md[2]-Ed[2]),r.beginPath(),r.moveTo(Bd[0][0],Bd[0][1]),Bd.forEach(([Md,Ed,Gd,Qd,zd])=>{r.strokeStyle=Qd,r.globalAlpha=zd,r.lineTo(Md,Ed)}),r.lineTo(Bd[0][0],Bd[0][1]),r.stroke())}f.prototype.pitchwheel=function(e={}){let{ctx:r=Z$1(),id:o=1}=e;return this.tag(o).onPaint((qe,bt,Nt)=>Ve({...e,ctx:r,haps:Nt.filter(Na=>Na.isActive(bt)),id:o}))};const strudelDraw=Object.freeze(Object.defineProperty({__proto__:null,Drawer:Qe,Framer:$e,__pianoroll:ee,angle:nt,cleanupDraw:Ke,colorMap:ce$1,convertColorToNumber:ft,convertHexToNumber:de,drawPianoroll:dt,fill:at,getComputedPropertyValue:Ue,getDrawContext:Z$1,getDrawOptions:ve,getPunchcardPainter:je,getTheme:W$1,h:tt,moveXY:lt,pianoroll:ct,pitchwheel:Ve,r:rt,rescale:it,setTheme:Ze,smear:ot,w:et,x:we,y:xe,zoomIn:st},Symbol.toStringTag,{value:"Module"}));let b;function F$1(){const e=x$3();b=I$3(e,"dough-processor",{},{outputChannelCount:[2]}),qo$1(b)}const v$2=new Map,k$2=new Map;f.prototype.supradough=function(){return this.onTrigger((e,r,o,qe)=>{e.value._begin=qe,e.value._duration=e.duration/o,!b&&F$1();const bt=(e.value.bank?e.value.bank+"_":"")+e.value.s,Nt=e.value.n??0,Na=`${bt}:${Nt}`;if(v$2.has(bt)&&(e.value.s=Na),v$2.has(bt)&&!k$2.has(Na)){const ld=v$2.get(bt),fd=ld[Nt%ld.length];console.log(`load ${Na} from ${fd}`);const hd=K$1(fd);k$2.set(Na,hd),hd.then(({channels:dd,sampleRate:gd})=>b.port.postMessage({sample:Na,channels:dd,sampleRate:gd}))}b.port.postMessage({spawn:e.value})},1)};function U$1(e,r=""){if(!e.startsWith("github:"))throw new Error('expected "github:" at the start of pseudoUrl');let[o,qe]=e.split("github:");return qe=qe.endsWith("/")?qe.slice(0,-1):qe,qe.split("/").length===2&&(qe+="/main"),`https://raw.githubusercontent.com/${qe}/${r}`}async function G$2(e){if(e.startsWith("github:")&&(e=U$1(e,"strudel.json")),e.startsWith("local:")&&(e="http://localhost:5432"),e.startsWith("shabda:")){let[qe,bt]=e.split("shabda:");e=`https://shabda.ndre.gr/${bt}.json?strudel=1`}if(e.startsWith("shabda/speech")){let[qe,bt]=e.split("shabda/speech");bt=bt.startsWith("/")?bt.substring(1):bt;let[Nt,Na]=bt.split(":"),ld="f",fd="en-GB";Nt&&([fd,ld]=Nt.split("/")),e=`https://shabda.ndre.gr/speech/${Na}.json?gender=${ld}&language=${fd}&strudel=1'`}if(typeof fetch!="function")return;const r=e.split("/").slice(0,-1).join("/");if(typeof fetch>"u")return;const o=await fetch(e).then(qe=>qe.json()).catch(qe=>{throw console.error(qe),new Error(`error loading "${e}"`)});return[o,o._base||r]}async function K$1(e){const r=await fetch(e).then(qe=>qe.arrayBuffer()).then(qe=>x$3().decodeAudioData(qe));let o=[];for(let qe=0;qe<r.numberOfChannels;qe++)o.push(r.getChannelData(qe));return{channels:o,sampleRate:r.sampleRate}}async function L$1(e,r){if(typeof e=="string"){const[o,qe]=await G$2(e);return L$1(o,qe)}Object.entries(e).map(async([o,qe])=>{o!=="_base"&&(qe=qe.map(bt=>r+bt),v$2.set(o,qe))})}Do$1(us);const{Pattern:V$1,logger:H$2,repl:J$2}=strudelCore;Fo$1(H$2);const N=e=>(e.ensureObjectValue(),e.value),Q$3=(e,r,o,qe,bt)=>Go$1(N(e),bt,o,qe,e.whole?.begin.valueOf());function ne(e={}){return e={getTime:()=>x$3().currentTime,defaultOutput:Q$3,...e},J$2(e)}V$1.prototype.dough=function(){return this.onTrigger(cc$1,1)};function X$2(e,{align:r=!0,color:o="white",thickness:qe=3,scale:bt=.25,pos:Nt=.75,trigger:Na=0,ctx:ld=Z$1(),id:fd=1}={}){ld.lineWidth=qe,ld.strokeStyle=o;let hd=ld.canvas;if(!e){ld.beginPath();let xd=Nt*hd.height;ld.moveTo(0,xd),ld.lineTo(hd.width,xd),ld.stroke();return}const dd=$o$1("time",fd);ld.beginPath();const gd=e.frequencyBinCount;let yd=r?Array.from(dd).findIndex((xd,Cd,Dd)=>Cd&&Dd[Cd-1]>-Na&&xd<=-Na):0;yd=Math.max(yd,0);const _d=hd.width*1/gd;let Ad=0;for(let xd=yd;xd<gd;xd++){const Cd=dd[xd]+1,Dd=(Nt-bt*(Cd-1))*hd.height;xd===0?ld.moveTo(Ad,Dd):ld.lineTo(Ad,Dd),Ad+=_d}ld.stroke()}function Y$1(e,{color:r="white",scale:o=.25,pos:qe=.75,lean:bt=.5,min:Nt=-150,max:Na=0,ctx:ld=Z$1(),id:fd=1}={}){if(!e){ld.beginPath();let Ad=qe*dd.height;ld.moveTo(0,Ad),ld.lineTo(dd.width,Ad),ld.stroke();return}const hd=$o$1("frequency",fd),dd=ld.canvas;ld.fillStyle=r;const gd=e.frequencyBinCount,yd=dd.width*1/gd;let _d=0;for(let Ad=0;Ad<gd;Ad++){const xd=He((hd[Ad]-Nt)/(Na-Nt),0,1)*o,Cd=xd*dd.height,Dd=(qe-xd*bt)*dd.height;ld.fillRect(_d,Dd,Math.max(yd,1),Cd),_d+=yd}}function j$1(e=0,r="0,0,0",o=Z$1()){e?(o.fillStyle=`rgba(${r},${1-e})`,o.fillRect(0,0,o.canvas.width,o.canvas.height)):o.clearRect(0,0,o.canvas.width,o.canvas.height)}f.prototype.fscope=function(e={}){let r=e.id??1;return this.analyze(r).draw(()=>{j$1(e.smear,"0,0,0",e.ctx),v$4[r]&&Y$1(v$4[r],e)},{id:r})},f.prototype.tscope=function(e={}){let r=e.id??1;return this.analyze(r).draw(o=>{e.color=o[0]?.value?.color||W$1().foreground,e.color,j$1(e.smear,"0,0,0",e.ctx),X$2(v$4[r],e)},{id:r})},f.prototype.scope=f.prototype.tscope;let _$1={};f.prototype.spectrum=function(e={}){let r=e.id??1;return this.analyze(r).draw(o=>{e.color=o[0]?.value?.color||_$1[r]||W$1().foreground,_$1[r]=e.color,Z(v$4[r],e)},{id:r})},f.prototype.scope=f.prototype.tscope;const $=new Map;function Z(e,{thickness:r=3,speed:o=1,min:qe=-80,max:bt=0,ctx:Nt=Z$1(),id:Na=1,color:ld}={}){if(Nt.lineWidth=r,Nt.strokeStyle=ld,!e)return;const fd=o,hd=$o$1("frequency",Na),dd=Nt.canvas;Nt.fillStyle=ld;const gd=e.frequencyBinCount;let yd=$.get(Na)||Nt.getImageData(0,0,dd.width,dd.height);$.set(Na,yd),Nt.clearRect(0,0,Nt.canvas.width,Nt.canvas.height),Nt.putImageData(yd,-fd,0);let _d=dd.width-o;for(let Ad=0;Ad<gd;Ad++){const xd=He((hd[Ad]-qe)/(bt-qe),0,1);Nt.globalAlpha=xd;const Cd=Math.log(Ad+1)/Math.log(gd)*dd.height;Nt.fillRect(_d,dd.height-Cd,fd,2)}$.set(Na,Nt.getImageData(0,0,dd.width,dd.height))}const strudelWebAudio=Object.freeze(Object.defineProperty({__proto__:null,DEFAULT_MAX_POLYPHONY:Ce,Warpmode:Ge$1,aliasBank:Jo$1,get analysers(){return v$4},get analysersData(){return ot$2},applyFM:Kt$1,applyGainCurve:E$2,applyParameterModulators:be$2,connectToDestination:qo$1,createFilter:Ht$1,destroyAudioWorkletNode:it$2,distortionAlgorithms:Se,dough:oc$1,doughTrigger:cc$1,doughsamples:L$1,drawFrequencyScope:Y$1,drawTimeScope:X$2,drywet:Yn$1,dspWorklet:Ko$1,effectSend:Ut$1,errorLogger:fn$1,fetchSampleMap:G$2,gainNode:C$4,getADSRValues:Q$5,getAnalyserById:yo$1,getAnalyzerData:$o$1,getAudioContext:x$3,getAudioContextCurrentTime:Co$1,getAudioDevices:uo$1,getCachedBuffer:Io$1,getCompressor:wn$1,getDefaultValue:T$2,getDistortion:Bn$1,getDistortionAlgorithm:Ho$1,getFrequencyFromValue:et$2,getLfo:Tt$1,getLoadedBuffer:Po$1,getOscillator:xo$1,getParamADSR:k$4,getPitchEnvelope:ht$1,getSampleBuffer:En$1,getSampleBufferSource:Dn$1,getSampleInfo:On$1,getSound:ut$1,getVibratoOscillator:pt$1,getWorklet:I$3,getZZFX:Lo$1,initAudio:bo$1,initAudioOnFirstClick:Ao$1,loadBuffer:Ne$1,logger:N$3,noises:Ke$2,onTriggerSample:eo$1,onTriggerSynth:wo$1,processSampleMap:qn$1,registerSampleSource:oo$1,registerSamplesPrefix:ko$1,registerSound:j$3,registerSynthSounds:ec$1,registerWaveTable:Be$1,registerWorklet:Do$1,registerZZFXSounds:nc$1,resetDefaultValues:po$1,resetDefaults:Bo$1,resetGlobalEffects:_o$1,resetLoadedSounds:Eo$1,reverseBuffer:An$1,samples:to$1,setDefault:vo$1,setDefaultAudioContext:Rn$1,setDefaultValue:ke,setDefaultValues:jo$1,setGainCurve:Qo$1,setLogger:Fo$1,setMaxPolyphony:lo$1,setMultiChannelOrbits:io$1,setVersionDefaults:Oo$1,soundAlias:Uo$1,soundMap:B$2,superdough:Go$1,superdoughTrigger:tc$1,tables:sc$1,waveformN:Mo$1,webAudioTimeout:rt$2,webaudioOutput:Q$3,webaudioRepl:ne},Symbol.toStringTag,{value:"Module"}));function isNamedPitch$6(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch$6(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS$6=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$6=FIFTHS$6.map(e=>Math.floor(e*7/12));function coordinates$6(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$6[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$6[r]-4*o;return[bt*Nt,bt*Na]}var FIFTHS_TO_STEPS$3=[3,0,4,1,5,2,6];function pitch$3(e){const[r,o,qe]=e,bt=FIFTHS_TO_STEPS$3[unaltered$3(r)],Nt=Math.floor((r+1)/7);if(o===void 0)return{step:bt,alt:Nt,dir:qe};const Na=o+4*Nt+STEPS_TO_OCTS$6[bt];return{step:bt,alt:Nt,oct:Na,dir:qe}}function unaltered$3(e){const r=(e+1)%7;return r<0?7+r:r}var fillStr$9=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval$5=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),INTERVAL_TONAL_REGEX$5="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX$5="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$c=new RegExp("^"+INTERVAL_TONAL_REGEX$5+"|"+INTERVAL_SHORTHAND_REGEX$5+"$");function tokenizeInterval$5(e){const r=REGEX$c.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache$9={};function interval$5(e){return typeof e=="string"?cache$9[e]||(cache$9[e]=parse$a(e)):isPitch$6(e)?interval$5(pitchName$7(e)):isNamedPitch$6(e)?interval$5(e.name):NoInterval$5}var SIZES$6=[0,2,4,5,7,9,11],TYPES$5="PMMPPMM";function parse$a(e){const r=tokenizeInterval$5(e);if(r[0]==="")return NoInterval$5;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES$5[bt];if(Nt==="M"&&qe==="P")return NoInterval$5;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt$5(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES$6[bt]+dd+12*gd),_d=(fd*(SIZES$6[bt]+dd)%12+12)%12,Ad=coordinates$6({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function coordToInterval$2(e,r){const[o,qe=0]=e,bt=o*7+qe*12<0,Nt=r||bt?[-o,-qe,-1]:[o,qe,1];return interval$5(pitch$3(Nt))}function qToAlt$5(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName$7(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES$5[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ$5(fd,o)}function altToQ$5(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr$9("A",r):fillStr$9("d",e==="perfectable"?r:r+1)}function isNamedPitch$5(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch$5(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS$5=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$5=FIFTHS$5.map(e=>Math.floor(e*7/12));function coordinates$5(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$5[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$5[r]-4*o;return[bt*Nt,bt*Na]}var FIFTHS_TO_STEPS$2=[3,0,4,1,5,2,6];function pitch$2(e){const[r,o,qe]=e,bt=FIFTHS_TO_STEPS$2[unaltered$2(r)],Nt=Math.floor((r+1)/7);if(o===void 0)return{step:bt,alt:Nt,dir:qe};const Na=o+4*Nt+STEPS_TO_OCTS$5[bt];return{step:bt,alt:Nt,oct:Na,dir:qe}}function unaltered$2(e){const r=(e+1)%7;return r<0?7+r:r}var fillStr$8=(e,r)=>Array(Math.abs(r)+1).join(e),NoNote$1=Object.freeze({empty:!0,name:"",letter:"",acc:"",pc:"",step:NaN,alt:NaN,chroma:NaN,height:NaN,coord:[],midi:null,freq:null}),cache$8=new Map,stepToLetter$1=e=>"CDEFGAB".charAt(e),altToAcc$1=e=>e<0?fillStr$8("b",-e):fillStr$8("#",e),accToAlt$1=e=>e[0]==="b"?-e.length:e.length;function note$1(e){const r=JSON.stringify(e),o=cache$8.get(r);if(o)return o;const qe=typeof e=="string"?parse$9(e):isPitch$5(e)?note$1(pitchName$6(e)):isNamedPitch$5(e)?note$1(e.name):NoNote$1;return cache$8.set(r,qe),qe}var REGEX$b=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function tokenizeNote$1(e){const r=REGEX$b.exec(e);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function coordToNote$1(e){return note$1(pitch$2(e))}var mod$1=(e,r)=>(e%r+r)%r,SEMI$1=[0,2,4,5,7,9,11];function parse$9(e){const r=tokenizeNote$1(e);if(r[0]===""||r[3]!=="")return NoNote$1;const o=r[0],qe=r[1],bt=r[2],Nt=(o.charCodeAt(0)+3)%7,Na=accToAlt$1(qe),ld=bt.length?+bt:void 0,fd=coordinates$5({step:Nt,alt:Na,oct:ld}),hd=o+qe+bt,dd=o+qe,gd=(SEMI$1[Nt]+Na+120)%12,yd=ld===void 0?mod$1(SEMI$1[Nt]+Na,12)-1188:SEMI$1[Nt]+Na+12*(ld+1),_d=yd>=0&&yd<=127?yd:null,Ad=ld===void 0?null:Math.pow(2,(yd-69)/12)*440;return{empty:!1,acc:qe,alt:Na,chroma:gd,coord:fd,freq:Ad,height:yd,letter:o,midi:_d,name:hd,oct:ld,pc:dd,step:Nt}}function pitchName$6(e){const{step:r,alt:o,oct:qe}=e,bt=stepToLetter$1(r);if(!bt)return"";const Nt=bt+altToAcc$1(o);return qe||qe===0?Nt+qe:Nt}function transpose$4(e,r){const o=note$1(e),qe=Array.isArray(r)?r:interval$5(r).coord;if(o.empty||!qe||qe.length<2)return"";const bt=o.coord,Nt=bt.length===1?[bt[0]+qe[0]]:[bt[0]+qe[0],bt[1]+qe[1]];return coordToNote$1(Nt).name}function tonicIntervalsTransposer$1(e,r){const o=e.length;return qe=>{if(!r)return"";const bt=qe<0?(o- -qe%o)%o:qe%o,Nt=Math.floor(qe/o),Na=transpose$4(r,[0,Nt]);return transpose$4(Na,e[bt])}}function distance$5(e,r){const o=note$1(e),qe=note$1(r);if(o.empty||qe.empty)return"";const bt=o.coord,Nt=qe.coord,Na=Nt[0]-bt[0],ld=bt.length===2&&Nt.length===2?Nt[1]-bt[1]:-Math.floor(Na*7/12),fd=qe.height===o.height&&qe.midi!==null&&o.oct===qe.oct&&o.step>qe.step;return coordToInterval$2([Na,ld],fd).name}var fillStr$7=(e,r)=>Array(r+1).join(e),REGEX$a=/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,']*)$/;function tokenize$4(e){const r=REGEX$a.exec(e);return r?[r[1],r[2],r[3]]:["","",""]}function abcToScientificNotation(e){const[r,o,qe]=tokenize$4(e);if(o==="")return"";let bt=4;for(let Na=0;Na<qe.length;Na++)bt+=qe.charAt(Na)===","?-1:1;const Nt=r[0]==="_"?r.replace(/_/g,"b"):r[0]==="^"?r.replace(/\^/g,"#"):"";return o.charCodeAt(0)>96?o.toUpperCase()+Nt+(bt+1):o+Nt+bt}function scientificToAbcNotation(e){const r=note$1(e);if(r.empty||!r.oct&&r.oct!==0)return"";const{letter:o,acc:qe,oct:bt}=r,Nt=qe[0]==="b"?qe.replace(/b/g,"_"):qe.replace(/#/g,"^"),Na=bt>4?o.toLowerCase():o,ld=bt===5?"":bt>4?fillStr$7("'",bt-5):fillStr$7(",",4-bt);return Nt+Na+ld}function transpose$3(e,r){return scientificToAbcNotation(transpose$4(abcToScientificNotation(e),r))}function distance$4(e,r){return distance$5(abcToScientificNotation(e),abcToScientificNotation(r))}var abc_notation_default={abcToScientificNotation,scientificToAbcNotation,tokenize:tokenize$4,transpose:transpose$3,distance:distance$4};function ascR$1(e,r){const o=[];for(;r--;o[r]=r+e);return o}function descR$1(e,r){const o=[];for(;r--;o[r]=e-r);return o}function range$1(e,r){return e<r?ascR$1(e,r-e+1):descR$1(e,e-r+1)}function rotate$1(e,r){const o=r.length,qe=(e%o+o)%o;return r.slice(qe,o).concat(r.slice(0,qe))}function compact$1(e){return e.filter(r=>r===0||r)}function sortedNoteNames(e){return e.map(o=>note$1(o)).filter(o=>!o.empty).sort((o,qe)=>o.height-qe.height).map(o=>o.name)}function sortedUniqNoteNames(e){return sortedNoteNames(e).filter((r,o,qe)=>o===0||r!==qe[o-1])}function shuffle$1(e,r=Math.random){let o,qe,bt=e.length;for(;bt;)o=Math.floor(r()*bt--),qe=e[bt],e[bt]=e[o],e[o]=qe;return e}function permutations$1(e){return e.length===0?[[]]:permutations$1(e.slice(1)).reduce((r,o)=>r.concat(e.map((qe,bt)=>{const Nt=o.slice();return Nt.splice(bt,0,e[0]),Nt})),[])}const index$6=Object.freeze(Object.defineProperty({__proto__:null,compact:compact$1,permutations:permutations$1,range:range$1,rotate:rotate$1,shuffle:shuffle$1,sortedNoteNames,sortedUniqNoteNames},Symbol.toStringTag,{value:"Module"}));function ascR(e,r){const o=[];for(;r--;o[r]=r+e);return o}function descR(e,r){const o=[];for(;r--;o[r]=e-r);return o}function range(e,r){return e<r?ascR(e,r-e+1):descR(e,e-r+1)}function rotate(e,r){const o=r.length,qe=(e%o+o)%o;return r.slice(qe,o).concat(r.slice(0,qe))}function compact(e){return e.filter(r=>r===0||r)}function shuffle(e,r=Math.random){let o,qe,bt=e.length;for(;bt;)o=Math.floor(r()*bt--),qe=e[bt],e[bt]=e[o],e[o]=qe;return e}function permutations(e){return e.length===0?[[]]:permutations(e.slice(1)).reduce((r,o)=>r.concat(e.map((qe,bt)=>{const Nt=o.slice();return Nt.splice(bt,0,e[0]),Nt})),[])}var collection_default={compact,permutations,range,rotate,shuffle};function isNamedPitch$4(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch$4(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS$4=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$4=FIFTHS$4.map(e=>Math.floor(e*7/12));function coordinates$4(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$4[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$4[r]-4*o;return[bt*Nt,bt*Na]}var fillStr$6=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval$4=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),INTERVAL_TONAL_REGEX$4="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX$4="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$9=new RegExp("^"+INTERVAL_TONAL_REGEX$4+"|"+INTERVAL_SHORTHAND_REGEX$4+"$");function tokenizeInterval$4(e){const r=REGEX$9.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache$7={};function interval$4(e){return typeof e=="string"?cache$7[e]||(cache$7[e]=parse$8(e)):isPitch$4(e)?interval$4(pitchName$5(e)):isNamedPitch$4(e)?interval$4(e.name):NoInterval$4}var SIZES$5=[0,2,4,5,7,9,11],TYPES$4="PMMPPMM";function parse$8(e){const r=tokenizeInterval$4(e);if(r[0]==="")return NoInterval$4;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES$4[bt];if(Nt==="M"&&qe==="P")return NoInterval$4;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt$4(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES$5[bt]+dd+12*gd),_d=(fd*(SIZES$5[bt]+dd)%12+12)%12,Ad=coordinates$4({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function qToAlt$4(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName$5(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES$4[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ$4(fd,o)}function altToQ$4(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr$6("A",r):fillStr$6("d",e==="perfectable"?r:r+1)}var EmptyPcset={empty:!0,name:"",setNum:0,chroma:"000000000000",normalized:"000000000000",intervals:[]},setNumToChroma=e=>Number(e).toString(2).padStart(12,"0"),chromaToNumber=e=>parseInt(e,2),REGEX$8=/^[01]{12}$/;function isChroma(e){return REGEX$8.test(e)}var isPcsetNum=e=>typeof e=="number"&&e>=0&&e<=4095,isPcset=e=>e&&isChroma(e.chroma),cache$6={[EmptyPcset.chroma]:EmptyPcset};function get$b(e){const r=isChroma(e)?e:isPcsetNum(e)?setNumToChroma(e):Array.isArray(e)?listToChroma(e):isPcset(e)?e.chroma:EmptyPcset.chroma;return cache$6[r]=cache$6[r]||chromaToPcset(r)}var pcset$1=get$b,chroma$3=e=>get$b(e).chroma,intervals=e=>get$b(e).intervals,num$1=e=>get$b(e).setNum,IVLS=["1P","2m","2M","3m","3M","4P","5d","5P","6m","6M","7m","7M"];function chromaToIntervals(e){const r=[];for(let o=0;o<12;o++)e.charAt(o)==="1"&&r.push(IVLS[o]);return r}function notes$1(e){return get$b(e).intervals.map(r=>transpose$4("C",r))}function chromas(){return range(2048,4095).map(setNumToChroma)}function modes$1(e,r=!0){const qe=get$b(e).chroma.split("");return compact(qe.map((bt,Nt)=>{const Na=rotate(Nt,qe);return r&&Na[0]==="0"?null:Na.join("")}))}function isEqual(e,r){return get$b(e).setNum===get$b(r).setNum}function isSubsetOf(e){const r=get$b(e).setNum;return o=>{const qe=get$b(o).setNum;return r&&r!==qe&&(qe&r)===qe}}function isSupersetOf(e){const r=get$b(e).setNum;return o=>{const qe=get$b(o).setNum;return r&&r!==qe&&(qe|r)===qe}}function isNoteIncludedIn(e){const r=get$b(e);return o=>{const qe=note$1(o);return r&&!qe.empty&&r.chroma.charAt(qe.chroma)==="1"}}function filter(e){const r=isNoteIncludedIn(e);return o=>o.filter(r)}var pcset_default={get:get$b,chroma:chroma$3,num:num$1,intervals,chromas,isSupersetOf,isSubsetOf,isNoteIncludedIn,isEqual,filter,modes:modes$1,notes:notes$1,pcset:pcset$1};function chromaRotations(e){const r=e.split("");return r.map((o,qe)=>rotate(qe,r).join(""))}function chromaToPcset(e){const r=chromaToNumber(e),o=chromaRotations(e).map(chromaToNumber).filter(Nt=>Nt>=2048).sort()[0],qe=setNumToChroma(o),bt=chromaToIntervals(e);return{empty:!1,name:"",setNum:r,chroma:e,normalized:qe,intervals:bt}}function listToChroma(e){if(e.length===0)return EmptyPcset.chroma;let r;const o=[0,0,0,0,0,0,0,0,0,0,0,0];for(let qe=0;qe<e.length;qe++)r=note$1(e[qe]),r.empty&&(r=interval$4(e[qe])),r.empty||(o[r.chroma]=1);return o.join("")}var CHORDS$3=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î” ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î”9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î”#4 Î”#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î”7 mÎ” -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î”9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],data_default$5=CHORDS$3;({...EmptyPcset});var dictionary$4=[],index$5={};function all$4(){return dictionary$4.slice()}function add$6(e,r,o){const qe=getQuality$3(e),bt={...get$b(e),name:o||"",quality:qe,intervals:e,aliases:r};dictionary$4.push(bt),bt.name&&(index$5[bt.name]=bt),index$5[bt.setNum]=bt,index$5[bt.chroma]=bt,bt.aliases.forEach(Nt=>addAlias$4(bt,Nt))}function addAlias$4(e,r){index$5[r]=e}function getQuality$3(e){const r=o=>e.indexOf(o)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}data_default$5.forEach(([e,r,o])=>add$6(e.split(" "),o.split(" "),r)),dictionary$4.sort((e,r)=>e.setNum-r.setNum);var namedSet=e=>{const r=e.reduce((o,qe)=>{const bt=note$1(qe).chroma;return bt!==void 0&&(o[bt]=o[bt]||note$1(qe).name),o},{});return o=>r[o]};function detect$1(e,r={}){const o=e.map(bt=>note$1(bt).pc).filter(bt=>bt);return note$1.length===0?[]:findMatches(o,1,r).filter(bt=>bt.weight).sort((bt,Nt)=>Nt.weight-bt.weight).map(bt=>bt.name)}var BITMASK={anyThirds:384,perfectFifth:16,nonPerfectFifths:40,anySeventh:3},testChromaNumber=e=>r=>!!(r&e),hasAnyThird=testChromaNumber(BITMASK.anyThirds),hasPerfectFifth=testChromaNumber(BITMASK.perfectFifth),hasAnySeventh=testChromaNumber(BITMASK.anySeventh),hasNonPerfectFifth=testChromaNumber(BITMASK.nonPerfectFifths);function hasAnyThirdAndPerfectFifthAndAnySeventh(e){const r=parseInt(e.chroma,2);return hasAnyThird(r)&&hasPerfectFifth(r)&&hasAnySeventh(r)}function withPerfectFifth(e){const r=parseInt(e,2);return hasNonPerfectFifth(r)?e:(r|16).toString(2)}function findMatches(e,r,o){const qe=e[0],bt=note$1(qe).chroma,Nt=namedSet(e),Na=modes$1(e,!1),ld=[];return Na.forEach((fd,hd)=>{const dd=o.assumePerfectFifth&&withPerfectFifth(fd);all$4().filter(yd=>o.assumePerfectFifth&&hasAnyThirdAndPerfectFifthAndAnySeventh(yd)?yd.chroma===dd:yd.chroma===fd).forEach(yd=>{const _d=yd.aliases[0],Ad=Nt(hd);hd!==bt?ld.push({weight:.5*r,name:`${Ad}${_d}/${qe}`}):ld.push({weight:1*r,name:`${Ad}${_d}`})})}),ld}function isNamedPitch$3(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}var SIZES$4=[0,2,4,5,7,9,11],chroma$2=({step:e,alt:r})=>(SIZES$4[e]+r+120)%12,height=({step:e,alt:r,oct:o,dir:qe=1})=>qe*(SIZES$4[e]+r+12*(o===void 0?-100:o)),midi$1=e=>{const r=height(e);return e.oct!==void 0&&r>=-12&&r<=115?r+12:null};function isPitch$3(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"}var FIFTHS$3=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$3=FIFTHS$3.map(e=>Math.floor(e*7/12));function coordinates$3(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$3[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$3[r]-4*o;return[bt*Nt,bt*Na]}var FIFTHS_TO_STEPS$1=[3,0,4,1,5,2,6];function pitch$1(e){const[r,o,qe]=e,bt=FIFTHS_TO_STEPS$1[unaltered$1(r)],Nt=Math.floor((r+1)/7);if(o===void 0)return{step:bt,alt:Nt,dir:qe};const Na=o+4*Nt+STEPS_TO_OCTS$3[bt];return{step:bt,alt:Nt,oct:Na,dir:qe}}function unaltered$1(e){const r=(e+1)%7;return r<0?7+r:r}var fillStr$5=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval$3={empty:!0,name:"",acc:""},INTERVAL_TONAL_REGEX$3="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX$3="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$7=new RegExp("^"+INTERVAL_TONAL_REGEX$3+"|"+INTERVAL_SHORTHAND_REGEX$3+"$");function tokenizeInterval$3(e){const r=REGEX$7.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache$5={};function interval$3(e){return typeof e=="string"?cache$5[e]||(cache$5[e]=parse$7(e)):isPitch$3(e)?interval$3(pitchName$4(e)):isNamedPitch$3(e)?interval$3(e.name):NoInterval$3}var SIZES$3=[0,2,4,5,7,9,11],TYPES$3="PMMPPMM";function parse$7(e){const r=tokenizeInterval$3(e);if(r[0]==="")return NoInterval$3;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES$3[bt];if(Nt==="M"&&qe==="P")return NoInterval$3;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt$3(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES$3[bt]+dd+12*gd),_d=(fd*(SIZES$3[bt]+dd)%12+12)%12,Ad=coordinates$3({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function coordToInterval$1(e,r){const[o,qe=0]=e,bt=o*7+qe*12<0,Nt=r||bt?[-o,-qe,-1]:[o,qe,1];return interval$3(pitch$1(Nt))}function qToAlt$3(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName$4(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES$3[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ$3(fd,o)}function altToQ$3(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr$5("A",r):fillStr$5("d",e==="perfectable"?r:r+1)}var fillStr$4=(e,r)=>Array(Math.abs(r)+1).join(e),NoNote={empty:!0,name:"",pc:"",acc:""},cache$4=new Map,stepToLetter=e=>"CDEFGAB".charAt(e),altToAcc=e=>e<0?fillStr$4("b",-e):fillStr$4("#",e),accToAlt=e=>e[0]==="b"?-e.length:e.length;function note(e){const r=JSON.stringify(e),o=cache$4.get(r);if(o)return o;const qe=typeof e=="string"?parse$6(e):isPitch$3(e)?note(pitchName$3(e)):isNamedPitch$3(e)?note(e.name):NoNote;return cache$4.set(r,qe),qe}var REGEX$6=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function tokenizeNote(e){const r=REGEX$6.exec(e);return r?[r[1].toUpperCase(),r[2].replace(/x/g,"##"),r[3],r[4]]:["","","",""]}function coordToNote(e){return note(pitch$1(e))}var mod=(e,r)=>(e%r+r)%r,SEMI=[0,2,4,5,7,9,11];function parse$6(e){const r=tokenizeNote(e);if(r[0]===""||r[3]!=="")return NoNote;const o=r[0],qe=r[1],bt=r[2],Nt=(o.charCodeAt(0)+3)%7,Na=accToAlt(qe),ld=bt.length?+bt:void 0,fd=coordinates$3({step:Nt,alt:Na,oct:ld}),hd=o+qe+bt,dd=o+qe,gd=(SEMI[Nt]+Na+120)%12,yd=ld===void 0?mod(SEMI[Nt]+Na,12)-1188:SEMI[Nt]+Na+12*(ld+1),_d=yd>=0&&yd<=127?yd:null,Ad=ld===void 0?null:Math.pow(2,(yd-69)/12)*440;return{empty:!1,acc:qe,alt:Na,chroma:gd,coord:fd,freq:Ad,height:yd,letter:o,midi:_d,name:hd,oct:ld,pc:dd,step:Nt}}function pitchName$3(e){const{step:r,alt:o,oct:qe}=e,bt=stepToLetter(r);if(!bt)return"";const Nt=bt+altToAcc(o);return qe||qe===0?Nt+qe:Nt}function transpose$2(e,r){const o=note(e),qe=Array.isArray(r)?r:interval$3(r).coord;if(o.empty||!qe||qe.length<2)return"";const bt=o.coord,Nt=bt.length===1?[bt[0]+qe[0]]:[bt[0]+qe[0],bt[1]+qe[1]];return coordToNote(Nt).name}function tonicIntervalsTransposer(e,r){const o=e.length;return qe=>{if(!r)return"";const bt=qe<0?(o- -qe%o)%o:qe%o,Nt=Math.floor(qe/o),Na=transpose$2(r,[0,Nt]);return transpose$2(Na,e[bt])}}function distance$3(e,r){const o=note(e),qe=note(r);if(o.empty||qe.empty)return"";const bt=o.coord,Nt=qe.coord,Na=Nt[0]-bt[0],ld=bt.length===2&&Nt.length===2?Nt[1]-bt[1]:-Math.floor(Na*7/12),fd=qe.height===o.height&&qe.midi!==null&&o.midi!==null&&o.step>qe.step;return coordToInterval$1([Na,ld],fd).name}var fillStr$3=(e,r)=>Array(Math.abs(r)+1).join(e);function deprecate(e,r,o){return function(...qe){return console.warn(`${e} is deprecated. Use ${r}.`),o.apply(this,qe)}}var isNamed=deprecate("isNamed","isNamedPitch",isNamedPitch$3);const Core=Object.freeze(Object.defineProperty({__proto__:null,accToAlt,altToAcc,chroma:chroma$2,coordToInterval:coordToInterval$1,coordToNote,coordinates:coordinates$3,deprecate,distance:distance$3,fillStr:fillStr$3,height,interval:interval$3,isNamed,isNamedPitch:isNamedPitch$3,isPitch:isPitch$3,midi:midi$1,note,pitch:pitch$1,stepToLetter,tokenizeInterval:tokenizeInterval$3,tokenizeNote,tonicIntervalsTransposer,transpose:transpose$2},Symbol.toStringTag,{value:"Module"}));var CHORDS$2=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î” ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î”9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î”#4 Î”#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î”7 mÎ” -^7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î”9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],data_default$4=CHORDS$2,NoChordType={...EmptyPcset,name:"",quality:"Unknown",intervals:[],aliases:[]},dictionary$3=[],index$4={};function get$a(e){return index$4[e]||NoChordType}var chordType=deprecate("ChordType.chordType","ChordType.get",get$a);function names$8(){return dictionary$3.map(e=>e.name).filter(e=>e)}function symbols(){return dictionary$3.map(e=>e.aliases[0]).filter(e=>e)}function keys$1(){return Object.keys(index$4)}function all$3(){return dictionary$3.slice()}var entries$2=deprecate("ChordType.entries","ChordType.all",all$3);function removeAll$1(){dictionary$3=[],index$4={}}function add$5(e,r,o){const qe=getQuality$2(e),bt={...get$b(e),name:o||"",quality:qe,intervals:e,aliases:r};dictionary$3.push(bt),bt.name&&(index$4[bt.name]=bt),index$4[bt.setNum]=bt,index$4[bt.chroma]=bt,bt.aliases.forEach(Nt=>addAlias$3(bt,Nt))}function addAlias$3(e,r){index$4[r]=e}function getQuality$2(e){const r=o=>e.indexOf(o)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}data_default$4.forEach(([e,r,o])=>add$5(e.split(" "),o.split(" "),r)),dictionary$3.sort((e,r)=>e.setNum-r.setNum);var chord_type_default={names:names$8,symbols,get:get$a,all:all$3,add:add$5,removeAll:removeAll$1,keys:keys$1,entries:entries$2,chordType},SCALES=[["1P 2M 3M 5P 6M","major pentatonic","pentatonic"],["1P 2M 3M 4P 5P 6M 7M","major","ionian"],["1P 2M 3m 4P 5P 6m 7m","minor","aeolian"],["1P 2M 3m 3M 5P 6M","major blues"],["1P 3m 4P 5d 5P 7m","minor blues","blues"],["1P 2M 3m 4P 5P 6M 7M","melodic minor"],["1P 2M 3m 4P 5P 6m 7M","harmonic minor"],["1P 2M 3M 4P 5P 6M 7m 7M","bebop"],["1P 2M 3m 4P 5d 6m 6M 7M","diminished","whole-half diminished"],["1P 2M 3m 4P 5P 6M 7m","dorian"],["1P 2M 3M 4A 5P 6M 7M","lydian"],["1P 2M 3M 4P 5P 6M 7m","mixolydian","dominant"],["1P 2m 3m 4P 5P 6m 7m","phrygian"],["1P 2m 3m 4P 5d 6m 7m","locrian"],["1P 3M 4P 5P 7M","ionian pentatonic"],["1P 3M 4P 5P 7m","mixolydian pentatonic","indian"],["1P 2M 4P 5P 6M","ritusen"],["1P 2M 4P 5P 7m","egyptian"],["1P 3M 4P 5d 7m","neopolitan major pentatonic"],["1P 3m 4P 5P 6m","vietnamese 1"],["1P 2m 3m 5P 6m","pelog"],["1P 2m 4P 5P 6m","kumoijoshi"],["1P 2M 3m 5P 6m","hirajoshi"],["1P 2m 4P 5d 7m","iwato"],["1P 2m 4P 5P 7m","in-sen"],["1P 3M 4A 5P 7M","lydian pentatonic","chinese"],["1P 3m 4P 6m 7m","malkos raga"],["1P 3m 4P 5d 7m","locrian pentatonic","minor seven flat five pentatonic"],["1P 3m 4P 5P 7m","minor pentatonic","vietnamese 2"],["1P 3m 4P 5P 6M","minor six pentatonic"],["1P 2M 3m 5P 6M","flat three pentatonic","kumoi"],["1P 2M 3M 5P 6m","flat six pentatonic"],["1P 2m 3M 5P 6M","scriabin"],["1P 3M 5d 6m 7m","whole tone pentatonic"],["1P 3M 4A 5A 7M","lydian #5P pentatonic"],["1P 3M 4A 5P 7m","lydian dominant pentatonic"],["1P 3m 4P 5P 7M","minor #7M pentatonic"],["1P 3m 4d 5d 7m","super locrian pentatonic"],["1P 2M 3m 4P 5P 7M","minor hexatonic"],["1P 2A 3M 5P 5A 7M","augmented"],["1P 2M 4P 5P 6M 7m","piongio"],["1P 2m 3M 4A 6M 7m","prometheus neopolitan"],["1P 2M 3M 4A 6M 7m","prometheus"],["1P 2m 3M 5d 6m 7m","mystery #1"],["1P 2m 3M 4P 5A 6M","six tone symmetric"],["1P 2M 3M 4A 5A 6A","whole tone","messiaen's mode #1"],["1P 2m 4P 4A 5P 7M","messiaen's mode #5"],["1P 2M 3M 4P 5d 6m 7m","locrian major","arabian"],["1P 2m 3M 4A 5P 6m 7M","double harmonic lydian"],["1P 2m 2A 3M 4A 6m 7m","altered","super locrian","diminished whole tone","pomeroy"],["1P 2M 3m 4P 5d 6m 7m","locrian #2","half-diminished","aeolian b5"],["1P 2M 3M 4P 5P 6m 7m","mixolydian b6","melodic minor fifth mode","hindu"],["1P 2M 3M 4A 5P 6M 7m","lydian dominant","lydian b7","overtone"],["1P 2M 3M 4A 5A 6M 7M","lydian augmented"],["1P 2m 3m 4P 5P 6M 7m","dorian b2","phrygian #6","melodic minor second mode"],["1P 2m 3m 4d 5d 6m 7d","ultralocrian","superlocrian bb7","superlocrian diminished"],["1P 2m 3m 4P 5d 6M 7m","locrian 6","locrian natural 6","locrian sharp 6"],["1P 2A 3M 4P 5P 5A 7M","augmented heptatonic"],["1P 2M 3m 4A 5P 6M 7m","dorian #4","ukrainian dorian","romanian minor","altered dorian"],["1P 2M 3m 4A 5P 6M 7M","lydian diminished"],["1P 2M 3M 4A 5A 7m 7M","leading whole tone"],["1P 2M 3M 4A 5P 6m 7m","lydian minor"],["1P 2m 3M 4P 5P 6m 7m","phrygian dominant","spanish","phrygian major"],["1P 2m 3m 4P 5P 6m 7M","balinese"],["1P 2m 3m 4P 5P 6M 7M","neopolitan major"],["1P 2M 3M 4P 5P 6m 7M","harmonic major"],["1P 2m 3M 4P 5P 6m 7M","double harmonic major","gypsy"],["1P 2M 3m 4A 5P 6m 7M","hungarian minor"],["1P 2A 3M 4A 5P 6M 7m","hungarian major"],["1P 2m 3M 4P 5d 6M 7m","oriental"],["1P 2m 3m 3M 4A 5P 7m","flamenco"],["1P 2m 3m 4A 5P 6m 7M","todi raga"],["1P 2m 3M 4P 5d 6m 7M","persian"],["1P 2m 3M 5d 6m 7m 7M","enigmatic"],["1P 2M 3M 4P 5A 6M 7M","major augmented","major #5","ionian augmented","ionian #5"],["1P 2A 3M 4A 5P 6M 7M","lydian #9"],["1P 2m 2M 4P 4A 5P 6m 7M","messiaen's mode #4"],["1P 2m 3M 4P 4A 5P 6m 7M","purvi raga"],["1P 2m 3m 3M 4P 5P 6m 7m","spanish heptatonic"],["1P 2M 3m 3M 4P 5P 6M 7m","bebop minor"],["1P 2M 3M 4P 5P 5A 6M 7M","bebop major"],["1P 2m 3m 4P 5d 5P 6m 7m","bebop locrian"],["1P 2M 3m 4P 5P 6m 7m 7M","minor bebop"],["1P 2M 3M 4P 5d 5P 6M 7M","ichikosucho"],["1P 2M 3m 4P 5P 6m 6M 7M","minor six diminished"],["1P 2m 3m 3M 4A 5P 6M 7m","half-whole diminished","dominant diminished","messiaen's mode #2"],["1P 3m 3M 4P 5P 6M 7m 7M","kafi raga"],["1P 2M 3M 4P 4A 5A 6A 7M","messiaen's mode #6"],["1P 2M 3m 3M 4P 5d 5P 6M 7m","composite blues"],["1P 2M 3m 3M 4A 5P 6m 7m 7M","messiaen's mode #3"],["1P 2m 2M 3m 4P 4A 5P 6m 6M 7M","messiaen's mode #7"],["1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M","chromatic"]],data_default$3=SCALES,NoScaleType={...EmptyPcset,intervals:[],aliases:[]},dictionary$2=[],index$3={};function names$7(){return dictionary$2.map(e=>e.name)}function get$9(e){return index$3[e]||NoScaleType}var scaleType=get$9;function all$2(){return dictionary$2.slice()}var entries$1=all$2;function keys(){return Object.keys(index$3)}function removeAll(){dictionary$2=[],index$3={}}function add$4(e,r,o=[]){const qe={...get$b(e),name:r,intervals:e,aliases:o};return dictionary$2.push(qe),index$3[qe.name]=qe,index$3[qe.setNum]=qe,index$3[qe.chroma]=qe,qe.aliases.forEach(bt=>addAlias$2(qe,bt)),qe}function addAlias$2(e,r){index$3[r]=e}data_default$3.forEach(([e,r,...o])=>add$4(e.split(" "),r,o));var scale_type_default={names:names$7,get:get$9,all:all$2,add:add$4,removeAll,keys,entries:entries$1,scaleType},NoChord={empty:!0,name:"",symbol:"",root:"",rootDegree:0,type:"",tonic:null,setNum:NaN,quality:"Unknown",chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function tokenize$3(e){const[r,o,qe,bt]=tokenizeNote(e);return r===""?["",e]:r==="A"&&bt==="ug"?["","aug"]:[r+o,qe+bt]}function get$8(e){if(e==="")return NoChord;if(Array.isArray(e)&&e.length===2)return getChord(e[1],e[0]);{const[r,o]=tokenize$3(e),qe=getChord(o,r);return qe.empty?getChord(e):qe}}function getChord(e,r,o){const qe=get$a(e),bt=note(r||""),Nt=note(o||"");if(qe.empty||r&&bt.empty||o&&Nt.empty)return NoChord;const Na=distance$3(bt.pc,Nt.pc),ld=qe.intervals.indexOf(Na)+1;if(!Nt.empty&&!ld)return NoChord;const fd=Array.from(qe.intervals);for(let yd=1;yd<ld;yd++){const _d=fd[0][0],Ad=fd[0][1],xd=parseInt(_d,10)+7;fd.push(`${xd}${Ad}`),fd.shift()}const hd=bt.empty?[]:fd.map(yd=>transpose$2(bt,yd));e=qe.aliases.indexOf(e)!==-1?e:qe.aliases[0];const dd=`${bt.empty?"":bt.pc}${e}${Nt.empty||ld<=1?"":"/"+Nt.pc}`,gd=`${r?bt.pc+" ":""}${qe.name}${ld>1&&o?" over "+Nt.pc:""}`;return{...qe,name:gd,symbol:dd,type:qe.name,root:Nt.name,intervals:fd,rootDegree:ld,tonic:bt.name,notes:hd}}var chord=deprecate("Chord.chord","Chord.get",get$8);function transpose$1(e,r){const[o,qe]=tokenize$3(e);return o?transpose$2(o,r)+qe:e}function chordScales(e){const r=get$8(e),o=isSupersetOf(r.chroma);return all$2().filter(qe=>o(qe.chroma)).map(qe=>qe.name)}function extended$1(e){const r=get$8(e),o=isSupersetOf(r.chroma);return all$3().filter(qe=>o(qe.chroma)).map(qe=>r.tonic+qe.aliases[0])}function reduced$1(e){const r=get$8(e),o=isSubsetOf(r.chroma);return all$3().filter(qe=>o(qe.chroma)).map(qe=>r.tonic+qe.aliases[0])}function degrees$1(e){const{intervals:r,tonic:o}=get$8(e),qe=tonicIntervalsTransposer(r,o);return bt=>bt?qe(bt>0?bt-1:bt):""}function steps$1(e){const{intervals:r,tonic:o}=get$8(e);return tonicIntervalsTransposer(r,o)}var chord_default={getChord,get:get$8,detect:detect$1,chordScales,extended:extended$1,reduced:reduced$1,tokenize:tokenize$3,transpose:transpose$1,degrees:degrees$1,steps:steps$1,chord},DATA=[[.125,"dl",["large","duplex longa","maxima","octuple","octuple whole"]],[.25,"l",["long","longa"]],[.5,"d",["double whole","double","breve"]],[1,"w",["whole","semibreve"]],[2,"h",["half","minim"]],[4,"q",["quarter","crotchet"]],[8,"e",["eighth","quaver"]],[16,"s",["sixteenth","semiquaver"]],[32,"t",["thirty-second","demisemiquaver"]],[64,"sf",["sixty-fourth","hemidemisemiquaver"]],[128,"h",["hundred twenty-eighth"]],[256,"th",["two hundred fifty-sixth"]]],data_default$2=DATA,VALUES=[];data_default$2.forEach(([e,r,o])=>add$3(e,r,o));var NoDuration={empty:!0,name:"",value:0,fraction:[0,0],shorthand:"",dots:"",names:[]};function names$6(){return VALUES.reduce((e,r)=>(r.names.forEach(o=>e.push(o)),e),[])}function shorthands(){return VALUES.map(e=>e.shorthand)}var REGEX$5=/^([^.]+)(\.*)$/;function get$7(e){const[r,o,qe]=REGEX$5.exec(e)||[],bt=VALUES.find(ld=>ld.shorthand===o||ld.names.includes(o));if(!bt)return NoDuration;const Nt=calcDots(bt.fraction,qe.length),Na=Nt[0]/Nt[1];return{...bt,name:e,dots:qe,value:Na,fraction:Nt}}var value=e=>get$7(e).value,fraction=e=>get$7(e).fraction,duration_value_default={names:names$6,shorthands,get:get$7,value,fraction};function add$3(e,r,o){VALUES.push({empty:!1,dots:"",name:"",value:1/e,fraction:e<1?[1/e,1]:[1,e],shorthand:r,names:o})}function calcDots(e,r){const o=Math.pow(2,r);let qe=e[0]*o,bt=e[1]*o;const Nt=qe;for(let Na=0;Na<r;Na++)qe+=Nt/Math.pow(2,Na+1);for(;qe%2===0&&bt%2===0;)qe/=2,bt/=2;return[qe,bt]}function names$5(){return"1P 2M 3M 4P 5P 6m 7m".split(" ")}var get$6=interval$3,name$1=e=>interval$3(e).name,semitones=e=>interval$3(e).semitones,quality=e=>interval$3(e).q,num=e=>interval$3(e).num;function simplify$2(e){const r=interval$3(e);return r.empty?"":r.simple+r.q}function invert(e){const r=interval$3(e);if(r.empty)return"";const o=(7-r.step)%7,qe=r.type==="perfectable"?-r.alt:-(r.alt+1);return interval$3({step:o,alt:qe,oct:r.oct,dir:r.dir}).name}var IN=[1,2,2,3,3,4,5,5,6,6,7,7],IQ="P m M m M P d P m M m M".split(" ");function fromSemitones(e){const r=e<0?-1:1,o=Math.abs(e),qe=o%12,bt=Math.floor(o/12);return r*(IN[qe]+7*bt)+IQ[qe]}var distance$2=distance$5,add$2=combinator((e,r)=>[e[0]+r[0],e[1]+r[1]]),addTo=e=>r=>add$2(e,r),substract=combinator((e,r)=>[e[0]-r[0],e[1]-r[1]]);function transposeFifths$2(e,r){const o=get$6(e);if(o.empty)return"";const[qe,bt,Nt]=o.coord;return coordToInterval$1([qe+r,bt,Nt]).name}var interval_default={names:names$5,get:get$6,name:name$1,num,semitones,quality,fromSemitones,distance:distance$2,invert,simplify:simplify$2,add:add$2,addTo,substract,transposeFifths:transposeFifths$2};function combinator(e){return(r,o)=>{const qe=interval$3(r).coord,bt=interval$3(o).coord;if(qe&&bt){const Nt=e(qe,bt);return coordToInterval$1(Nt).name}}}function isMidi(e){return+e>=0&&+e<=127}function toMidi(e){if(isMidi(e))return+e;const r=note$1(e);return r.empty?null:r.midi}function midiToFreq(e,r=440){return Math.pow(2,(e-69)/12)*r}var L2=Math.log(2),L440=Math.log(440);function freqToMidi(e){const r=12*(Math.log(e)-L440)/L2+69;return Math.round(r*100)/100}var SHARPS="C C# D D# E F F# G G# A A# B".split(" "),FLATS="C Db D Eb E F Gb G Ab A Bb B".split(" ");function midiToNoteName(e,r={}){if(isNaN(e)||e===-1/0||e===1/0)return"";e=Math.round(e);const qe=(r.sharps===!0?SHARPS:FLATS)[e%12];if(r.pitchClass)return qe;const bt=Math.floor(e/12)-1;return qe+bt}function chroma$1(e){return e%12}function pcsetFromChroma(e){return e.split("").reduce((r,o,qe)=>(qe<12&&o==="1"&&r.push(qe),r),[])}function pcsetFromMidi(e){return e.map(chroma$1).sort((r,o)=>r-o).filter((r,o,qe)=>o===0||r!==qe[o-1])}function pcset(e){return Array.isArray(e)?pcsetFromMidi(e):pcsetFromChroma(e)}function pcsetNearest(e){const r=pcset(e);return o=>{const qe=chroma$1(o);for(let bt=0;bt<12;bt++){if(r.includes(qe+bt))return o+bt;if(r.includes(qe-bt))return o-bt}}}function pcsetSteps(e,r){const o=pcset(e),qe=o.length;return bt=>{const Nt=bt<0?(qe- -bt%qe)%qe:bt%qe,Na=Math.floor(bt/qe);return o[Nt]+Na*12+r}}function pcsetDegrees(e,r){const o=pcsetSteps(e,r);return qe=>{if(qe!==0)return o(qe>0?qe-1:qe)}}var index_default$4={chroma:chroma$1,freqToMidi,isMidi,midiToFreq,midiToNoteName,pcsetNearest,pcset,pcsetDegrees,pcsetSteps,toMidi},NAMES$2=["C","D","E","F","G","A","B"],toName=e=>e.name,onlyNotes=e=>e.map(note$1).filter(r=>!r.empty);function names$4(e){return e===void 0?NAMES$2.slice():Array.isArray(e)?onlyNotes(e).map(toName):[]}var get$5=note$1,name=e=>get$5(e).name,pitchClass=e=>get$5(e).pc,accidentals=e=>get$5(e).acc,octave=e=>get$5(e).oct,midi=e=>get$5(e).midi,freq=e=>get$5(e).freq,chroma=e=>get$5(e).chroma;function fromMidi(e){return midiToNoteName(e)}function fromFreq(e){return midiToNoteName(freqToMidi(e))}function fromFreqSharps(e){return midiToNoteName(freqToMidi(e),{sharps:!0})}function fromMidiSharps(e){return midiToNoteName(e,{sharps:!0})}var distance$1=distance$5,transpose=transpose$4,tr=transpose$4,transposeBy=e=>r=>transpose(r,e),trBy=transposeBy,transposeFrom=e=>r=>transpose(e,r),trFrom=transposeFrom;function transposeFifths$1(e,r){return transpose(e,[r,0])}var trFifths=transposeFifths$1;function transposeOctaves(e,r){return transpose(e,[0,r])}var ascending=(e,r)=>e.height-r.height,descending=(e,r)=>r.height-e.height;function sortedNames(e,r){return r=r||ascending,onlyNotes(e).sort(r).map(toName)}function sortedUniqNames(e){return sortedNames(e,ascending).filter((r,o,qe)=>o===0||r!==qe[o-1])}var simplify$1=e=>{const r=get$5(e);return r.empty?"":midiToNoteName(r.midi||r.chroma,{sharps:r.alt>0,pitchClass:r.midi===null})};function enharmonic(e,r){const o=get$5(e);if(o.empty)return"";const qe=get$5(r||midiToNoteName(o.midi||o.chroma,{sharps:o.alt<0,pitchClass:!0}));if(qe.empty||qe.chroma!==o.chroma)return"";if(o.oct===void 0)return qe.pc;const bt=o.chroma-o.alt,Nt=qe.chroma-qe.alt,Na=bt>11||Nt<0?-1:bt<0||Nt>11?1:0,ld=o.oct+Na;return qe.pc+ld}var index_default$3={names:names$4,get:get$5,name,pitchClass,accidentals,octave,midi,ascending,descending,distance:distance$1,sortedNames,sortedUniqNames,fromMidi,fromMidiSharps,freq,fromFreq,fromFreqSharps,chroma,transpose,tr,transposeBy,trBy,transposeFrom,trFrom,transposeFifths:transposeFifths$1,transposeOctaves,trFifths,simplify:simplify$1,enharmonic};function isNamedPitch$2(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch$2(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS$2=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$2=FIFTHS$2.map(e=>Math.floor(e*7/12));function coordinates$2(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$2[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$2[r]-4*o;return[bt*Nt,bt*Na]}var fillStr$2=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval$2=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),INTERVAL_TONAL_REGEX$2="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX$2="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$4=new RegExp("^"+INTERVAL_TONAL_REGEX$2+"|"+INTERVAL_SHORTHAND_REGEX$2+"$");function tokenizeInterval$2(e){const r=REGEX$4.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache$3={};function interval$2(e){return typeof e=="string"?cache$3[e]||(cache$3[e]=parse$5(e)):isPitch$2(e)?interval$2(pitchName$2(e)):isNamedPitch$2(e)?interval$2(e.name):NoInterval$2}var SIZES$2=[0,2,4,5,7,9,11],TYPES$2="PMMPPMM";function parse$5(e){const r=tokenizeInterval$2(e);if(r[0]==="")return NoInterval$2;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES$2[bt];if(Nt==="M"&&qe==="P")return NoInterval$2;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt$2(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES$2[bt]+dd+12*gd),_d=(fd*(SIZES$2[bt]+dd)%12+12)%12,Ad=coordinates$2({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function qToAlt$2(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName$2(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES$2[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ$2(fd,o)}function altToQ$2(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr$2("A",r):fillStr$2("d",e==="perfectable"?r:r+1)}var NoRomanNumeral={empty:!0,name:"",chordType:""},cache$2={};function get$4(e){return typeof e=="string"?cache$2[e]||(cache$2[e]=parse$4(e)):typeof e=="number"?get$4(NAMES$1[e]||""):isPitch$2(e)?fromPitch(e):isNamedPitch$2(e)?get$4(e.name):NoRomanNumeral}var romanNumeral=get$4;function names$3(e=!0){return(e?NAMES$1:NAMES_MINOR).slice()}function fromPitch(e){return get$4(altToAcc$1(e.alt)+NAMES$1[e.step])}var REGEX$3=/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/;function tokenize$2(e){return REGEX$3.exec(e)||["","","",""]}var ROMANS="I II III IV V VI VII",NAMES$1=ROMANS.split(" "),NAMES_MINOR=ROMANS.toLowerCase().split(" ");function parse$4(e){const[r,o,qe,bt]=tokenize$2(e);if(!qe)return NoRomanNumeral;const Nt=qe.toUpperCase(),Na=NAMES$1.indexOf(Nt),ld=accToAlt$1(o),fd=1;return{empty:!1,name:r,roman:qe,interval:interval$2({step:Na,alt:ld,dir:fd}).name,acc:o,chordType:bt,alt:ld,step:Na,major:qe===Nt,oct:0,dir:fd}}var roman_numeral_default={names:names$3,get:get$4,romanNumeral},Empty=Object.freeze([]),NoKey={type:"major",tonic:"",alteration:0,keySignature:""},NoKeyScale={tonic:"",grades:Empty,intervals:Empty,scale:Empty,triads:Empty,chords:Empty,chordsHarmonicFunction:Empty,chordScales:Empty,secondaryDominants:Empty,secondaryDominantSupertonics:Empty,substituteDominantsMinorRelative:Empty,substituteDominants:Empty,substituteDominantSupertonics:Empty,secondaryDominantsMinorRelative:Empty},NoMajorKey={...NoKey,...NoKeyScale,type:"major",minorRelative:"",scale:Empty,substituteDominants:Empty,secondaryDominantSupertonics:Empty,substituteDominantsMinorRelative:Empty},NoMinorKey={...NoKey,type:"minor",relativeMajor:"",natural:NoKeyScale,harmonic:NoKeyScale,melodic:NoKeyScale},mapScaleToType=(e,r,o="")=>r.map((qe,bt)=>`${e[bt]}${o}${qe}`);function keyScale(e,r,o,qe,bt){return Nt=>{const Na=e.map(_d=>get$4(_d).interval||""),ld=Na.map(_d=>transpose(Nt,_d)),fd=mapScaleToType(ld,o),hd=ld.map(_d=>transpose(_d,"5P")).map(_d=>ld.includes(_d)&&!fd.includes(_d+"7")?_d+"7":""),dd=supertonics(hd,r),gd=hd.map(_d=>{if(!_d)return"";const Ad=_d.slice(0,-1);return transpose(Ad,"5d")+"7"}),yd=supertonics(gd,r);return{tonic:Nt,grades:e,intervals:Na,scale:ld,triads:mapScaleToType(ld,r),chords:fd,chordsHarmonicFunction:qe.slice(),chordScales:mapScaleToType(ld,bt," "),secondaryDominants:hd,secondaryDominantSupertonics:dd,substituteDominants:gd,substituteDominantSupertonics:yd,secondaryDominantsMinorRelative:dd,substituteDominantsMinorRelative:yd}}}var supertonics=(e,r)=>e.map((o,qe)=>{if(!o)return"";const bt=o.slice(0,-1),Nt=transpose(bt,"5P");return r[qe].endsWith("m")?Nt+"m7":Nt+"m7b5"}),distInFifths=(e,r)=>{const o=note$1(e),qe=note$1(r);return o.empty||qe.empty?0:qe.coord[0]-o.coord[0]},MajorScale=keyScale("I II III IV V VI VII".split(" ")," m m   m dim".split(" "),"maj7 m7 m7 maj7 7 m7 m7b5".split(" "),"T SD T SD D T D".split(" "),"major,dorian,phrygian,lydian,mixolydian,minor,locrian".split(",")),NaturalScale=keyScale("I II bIII IV V bVI bVII".split(" "),"m dim  m m  ".split(" "),"m7 m7b5 maj7 m7 m7 maj7 7".split(" "),"T SD T SD D SD SD".split(" "),"minor,locrian,major,dorian,phrygian,lydian,mixolydian".split(",")),HarmonicScale=keyScale("I II bIII IV V bVI VII".split(" "),"m dim aug m   dim".split(" "),"mMaj7 m7b5 +maj7 m7 7 maj7 o7".split(" "),"T SD T SD D SD D".split(" "),"harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian".split(",")),MelodicScale=keyScale("I II bIII IV V VI VII".split(" "),"m m aug   dim dim".split(" "),"m6 m7 +maj7 7 7 m7b5 m7b5".split(" "),"T SD T SD D  ".split(" "),"melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered".split(","));function majorKey(e){const r=note$1(e).pc;if(!r)return NoMajorKey;const o=MajorScale(r),qe=distInFifths("C",r);return{...o,type:"major",minorRelative:transpose(r,"-3m"),alteration:qe,keySignature:altToAcc$1(qe)}}function minorKey(e){const r=note$1(e).pc;if(!r)return NoMinorKey;const o=distInFifths("C",r)-3;return{type:"minor",tonic:r,relativeMajor:transpose(r,"3m"),alteration:o,keySignature:altToAcc$1(o),natural:NaturalScale(r),harmonic:HarmonicScale(r),melodic:MelodicScale(r)}}function majorTonicFromKeySignature(e){return typeof e=="number"?transposeFifths$1("C",e):typeof e=="string"&&/^b+|#+$/.test(e)?transposeFifths$1("C",accToAlt$1(e)):null}var index_default$2={majorKey,majorTonicFromKeySignature,minorKey};function isNamedPitch$1(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch$1(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS$1=[0,2,4,-1,1,3,5],STEPS_TO_OCTS$1=FIFTHS$1.map(e=>Math.floor(e*7/12));function coordinates$1(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS$1[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS$1[r]-4*o;return[bt*Nt,bt*Na]}var FIFTHS_TO_STEPS=[3,0,4,1,5,2,6];function pitch(e){const[r,o,qe]=e,bt=FIFTHS_TO_STEPS[unaltered(r)],Nt=Math.floor((r+1)/7);if(o===void 0)return{step:bt,alt:Nt,dir:qe};const Na=o+4*Nt+STEPS_TO_OCTS$1[bt];return{step:bt,alt:Nt,oct:Na,dir:qe}}function unaltered(e){const r=(e+1)%7;return r<0?7+r:r}var fillStr$1=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval$1=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),INTERVAL_TONAL_REGEX$1="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX$1="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$2=new RegExp("^"+INTERVAL_TONAL_REGEX$1+"|"+INTERVAL_SHORTHAND_REGEX$1+"$");function tokenizeInterval$1(e){const r=REGEX$2.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache$1={};function interval$1(e){return typeof e=="string"?cache$1[e]||(cache$1[e]=parse$3(e)):isPitch$1(e)?interval$1(pitchName$1(e)):isNamedPitch$1(e)?interval$1(e.name):NoInterval$1}var SIZES$1=[0,2,4,5,7,9,11],TYPES$1="PMMPPMM";function parse$3(e){const r=tokenizeInterval$1(e);if(r[0]==="")return NoInterval$1;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES$1[bt];if(Nt==="M"&&qe==="P")return NoInterval$1;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt$1(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES$1[bt]+dd+12*gd),_d=(fd*(SIZES$1[bt]+dd)%12+12)%12,Ad=coordinates$1({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function coordToInterval(e,r){const[o,qe=0]=e,Nt=o*7+qe*12<0?[-o,-qe,-1]:[o,qe,1];return interval$1(pitch(Nt))}function qToAlt$1(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName$1(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES$1[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ$1(fd,o)}function altToQ$1(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr$1("A",r):fillStr$1("d",e==="perfectable"?r:r+1)}var get$3=interval$1;function simplify(e){const r=interval$1(e);return r.empty?"":r.simple+r.q}function transposeFifths(e,r){const o=get$3(e);if(o.empty)return"";const[qe,bt,Nt]=o.coord;return coordToInterval([qe+r,bt,Nt]).name}var MODES=[[0,2773,0,"ionian","","Maj7","major"],[1,2902,2,"dorian","m","m7"],[2,3418,4,"phrygian","m","m7"],[3,2741,-1,"lydian","","Maj7"],[4,2774,1,"mixolydian","","7"],[5,2906,3,"aeolian","m","m7","minor"],[6,3434,5,"locrian","dim","m7b5"]],NoMode={...EmptyPcset,name:"",alt:0,modeNum:NaN,triad:"",seventh:"",aliases:[]},modes=MODES.map(toMode),index$2={};modes.forEach(e=>{index$2[e.name]=e,e.aliases.forEach(r=>{index$2[r]=e})});function get$2(e){return typeof e=="string"?index$2[e.toLowerCase()]||NoMode:e&&e.name?get$2(e.name):NoMode}var mode=get$2;function all$1(){return modes.slice()}var entries=all$1;function names$2(){return modes.map(e=>e.name)}function toMode(e){const[r,o,qe,bt,Nt,Na,ld]=e,fd=ld?[ld]:[],hd=Number(o).toString(2);return{empty:!1,intervals:get$9(bt).intervals,modeNum:r,chroma:hd,normalized:hd,name:bt,setNum:o,alt:qe,triad:Nt,seventh:Na,aliases:fd}}function notes(e,r){return get$2(e).intervals.map(o=>transpose$4(r,o))}function chords(e){return(r,o)=>{const qe=get$2(r);if(qe.empty)return[];const bt=rotate(qe.modeNum,e),Nt=qe.intervals.map(Na=>transpose$4(o,Na));return bt.map((Na,ld)=>Nt[ld]+Na)}}var triads=chords(MODES.map(e=>e[4])),seventhChords=chords(MODES.map(e=>e[5]));function distance(e,r){const o=get$2(r),qe=get$2(e);return o.empty||qe.empty?"":simplify(transposeFifths("1P",qe.alt-o.alt))}function relativeTonic(e,r,o){return transpose$4(o,distance(e,r))}var mode_default={get:get$2,names:names$2,all:all$1,distance,relativeTonic,notes,triads,seventhChords,entries,mode},CHORDS$1=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î” ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î”9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î”#4 Î”#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î”7 mÎ” -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î”9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],data_default$1=CHORDS$1;({...EmptyPcset});var dictionary$1=[],index$1={};function add$1(e,r,o){const qe=getQuality$1(e),bt={...get$b(e),name:o||"",quality:qe,intervals:e,aliases:r};dictionary$1.push(bt),bt.name&&(index$1[bt.name]=bt),index$1[bt.setNum]=bt,index$1[bt.chroma]=bt,bt.aliases.forEach(Nt=>addAlias$1(bt,Nt))}function addAlias$1(e,r){index$1[r]=e}function getQuality$1(e){const r=o=>e.indexOf(o)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}data_default$1.forEach(([e,r,o])=>add$1(e.split(" "),o.split(" "),r)),dictionary$1.sort((e,r)=>e.setNum-r.setNum);function isNamedPitch(e){return e!==null&&typeof e=="object"&&"name"in e&&typeof e.name=="string"}function isPitch(e){return e!==null&&typeof e=="object"&&"step"in e&&typeof e.step=="number"&&"alt"in e&&typeof e.alt=="number"&&!isNaN(e.step)&&!isNaN(e.alt)}var FIFTHS=[0,2,4,-1,1,3,5],STEPS_TO_OCTS=FIFTHS.map(e=>Math.floor(e*7/12));function coordinates(e){const{step:r,alt:o,oct:qe,dir:bt=1}=e,Nt=FIFTHS[r]+7*o;if(qe===void 0)return[bt*Nt];const Na=qe-STEPS_TO_OCTS[r]-4*o;return[bt*Nt,bt*Na]}var fillStr=(e,r)=>Array(Math.abs(r)+1).join(e),NoInterval=Object.freeze({empty:!0,name:"",num:NaN,q:"",type:"",step:NaN,alt:NaN,dir:NaN,simple:NaN,semitones:NaN,chroma:NaN,coord:[],oct:NaN}),INTERVAL_TONAL_REGEX="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",INTERVAL_SHORTHAND_REGEX="(AA|A|P|M|m|d|dd)([-+]?\\d+)",REGEX$1=new RegExp("^"+INTERVAL_TONAL_REGEX+"|"+INTERVAL_SHORTHAND_REGEX+"$");function tokenizeInterval(e){const r=REGEX$1.exec(`${e}`);return r===null?["",""]:r[1]?[r[1],r[2]]:[r[4],r[3]]}var cache={};function interval(e){return typeof e=="string"?cache[e]||(cache[e]=parse$2(e)):isPitch(e)?interval(pitchName(e)):isNamedPitch(e)?interval(e.name):NoInterval}var SIZES=[0,2,4,5,7,9,11],TYPES="PMMPPMM";function parse$2(e){const r=tokenizeInterval(e);if(r[0]==="")return NoInterval;const o=+r[0],qe=r[1],bt=(Math.abs(o)-1)%7,Nt=TYPES[bt];if(Nt==="M"&&qe==="P")return NoInterval;const Na=Nt==="M"?"majorable":"perfectable",ld=""+o+qe,fd=o<0?-1:1,hd=o===8||o===-8?o:fd*(bt+1),dd=qToAlt(Na,qe),gd=Math.floor((Math.abs(o)-1)/7),yd=fd*(SIZES[bt]+dd+12*gd),_d=(fd*(SIZES[bt]+dd)%12+12)%12,Ad=coordinates({step:bt,alt:dd,oct:gd,dir:fd});return{empty:!1,name:ld,num:o,q:qe,step:bt,alt:dd,dir:fd,type:Na,simple:hd,semitones:yd,chroma:_d,coord:Ad,oct:gd}}function qToAlt(e,r){return r==="M"&&e==="majorable"||r==="P"&&e==="perfectable"?0:r==="m"&&e==="majorable"?-1:/^A+$/.test(r)?r.length:/^d+$/.test(r)?-1*(e==="perfectable"?r.length:r.length+1):0}function pitchName(e){const{step:r,alt:o,oct:qe=0,dir:bt}=e;if(!bt)return"";const Nt=r+1+7*qe,Na=Nt===0?r+1:Nt,ld=bt<0?"-":"",fd=TYPES[r]==="M"?"majorable":"perfectable";return ld+Na+altToQ(fd,o)}function altToQ(e,r){return r===0?e==="majorable"?"M":"P":r===-1&&e==="majorable"?"m":r>0?fillStr("A",r):fillStr("d",e==="perfectable"?r:r+1)}function tokenize$1(e){const[r,o,qe,bt]=tokenizeNote$1(e);return r===""?tokenizeBass("",e):r==="A"&&bt==="ug"?tokenizeBass("","aug"):tokenizeBass(r+o,qe+bt)}function tokenizeBass(e,r){const o=r.split("/");if(o.length===1)return[e,o[0],""];const[qe,bt,Nt,Na]=tokenizeNote$1(o[1]);return qe!==""&&Nt===""&&Na===""?[e,o[0],qe+bt]:[e,r,""]}function fromRomanNumerals(e,r){return r.map(get$4).map(qe=>transpose$4(e,interval(qe))+qe.chordType)}function toRomanNumerals(e,r){return r.map(o=>{const[qe,bt]=tokenize$1(o),Nt=distance$5(e,qe);return get$4(interval(Nt)).name+bt})}var progression_default={fromRomanNumerals,toRomanNumerals};function numeric(e){const r=compact(e.map(o=>typeof o=="number"?o:toMidi(o)));return!e.length||r.length!==e.length?[]:r.reduce((o,qe)=>{const bt=o[o.length-1];return o.concat(range(bt,qe).slice(1))},[r[0]])}function chromatic(e,r){return numeric(e).map(o=>midiToNoteName(o,r))}var index_default$1={numeric,chromatic},CHORDS=[["1P 3M 5P","major","M ^  maj"],["1P 3M 5P 7M","major seventh","maj7 Î” ma7 M7 Maj7 ^7"],["1P 3M 5P 7M 9M","major ninth","maj9 Î”9 ^9"],["1P 3M 5P 7M 9M 13M","major thirteenth","maj13 Maj13 ^13"],["1P 3M 5P 6M","sixth","6 add6 add13 M6"],["1P 3M 5P 6M 9M","sixth added ninth","6add9 6/9 69 M69"],["1P 3M 6m 7M","major seventh flat sixth","M7b6 ^7b6"],["1P 3M 5P 7M 11A","major seventh sharp eleventh","maj#4 Î”#4 Î”#11 M7#11 ^7#11 maj7#11"],["1P 3m 5P","minor","m min -"],["1P 3m 5P 7m","minor seventh","m7 min7 mi7 -7"],["1P 3m 5P 7M","minor/major seventh","m/ma7 m/maj7 mM7 mMaj7 m/M7 -Î”7 mÎ” -^7 -maj7"],["1P 3m 5P 6M","minor sixth","m6 -6"],["1P 3m 5P 7m 9M","minor ninth","m9 -9"],["1P 3m 5P 7M 9M","minor/major ninth","mM9 mMaj9 -^9"],["1P 3m 5P 7m 9M 11P","minor eleventh","m11 -11"],["1P 3m 5P 7m 9M 13M","minor thirteenth","m13 -13"],["1P 3m 5d","diminished","dim Â° o"],["1P 3m 5d 7d","diminished seventh","dim7 Â°7 o7"],["1P 3m 5d 7m","half-diminished","m7b5 Ã¸ -7b5 h7 h"],["1P 3M 5P 7m","dominant seventh","7 dom"],["1P 3M 5P 7m 9M","dominant ninth","9"],["1P 3M 5P 7m 9M 13M","dominant thirteenth","13"],["1P 3M 5P 7m 11A","lydian dominant seventh","7#11 7#4"],["1P 3M 5P 7m 9m","dominant flat ninth","7b9"],["1P 3M 5P 7m 9A","dominant sharp ninth","7#9"],["1P 3M 7m 9m","altered","alt7"],["1P 4P 5P","suspended fourth","sus4 sus"],["1P 2M 5P","suspended second","sus2"],["1P 4P 5P 7m","suspended fourth seventh","7sus4 7sus"],["1P 5P 7m 9M 11P","eleventh","11"],["1P 4P 5P 7m 9m","suspended fourth flat ninth","b9sus phryg 7b9sus 7b9sus4"],["1P 5P","fifth","5"],["1P 3M 5A","augmented","aug + +5 ^#5"],["1P 3m 5A","minor augmented","m#5 -#5 m+"],["1P 3M 5A 7M","augmented seventh","maj7#5 maj7+5 +maj7 ^7#5"],["1P 3M 5P 7M 9M 11A","major sharp eleventh (lydian)","maj9#11 Î”9#11 ^9#11"],["1P 2M 4P 5P","","sus24 sus4add9"],["1P 3M 5A 7M 9M","","maj9#5 Maj9#5"],["1P 3M 5A 7m","","7#5 +7 7+ 7aug aug7"],["1P 3M 5A 7m 9A","","7#5#9 7#9#5 7alt"],["1P 3M 5A 7m 9M","","9#5 9+"],["1P 3M 5A 7m 9M 11A","","9#5#11"],["1P 3M 5A 7m 9m","","7#5b9 7b9#5"],["1P 3M 5A 7m 9m 11A","","7#5b9#11"],["1P 3M 5A 9A","","+add#9"],["1P 3M 5A 9M","","M#5add9 +add9"],["1P 3M 5P 6M 11A","","M6#11 M6b5 6#11 6b5"],["1P 3M 5P 6M 7M 9M","","M7add13"],["1P 3M 5P 6M 9M 11A","","69#11"],["1P 3m 5P 6M 9M","","m69 -69"],["1P 3M 5P 6m 7m","","7b6"],["1P 3M 5P 7M 9A 11A","","maj7#9#11"],["1P 3M 5P 7M 9M 11A 13M","","M13#11 maj13#11 M13+4 M13#4"],["1P 3M 5P 7M 9m","","M7b9"],["1P 3M 5P 7m 11A 13m","","7#11b13 7b5b13"],["1P 3M 5P 7m 13M","","7add6 67 7add13"],["1P 3M 5P 7m 9A 11A","","7#9#11 7b5#9 7#9b5"],["1P 3M 5P 7m 9A 11A 13M","","13#9#11"],["1P 3M 5P 7m 9A 11A 13m","","7#9#11b13"],["1P 3M 5P 7m 9A 13M","","13#9"],["1P 3M 5P 7m 9A 13m","","7#9b13"],["1P 3M 5P 7m 9M 11A","","9#11 9+4 9#4"],["1P 3M 5P 7m 9M 11A 13M","","13#11 13+4 13#4"],["1P 3M 5P 7m 9M 11A 13m","","9#11b13 9b5b13"],["1P 3M 5P 7m 9m 11A","","7b9#11 7b5b9 7b9b5"],["1P 3M 5P 7m 9m 11A 13M","","13b9#11"],["1P 3M 5P 7m 9m 11A 13m","","7b9b13#11 7b9#11b13 7b5b9b13"],["1P 3M 5P 7m 9m 13M","","13b9"],["1P 3M 5P 7m 9m 13m","","7b9b13"],["1P 3M 5P 7m 9m 9A","","7b9#9"],["1P 3M 5P 9M","","Madd9 2 add9 add2"],["1P 3M 5P 9m","","Maddb9"],["1P 3M 5d","","Mb5"],["1P 3M 5d 6M 7m 9M","","13b5"],["1P 3M 5d 7M","","M7b5"],["1P 3M 5d 7M 9M","","M9b5"],["1P 3M 5d 7m","","7b5"],["1P 3M 5d 7m 9M","","9b5"],["1P 3M 7m","","7no5"],["1P 3M 7m 13m","","7b13"],["1P 3M 7m 9M","","9no5"],["1P 3M 7m 9M 13M","","13no5"],["1P 3M 7m 9M 13m","","9b13"],["1P 3m 4P 5P","","madd4"],["1P 3m 5P 6m 7M","","mMaj7b6"],["1P 3m 5P 6m 7M 9M","","mMaj9b6"],["1P 3m 5P 7m 11P","","m7add11 m7add4"],["1P 3m 5P 9M","","madd9"],["1P 3m 5d 6M 7M","","o7M7"],["1P 3m 5d 7M","","oM7"],["1P 3m 6m 7M","","mb6M7"],["1P 3m 6m 7m","","m7#5"],["1P 3m 6m 7m 9M","","m9#5"],["1P 3m 5A 7m 9M 11P","","m11A"],["1P 3m 6m 9m","","mb6b9"],["1P 2M 3m 5d 7m","","m9b5"],["1P 4P 5A 7M","","M7#5sus4"],["1P 4P 5A 7M 9M","","M9#5sus4"],["1P 4P 5A 7m","","7#5sus4"],["1P 4P 5P 7M","","M7sus4"],["1P 4P 5P 7M 9M","","M9sus4"],["1P 4P 5P 7m 9M","","9sus4 9sus"],["1P 4P 5P 7m 9M 13M","","13sus4 13sus"],["1P 4P 5P 7m 9m 13m","","7sus4b9b13 7b9b13sus4"],["1P 4P 7m 10m","","4 quartal"],["1P 5P 7m 9m 11P","","11b9"]],data_default=CHORDS;({...EmptyPcset});var dictionary=[],index={};function all(){return dictionary.slice()}function add(e,r,o){const qe=getQuality(e),bt={...get$b(e),name:o||"",quality:qe,intervals:e,aliases:r};dictionary.push(bt),bt.name&&(index[bt.name]=bt),index[bt.setNum]=bt,index[bt.chroma]=bt,bt.aliases.forEach(Nt=>addAlias(bt,Nt))}function addAlias(e,r){index[r]=e}function getQuality(e){const r=o=>e.indexOf(o)!==-1;return r("5A")?"Augmented":r("3M")?"Major":r("5d")?"Diminished":r("3m")?"Minor":"Unknown"}data_default.forEach(([e,r,o])=>add(e.split(" "),o.split(" "),r)),dictionary.sort((e,r)=>e.setNum-r.setNum);var NoScale={empty:!0,name:"",type:"",tonic:null,setNum:NaN,chroma:"",normalized:"",aliases:[],notes:[],intervals:[]};function tokenize(e){if(typeof e!="string")return["",""];const r=e.indexOf(" "),o=note$1(e.substring(0,r));if(o.empty){const bt=note$1(e);return bt.empty?["",e.toLowerCase()]:[bt.name,""]}const qe=e.substring(o.name.length+1).toLowerCase();return[o.name,qe.length?qe:""]}var names$1=names$7;function get$1(e){const r=Array.isArray(e)?e:tokenize(e),o=note$1(r[0]).name,qe=get$9(r[1]);if(qe.empty)return NoScale;const bt=qe.name,Nt=o?qe.intervals.map(ld=>transpose$4(o,ld)):[],Na=o?o+" "+bt:bt;return{...qe,name:Na,type:bt,tonic:o,notes:Nt}}var scale=get$1;function detect(e,r={}){const o=chroma$3(e),qe=note$1(r.tonic??e[0]??""),bt=qe.chroma;if(bt===void 0)return[];const Nt=o.split("");Nt[bt]="1";const Na=rotate(bt,Nt).join(""),ld=all$2().find(hd=>hd.chroma===Na),fd=[];return ld&&fd.push(qe.name+" "+ld.name),r.match==="exact"||extended(Na).forEach(hd=>{fd.push(qe.name+" "+hd)}),fd}function scaleChords(e){const r=get$1(e),o=isSubsetOf(r.chroma);return all().filter(qe=>o(qe.chroma)).map(qe=>qe.aliases[0])}function extended(e){const r=isChroma(e)?e:get$1(e).chroma,o=isSupersetOf(r);return all$2().filter(qe=>o(qe.chroma)).map(qe=>qe.name)}function reduced(e){const r=isSubsetOf(get$1(e).chroma);return all$2().filter(o=>r(o.chroma)).map(o=>o.name)}function scaleNotes(e){const r=e.map(bt=>note$1(bt).pc).filter(bt=>bt),o=r[0],qe=sortedUniqNames(r);return rotate(qe.indexOf(o),qe)}function modeNames(e){const r=get$1(e);if(r.empty)return[];const o=r.tonic?r.notes:r.intervals;return modes$1(r.chroma).map((qe,bt)=>{const Nt=get$1(qe).name;return Nt?[o[bt],Nt]:["",""]}).filter(qe=>qe[0])}function getNoteNameOf(e){const r=Array.isArray(e)?scaleNotes(e):get$1(e).notes,o=r.map(qe=>note$1(qe).chroma);return qe=>{const bt=note$1(typeof qe=="number"?fromMidi(qe):qe),Nt=bt.height;if(Nt===void 0)return;const Na=Nt%12,ld=o.indexOf(Na);if(ld!==-1)return enharmonic(bt.name,r[ld])}}function rangeOf(e){const r=getNoteNameOf(e);return(o,qe)=>{const bt=note$1(o).height,Nt=note$1(qe).height;return bt===void 0||Nt===void 0?[]:range(bt,Nt).map(r).filter(Na=>Na)}}function degrees(e){const{intervals:r,tonic:o}=get$1(e),qe=tonicIntervalsTransposer$1(r,o);return bt=>bt?qe(bt>0?bt-1:bt):""}function steps(e){const{intervals:r,tonic:o}=get$1(e);return tonicIntervalsTransposer$1(r,o)}var index_default={degrees,detect,extended,get:get$1,modeNames,names:names$1,rangeOf,reduced,scaleChords,scaleNotes,steps,tokenize,scale},NONE={empty:!0,name:"",upper:void 0,lower:void 0,type:void 0,additive:[]},NAMES=["4/4","3/4","2/4","2/2","12/8","9/8","6/8","3/8"];function names(){return NAMES.slice()}var REGEX=/^(\d*\d(?:\+\d)*)\/(\d+)$/,CACHE=new Map;function get(e){const r=JSON.stringify(e),o=CACHE.get(r);if(o)return o;const qe=build(parse$1(e));return CACHE.set(r,qe),qe}function parse$1(e){if(typeof e=="string"){const[Nt,Na,ld]=REGEX.exec(e)||[];return parse$1([Na,ld])}const[r,o]=e,qe=+o;if(typeof r=="number")return[r,qe];const bt=r.split("+").map(Nt=>+Nt);return bt.length===1?[bt[0],qe]:[bt,qe]}var time_signature_default={names,parse:parse$1,get},isPowerOfTwo=e=>Math.log(e)/Math.log(2)%1===0;function build([e,r]){const o=Array.isArray(e)?e.reduce((ld,fd)=>ld+fd,0):e,qe=r;if(o===0||qe===0)return NONE;const bt=Array.isArray(e)?`${e.join("+")}/${r}`:`${e}/${r}`,Nt=Array.isArray(e)?e:[],Na=qe===4||qe===2?"simple":qe===8&&o%3===0?"compound":isPowerOfTwo(qe)?"irregular":"irrational";return{empty:!1,name:bt,type:Na,upper:o,lower:qe,additive:Nt}}var Tonal=Core,PcSet=pcset_default,ChordDictionary=chord_type_default,ScaleDictionary=scale_type_default;const dist$1=Object.freeze(Object.defineProperty({__proto__:null,AbcNotation:abc_notation_default,Array:index$6,Chord:chord_default,ChordDictionary,ChordType:chord_type_default,Collection:collection_default,Core,DurationValue:duration_value_default,Interval:interval_default,Key:index_default$2,Midi:index_default$4,Mode:mode_default,Note:index_default$3,PcSet,Pcset:pcset_default,Progression:progression_default,Range:index_default$1,RomanNumeral:roman_numeral_default,Scale:index_default,ScaleDictionary,ScaleType:scale_type_default,TimeSignature:time_signature_default,Tonal,accToAlt,altToAcc,chroma:chroma$2,coordToInterval:coordToInterval$1,coordToNote,coordinates:coordinates$3,deprecate,distance:distance$3,fillStr:fillStr$3,height,interval:interval$3,isNamed,isNamedPitch:isNamedPitch$3,isPitch:isPitch$3,midi:midi$1,note,pitch:pitch$1,stepToLetter,tokenizeInterval:tokenizeInterval$3,tokenizeNote,tonicIntervalsTransposer,transpose:transpose$2},Symbol.toStringTag,{value:"Module"}));var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var r=e.default;if(typeof r=="function"){var o=function qe(){var bt=!1;try{bt=this instanceof qe}catch{}return bt?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};o.prototype=r.prototype}else o={};return Object.defineProperty(o,"__esModule",{value:!0}),Object.keys(e).forEach(function(qe){var bt=Object.getOwnPropertyDescriptor(e,qe);Object.defineProperty(o,qe,bt.get?bt:{enumerable:!0,get:function(){return e[qe]}})}),o}var dist={},dictionaryVoicing={},getBestVoicing={},hasRequiredGetBestVoicing;function requireGetBestVoicing(){if(hasRequiredGetBestVoicing)return getBestVoicing;hasRequiredGetBestVoicing=1,getBestVoicing.__esModule=!0,getBestVoicing.getBestVoicing=void 0;function e(r){var o=r.chord,qe=r.range,bt=r.finder,Nt=r.picker,Na=r.lastVoicing,ld=bt(o,qe);return ld.length?Nt(ld,Na):[]}return getBestVoicing.getBestVoicing=e,getBestVoicing}var voicingsInRange={};const require$$0=getAugmentedNamespace(dist$1);var tokenizeChord={},hasRequiredTokenizeChord;function requireTokenizeChord(){if(hasRequiredTokenizeChord)return tokenizeChord;hasRequiredTokenizeChord=1,tokenizeChord.__esModule=!0,tokenizeChord.tokenizeChord=void 0;function e(r){var o=(r||"").match(/^([A-G][b#]*)([^\/]*)[\/]?([A-G][b#]*)?$/);return o?o.slice(1):[]}return tokenizeChord.tokenizeChord=e,tokenizeChord}var hasRequiredVoicingsInRange;function requireVoicingsInRange(){if(hasRequiredVoicingsInRange)return voicingsInRange;hasRequiredVoicingsInRange=1,voicingsInRange.__esModule=!0,voicingsInRange.voicingsInRange=void 0;var e=require$$0,r=requireDictionaryVoicing(),o=requireTokenizeChord();function qe(bt,Nt,Na){Nt===void 0&&(Nt=r.lefthand),Na===void 0&&(Na=["D3","A4"]);var ld=(0,o.tokenizeChord)(bt),fd=ld[0],hd=ld[1];if(!Nt[hd])return[];var dd=Nt[hd].map(function(yd){return yd.split(" ")}),gd=e.Range.chromatic(Na);return dd.reduce(function(yd,_d){var Ad=_d.map(function(Td){return e.Interval.substract(Td,_d[0])}),xd=e.Note.transpose(fd,_d[0]),Cd=gd.filter(function(Td){return e.Note.chroma(Td)===e.Note.chroma(xd)}).filter(function(Td){return e.Note.midi(e.Note.transpose(Td,Ad[Ad.length-1]))<=e.Note.midi(Na[1])}).map(function(Td){return e.Note.enharmonic(Td,xd)}),Dd=Cd.map(function(Td){return Ad.map(function(Bd){return e.Note.transpose(Td,Bd)})});return yd.concat(Dd)},[])}return voicingsInRange.voicingsInRange=qe,voicingsInRange}var hasRequiredDictionaryVoicing;function requireDictionaryVoicing(){return hasRequiredDictionaryVoicing||(hasRequiredDictionaryVoicing=1,(function(e){var r=dictionaryVoicing&&dictionaryVoicing.__assign||function(){return r=Object.assign||function(ld){for(var fd,hd=1,dd=arguments.length;hd<dd;hd++){fd=arguments[hd];for(var gd in fd)Object.prototype.hasOwnProperty.call(fd,gd)&&(ld[gd]=fd[gd])}return ld},r.apply(this,arguments)},o=dictionaryVoicing&&dictionaryVoicing.__rest||function(ld,fd){var hd={};for(var dd in ld)Object.prototype.hasOwnProperty.call(ld,dd)&&fd.indexOf(dd)<0&&(hd[dd]=ld[dd]);if(ld!=null&&typeof Object.getOwnPropertySymbols=="function")for(var gd=0,dd=Object.getOwnPropertySymbols(ld);gd<dd.length;gd++)fd.indexOf(dd[gd])<0&&Object.prototype.propertyIsEnumerable.call(ld,dd[gd])&&(hd[dd[gd]]=ld[dd[gd]]);return hd};e.__esModule=!0,e.dictionaryVoicing=e.dictionaryVoicingFinder=e.triads=e.guidetones=e.lefthand=void 0;var qe=requireGetBestVoicing(),bt=requireVoicingsInRange();e.lefthand={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},e.guidetones={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},e.triads={M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]};var Nt=function(ld){return function(fd,hd){return(0,bt.voicingsInRange)(fd,ld,hd)}};e.dictionaryVoicingFinder=Nt;var Na=function(ld){var fd=ld.dictionary,hd=ld.range,dd=o(ld,["dictionary","range"]);return(0,qe.getBestVoicing)(r(r({},dd),{range:hd,finder:(0,e.dictionaryVoicingFinder)(fd)}))};e.dictionaryVoicing=Na})(dictionaryVoicing)),dictionaryVoicing}var minTopNoteDiff={},hasRequiredMinTopNoteDiff;function requireMinTopNoteDiff(){if(hasRequiredMinTopNoteDiff)return minTopNoteDiff;hasRequiredMinTopNoteDiff=1,minTopNoteDiff.__esModule=!0,minTopNoteDiff.minTopNoteDiff=void 0;var e=require$$0;function r(o,qe){if(!qe)return o[0];var bt=function(Nt){return Math.abs(e.Note.midi(qe[qe.length-1])-e.Note.midi(Nt[Nt.length-1]))};return o.reduce(function(Nt,Na){return bt(Na)<bt(Nt)?Na:Nt},o[0])}return minTopNoteDiff.minTopNoteDiff=r,minTopNoteDiff}var hasRequiredDist;function requireDist(){return hasRequiredDist||(hasRequiredDist=1,(function(e){e.__esModule=!0;var r=requireDictionaryVoicing(),o=requireMinTopNoteDiff(),qe=requireGetBestVoicing(),bt=requireTokenizeChord();e.default={tokenizeChord:bt.tokenizeChord,getBestVoicing:qe.getBestVoicing,dictionaryVoicing:r.dictionaryVoicing,dictionaryVoicingFinder:r.dictionaryVoicingFinder,lefthand:r.lefthand,guidetones:r.guidetones,triads:r.triads,minTopNoteDiff:o.minTopNoteDiff}})(dist)),dist}var distExports=requireDist();const J$1=getDefaultExportFromCjs(distExports),M1=["C","Db","D","Eb","E","F","Gb","G","Ab","A","Bb","B"],P1=["c","db","d","eb","e","f","gb","g","ab","a","bb","b"],t1=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],n1={b:-1,"#":1},e1=e=>{const[r,...o]=e.split("");return P1.indexOf(r.toLowerCase())+o.reduce((qe,bt)=>qe+n1[bt],0)};function o1(e){const r=(e||"").match(/^([A-G][b#]*)([^/]*)[/]?([A-G][b#]*)?$/);return r?r.slice(1):[]}const G$1=e=>e%12,K=e=>{let r=Number(e);return isNaN(r)?interval_default.semitones(e):r},S$1=(e,r)=>{if(typeof e=="number")return e;if(typeof e=="string")return pt(e,r)},d1=(e,r=!1)=>{const o=Math.floor(e/12)-1;return(r?t1:M1)[e%12]+o};function r1(e,r,o=1){e=e.map(bt=>typeof bt=="string"?pt(bt):bt);const qe=Math.floor(r/e.length)*o*12;return r=ft$1(r,e.length),e[r]+qe}function Q$2(e,r,o){let qe=0,bt=1/0;return r.forEach((Nt,Na)=>{const ld=Math.abs(Nt-e);(!o&&ld<bt||o&&ld<=bt)&&(qe=Na,bt=ld)}),qe}let T$1={};function s1(e,r,o,qe){const[bt,Nt]=index_default.tokenize(r),Na=S$1(bt),ld=G$1(Na);if(!T$1[Nt]){const{intervals:gd}=index_default.get(`C ${Nt}`);T$1[Nt]=gd.map(K)}const fd=T$1[Nt];if(!fd)return null;let hd=Na;if(o){o=S$1(o,3);const gd=G$1(o),yd=ft$1(gd-ld,12),_d=Q$2(yd,fd,qe);e=e+_d,hd=o-yd}const dd=Math.floor(e/fd.length)*12;return e=ft$1(e,fd.length),fd[e]+hd+dd}let H$1={below:e=>e.slice(-1)[0],duck:e=>e.slice(-1)[0],above:e=>e[0],root:e=>e[0]};function c1({chord:e,dictionary:r,offset:o=0,n:qe,mode:bt="below",anchor:Nt="c5",octaves:Na=1}){const[ld,fd]=o1(e),hd=e1(ld);Nt=S$1(Nt?.note||Nt,4);const dd=G$1(Nt),gd=r[fd].map(Gd=>(typeof Gd=="string"?Gd.split(" "):Gd).map(K));let yd,_d,Ad=gd.map((Gd,Qd)=>{const zd=H$1[bt](Gd),nm=ft$1(dd-zd-hd,12);return(yd===void 0||nm<yd)&&(yd=nm,_d=Qd),nm});bt==="root"&&(_d=0);const xd=Math.ceil(o/gd.length)*12,Cd=ft$1(_d+o,gd.length),Dd=gd[Cd],Td=H$1[bt](Dd),Bd=Nt-Ad[Cd]+xd,Md=Dd.map(Gd=>Bd-Td+Gd);let Ed=Md.map(Gd=>d1(Gd));return bt==="duck"&&(Ed=Ed.filter((Gd,Qd)=>Md[Qd]!==Nt)),qe!==void 0?[r1(Ed,qe,Na)]:Ed}const i1=e=>{if(typeof e!="string")return[];const[r,o="",qe]=e.match(/^([a-gA-G])([#bsf]*)(-?[0-9]*)$/)?.slice(1)||[];return r?[r,o,qe?Number(qe):void 0]:[]},a1={c:0,d:2,e:4,f:5,g:7,a:9,b:11},f1={"#":1,b:-1,s:1,f:-1},L=(e,r=3)=>{const[o,qe,bt=r]=i1(e);if(!o)throw new Error('not a note: "'+e+'"');const Nt=a1[o.toLowerCase()],Na=qe?.split("").reduce((ld,fd)=>ld+f1[fd],0)||0;return(Number(bt)+1)*12+Nt+Na},u1=e=>(e<=0?-1:1)+e*7+"P";function z(e){e=e.replaceAll(":"," ");const r=index_default.get(e),{tonic:o,empty:qe}=r;if(qe&&qt(e)||qe&&!o)throw new Error(`Scale name ${e} is incomplete. Make sure to use ":" instead of spaces, example: .scale("C:major")`);if(qe)throw new Error(`Invalid scale name "${e}"`);return r}function l1(e,r){e=Math.ceil(e);let{intervals:o,tonic:qe}=z(r);qe=qe||"C";const{pc:bt,oct:Nt=3}=index_default$3.get(qe),Na=Math.floor(e/o.length),ld=ft$1(e,o.length),fd=interval_default.add(o[ld],u1(Na));return index_default$3.transpose(bt+Nt,fd)}function O$1(e,r,o){let{notes:qe}=z(e);if(qe=qe.map(gd=>index_default$3.get(gd).pc),r=Number(r),isNaN(r))throw new Error(`scale offset "${r}" not a number`);const{pc:bt,oct:Nt=3}=index_default$3.get(o),Na=qe.indexOf(bt);if(Na===-1)throw new Error(`note "${o}" is not in scale "${e}"`);let ld=Na,fd=Nt,hd=bt;const dd=Math.sign(r);for(;Math.abs(ld-Na)<Math.abs(r);){ld+=dd;const gd=ft$1(ld,qe.length);dd<0&&hd[0]==="C"&&(fd+=dd),hd=qe[gd],dd>0&&hd[0]==="C"&&(fd+=dd)}return hd+fd}const{transpose:E1,trans:I1}=l(["transpose","trans"],function(e,r){return r.withHap(o=>{const qe=o.value.note??o.value;if(typeof qe=="number"){let Na;typeof e=="number"?Na=e:typeof e=="string"&&(Na=interval_default.semitones(e)||0);const ld=qe+Na;return typeof o.value=="object"?o.withValue(()=>({...o.value,note:ld})):o.withValue(()=>ld)}if(typeof qe!="string"||!qt(qe))return E$1(`[tonal] transpose: not a note "${qe}"`,"warning"),o;const bt=isNaN(Number(e))?String(e):interval_default.fromSemitones(e),Nt=index_default$3.transpose(qe,bt);return typeof o.value=="object"?o.withValue(()=>({...o.value,note:Nt})):o.withValue(()=>Nt)})}),{scaleTranspose:T1,scaleTrans:k1,strans:j1}=l(["scaleTranspose","scaleTrans","strans"],function(e,r){return r.withHap(o=>{if(!o.context.scale)throw new Error("can only use scaleTranspose after .scale");if(typeof o.value=="object")return o.withValue(()=>({...o.value,note:O$1(o.context.scale,Number(e),o.value.note)}));if(typeof o.value!="string")throw new Error("can only use scaleTranspose with notes");return o.withValue(()=>O$1(o.context.scale,Number(e),o.value))})});function b1(e){let r=Number(e),o=0;if(isNaN(r)){e=String(e);const qe=/^(-?\d+)(#+|b+)?$/.exec(e);if(!qe)throw new Error(`invalid scale step "${e}", expected number or integer with optional # b suffixes`);r=Number(qe[1]);const bt=qe[2]||"";o=bt[0]==="#"?bt.length:-bt.length}return[r,o]}let k$1={};function g1(e,r,o=!0){let qe=typeof r=="string"?L(r):r;if(k$1[e]===void 0){const{intervals:gd,tonic:yd}=z(e),{pc:_d}=index_default$3.get(yd),Ad=gd.concat("8P").map(Cd=>index_default$3.transpose(_d+"0",Cd)),xd=Ad.map(L);k$1[e]=[xd,Ad]}const[bt,Nt]=k$1[e],Na=bt[0],ld=Math.floor((qe-Na)/12),fd=bt.map(gd=>gd+12*ld),hd=Q$2(qe,fd,o),dd=Nt[hd];return index_default$3.transpose(dd,interval_default.fromSemitones(12*ld))}const G1=l("scale",function(e,r){return Array.isArray(e)&&(e=e.flat().join(" ")),r.fmap(o=>{const qe=typeof o=="object";if(!qe||qe&&("n"in o||"value"in o)){const bt=qe?o.n??o.value:o;if(delete o.n,qt(bt))return z$2(bt);try{const[Nt,Na]=b1(bt);let ld;qe&&o.anchor?ld=s1(Nt,e,o.anchor):ld=l1(Nt,e),Na!=0&&(ld=index_default$3.transpose(ld,interval_default.fromSemitones(Na))),o=z$2(qe?{...o,note:ld}:ld)}catch(Nt){return E$1(`[tonal] ${Nt.message}`,"error"),v$3}return o}else{const bt=g1(e,o.note);return z$2(qe?{...o,note:bt}:bt)}}).outerJoin().withHap(o=>o.setContext({...o.context,scale:e}))},!0,!0),g={2:["1P 5P 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P"],5:["1P 5P 8P 12P","5P 8P 12P 15P"],6:["1P 5P 6M 8P 10M","1P 5P 8P 10M 13M","3M 5P 8P 10M 13M","5P 8P 10M 12P 13M"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M"],9:["1P 5P 7m 9M 10M","1P 7m 9M 10M 12P","3M 7m 8P 9M 12P","7m 9M 10M 14m 15P","3M 7m 8P 12P 16M","7m 10M 12P 15P 16M"],11:["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],13:["1P 6M 7m 9M 10M","1P 7m 9M 10M 13M","3M 7m 8P 9M 13M","7m 8P 9M 10M 13M","7m 9M 10M 13M 15P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 8P 9M 13M","5P 8P 9M 10M 13M"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 12P 17M"],"+":["1P 3M 6m 8P 10M","1P 6m 8P 10M 13m","3M 6m 8P 10M 13m","3M 8P 10M 13m 15P","6m 8P 10M 13m 15P","6m 10M 13m 15P 17M"],o:["1P 5d 8P 10m 12d","3m 8P 10m 12d 15P","5d 8P 10m 12d 15P"],h:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P","1P 4P 5P 8P 11P","5P 8P 11P 12P","5P 8P 11P 12P 15P"],"^":["1P 5P 8P 10M","1P 5P 8P 10M 12P","3M 5P 8P 10M 12P","3M 8P 10M 12P 15P","5P 8P 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 5P 8P 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 5P 7M 10M 12P","1P 10M 12P 14M","3M 8P 10M 12P 14M","5P 8P 10M 12P 14M","5P 8P 10M 14M 17M"],"-7":["1P 3m 5P 7m 10m","1P 5P 7m 10m 12P","3m 7m 8P 10m 12P","3m 7m 8P 10m 14m","5P 7m 8P 10m 14m","7m 10m 12P 14m 15P","5P 8P 10m 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 5P 7m 8P 11P","5P 8P 11P 12P 14m","7m 8P 11P 12P 14m","7m 11P 12P 14m 18P"],h7:["3m 5d 7m 8P 10m","1P 5d 7m 10m 12d","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 5P 7M 9M 10M","1P 7M 9M 10M 12P","3M 7M 8P 9M 12P","3M 7M 8P 12P 16M","5P 8P 10M 14M 16M","7M 8P 10M 12P 16M"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 8P 13M 16M","7M 8P 10M 13M 16M"],"^7#11":["1P 5P 7M 10M 12d","3M 7M 8P 10M 12d","1P 7M 10M 12d 14M","3M 7M 8P 12d 14M","5P 8P 10M 12d 14M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 8P 9M 12d","3M 8P 9M 12d 14M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 8P 10M 13m","6m 7M 8P 10M 13m"],"-6":["1P 3m 5P 6M 8P","1P 5P 6M 8P 10m","3m 5P 6M 8P 10m","1P 5P 8P 10m 13M","3m 5P 8P 10m 13M","5P 8P 10m 12P 13M","5P 8P 10m 13M 15P"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 10m","1P 5P 7M 10m 12P","3m 7M 8P 10m 12P","5P 7M 8P 10m 14M","5P 8P 10m 14M 17m"],"-^9":["1P 3m 5P 7M 9M","1P 7M 9M 10m 12P","3m 7M 8P 9M 12P","5P 8P 9M 10m 14M"],"-9":["1P 3m 5P 7m 9M","3m 5P 7m 8P 9M","3m 7m 8P 9M 12P","5P 8P 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 12P 15P 16M"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["1P 3m 7m 9M 11P","3m 7m 8P 9M 11P","1P 4P 7m 10m 12P","5P 8P 11P 14m","3m 7m 9M 11P 15P","5P 8P 11P 14m 16M","7m 10m 12P 15P 18P"],"-7b5":["3m 5d 7m 8P 10m","1P 7m 10m 12d","1P 5d 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 7m 8P 10m 14m","5d 8P 10m 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["1P 7m 9M 10m 12d","3m 7m 8P 9M 12d","5d 8P 9M 10m 14m","7m 10m 12d 15P 16M"],"-b6":["1P 5P 6m 8P 10m","1P 5P 8P 10m 13m","3m 5P 8P 10m 13m","5P 8P 10m 13m","5P 8P 10m 13m 15P"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 10m 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 8P 10m 14m","7m 10m 10M 14m 15P"],"7#11":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7b5":["1P 3M 7m 10M 12d","3M 7m 8P 10M 12d","7m 10M 12d 14m 15P"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P"],"7#9#5":["1P 3M 7m 10m 13m","3M 7m 10m 13m 15P","7m 10M 13m 15P 17m"],"7#9b5":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7#9#11":["1P 3M 7m 10m 12d","3M 7m 10m 12d 15P","7m 10M 12d 15P 17m"],"7b9#11":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9b5":["1P 7m 9m 10M 12d","3M 7m 8P 9m 12d","7m 8P 10M 12d 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 8P 9m 10m","7m 8P 10M 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 8P 9m 13m","7m 9m 10M 13m 15P"],"7alt":["3M 7m 8P 9m 12d","1P 7m 10m 10M 13m","3M 7m 8P 10m 13m","3M 7m 9m 12d 15P","3M 7m 10m 13m 15P","7m 10M 12d 15P 17m","7m 10M 13m 15P 17m"],"13#11":["1P 6M 7m 10M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["1P 3M 6M 7m 9m","1P 6M 7m 9m 10M","3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["1P 3M 6M 7m 10m","3M 7m 8P 10m 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 5P 7m 9M 11P","5P 7m 8P 9M 11P","7m 8P 9M 11P 12P","7m 8P 11P 12P 16M"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","5P 7m 9M 11P 13M","7m 9M 11P 13M 15P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},w$1={2:["1P 5P 6M 8P 9M","1P 5P 8P 9M 12P","5P 8P 9M 12P 13M","5P 8P 9M 12P 15P"],5:["1P 5P 8P 12P","1P 5P 8P 9M 12P","5P 8P 12P 15P","5P 8P 12P 15P 16M"],6:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],7:["1P 5P 7m 8P 10M","1P 7m 8P 10M 12P","3M 7m 8P 10M 12P","3M 7m 8P 10M 14m","3M 7m 10M 12P 15P","7m 10M 12P 14m 15P","7m 10M 12P 15P 17M","7m 10M 14m 17M 19P"],9:["1P 6M 7m 9M 10M","3M 7m 9M 10M 12P","1P 7m 9M 10M 13M","3M 7m 9M 10M 13M","3M 7m 9M 12P 15P","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],11:["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],13:["3M 7m 9M 10M 13M","3M 7m 9M 13M 15P","3M 7m 10M 13M 16M","7m 10M 12P 13M 16M","7m 10M 13M 16M 17M","7m 10M 13M 16M 19P"],69:["1P 5P 6M 9M 10M","1P 5P 9M 10M 13M","3M 5P 9M 10M 13M","5P 8P 9M 10M 13M","3M 6M 9M 12P 15P"],add9:["1P 5P 8P 9M 10M","1P 5P 9M 10M 12P","3M 8P 9M 10M 12P","3M 8P 9M 12P 15P","5P 8P 9M 10M 15P","5P 8P 9M 12P 17M"],"+":["1P 6m 8P 9M 10M","1P 6m 8P 10M 13m","3M 8P 9M 10M 13m","3M 8P 10M 13m 15P","6m 10M 13m 15P 16M","6m 10M 13m 15P 17M"],o:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],h:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],sus:["1P 4P 5P 8P 9M","1P 4P 5P 8P 11P","1P 5P 8P 9M 11P","5P 8P 9M 11P 12P","5P 8P 11P 12P 13M","5P 8P 11P 13M 15P"],"^":["1P 3M 5P 6M 9M","1P 5P 8P 10M 12P","3M 5P 9M 10M 12P","1P 5P 8P 10M 13M","3M 8P 10M 13M 15P","5P 9M 10M 12P 15P"],"-":["1P 3m 5P 8P 10m","1P 3m 5P 9M 11P","3m 5P 8P 9M 11P","5P 8P 9M 10m 11P","1P 5P 9M 10m 12P","3m 5P 8P 10m 12P","5P 8P 10m 12P 15P"],"^7":["1P 6M 7M 9M 10M","3M 7M 9M 10M 12P","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"-7":["1P 3m 5P 7m 9M","1P 3m 5P 7m 10m","1P 5P 7m 10m 11P","3m 7m 8P 10m 11P","1P 5P 7m 10m 12P","3m 7m 9M 10m 12P","3m 7m 8P 10m 14m","5P 7m 9M 10m 14m","7m 10m 11P 14m 15P","7m 10m 12P 15P 16M","5P 8P 11P 14m 17m","7m 10m 12P 15P 17m"],"7sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],h7:["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],o7:["1P 6M 8P 10m 12d","1P 6M 10m 12d 13M","3m 8P 10m 12d 13M","3m 8P 12d 13M 15P","5d 10m 12d 13M 15P","5d 10m 13M 15P 17m","6M 12d 13M 15P 17m","6M 12d 15P 17m 19d"],"^9":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^13":["1P 6M 7M 9M 10M","1P 7M 9M 10M 13M","3M 7M 9M 12P 13M","3M 7M 9M 10M 13M","3M 7M 8P 9M 13M","3M 7M 9M 13M 14M","3M 7M 10M 13M 16M","7M 10M 13M 14M 16M","7M 10M 13M 16M 17M","7M 10M 13M 16M 19P"],"^7#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 10M 12d 14M","7M 10M 12d 13M 14M","7M 10M 12d 13M 16M","7M 10M 12d 14M 17M"],"^9#11":["1P 3M 5d 7M 9M","1P 7M 9M 10M 12d","3M 7M 9M 10M 12d","3M 7M 9M 12d 13M","3M 7M 9M 12d 14M","7M 10M 12d 14M 16M","7M 10M 12d 13M 16M"],"^7#5":["1P 6m 7M 10M 13m","3M 7M 9M 10M 13m","3M 7M 10M 13m 14M","7M 10M 13m 14M 16M","7M 10M 13m 14M 17M"],"-6":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","1P 5P 6M 10m 11P","3m 5P 6M 8P 11P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 10m 11P 13M","5P 8P 10m 13M 16M"],"-69":["1P 3m 5P 6M 9M","3m 5P 6M 8P 9M","3m 6M 9M 10m 12P","1P 5P 9M 10m 13M","3m 5P 8P 9M 13M","5P 8P 9M 10m 13M","5P 8P 10m 13M 16M"],"-^7":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-^9":["1P 3m 5P 7M 9M","1P 5P 7M 10m 11P","3m 7M 9M 10m 11P","3m 7M 9M 10m 12P","3m 7M 9M 12P 14M","7M 10m 11P 12P 14M","7M 10m 12P 14M 16M"],"-9":["1P 3m 5P 7m 9M","1P 3m 7m 9M 11P","3m 7m 9M 10m 11P","3m 7m 9M 10m 12P","3m 7m 9M 10m 14m","3m 7m 9M 12P 15P","7m 10m 11P 14m 16M","7m 10m 12P 16M 18P"],"-add9":["1P 2M 3m 5P 8P","1P 3m 5P 9M","3m 5P 8P 9M 12P","5P 8P 9M 10m 12P"],"-11":["3m 5P 7m 9M 11P","7m 9M 10m 11P","1P 4P 7m 10m 12P","3m 7m 9M 11P 12P","7m 9M 10m 11P 12P","3m 7m 9M 11P 14m","4P 10m 12P 14m","5P 8P 11P 14m","5P 8P 11P 14m 16M","7m 10m 12P 16M 18P","7m 10m 11P 16M 21m"],"-7b5":["1P 5d 7m 10m 11P","3m 5d 7m 8P 11P","5d 7m 8P 10m 11P","1P 7m 10m 12d","3m 7m 8P 10m 12d","3m 7m 8P 12d 14m","5d 8P 10m 11P 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 15P","5d 8P 10m 14m 17m"],h9:["3m 5d 7m 9M 11P","1P 7m 9M 10m 12d","3m 7m 9M 12d 14m","5d 8P 9M 10m 14m","7m 10m 11P 12d 14m","7m 10m 12d 14m 16M"],"-b6":["1P 3m 5P 6m 8P","3m 5P 8P 11P 13m","5P 8P 10m 11P 13m"],"-#5":["1P 6m 8P 10m 13m","3m 6m 8P 11P 13m","6m 8P 10m 13m 15P"],"7b9":["1P 3M 7m 9m 10M","3M 7m 8P 9m 10M","3M 7m 8P 9m 14m","7m 9m 10M 14m 15P"],"7#9":["1P 3M 7m 10m","3M 7m 10m 10M 12P","3M 7m 10m 12P 14m","7m 10M 12P 14m 17m"],"7#11":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7b5":["1P 3M 7m 9M 12d","3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"7#5":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"9#11":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9b5":["1P 7m 9M 10M 12d","3M 7m 8P 9M 12d","7m 10M 12d 15P 16M"],"9#5":["1P 7m 9M 10M 13m","3M 7m 9M 10M 13m","3M 7m 9M 13m 14m","7m 10M 13m 14m 16M","7m 10M 13m 16M 17M"],"7b13":["1P 3M 7m 10M 13m","3M 7m 8P 10M 13m","3M 7m 8P 13m 14m","7m 10M 13m 14m 15P","7m 10M 13m 14m 17M"],"7#9#5":["3M 7m 10m 10M 13m","3M 7m 10m 13m 14m","7m 10M 13m 14m 17m"],"7#9b5":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7#9#11":["3M 7m 10m 10M 12d","3M 7m 10m 12d 14m","7m 10M 12d 14m 17m"],"7b9#11":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9b5":["3M 7m 9m 10M 12d","3M 7m 9m 12d 14m","7m 8P 10M 12d 16m","7m 10M 12d 14m 16m"],"7b9#5":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7b9#9":["1P 3M 7m 9m 10m","3M 7m 10m 13m 16m","7m 10M 13m 16m 17m"],"7b9b13":["1P 7m 9m 10M 13m","3M 7m 9m 10M 13m","3M 7m 10M 13m 16m","7m 10M 13m 14m 16m","7m 10M 13m 16m 17M"],"7alt":["3M 7m 8P 10m 13m","3M 7m 9m 12d 13m","3M 7m 9m 10m 13m","3M 7m 10m 13m 14m","3M 7m 9m 12d 14m","3M 7m 10m 13m 15P","3M 7m 10m 13m 16m","7m 10M 12d 14m 16m","7m 10M 12d 13m 16m","7m 10M 13m 15P 17m","7m 10M 13m 16m 17m","7m 10M 13m 16m 19d"],"13#11":["3M 7m 9M 12d 13M","7m 10M 12d 13M 16M"],"13b9":["3M 7m 9m 10M 13M","3M 7m 10M 13M 16m","7m 10M 13M 16m 17M"],"13#9":["3M 7m 10m 10M 13M","7m 10M 13M 14m 17m"],"7b9sus":["1P 5P 7m 9m 11P","5P 7m 8P 9m 11P","7m 8P 11P 14m 16m"],"7susadd3":["1P 4P 5P 7m 10M","5P 8P 10M 11P 14m","7m 11P 12P 15P 17M"],"9sus":["1P 4P 6M 7m 9M","1P 5P 7m 9M 11P","4P 6M 7m 9M 11P","5P 8P 9M 11P 14m","7m 9M 11P 13M 15P","7m 11P 12P 14m 18P"],"13sus":["1P 4P 6M 7m 9M","1P 7m 9M 11P 13M","4P 7m 9M 11P 13M","7m 9M 11P 13M 15P","7m 11P 13M 14m 16M","7m 11P 13M 16M 18P"],"7b13sus":["1P 5P 7m 11P 13m","5P 7m 8P 11P 13m","7m 11P 13m 14m 15P"]},{dictionaryVoicing:p1,minTopNoteDiff:h1}=J$1.default||J$1,w1={m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},y1={m7:["3m 7m","7m 10m"],m9:["3m 7m","7m 10m"],7:["3M 7m","7m 10M"],"^7":["3M 7M","7M 10M"],"^9":["3M 7M","7M 10M"],69:["3M 6M"],6:["3M 6M","6M 10M"],m7b5:["3m 7m","7m 10m"],"7b9":["3M 7m","7m 10M"],"7b13":["3M 7m","7m 10M"],o7:["3m 6M","6M 10m"],"7#11":["3M 7m","7m 10M"],"7#9":["3M 7m","7m 10M"],mM7:["3m 7M","7M 10m"],m6:["3m 6M","6M 10m"]},A1={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"]},N1={"":["1P 3M 5P","3M 5P 8P","5P 8P 10M"],M:["1P 3M 5P","3M 5P 8P","5P 8P 10M"],m:["1P 3m 5P","3m 5P 8P","5P 8P 10m"],o:["1P 3m 5d","3m 5d 8P","5d 8P 10m"],aug:["1P 3m 5A","3m 5A 8P","5A 8P 10m"],m7:["3m 5P 7m 9M","7m 9M 10m 12P"],7:["3M 6M 7m 9M","7m 9M 10M 13M"],"^7":["3M 5P 7M 9M","7M 9M 10M 12P"],69:["3M 5P 6A 9M"],m7b5:["3m 5d 7m 8P","7m 8P 10m 12d"],"7b9":["3M 6m 7m 9m","7m 9m 10M 13m"],"7b13":["3M 6m 7m 9m","7m 9m 10M 13m"],o7:["1P 3m 5d 6M","5d 6M 8P 10m"],"7#11":["7m 9M 11A 13A"],"7#9":["3M 7m 9A"],mM7:["3m 5P 7M 9M","7M 9M 10m 12P"],m6:["3m 5P 6M 9M","6M 9M 10m 12P"]},y={lefthand:{dictionary:w1,range:["F3","A4"],mode:"below",anchor:"a4"},triads:{dictionary:A1,mode:"below",anchor:"a4"},guidetones:{dictionary:y1,mode:"above",anchor:"a4"},legacy:{dictionary:N1,mode:"below",anchor:"a4"}};let U="ireal";const x1=e=>U=e,S1=(e,r)=>$1(e,y[e].dictionary,r),$1=(e,r,o=["F3","A4"])=>{Object.assign(y,{[e]:{dictionary:r,range:o}})},X$1=(e,r,o={})=>{Object.assign(y,{[e]:{dictionary:r,...o}})},C1=(e,r,o)=>{const{dictionary:qe,range:bt}=y[r];return p1({chord:e,dictionary:qe,range:bt,picker:h1,lastVoicing:o})};let V;const F1=l("voicings",function(e,r){return r.fmap(o=>(V=C1(o,e,V),B$1(...V))).outerJoin()}),_1=l("rootNotes",function(e,r){return r.fmap(o=>{const qe=(o.chord||o).match(/^([a-gA-G][b#]?).*$/)[1]+e;return o.chord?{note:qe}:qe})}),z1=l("voicing",function(e){return e.fmap(r=>{r=typeof r=="string"?{chord:r}:r;let{dictionary:o=U,chord:qe,anchor:bt,offset:Nt,mode:Na,n:ld,octaves:fd,...hd}=r;o=typeof o=="string"?y[o]:{dictionary:o,mode:"below",anchor:"c5"};try{let dd=c1({...o,chord:qe,anchor:bt,offset:Nt,mode:Na,n:ld,octaves:fd});return B$1(...dd).note().set(hd)}catch{return E$1(`[voicing]: unknown chord "${qe}"`),v$3}}).outerJoin()});function v$1(e,r,o){o=Array.isArray(o)?o:[o],o.forEach(qe=>{qe[r]=qe[e]})}v$1("^","",[g,w$1]),Object.keys(g).forEach(e=>{if(e.includes("-")){let r=e.replace("-","m");v$1(e,r,[w$1,g])}if(e.includes("^")){let r=e.replace("^","M");v$1(e,r,[w$1,g])}if(e.includes("+")){let r=e.replace("+","aug");v$1(e,r,[w$1,g])}}),X$1("ireal",g),X$1("ireal-ext",w$1);function B1(){V=void 0,x1("ireal")}const J1="@strudel/tonal",strudelTonal=Object.freeze(Object.defineProperty({__proto__:null,addVoicings:$1,complex:w$1,packageName:J1,registerVoicings:X$1,resetVoicings:B1,rootNotes:_1,scale:G1,scaleTrans:k1,scaleTranspose:T1,setDefaultVoicings:x1,setVoicingRange:S1,simple:g,strans:j1,trans:I1,transpose:E1,voicing:z1,voicingAlias:v$1,voicingRegistry:y,voicings:F1},Symbol.toStringTag,{value:"Module"}));let a,t;async function u(e={}){if(a&&JSON.stringify(a)!==JSON.stringify(e)&&document.getElementById("hydra-canvas")?.remove(),a=e,!document.getElementById("hydra-canvas")){const{src:r="https://unpkg.com/hydra-synth",feedStrudel:o=!1,contextType:qe="webgl",pixelRatio:bt=1,pixelated:Nt=!0,...Na}={detectAudio:!1,...e},{canvas:ld}=Z$1("hydra-canvas",{contextType:qe,pixelRatio:bt,pixelated:Nt});if(Na.canvas=ld,await import(r),t=new Hydra(Na),o){const{canvas:fd}=Z$1();fd.style.display="none",t.synth.s0.init({src:fd})}}}function v(){t&&t.hush(),globalThis.s0?.clear(),document.getElementById("hydra-canvas")?.remove(),globalThis.speed=Qf.speed,globalThis.shape=Qf.shape}const x$1=e=>()=>d$1(e).queryArc(id(),id())[0].value,strudelHydra=Object.freeze(Object.defineProperty({__proto__:null,H:x$1,clearHydra:v,initHydra:u},Symbol.toStringTag,{value:"Module"}));var astralIdentifierCodes=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,7,9,32,4,318,1,80,3,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,68,8,2,0,3,0,2,3,2,4,2,0,15,1,83,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,7,19,58,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,343,9,54,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,10,5350,0,7,14,11465,27,2343,9,87,9,39,4,60,6,26,9,535,9,470,0,2,54,8,3,82,0,12,1,19628,1,4178,9,519,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,245,1,2,9,726,6,110,6,6,9,4759,9,787719,239],astralIdentifierStartCodes=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,4,51,13,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,39,27,10,22,251,41,7,1,17,2,60,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,31,9,2,0,3,0,2,37,2,0,26,0,2,0,45,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,200,32,32,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,26,3994,6,582,6842,29,1763,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,433,44,212,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,42,9,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,229,29,3,0,496,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],nonASCIIidentifierChars="â€Œâ€Â·Ì€-Í¯Î‡Òƒ-Ò‡Ö‘-Ö½Ö¿××‚×„×…×‡Ø-ØšÙ‹-Ù©Ù°Û–-ÛœÛŸ-Û¤Û§Û¨Ûª-Û­Û°-Û¹Ü‘Ü°-ÝŠÞ¦-Þ°ß€-ß‰ß«-ß³ß½à –-à ™à ›-à £à ¥-à §à ©-à ­à¡™-à¡›à¢—-à¢Ÿà£Š-à£¡à££-à¤ƒà¤º-à¤¼à¤¾-à¥à¥‘-à¥—à¥¢à¥£à¥¦-à¥¯à¦-à¦ƒà¦¼à¦¾-à§„à§‡à§ˆà§‹-à§à§—à§¢à§£à§¦-à§¯à§¾à¨-à¨ƒà¨¼à¨¾-à©‚à©‡à©ˆà©‹-à©à©‘à©¦-à©±à©µàª-àªƒàª¼àª¾-à«…à«‡-à«‰à«‹-à«à«¢à«£à«¦-à«¯à«º-à«¿à¬-à¬ƒà¬¼à¬¾-à­„à­‡à­ˆà­‹-à­à­•-à­—à­¢à­£à­¦-à­¯à®‚à®¾-à¯‚à¯†-à¯ˆà¯Š-à¯à¯—à¯¦-à¯¯à°€-à°„à°¼à°¾-à±„à±†-à±ˆà±Š-à±à±•à±–à±¢à±£à±¦-à±¯à²-à²ƒà²¼à²¾-à³„à³†-à³ˆà³Š-à³à³•à³–à³¢à³£à³¦-à³¯à³³à´€-à´ƒà´»à´¼à´¾-àµ„àµ†-àµˆàµŠ-àµàµ—àµ¢àµ£àµ¦-àµ¯à¶-à¶ƒà·Šà·-à·”à·–à·˜-à·Ÿà·¦-à·¯à·²à·³à¸±à¸´-à¸ºà¹‡-à¹Žà¹-à¹™àº±àº´-àº¼à»ˆ-à»Žà»-à»™à¼˜à¼™à¼ -à¼©à¼µà¼·à¼¹à¼¾à¼¿à½±-à¾„à¾†à¾‡à¾-à¾—à¾™-à¾¼à¿†á€«-á€¾á€-á‰á–-á™áž-á á¢-á¤á§-á­á±-á´á‚‚-á‚á‚-á‚á-áŸá©-á±áœ’-áœ•áœ²-áœ´á’á“á²á³áž´-áŸ“áŸáŸ -áŸ©á ‹-á á -á ™á¢©á¤ -á¤«á¤°-á¤»á¥†-á¥á§-á§šá¨—-á¨›á©•-á©žá© -á©¼á©¿-áª‰áª-áª™áª°-áª½áª¿-á«Žá¬€-á¬„á¬´-á­„á­-á­™á­«-á­³á®€-á®‚á®¡-á®­á®°-á®¹á¯¦-á¯³á°¤-á°·á±€-á±‰á±-á±™á³-á³’á³”-á³¨á³­á³´á³·-á³¹á·€-á·¿â€Œâ€â€¿â€â”âƒ-âƒœâƒ¡âƒ¥-âƒ°â³¯-â³±âµ¿â· -â·¿ã€ª-ã€¯ã‚™ã‚šãƒ»ê˜ -ê˜©ê™¯ê™´-ê™½êšžêšŸê›°ê›±ê ‚ê †ê ‹ê £-ê §ê ¬ê¢€ê¢ê¢´-ê£…ê£-ê£™ê£ -ê£±ê£¿-ê¤‰ê¤¦-ê¤­ê¥‡-ê¥“ê¦€-ê¦ƒê¦³-ê§€ê§-ê§™ê§¥ê§°-ê§¹ê¨©-ê¨¶ê©ƒê©Œê©ê©-ê©™ê©»-ê©½êª°êª²-êª´êª·êª¸êª¾êª¿ê«ê««-ê«¯ê«µê«¶ê¯£-ê¯ªê¯¬ê¯­ê¯°-ê¯¹ï¬žï¸€-ï¸ï¸ -ï¸¯ï¸³ï¸´ï¹-ï¹ï¼-ï¼™ï¼¿ï½¥",nonASCIIidentifierStartChars="ÂªÂµÂºÃ€-Ã–Ã˜-Ã¶Ã¸-ËË†-Ë‘Ë -Ë¤Ë¬Ë®Í°-Í´Í¶Í·Íº-Í½Í¿Î†Îˆ-ÎŠÎŒÎŽ-Î¡Î£-ÏµÏ·-ÒÒŠ-Ô¯Ô±-Õ–Õ™Õ -Öˆ×-×ª×¯-×²Ø -ÙŠÙ®Ù¯Ù±-Û“Û•Û¥Û¦Û®Û¯Ûº-Û¼Û¿ÜÜ’-Ü¯Ý-Þ¥Þ±ßŠ-ßªß´ßµßºà €-à •à šà ¤à ¨à¡€-à¡˜à¡ -à¡ªà¡°-à¢‡à¢‰-à¢Žà¢ -à£‰à¤„-à¤¹à¤½à¥à¥˜-à¥¡à¥±-à¦€à¦…-à¦Œà¦à¦à¦“-à¦¨à¦ª-à¦°à¦²à¦¶-à¦¹à¦½à§Žà§œà§à§Ÿ-à§¡à§°à§±à§¼à¨…-à¨Šà¨à¨à¨“-à¨¨à¨ª-à¨°à¨²à¨³à¨µà¨¶à¨¸à¨¹à©™-à©œà©žà©²-à©´àª…-àªàª-àª‘àª“-àª¨àªª-àª°àª²àª³àªµ-àª¹àª½à«à« à«¡à«¹à¬…-à¬Œà¬à¬à¬“-à¬¨à¬ª-à¬°à¬²à¬³à¬µ-à¬¹à¬½à­œà­à­Ÿ-à­¡à­±à®ƒà®…-à®Šà®Ž-à®à®’-à®•à®™à®šà®œà®žà®Ÿà®£à®¤à®¨-à®ªà®®-à®¹à¯à°…-à°Œà°Ž-à°à°’-à°¨à°ª-à°¹à°½à±˜-à±šà±à± à±¡à²€à²…-à²Œà²Ž-à²à²’-à²¨à²ª-à²³à²µ-à²¹à²½à³à³žà³ à³¡à³±à³²à´„-à´Œà´Ž-à´à´’-à´ºà´½àµŽàµ”-àµ–àµŸ-àµ¡àµº-àµ¿à¶…-à¶–à¶š-à¶±à¶³-à¶»à¶½à·€-à·†à¸-à¸°à¸²à¸³à¹€-à¹†àºàº‚àº„àº†-àºŠàºŒ-àº£àº¥àº§-àº°àº²àº³àº½à»€-à»„à»†à»œ-à»Ÿà¼€à½€-à½‡à½‰-à½¬à¾ˆ-à¾Œá€€-á€ªá€¿á-á•áš-áá¡á¥á¦á®-á°áµ-á‚á‚Žá‚ -áƒ…áƒ‡áƒáƒ-áƒºáƒ¼-á‰ˆá‰Š-á‰á‰-á‰–á‰˜á‰š-á‰á‰ -áŠˆáŠŠ-áŠáŠ-áŠ°áŠ²-áŠµáŠ¸-áŠ¾á‹€á‹‚-á‹…á‹ˆ-á‹–á‹˜-áŒáŒ’-áŒ•áŒ˜-ášáŽ€-áŽáŽ -áµá¸-á½á-á™¬á™¯-á™¿áš-áššáš -á›ªá›®-á›¸áœ€-áœ‘áœŸ-áœ±á€-á‘á -á¬á®-á°áž€-áž³áŸ—áŸœá  -á¡¸á¢€-á¢¨á¢ªá¢°-á£µá¤€-á¤žá¥-á¥­á¥°-á¥´á¦€-á¦«á¦°-á§‰á¨€-á¨–á¨ -á©”áª§á¬…-á¬³á­…-á­Œá®ƒ-á® á®®á®¯á®º-á¯¥á°€-á°£á±-á±á±š-á±½á²€-á²Šá²-á²ºá²½-á²¿á³©-á³¬á³®-á³³á³µá³¶á³ºá´€-á¶¿á¸€-á¼•á¼˜-á¼á¼ -á½…á½ˆ-á½á½-á½—á½™á½›á½á½Ÿ-á½½á¾€-á¾´á¾¶-á¾¼á¾¾á¿‚-á¿„á¿†-á¿Œá¿-á¿“á¿–-á¿›á¿ -á¿¬á¿²-á¿´á¿¶-á¿¼â±â¿â‚-â‚œâ„‚â„‡â„Š-â„“â„•â„˜-â„â„¤â„¦â„¨â„ª-â„¹â„¼-â„¿â……-â…‰â…Žâ… -â†ˆâ°€-â³¤â³«-â³®â³²â³³â´€-â´¥â´§â´­â´°-âµ§âµ¯â¶€-â¶–â¶ -â¶¦â¶¨-â¶®â¶°-â¶¶â¶¸-â¶¾â·€-â·†â·ˆ-â·Žâ·-â·–â·˜-â·žã€…-ã€‡ã€¡-ã€©ã€±-ã€µã€¸-ã€¼ã-ã‚–ã‚›-ã‚Ÿã‚¡-ãƒºãƒ¼-ãƒ¿ã„…-ã„¯ã„±-ã†Žã† -ã†¿ã‡°-ã‡¿ã€-ä¶¿ä¸€-ê’Œê“-ê“½ê”€-ê˜Œê˜-ê˜Ÿê˜ªê˜«ê™€-ê™®ê™¿-êšêš -ê›¯êœ—-êœŸêœ¢-êžˆêž‹-êŸêŸêŸ‘êŸ“êŸ•-êŸœêŸ²-ê ê ƒ-ê …ê ‡-ê Šê Œ-ê ¢ê¡€-ê¡³ê¢‚-ê¢³ê£²-ê£·ê£»ê£½ê£¾ê¤Š-ê¤¥ê¤°-ê¥†ê¥ -ê¥¼ê¦„-ê¦²ê§ê§ -ê§¤ê§¦-ê§¯ê§º-ê§¾ê¨€-ê¨¨ê©€-ê©‚ê©„-ê©‹ê© -ê©¶ê©ºê©¾-êª¯êª±êªµêª¶êª¹-êª½ê«€ê«‚ê«›-ê«ê« -ê«ªê«²-ê«´ê¬-ê¬†ê¬‰-ê¬Žê¬‘-ê¬–ê¬ -ê¬¦ê¬¨-ê¬®ê¬°-ê­šê­œ-ê­©ê­°-ê¯¢ê°€-íž£íž°-íŸ†íŸ‹-íŸ»ï¤€-ï©­ï©°-ï«™ï¬€-ï¬†ï¬“-ï¬—ï¬ï¬Ÿ-ï¬¨ï¬ª-ï¬¶ï¬¸-ï¬¼ï¬¾ï­€ï­ï­ƒï­„ï­†-ï®±ï¯“-ï´½ïµ-ï¶ï¶’-ï·‡ï·°-ï·»ï¹°-ï¹´ï¹¶-ï»¼ï¼¡-ï¼ºï½-ï½šï½¦-ï¾¾ï¿‚-ï¿‡ï¿Š-ï¿ï¿’-ï¿—ï¿š-ï¿œ",reservedWords={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},ecma5AndLessKeywords="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",keywords$1={5:ecma5AndLessKeywords,"5module":ecma5AndLessKeywords+" export import",6:ecma5AndLessKeywords+" const class extends export import super"},keywordRelationalOperator=/^in(stanceof)?$/,nonASCIIidentifierStart=new RegExp("["+nonASCIIidentifierStartChars+"]"),nonASCIIidentifier=new RegExp("["+nonASCIIidentifierStartChars+nonASCIIidentifierChars+"]");function isInAstralSet(e,r){for(var o=65536,qe=0;qe<r.length;qe+=2){if(o+=r[qe],o>e)return!1;if(o+=r[qe+1],o>=e)return!0}return!1}function isIdentifierStart(e,r){return e<65?e===36:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifierStart.test(String.fromCharCode(e)):r===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)}function isIdentifierChar(e,r){return e<48?e===36:e<58?!0:e<65?!1:e<91?!0:e<97?e===95:e<123?!0:e<=65535?e>=170&&nonASCIIidentifier.test(String.fromCharCode(e)):r===!1?!1:isInAstralSet(e,astralIdentifierStartCodes)||isInAstralSet(e,astralIdentifierCodes)}var TokenType=function(r,o){o===void 0&&(o={}),this.label=r,this.keyword=o.keyword,this.beforeExpr=!!o.beforeExpr,this.startsExpr=!!o.startsExpr,this.isLoop=!!o.isLoop,this.isAssign=!!o.isAssign,this.prefix=!!o.prefix,this.postfix=!!o.postfix,this.binop=o.binop||null,this.updateContext=null};function binop(e,r){return new TokenType(e,{beforeExpr:!0,binop:r})}var beforeExpr={beforeExpr:!0},startsExpr={startsExpr:!0},keywords={};function kw(e,r){return r===void 0&&(r={}),r.keyword=e,keywords[e]=new TokenType(e,r)}var types$1={num:new TokenType("num",startsExpr),regexp:new TokenType("regexp",startsExpr),string:new TokenType("string",startsExpr),name:new TokenType("name",startsExpr),privateId:new TokenType("privateId",startsExpr),eof:new TokenType("eof"),bracketL:new TokenType("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new TokenType("]"),braceL:new TokenType("{",{beforeExpr:!0,startsExpr:!0}),braceR:new TokenType("}"),parenL:new TokenType("(",{beforeExpr:!0,startsExpr:!0}),parenR:new TokenType(")"),comma:new TokenType(",",beforeExpr),semi:new TokenType(";",beforeExpr),colon:new TokenType(":",beforeExpr),dot:new TokenType("."),question:new TokenType("?",beforeExpr),questionDot:new TokenType("?."),arrow:new TokenType("=>",beforeExpr),template:new TokenType("template"),invalidTemplate:new TokenType("invalidTemplate"),ellipsis:new TokenType("...",beforeExpr),backQuote:new TokenType("`",startsExpr),dollarBraceL:new TokenType("${",{beforeExpr:!0,startsExpr:!0}),eq:new TokenType("=",{beforeExpr:!0,isAssign:!0}),assign:new TokenType("_=",{beforeExpr:!0,isAssign:!0}),incDec:new TokenType("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new TokenType("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:binop("||",1),logicalAND:binop("&&",2),bitwiseOR:binop("|",3),bitwiseXOR:binop("^",4),bitwiseAND:binop("&",5),equality:binop("==/!=/===/!==",6),relational:binop("</>/<=/>=",7),bitShift:binop("<</>>/>>>",8),plusMin:new TokenType("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:binop("%",10),star:binop("*",10),slash:binop("/",10),starstar:new TokenType("**",{beforeExpr:!0}),coalesce:binop("??",1),_break:kw("break"),_case:kw("case",beforeExpr),_catch:kw("catch"),_continue:kw("continue"),_debugger:kw("debugger"),_default:kw("default",beforeExpr),_do:kw("do",{isLoop:!0,beforeExpr:!0}),_else:kw("else",beforeExpr),_finally:kw("finally"),_for:kw("for",{isLoop:!0}),_function:kw("function",startsExpr),_if:kw("if"),_return:kw("return",beforeExpr),_switch:kw("switch"),_throw:kw("throw",beforeExpr),_try:kw("try"),_var:kw("var"),_const:kw("const"),_while:kw("while",{isLoop:!0}),_with:kw("with"),_new:kw("new",{beforeExpr:!0,startsExpr:!0}),_this:kw("this",startsExpr),_super:kw("super",startsExpr),_class:kw("class",startsExpr),_extends:kw("extends",beforeExpr),_export:kw("export"),_import:kw("import",startsExpr),_null:kw("null",startsExpr),_true:kw("true",startsExpr),_false:kw("false",startsExpr),_in:kw("in",{beforeExpr:!0,binop:7}),_instanceof:kw("instanceof",{beforeExpr:!0,binop:7}),_typeof:kw("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:kw("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:kw("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},lineBreak=/\r\n?|\n|\u2028|\u2029/,lineBreakG=new RegExp(lineBreak.source,"g");function isNewLine(e){return e===10||e===13||e===8232||e===8233}function nextLineBreak(e,r,o){o===void 0&&(o=e.length);for(var qe=r;qe<o;qe++){var bt=e.charCodeAt(qe);if(isNewLine(bt))return qe<o-1&&bt===13&&e.charCodeAt(qe+1)===10?qe+2:qe+1}return-1}var nonASCIIwhitespace=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,skipWhiteSpace=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,ref=Object.prototype,hasOwnProperty=ref.hasOwnProperty,toString=ref.toString,hasOwn=Object.hasOwn||(function(e,r){return hasOwnProperty.call(e,r)}),isArray=Array.isArray||(function(e){return toString.call(e)==="[object Array]"}),regexpCache=Object.create(null);function wordsRegexp(e){return regexpCache[e]||(regexpCache[e]=new RegExp("^(?:"+e.replace(/ /g,"|")+")$"))}function codePointToString(e){return e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10)+55296,(e&1023)+56320))}var loneSurrogate=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,Position=function(r,o){this.line=r,this.column=o};Position.prototype.offset=function(r){return new Position(this.line,this.column+r)};var SourceLocation=function(r,o,qe){this.start=o,this.end=qe,r.sourceFile!==null&&(this.source=r.sourceFile)};function getLineInfo(e,r){for(var o=1,qe=0;;){var bt=nextLineBreak(e,qe,r);if(bt<0)return new Position(o,r-qe);++o,qe=bt}}var defaultOptions={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},warnedAboutEcmaVersion=!1;function getOptions(e){var r={};for(var o in defaultOptions)r[o]=e&&hasOwn(e,o)?e[o]:defaultOptions[o];if(r.ecmaVersion==="latest"?r.ecmaVersion=1e8:r.ecmaVersion==null?(!warnedAboutEcmaVersion&&typeof console=="object"&&console.warn&&(warnedAboutEcmaVersion=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),r.ecmaVersion=11):r.ecmaVersion>=2015&&(r.ecmaVersion-=2009),r.allowReserved==null&&(r.allowReserved=r.ecmaVersion<5),(!e||e.allowHashBang==null)&&(r.allowHashBang=r.ecmaVersion>=14),isArray(r.onToken)){var qe=r.onToken;r.onToken=function(bt){return qe.push(bt)}}return isArray(r.onComment)&&(r.onComment=pushComment(r,r.onComment)),r}function pushComment(e,r){return function(o,qe,bt,Nt,Na,ld){var fd={type:o?"Block":"Line",value:qe,start:bt,end:Nt};e.locations&&(fd.loc=new SourceLocation(this,Na,ld)),e.ranges&&(fd.range=[bt,Nt]),r.push(fd)}}var SCOPE_TOP=1,SCOPE_FUNCTION=2,SCOPE_ASYNC=4,SCOPE_GENERATOR=8,SCOPE_ARROW=16,SCOPE_SIMPLE_CATCH=32,SCOPE_SUPER=64,SCOPE_DIRECT_SUPER=128,SCOPE_CLASS_STATIC_BLOCK=256,SCOPE_CLASS_FIELD_INIT=512,SCOPE_VAR=SCOPE_TOP|SCOPE_FUNCTION|SCOPE_CLASS_STATIC_BLOCK;function functionFlags(e,r){return SCOPE_FUNCTION|(e?SCOPE_ASYNC:0)|(r?SCOPE_GENERATOR:0)}var BIND_NONE=0,BIND_VAR=1,BIND_LEXICAL=2,BIND_FUNCTION=3,BIND_SIMPLE_CATCH=4,BIND_OUTSIDE=5,Parser=function(r,o,qe){this.options=r=getOptions(r),this.sourceFile=r.sourceFile,this.keywords=wordsRegexp(keywords$1[r.ecmaVersion>=6?6:r.sourceType==="module"?"5module":5]);var bt="";r.allowReserved!==!0&&(bt=reservedWords[r.ecmaVersion>=6?6:r.ecmaVersion===5?5:3],r.sourceType==="module"&&(bt+=" await")),this.reservedWords=wordsRegexp(bt);var Nt=(bt?bt+" ":"")+reservedWords.strict;this.reservedWordsStrict=wordsRegexp(Nt),this.reservedWordsStrictBind=wordsRegexp(Nt+" "+reservedWords.strictBind),this.input=String(o),this.containsEsc=!1,qe?(this.pos=qe,this.lineStart=this.input.lastIndexOf(`
`,qe-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(lineBreak).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=types$1.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=r.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&r.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(SCOPE_TOP),this.regexpState=null,this.privateNameStack=[]},prototypeAccessors={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Parser.prototype.parse=function(){var r=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(r)},prototypeAccessors.inFunction.get=function(){return(this.currentVarScope().flags&SCOPE_FUNCTION)>0},prototypeAccessors.inGenerator.get=function(){return(this.currentVarScope().flags&SCOPE_GENERATOR)>0},prototypeAccessors.inAsync.get=function(){return(this.currentVarScope().flags&SCOPE_ASYNC)>0},prototypeAccessors.canAwait.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var r=this.scopeStack[e],o=r.flags;if(o&(SCOPE_CLASS_STATIC_BLOCK|SCOPE_CLASS_FIELD_INIT))return!1;if(o&SCOPE_FUNCTION)return(o&SCOPE_ASYNC)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction},prototypeAccessors.allowSuper.get=function(){var e=this.currentThisScope(),r=e.flags;return(r&SCOPE_SUPER)>0||this.options.allowSuperOutsideMethod},prototypeAccessors.allowDirectSuper.get=function(){return(this.currentThisScope().flags&SCOPE_DIRECT_SUPER)>0},prototypeAccessors.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())},prototypeAccessors.allowNewDotTarget.get=function(){for(var e=this.scopeStack.length-1;e>=0;e--){var r=this.scopeStack[e],o=r.flags;if(o&(SCOPE_CLASS_STATIC_BLOCK|SCOPE_CLASS_FIELD_INIT)||o&SCOPE_FUNCTION&&!(o&SCOPE_ARROW))return!0}return!1},prototypeAccessors.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&SCOPE_CLASS_STATIC_BLOCK)>0},Parser.extend=function(){for(var r=[],o=arguments.length;o--;)r[o]=arguments[o];for(var qe=this,bt=0;bt<r.length;bt++)qe=r[bt](qe);return qe},Parser.parse=function(r,o){return new this(o,r).parse()},Parser.parseExpressionAt=function(r,o,qe){var bt=new this(qe,r,o);return bt.nextToken(),bt.parseExpression()},Parser.tokenizer=function(r,o){return new this(o,r)},Object.defineProperties(Parser.prototype,prototypeAccessors);var pp$9=Parser.prototype,literal=/^(?:'((?:\\[^]|[^'\\])*?)'|"((?:\\[^]|[^"\\])*?)")/;pp$9.strictDirective=function(e){if(this.options.ecmaVersion<5)return!1;for(;;){skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length;var r=literal.exec(this.input.slice(e));if(!r)return!1;if((r[1]||r[2])==="use strict"){skipWhiteSpace.lastIndex=e+r[0].length;var o=skipWhiteSpace.exec(this.input),qe=o.index+o[0].length,bt=this.input.charAt(qe);return bt===";"||bt==="}"||lineBreak.test(o[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(bt)||bt==="!"&&this.input.charAt(qe+1)==="=")}e+=r[0].length,skipWhiteSpace.lastIndex=e,e+=skipWhiteSpace.exec(this.input)[0].length,this.input[e]===";"&&e++}},pp$9.eat=function(e){return this.type===e?(this.next(),!0):!1},pp$9.isContextual=function(e){return this.type===types$1.name&&this.value===e&&!this.containsEsc},pp$9.eatContextual=function(e){return this.isContextual(e)?(this.next(),!0):!1},pp$9.expectContextual=function(e){this.eatContextual(e)||this.unexpected()},pp$9.canInsertSemicolon=function(){return this.type===types$1.eof||this.type===types$1.braceR||lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp$9.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0},pp$9.semicolon=function(){!this.eat(types$1.semi)&&!this.insertSemicolon()&&this.unexpected()},pp$9.afterTrailingComma=function(e,r){if(this.type===e)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),r||this.next(),!0},pp$9.expect=function(e){this.eat(e)||this.unexpected()},pp$9.unexpected=function(e){this.raise(e??this.start,"Unexpected token")};var DestructuringErrors=function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1};pp$9.checkPatternErrors=function(e,r){if(e){e.trailingComma>-1&&this.raiseRecoverable(e.trailingComma,"Comma is not permitted after the rest element");var o=r?e.parenthesizedAssign:e.parenthesizedBind;o>-1&&this.raiseRecoverable(o,r?"Assigning to rvalue":"Parenthesized pattern")}},pp$9.checkExpressionErrors=function(e,r){if(!e)return!1;var o=e.shorthandAssign,qe=e.doubleProto;if(!r)return o>=0||qe>=0;o>=0&&this.raise(o,"Shorthand property assignments are valid only in destructuring patterns"),qe>=0&&this.raiseRecoverable(qe,"Redefinition of __proto__ property")},pp$9.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")},pp$9.isSimpleAssignTarget=function(e){return e.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(e.expression):e.type==="Identifier"||e.type==="MemberExpression"};var pp$8=Parser.prototype;pp$8.parseTopLevel=function(e){var r=Object.create(null);for(e.body||(e.body=[]);this.type!==types$1.eof;){var o=this.parseStatement(null,!0,r);e.body.push(o)}if(this.inModule)for(var qe=0,bt=Object.keys(this.undefinedExports);qe<bt.length;qe+=1){var Nt=bt[qe];this.raiseRecoverable(this.undefinedExports[Nt].start,"Export '"+Nt+"' is not defined")}return this.adaptDirectivePrologue(e.body),this.next(),e.sourceType=this.options.sourceType,this.finishNode(e,"Program")};var loopLabel={kind:"loop"},switchLabel={kind:"switch"};pp$8.isLet=function(e){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;skipWhiteSpace.lastIndex=this.pos;var r=skipWhiteSpace.exec(this.input),o=this.pos+r[0].length,qe=this.input.charCodeAt(o);if(qe===91||qe===92)return!0;if(e)return!1;if(qe===123||qe>55295&&qe<56320)return!0;if(isIdentifierStart(qe,!0)){for(var bt=o+1;isIdentifierChar(qe=this.input.charCodeAt(bt),!0);)++bt;if(qe===92||qe>55295&&qe<56320)return!0;var Nt=this.input.slice(o,bt);if(!keywordRelationalOperator.test(Nt))return!0}return!1},pp$8.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;skipWhiteSpace.lastIndex=this.pos;var e=skipWhiteSpace.exec(this.input),r=this.pos+e[0].length,o;return!lineBreak.test(this.input.slice(this.pos,r))&&this.input.slice(r,r+8)==="function"&&(r+8===this.input.length||!(isIdentifierChar(o=this.input.charCodeAt(r+8))||o>55295&&o<56320))},pp$8.isUsingKeyword=function(e,r){if(this.options.ecmaVersion<17||!this.isContextual(e?"await":"using"))return!1;skipWhiteSpace.lastIndex=this.pos;var o=skipWhiteSpace.exec(this.input),qe=this.pos+o[0].length;if(lineBreak.test(this.input.slice(this.pos,qe)))return!1;if(e){var bt=qe+5,Nt;if(this.input.slice(qe,bt)!=="using"||bt===this.input.length||isIdentifierChar(Nt=this.input.charCodeAt(bt))||Nt>55295&&Nt<56320)return!1;skipWhiteSpace.lastIndex=bt;var Na=skipWhiteSpace.exec(this.input);if(Na&&lineBreak.test(this.input.slice(bt,bt+Na[0].length)))return!1}if(r){var ld=qe+2,fd;if(this.input.slice(qe,ld)==="of"&&(ld===this.input.length||!isIdentifierChar(fd=this.input.charCodeAt(ld))&&!(fd>55295&&fd<56320)))return!1}var hd=this.input.charCodeAt(qe);return isIdentifierStart(hd,!0)||hd===92},pp$8.isAwaitUsing=function(e){return this.isUsingKeyword(!0,e)},pp$8.isUsing=function(e){return this.isUsingKeyword(!1,e)},pp$8.parseStatement=function(e,r,o){var qe=this.type,bt=this.startNode(),Nt;switch(this.isLet(e)&&(qe=types$1._var,Nt="let"),qe){case types$1._break:case types$1._continue:return this.parseBreakContinueStatement(bt,qe.keyword);case types$1._debugger:return this.parseDebuggerStatement(bt);case types$1._do:return this.parseDoStatement(bt);case types$1._for:return this.parseForStatement(bt);case types$1._function:return e&&(this.strict||e!=="if"&&e!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(bt,!1,!e);case types$1._class:return e&&this.unexpected(),this.parseClass(bt,!0);case types$1._if:return this.parseIfStatement(bt);case types$1._return:return this.parseReturnStatement(bt);case types$1._switch:return this.parseSwitchStatement(bt);case types$1._throw:return this.parseThrowStatement(bt);case types$1._try:return this.parseTryStatement(bt);case types$1._const:case types$1._var:return Nt=Nt||this.value,e&&Nt!=="var"&&this.unexpected(),this.parseVarStatement(bt,Nt);case types$1._while:return this.parseWhileStatement(bt);case types$1._with:return this.parseWithStatement(bt);case types$1.braceL:return this.parseBlock(!0,bt);case types$1.semi:return this.parseEmptyStatement(bt);case types$1._export:case types$1._import:if(this.options.ecmaVersion>10&&qe===types$1._import){skipWhiteSpace.lastIndex=this.pos;var Na=skipWhiteSpace.exec(this.input),ld=this.pos+Na[0].length,fd=this.input.charCodeAt(ld);if(fd===40||fd===46)return this.parseExpressionStatement(bt,this.parseExpression())}return this.options.allowImportExportEverywhere||(r||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),qe===types$1._import?this.parseImport(bt):this.parseExport(bt,o);default:if(this.isAsyncFunction())return e&&this.unexpected(),this.next(),this.parseFunctionStatement(bt,!0,!e);var hd=this.isAwaitUsing(!1)?"await using":this.isUsing(!1)?"using":null;if(hd)return r&&this.options.sourceType==="script"&&this.raise(this.start,"Using declaration cannot appear in the top level when source type is `script`"),hd==="await using"&&(this.canAwait||this.raise(this.start,"Await using cannot appear outside of async function"),this.next()),this.next(),this.parseVar(bt,!1,hd),this.semicolon(),this.finishNode(bt,"VariableDeclaration");var dd=this.value,gd=this.parseExpression();return qe===types$1.name&&gd.type==="Identifier"&&this.eat(types$1.colon)?this.parseLabeledStatement(bt,dd,gd,e):this.parseExpressionStatement(bt,gd)}},pp$8.parseBreakContinueStatement=function(e,r){var o=r==="break";this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.label=null:this.type!==types$1.name?this.unexpected():(e.label=this.parseIdent(),this.semicolon());for(var qe=0;qe<this.labels.length;++qe){var bt=this.labels[qe];if((e.label==null||bt.name===e.label.name)&&(bt.kind!=null&&(o||bt.kind==="loop")||e.label&&o))break}return qe===this.labels.length&&this.raise(e.start,"Unsyntactic "+r),this.finishNode(e,o?"BreakStatement":"ContinueStatement")},pp$8.parseDebuggerStatement=function(e){return this.next(),this.semicolon(),this.finishNode(e,"DebuggerStatement")},pp$8.parseDoStatement=function(e){return this.next(),this.labels.push(loopLabel),e.body=this.parseStatement("do"),this.labels.pop(),this.expect(types$1._while),e.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(types$1.semi):this.semicolon(),this.finishNode(e,"DoWhileStatement")},pp$8.parseForStatement=function(e){this.next();var r=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(loopLabel),this.enterScope(0),this.expect(types$1.parenL),this.type===types$1.semi)return r>-1&&this.unexpected(r),this.parseFor(e,null);var o=this.isLet();if(this.type===types$1._var||this.type===types$1._const||o){var qe=this.startNode(),bt=o?"let":this.value;return this.next(),this.parseVar(qe,!0,bt),this.finishNode(qe,"VariableDeclaration"),this.parseForAfterInit(e,qe,r)}var Nt=this.isContextual("let"),Na=!1,ld=this.isUsing(!0)?"using":this.isAwaitUsing(!0)?"await using":null;if(ld){var fd=this.startNode();return this.next(),ld==="await using"&&this.next(),this.parseVar(fd,!0,ld),this.finishNode(fd,"VariableDeclaration"),this.parseForAfterInit(e,fd,r)}var hd=this.containsEsc,dd=new DestructuringErrors,gd=this.start,yd=r>-1?this.parseExprSubscripts(dd,"await"):this.parseExpression(!0,dd);return this.type===types$1._in||(Na=this.options.ecmaVersion>=6&&this.isContextual("of"))?(r>-1?(this.type===types$1._in&&this.unexpected(r),e.await=!0):Na&&this.options.ecmaVersion>=8&&(yd.start===gd&&!hd&&yd.type==="Identifier"&&yd.name==="async"?this.unexpected():this.options.ecmaVersion>=9&&(e.await=!1)),Nt&&Na&&this.raise(yd.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(yd,!1,dd),this.checkLValPattern(yd),this.parseForIn(e,yd)):(this.checkExpressionErrors(dd,!0),r>-1&&this.unexpected(r),this.parseFor(e,yd))},pp$8.parseForAfterInit=function(e,r,o){return(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&r.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===types$1._in?o>-1&&this.unexpected(o):e.await=o>-1),this.parseForIn(e,r)):(o>-1&&this.unexpected(o),this.parseFor(e,r))},pp$8.parseFunctionStatement=function(e,r,o){return this.next(),this.parseFunction(e,FUNC_STATEMENT|(o?0:FUNC_HANGING_STATEMENT),!1,r)},pp$8.parseIfStatement=function(e){return this.next(),e.test=this.parseParenExpression(),e.consequent=this.parseStatement("if"),e.alternate=this.eat(types$1._else)?this.parseStatement("if"):null,this.finishNode(e,"IfStatement")},pp$8.parseReturnStatement=function(e){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(types$1.semi)||this.insertSemicolon()?e.argument=null:(e.argument=this.parseExpression(),this.semicolon()),this.finishNode(e,"ReturnStatement")},pp$8.parseSwitchStatement=function(e){this.next(),e.discriminant=this.parseParenExpression(),e.cases=[],this.expect(types$1.braceL),this.labels.push(switchLabel),this.enterScope(0);for(var r,o=!1;this.type!==types$1.braceR;)if(this.type===types$1._case||this.type===types$1._default){var qe=this.type===types$1._case;r&&this.finishNode(r,"SwitchCase"),e.cases.push(r=this.startNode()),r.consequent=[],this.next(),qe?r.test=this.parseExpression():(o&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),o=!0,r.test=null),this.expect(types$1.colon)}else r||this.unexpected(),r.consequent.push(this.parseStatement(null));return this.exitScope(),r&&this.finishNode(r,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(e,"SwitchStatement")},pp$8.parseThrowStatement=function(e){return this.next(),lineBreak.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),e.argument=this.parseExpression(),this.semicolon(),this.finishNode(e,"ThrowStatement")};var empty$1=[];pp$8.parseCatchClauseParam=function(){var e=this.parseBindingAtom(),r=e.type==="Identifier";return this.enterScope(r?SCOPE_SIMPLE_CATCH:0),this.checkLValPattern(e,r?BIND_SIMPLE_CATCH:BIND_LEXICAL),this.expect(types$1.parenR),e},pp$8.parseTryStatement=function(e){if(this.next(),e.block=this.parseBlock(),e.handler=null,this.type===types$1._catch){var r=this.startNode();this.next(),this.eat(types$1.parenL)?r.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),r.param=null,this.enterScope(0)),r.body=this.parseBlock(!1),this.exitScope(),e.handler=this.finishNode(r,"CatchClause")}return e.finalizer=this.eat(types$1._finally)?this.parseBlock():null,!e.handler&&!e.finalizer&&this.raise(e.start,"Missing catch or finally clause"),this.finishNode(e,"TryStatement")},pp$8.parseVarStatement=function(e,r,o){return this.next(),this.parseVar(e,!1,r,o),this.semicolon(),this.finishNode(e,"VariableDeclaration")},pp$8.parseWhileStatement=function(e){return this.next(),e.test=this.parseParenExpression(),this.labels.push(loopLabel),e.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(e,"WhileStatement")},pp$8.parseWithStatement=function(e){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),e.object=this.parseParenExpression(),e.body=this.parseStatement("with"),this.finishNode(e,"WithStatement")},pp$8.parseEmptyStatement=function(e){return this.next(),this.finishNode(e,"EmptyStatement")},pp$8.parseLabeledStatement=function(e,r,o,qe){for(var bt=0,Nt=this.labels;bt<Nt.length;bt+=1){var Na=Nt[bt];Na.name===r&&this.raise(o.start,"Label '"+r+"' is already declared")}for(var ld=this.type.isLoop?"loop":this.type===types$1._switch?"switch":null,fd=this.labels.length-1;fd>=0;fd--){var hd=this.labels[fd];if(hd.statementStart===e.start)hd.statementStart=this.start,hd.kind=ld;else break}return this.labels.push({name:r,kind:ld,statementStart:this.start}),e.body=this.parseStatement(qe?qe.indexOf("label")===-1?qe+"label":qe:"label"),this.labels.pop(),e.label=o,this.finishNode(e,"LabeledStatement")},pp$8.parseExpressionStatement=function(e,r){return e.expression=r,this.semicolon(),this.finishNode(e,"ExpressionStatement")},pp$8.parseBlock=function(e,r,o){for(e===void 0&&(e=!0),r===void 0&&(r=this.startNode()),r.body=[],this.expect(types$1.braceL),e&&this.enterScope(0);this.type!==types$1.braceR;){var qe=this.parseStatement(null);r.body.push(qe)}return o&&(this.strict=!1),this.next(),e&&this.exitScope(),this.finishNode(r,"BlockStatement")},pp$8.parseFor=function(e,r){return e.init=r,this.expect(types$1.semi),e.test=this.type===types$1.semi?null:this.parseExpression(),this.expect(types$1.semi),e.update=this.type===types$1.parenR?null:this.parseExpression(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,"ForStatement")},pp$8.parseForIn=function(e,r){var o=this.type===types$1._in;return this.next(),r.type==="VariableDeclaration"&&r.declarations[0].init!=null&&(!o||this.options.ecmaVersion<8||this.strict||r.kind!=="var"||r.declarations[0].id.type!=="Identifier")&&this.raise(r.start,(o?"for-in":"for-of")+" loop variable declaration may not have an initializer"),e.left=r,e.right=o?this.parseExpression():this.parseMaybeAssign(),this.expect(types$1.parenR),e.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(e,o?"ForInStatement":"ForOfStatement")},pp$8.parseVar=function(e,r,o,qe){for(e.declarations=[],e.kind=o;;){var bt=this.startNode();if(this.parseVarId(bt,o),this.eat(types$1.eq)?bt.init=this.parseMaybeAssign(r):!qe&&o==="const"&&!(this.type===types$1._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!qe&&(o==="using"||o==="await using")&&this.options.ecmaVersion>=17&&this.type!==types$1._in&&!this.isContextual("of")?this.raise(this.lastTokEnd,"Missing initializer in "+o+" declaration"):!qe&&bt.id.type!=="Identifier"&&!(r&&(this.type===types$1._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):bt.init=null,e.declarations.push(this.finishNode(bt,"VariableDeclarator")),!this.eat(types$1.comma))break}return e},pp$8.parseVarId=function(e,r){e.id=r==="using"||r==="await using"?this.parseIdent():this.parseBindingAtom(),this.checkLValPattern(e.id,r==="var"?BIND_VAR:BIND_LEXICAL,!1)};var FUNC_STATEMENT=1,FUNC_HANGING_STATEMENT=2,FUNC_NULLABLE_ID=4;pp$8.parseFunction=function(e,r,o,qe,bt){this.initFunction(e),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!qe)&&(this.type===types$1.star&&r&FUNC_HANGING_STATEMENT&&this.unexpected(),e.generator=this.eat(types$1.star)),this.options.ecmaVersion>=8&&(e.async=!!qe),r&FUNC_STATEMENT&&(e.id=r&FUNC_NULLABLE_ID&&this.type!==types$1.name?null:this.parseIdent(),e.id&&!(r&FUNC_HANGING_STATEMENT)&&this.checkLValSimple(e.id,this.strict||e.generator||e.async?this.treatFunctionsAsVar?BIND_VAR:BIND_LEXICAL:BIND_FUNCTION));var Nt=this.yieldPos,Na=this.awaitPos,ld=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(e.async,e.generator)),r&FUNC_STATEMENT||(e.id=this.type===types$1.name?this.parseIdent():null),this.parseFunctionParams(e),this.parseFunctionBody(e,o,!1,bt),this.yieldPos=Nt,this.awaitPos=Na,this.awaitIdentPos=ld,this.finishNode(e,r&FUNC_STATEMENT?"FunctionDeclaration":"FunctionExpression")},pp$8.parseFunctionParams=function(e){this.expect(types$1.parenL),e.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()},pp$8.parseClass=function(e,r){this.next();var o=this.strict;this.strict=!0,this.parseClassId(e,r),this.parseClassSuper(e);var qe=this.enterClassBody(),bt=this.startNode(),Nt=!1;for(bt.body=[],this.expect(types$1.braceL);this.type!==types$1.braceR;){var Na=this.parseClassElement(e.superClass!==null);Na&&(bt.body.push(Na),Na.type==="MethodDefinition"&&Na.kind==="constructor"?(Nt&&this.raiseRecoverable(Na.start,"Duplicate constructor in the same class"),Nt=!0):Na.key&&Na.key.type==="PrivateIdentifier"&&isPrivateNameConflicted(qe,Na)&&this.raiseRecoverable(Na.key.start,"Identifier '#"+Na.key.name+"' has already been declared"))}return this.strict=o,this.next(),e.body=this.finishNode(bt,"ClassBody"),this.exitClassBody(),this.finishNode(e,r?"ClassDeclaration":"ClassExpression")},pp$8.parseClassElement=function(e){if(this.eat(types$1.semi))return null;var r=this.options.ecmaVersion,o=this.startNode(),qe="",bt=!1,Nt=!1,Na="method",ld=!1;if(this.eatContextual("static")){if(r>=13&&this.eat(types$1.braceL))return this.parseClassStaticBlock(o),o;this.isClassElementNameStart()||this.type===types$1.star?ld=!0:qe="static"}if(o.static=ld,!qe&&r>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===types$1.star)&&!this.canInsertSemicolon()?Nt=!0:qe="async"),!qe&&(r>=9||!Nt)&&this.eat(types$1.star)&&(bt=!0),!qe&&!Nt&&!bt){var fd=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?Na=fd:qe=fd)}if(qe?(o.computed=!1,o.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),o.key.name=qe,this.finishNode(o.key,"Identifier")):this.parseClassElementName(o),r<13||this.type===types$1.parenL||Na!=="method"||bt||Nt){var hd=!o.static&&checkKeyName(o,"constructor"),dd=hd&&e;hd&&Na!=="method"&&this.raise(o.key.start,"Constructor can't have get/set modifier"),o.kind=hd?"constructor":Na,this.parseClassMethod(o,bt,Nt,dd)}else this.parseClassField(o);return o},pp$8.isClassElementNameStart=function(){return this.type===types$1.name||this.type===types$1.privateId||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword},pp$8.parseClassElementName=function(e){this.type===types$1.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),e.computed=!1,e.key=this.parsePrivateIdent()):this.parsePropertyName(e)},pp$8.parseClassMethod=function(e,r,o,qe){var bt=e.key;e.kind==="constructor"?(r&&this.raise(bt.start,"Constructor can't be a generator"),o&&this.raise(bt.start,"Constructor can't be an async method")):e.static&&checkKeyName(e,"prototype")&&this.raise(bt.start,"Classes may not have a static property named prototype");var Nt=e.value=this.parseMethod(r,o,qe);return e.kind==="get"&&Nt.params.length!==0&&this.raiseRecoverable(Nt.start,"getter should have no params"),e.kind==="set"&&Nt.params.length!==1&&this.raiseRecoverable(Nt.start,"setter should have exactly one param"),e.kind==="set"&&Nt.params[0].type==="RestElement"&&this.raiseRecoverable(Nt.params[0].start,"Setter cannot use rest params"),this.finishNode(e,"MethodDefinition")},pp$8.parseClassField=function(e){return checkKeyName(e,"constructor")?this.raise(e.key.start,"Classes can't have a field named 'constructor'"):e.static&&checkKeyName(e,"prototype")&&this.raise(e.key.start,"Classes can't have a static field named 'prototype'"),this.eat(types$1.eq)?(this.enterScope(SCOPE_CLASS_FIELD_INIT|SCOPE_SUPER),e.value=this.parseMaybeAssign(),this.exitScope()):e.value=null,this.semicolon(),this.finishNode(e,"PropertyDefinition")},pp$8.parseClassStaticBlock=function(e){e.body=[];var r=this.labels;for(this.labels=[],this.enterScope(SCOPE_CLASS_STATIC_BLOCK|SCOPE_SUPER);this.type!==types$1.braceR;){var o=this.parseStatement(null);e.body.push(o)}return this.next(),this.exitScope(),this.labels=r,this.finishNode(e,"StaticBlock")},pp$8.parseClassId=function(e,r){this.type===types$1.name?(e.id=this.parseIdent(),r&&this.checkLValSimple(e.id,BIND_LEXICAL,!1)):(r===!0&&this.unexpected(),e.id=null)},pp$8.parseClassSuper=function(e){e.superClass=this.eat(types$1._extends)?this.parseExprSubscripts(null,!1):null},pp$8.enterClassBody=function(){var e={declared:Object.create(null),used:[]};return this.privateNameStack.push(e),e.declared},pp$8.exitClassBody=function(){var e=this.privateNameStack.pop(),r=e.declared,o=e.used;if(this.options.checkPrivateFields)for(var qe=this.privateNameStack.length,bt=qe===0?null:this.privateNameStack[qe-1],Nt=0;Nt<o.length;++Nt){var Na=o[Nt];hasOwn(r,Na.name)||(bt?bt.used.push(Na):this.raiseRecoverable(Na.start,"Private field '#"+Na.name+"' must be declared in an enclosing class"))}};function isPrivateNameConflicted(e,r){var o=r.key.name,qe=e[o],bt="true";return r.type==="MethodDefinition"&&(r.kind==="get"||r.kind==="set")&&(bt=(r.static?"s":"i")+r.kind),qe==="iget"&&bt==="iset"||qe==="iset"&&bt==="iget"||qe==="sget"&&bt==="sset"||qe==="sset"&&bt==="sget"?(e[o]="true",!1):qe?!0:(e[o]=bt,!1)}function checkKeyName(e,r){var o=e.computed,qe=e.key;return!o&&(qe.type==="Identifier"&&qe.name===r||qe.type==="Literal"&&qe.value===r)}pp$8.parseExportAllDeclaration=function(e,r){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(e.exported=this.parseModuleExportName(),this.checkExport(r,e.exported,this.lastTokStart)):e.exported=null),this.expectContextual("from"),this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ExportAllDeclaration")},pp$8.parseExport=function(e,r){if(this.next(),this.eat(types$1.star))return this.parseExportAllDeclaration(e,r);if(this.eat(types$1._default))return this.checkExport(r,"default",this.lastTokStart),e.declaration=this.parseExportDefaultDeclaration(),this.finishNode(e,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())e.declaration=this.parseExportDeclaration(e),e.declaration.type==="VariableDeclaration"?this.checkVariableExport(r,e.declaration.declarations):this.checkExport(r,e.declaration.id,e.declaration.id.start),e.specifiers=[],e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[]);else{if(e.declaration=null,e.specifiers=this.parseExportSpecifiers(r),this.eatContextual("from"))this.type!==types$1.string&&this.unexpected(),e.source=this.parseExprAtom(),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause());else{for(var o=0,qe=e.specifiers;o<qe.length;o+=1){var bt=qe[o];this.checkUnreserved(bt.local),this.checkLocalExport(bt.local),bt.local.type==="Literal"&&this.raise(bt.local.start,"A string literal cannot be used as an exported binding without `from`.")}e.source=null,this.options.ecmaVersion>=16&&(e.attributes=[])}this.semicolon()}return this.finishNode(e,"ExportNamedDeclaration")},pp$8.parseExportDeclaration=function(e){return this.parseStatement(null)},pp$8.parseExportDefaultDeclaration=function(){var e;if(this.type===types$1._function||(e=this.isAsyncFunction())){var r=this.startNode();return this.next(),e&&this.next(),this.parseFunction(r,FUNC_STATEMENT|FUNC_NULLABLE_ID,!1,e)}else if(this.type===types$1._class){var o=this.startNode();return this.parseClass(o,"nullableID")}else{var qe=this.parseMaybeAssign();return this.semicolon(),qe}},pp$8.checkExport=function(e,r,o){e&&(typeof r!="string"&&(r=r.type==="Identifier"?r.name:r.value),hasOwn(e,r)&&this.raiseRecoverable(o,"Duplicate export '"+r+"'"),e[r]=!0)},pp$8.checkPatternExport=function(e,r){var o=r.type;if(o==="Identifier")this.checkExport(e,r,r.start);else if(o==="ObjectPattern")for(var qe=0,bt=r.properties;qe<bt.length;qe+=1){var Nt=bt[qe];this.checkPatternExport(e,Nt)}else if(o==="ArrayPattern")for(var Na=0,ld=r.elements;Na<ld.length;Na+=1){var fd=ld[Na];fd&&this.checkPatternExport(e,fd)}else o==="Property"?this.checkPatternExport(e,r.value):o==="AssignmentPattern"?this.checkPatternExport(e,r.left):o==="RestElement"&&this.checkPatternExport(e,r.argument)},pp$8.checkVariableExport=function(e,r){if(e)for(var o=0,qe=r;o<qe.length;o+=1){var bt=qe[o];this.checkPatternExport(e,bt.id)}},pp$8.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()},pp$8.parseExportSpecifier=function(e){var r=this.startNode();return r.local=this.parseModuleExportName(),r.exported=this.eatContextual("as")?this.parseModuleExportName():r.local,this.checkExport(e,r.exported,r.exported.start),this.finishNode(r,"ExportSpecifier")},pp$8.parseExportSpecifiers=function(e){var r=[],o=!0;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;r.push(this.parseExportSpecifier(e))}return r},pp$8.parseImport=function(e){return this.next(),this.type===types$1.string?(e.specifiers=empty$1,e.source=this.parseExprAtom()):(e.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),e.source=this.type===types$1.string?this.parseExprAtom():this.unexpected()),this.options.ecmaVersion>=16&&(e.attributes=this.parseWithClause()),this.semicolon(),this.finishNode(e,"ImportDeclaration")},pp$8.parseImportSpecifier=function(){var e=this.startNode();return e.imported=this.parseModuleExportName(),this.eatContextual("as")?e.local=this.parseIdent():(this.checkUnreserved(e.imported),e.local=e.imported),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportSpecifier")},pp$8.parseImportDefaultSpecifier=function(){var e=this.startNode();return e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportDefaultSpecifier")},pp$8.parseImportNamespaceSpecifier=function(){var e=this.startNode();return this.next(),this.expectContextual("as"),e.local=this.parseIdent(),this.checkLValSimple(e.local,BIND_LEXICAL),this.finishNode(e,"ImportNamespaceSpecifier")},pp$8.parseImportSpecifiers=function(){var e=[],r=!0;if(this.type===types$1.name&&(e.push(this.parseImportDefaultSpecifier()),!this.eat(types$1.comma)))return e;if(this.type===types$1.star)return e.push(this.parseImportNamespaceSpecifier()),e;for(this.expect(types$1.braceL);!this.eat(types$1.braceR);){if(r)r=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;e.push(this.parseImportSpecifier())}return e},pp$8.parseWithClause=function(){var e=[];if(!this.eat(types$1._with))return e;this.expect(types$1.braceL);for(var r={},o=!0;!this.eat(types$1.braceR);){if(o)o=!1;else if(this.expect(types$1.comma),this.afterTrailingComma(types$1.braceR))break;var qe=this.parseImportAttribute(),bt=qe.key.type==="Identifier"?qe.key.name:qe.key.value;hasOwn(r,bt)&&this.raiseRecoverable(qe.key.start,"Duplicate attribute key '"+bt+"'"),r[bt]=!0,e.push(qe)}return e},pp$8.parseImportAttribute=function(){var e=this.startNode();return e.key=this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never"),this.expect(types$1.colon),this.type!==types$1.string&&this.unexpected(),e.value=this.parseExprAtom(),this.finishNode(e,"ImportAttribute")},pp$8.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===types$1.string){var e=this.parseLiteral(this.value);return loneSurrogate.test(e.value)&&this.raise(e.start,"An export name cannot include a lone surrogate."),e}return this.parseIdent(!0)},pp$8.adaptDirectivePrologue=function(e){for(var r=0;r<e.length&&this.isDirectiveCandidate(e[r]);++r)e[r].directive=e[r].expression.raw.slice(1,-1)},pp$8.isDirectiveCandidate=function(e){return this.options.ecmaVersion>=5&&e.type==="ExpressionStatement"&&e.expression.type==="Literal"&&typeof e.expression.value=="string"&&(this.input[e.start]==='"'||this.input[e.start]==="'")};var pp$7=Parser.prototype;pp$7.toAssignable=function(e,r,o){if(this.options.ecmaVersion>=6&&e)switch(e.type){case"Identifier":this.inAsync&&e.name==="await"&&this.raise(e.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":e.type="ObjectPattern",o&&this.checkPatternErrors(o,!0);for(var qe=0,bt=e.properties;qe<bt.length;qe+=1){var Nt=bt[qe];this.toAssignable(Nt,r),Nt.type==="RestElement"&&(Nt.argument.type==="ArrayPattern"||Nt.argument.type==="ObjectPattern")&&this.raise(Nt.argument.start,"Unexpected token")}break;case"Property":e.kind!=="init"&&this.raise(e.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(e.value,r);break;case"ArrayExpression":e.type="ArrayPattern",o&&this.checkPatternErrors(o,!0),this.toAssignableList(e.elements,r);break;case"SpreadElement":e.type="RestElement",this.toAssignable(e.argument,r),e.argument.type==="AssignmentPattern"&&this.raise(e.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":e.operator!=="="&&this.raise(e.left.end,"Only '=' operator can be used for specifying default value."),e.type="AssignmentPattern",delete e.operator,this.toAssignable(e.left,r);break;case"ParenthesizedExpression":this.toAssignable(e.expression,r,o);break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!r)break;default:this.raise(e.start,"Assigning to rvalue")}else o&&this.checkPatternErrors(o,!0);return e},pp$7.toAssignableList=function(e,r){for(var o=e.length,qe=0;qe<o;qe++){var bt=e[qe];bt&&this.toAssignable(bt,r)}if(o){var Nt=e[o-1];this.options.ecmaVersion===6&&r&&Nt&&Nt.type==="RestElement"&&Nt.argument.type!=="Identifier"&&this.unexpected(Nt.argument.start)}return e},pp$7.parseSpread=function(e){var r=this.startNode();return this.next(),r.argument=this.parseMaybeAssign(!1,e),this.finishNode(r,"SpreadElement")},pp$7.parseRestBinding=function(){var e=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==types$1.name&&this.unexpected(),e.argument=this.parseBindingAtom(),this.finishNode(e,"RestElement")},pp$7.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case types$1.bracketL:var e=this.startNode();return this.next(),e.elements=this.parseBindingList(types$1.bracketR,!0,!0),this.finishNode(e,"ArrayPattern");case types$1.braceL:return this.parseObj(!0)}return this.parseIdent()},pp$7.parseBindingList=function(e,r,o,qe){for(var bt=[],Nt=!0;!this.eat(e);)if(Nt?Nt=!1:this.expect(types$1.comma),r&&this.type===types$1.comma)bt.push(null);else{if(o&&this.afterTrailingComma(e))break;if(this.type===types$1.ellipsis){var Na=this.parseRestBinding();this.parseBindingListItem(Na),bt.push(Na),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(e);break}else bt.push(this.parseAssignableListItem(qe))}return bt},pp$7.parseAssignableListItem=function(e){var r=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(r),r},pp$7.parseBindingListItem=function(e){return e},pp$7.parseMaybeDefault=function(e,r,o){if(o=o||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(types$1.eq))return o;var qe=this.startNodeAt(e,r);return qe.left=o,qe.right=this.parseMaybeAssign(),this.finishNode(qe,"AssignmentPattern")},pp$7.checkLValSimple=function(e,r,o){r===void 0&&(r=BIND_NONE);var qe=r!==BIND_NONE;switch(e.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(e.name)&&this.raiseRecoverable(e.start,(qe?"Binding ":"Assigning to ")+e.name+" in strict mode"),qe&&(r===BIND_LEXICAL&&e.name==="let"&&this.raiseRecoverable(e.start,"let is disallowed as a lexically bound name"),o&&(hasOwn(o,e.name)&&this.raiseRecoverable(e.start,"Argument name clash"),o[e.name]=!0),r!==BIND_OUTSIDE&&this.declareName(e.name,r,e.start));break;case"ChainExpression":this.raiseRecoverable(e.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":qe&&this.raiseRecoverable(e.start,"Binding member expression");break;case"ParenthesizedExpression":return qe&&this.raiseRecoverable(e.start,"Binding parenthesized expression"),this.checkLValSimple(e.expression,r,o);default:this.raise(e.start,(qe?"Binding":"Assigning to")+" rvalue")}},pp$7.checkLValPattern=function(e,r,o){switch(r===void 0&&(r=BIND_NONE),e.type){case"ObjectPattern":for(var qe=0,bt=e.properties;qe<bt.length;qe+=1){var Nt=bt[qe];this.checkLValInnerPattern(Nt,r,o)}break;case"ArrayPattern":for(var Na=0,ld=e.elements;Na<ld.length;Na+=1){var fd=ld[Na];fd&&this.checkLValInnerPattern(fd,r,o)}break;default:this.checkLValSimple(e,r,o)}},pp$7.checkLValInnerPattern=function(e,r,o){switch(r===void 0&&(r=BIND_NONE),e.type){case"Property":this.checkLValInnerPattern(e.value,r,o);break;case"AssignmentPattern":this.checkLValPattern(e.left,r,o);break;case"RestElement":this.checkLValPattern(e.argument,r,o);break;default:this.checkLValPattern(e,r,o)}};var TokContext=function(r,o,qe,bt,Nt){this.token=r,this.isExpr=!!o,this.preserveSpace=!!qe,this.override=bt,this.generator=!!Nt},types={b_stat:new TokContext("{",!1),b_expr:new TokContext("{",!0),b_tmpl:new TokContext("${",!1),p_stat:new TokContext("(",!1),p_expr:new TokContext("(",!0),q_tmpl:new TokContext("`",!0,!0,function(e){return e.tryReadTemplateToken()}),f_stat:new TokContext("function",!1),f_expr:new TokContext("function",!0),f_expr_gen:new TokContext("function",!0,!1,null,!0),f_gen:new TokContext("function",!1,!1,null,!0)},pp$6=Parser.prototype;pp$6.initialContext=function(){return[types.b_stat]},pp$6.curContext=function(){return this.context[this.context.length-1]},pp$6.braceIsBlock=function(e){var r=this.curContext();return r===types.f_expr||r===types.f_stat?!0:e===types$1.colon&&(r===types.b_stat||r===types.b_expr)?!r.isExpr:e===types$1._return||e===types$1.name&&this.exprAllowed?lineBreak.test(this.input.slice(this.lastTokEnd,this.start)):e===types$1._else||e===types$1.semi||e===types$1.eof||e===types$1.parenR||e===types$1.arrow?!0:e===types$1.braceL?r===types.b_stat:e===types$1._var||e===types$1._const||e===types$1.name?!1:!this.exprAllowed},pp$6.inGeneratorContext=function(){for(var e=this.context.length-1;e>=1;e--){var r=this.context[e];if(r.token==="function")return r.generator}return!1},pp$6.updateContext=function(e){var r,o=this.type;o.keyword&&e===types$1.dot?this.exprAllowed=!1:(r=o.updateContext)?r.call(this,e):this.exprAllowed=o.beforeExpr},pp$6.overrideContext=function(e){this.curContext()!==e&&(this.context[this.context.length-1]=e)},types$1.parenR.updateContext=types$1.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var e=this.context.pop();e===types.b_stat&&this.curContext().token==="function"&&(e=this.context.pop()),this.exprAllowed=!e.isExpr},types$1.braceL.updateContext=function(e){this.context.push(this.braceIsBlock(e)?types.b_stat:types.b_expr),this.exprAllowed=!0},types$1.dollarBraceL.updateContext=function(){this.context.push(types.b_tmpl),this.exprAllowed=!0},types$1.parenL.updateContext=function(e){var r=e===types$1._if||e===types$1._for||e===types$1._with||e===types$1._while;this.context.push(r?types.p_stat:types.p_expr),this.exprAllowed=!0},types$1.incDec.updateContext=function(){},types$1._function.updateContext=types$1._class.updateContext=function(e){e.beforeExpr&&e!==types$1._else&&!(e===types$1.semi&&this.curContext()!==types.p_stat)&&!(e===types$1._return&&lineBreak.test(this.input.slice(this.lastTokEnd,this.start)))&&!((e===types$1.colon||e===types$1.braceL)&&this.curContext()===types.b_stat)?this.context.push(types.f_expr):this.context.push(types.f_stat),this.exprAllowed=!1},types$1.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0},types$1.backQuote.updateContext=function(){this.curContext()===types.q_tmpl?this.context.pop():this.context.push(types.q_tmpl),this.exprAllowed=!1},types$1.star.updateContext=function(e){if(e===types$1._function){var r=this.context.length-1;this.context[r]===types.f_expr?this.context[r]=types.f_expr_gen:this.context[r]=types.f_gen}this.exprAllowed=!0},types$1.name.updateContext=function(e){var r=!1;this.options.ecmaVersion>=6&&e!==types$1.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(r=!0),this.exprAllowed=r};var pp$5=Parser.prototype;pp$5.checkPropClash=function(e,r,o){if(!(this.options.ecmaVersion>=9&&e.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(e.computed||e.method||e.shorthand))){var qe=e.key,bt;switch(qe.type){case"Identifier":bt=qe.name;break;case"Literal":bt=String(qe.value);break;default:return}var Nt=e.kind;if(this.options.ecmaVersion>=6){bt==="__proto__"&&Nt==="init"&&(r.proto&&(o?o.doubleProto<0&&(o.doubleProto=qe.start):this.raiseRecoverable(qe.start,"Redefinition of __proto__ property")),r.proto=!0);return}bt="$"+bt;var Na=r[bt];if(Na){var ld;Nt==="init"?ld=this.strict&&Na.init||Na.get||Na.set:ld=Na.init||Na[Nt],ld&&this.raiseRecoverable(qe.start,"Redefinition of property")}else Na=r[bt]={init:!1,get:!1,set:!1};Na[Nt]=!0}},pp$5.parseExpression=function(e,r){var o=this.start,qe=this.startLoc,bt=this.parseMaybeAssign(e,r);if(this.type===types$1.comma){var Nt=this.startNodeAt(o,qe);for(Nt.expressions=[bt];this.eat(types$1.comma);)Nt.expressions.push(this.parseMaybeAssign(e,r));return this.finishNode(Nt,"SequenceExpression")}return bt},pp$5.parseMaybeAssign=function(e,r,o){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(e);this.exprAllowed=!1}var qe=!1,bt=-1,Nt=-1,Na=-1;r?(bt=r.parenthesizedAssign,Nt=r.trailingComma,Na=r.doubleProto,r.parenthesizedAssign=r.trailingComma=-1):(r=new DestructuringErrors,qe=!0);var ld=this.start,fd=this.startLoc;(this.type===types$1.parenL||this.type===types$1.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=e==="await");var hd=this.parseMaybeConditional(e,r);if(o&&(hd=o.call(this,hd,ld,fd)),this.type.isAssign){var dd=this.startNodeAt(ld,fd);return dd.operator=this.value,this.type===types$1.eq&&(hd=this.toAssignable(hd,!1,r)),qe||(r.parenthesizedAssign=r.trailingComma=r.doubleProto=-1),r.shorthandAssign>=hd.start&&(r.shorthandAssign=-1),this.type===types$1.eq?this.checkLValPattern(hd):this.checkLValSimple(hd),dd.left=hd,this.next(),dd.right=this.parseMaybeAssign(e),Na>-1&&(r.doubleProto=Na),this.finishNode(dd,"AssignmentExpression")}else qe&&this.checkExpressionErrors(r,!0);return bt>-1&&(r.parenthesizedAssign=bt),Nt>-1&&(r.trailingComma=Nt),hd},pp$5.parseMaybeConditional=function(e,r){var o=this.start,qe=this.startLoc,bt=this.parseExprOps(e,r);if(this.checkExpressionErrors(r))return bt;if(this.eat(types$1.question)){var Nt=this.startNodeAt(o,qe);return Nt.test=bt,Nt.consequent=this.parseMaybeAssign(),this.expect(types$1.colon),Nt.alternate=this.parseMaybeAssign(e),this.finishNode(Nt,"ConditionalExpression")}return bt},pp$5.parseExprOps=function(e,r){var o=this.start,qe=this.startLoc,bt=this.parseMaybeUnary(r,!1,!1,e);return this.checkExpressionErrors(r)||bt.start===o&&bt.type==="ArrowFunctionExpression"?bt:this.parseExprOp(bt,o,qe,-1,e)},pp$5.parseExprOp=function(e,r,o,qe,bt){var Nt=this.type.binop;if(Nt!=null&&(!bt||this.type!==types$1._in)&&Nt>qe){var Na=this.type===types$1.logicalOR||this.type===types$1.logicalAND,ld=this.type===types$1.coalesce;ld&&(Nt=types$1.logicalAND.binop);var fd=this.value;this.next();var hd=this.start,dd=this.startLoc,gd=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,bt),hd,dd,Nt,bt),yd=this.buildBinary(r,o,e,gd,fd,Na||ld);return(Na&&this.type===types$1.coalesce||ld&&(this.type===types$1.logicalOR||this.type===types$1.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(yd,r,o,qe,bt)}return e},pp$5.buildBinary=function(e,r,o,qe,bt,Nt){qe.type==="PrivateIdentifier"&&this.raise(qe.start,"Private identifier can only be left side of binary expression");var Na=this.startNodeAt(e,r);return Na.left=o,Na.operator=bt,Na.right=qe,this.finishNode(Na,Nt?"LogicalExpression":"BinaryExpression")},pp$5.parseMaybeUnary=function(e,r,o,qe){var bt=this.start,Nt=this.startLoc,Na;if(this.isContextual("await")&&this.canAwait)Na=this.parseAwait(qe),r=!0;else if(this.type.prefix){var ld=this.startNode(),fd=this.type===types$1.incDec;ld.operator=this.value,ld.prefix=!0,this.next(),ld.argument=this.parseMaybeUnary(null,!0,fd,qe),this.checkExpressionErrors(e,!0),fd?this.checkLValSimple(ld.argument):this.strict&&ld.operator==="delete"&&isLocalVariableAccess(ld.argument)?this.raiseRecoverable(ld.start,"Deleting local variable in strict mode"):ld.operator==="delete"&&isPrivateFieldAccess(ld.argument)?this.raiseRecoverable(ld.start,"Private fields can not be deleted"):r=!0,Na=this.finishNode(ld,fd?"UpdateExpression":"UnaryExpression")}else if(!r&&this.type===types$1.privateId)(qe||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),Na=this.parsePrivateIdent(),this.type!==types$1._in&&this.unexpected();else{if(Na=this.parseExprSubscripts(e,qe),this.checkExpressionErrors(e))return Na;for(;this.type.postfix&&!this.canInsertSemicolon();){var hd=this.startNodeAt(bt,Nt);hd.operator=this.value,hd.prefix=!1,hd.argument=Na,this.checkLValSimple(Na),this.next(),Na=this.finishNode(hd,"UpdateExpression")}}if(!o&&this.eat(types$1.starstar))if(r)this.unexpected(this.lastTokStart);else return this.buildBinary(bt,Nt,Na,this.parseMaybeUnary(null,!1,!1,qe),"**",!1);else return Na};function isLocalVariableAccess(e){return e.type==="Identifier"||e.type==="ParenthesizedExpression"&&isLocalVariableAccess(e.expression)}function isPrivateFieldAccess(e){return e.type==="MemberExpression"&&e.property.type==="PrivateIdentifier"||e.type==="ChainExpression"&&isPrivateFieldAccess(e.expression)||e.type==="ParenthesizedExpression"&&isPrivateFieldAccess(e.expression)}pp$5.parseExprSubscripts=function(e,r){var o=this.start,qe=this.startLoc,bt=this.parseExprAtom(e,r);if(bt.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return bt;var Nt=this.parseSubscripts(bt,o,qe,!1,r);return e&&Nt.type==="MemberExpression"&&(e.parenthesizedAssign>=Nt.start&&(e.parenthesizedAssign=-1),e.parenthesizedBind>=Nt.start&&(e.parenthesizedBind=-1),e.trailingComma>=Nt.start&&(e.trailingComma=-1)),Nt},pp$5.parseSubscripts=function(e,r,o,qe,bt){for(var Nt=this.options.ecmaVersion>=8&&e.type==="Identifier"&&e.name==="async"&&this.lastTokEnd===e.end&&!this.canInsertSemicolon()&&e.end-e.start===5&&this.potentialArrowAt===e.start,Na=!1;;){var ld=this.parseSubscript(e,r,o,qe,Nt,Na,bt);if(ld.optional&&(Na=!0),ld===e||ld.type==="ArrowFunctionExpression"){if(Na){var fd=this.startNodeAt(r,o);fd.expression=ld,ld=this.finishNode(fd,"ChainExpression")}return ld}e=ld}},pp$5.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(types$1.arrow)},pp$5.parseSubscriptAsyncArrow=function(e,r,o,qe){return this.parseArrowExpression(this.startNodeAt(e,r),o,!0,qe)},pp$5.parseSubscript=function(e,r,o,qe,bt,Nt,Na){var ld=this.options.ecmaVersion>=11,fd=ld&&this.eat(types$1.questionDot);qe&&fd&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var hd=this.eat(types$1.bracketL);if(hd||fd&&this.type!==types$1.parenL&&this.type!==types$1.backQuote||this.eat(types$1.dot)){var dd=this.startNodeAt(r,o);dd.object=e,hd?(dd.property=this.parseExpression(),this.expect(types$1.bracketR)):this.type===types$1.privateId&&e.type!=="Super"?dd.property=this.parsePrivateIdent():dd.property=this.parseIdent(this.options.allowReserved!=="never"),dd.computed=!!hd,ld&&(dd.optional=fd),e=this.finishNode(dd,"MemberExpression")}else if(!qe&&this.eat(types$1.parenL)){var gd=new DestructuringErrors,yd=this.yieldPos,_d=this.awaitPos,Ad=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var xd=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1,gd);if(bt&&!fd&&this.shouldParseAsyncArrow())return this.checkPatternErrors(gd,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=yd,this.awaitPos=_d,this.awaitIdentPos=Ad,this.parseSubscriptAsyncArrow(r,o,xd,Na);this.checkExpressionErrors(gd,!0),this.yieldPos=yd||this.yieldPos,this.awaitPos=_d||this.awaitPos,this.awaitIdentPos=Ad||this.awaitIdentPos;var Cd=this.startNodeAt(r,o);Cd.callee=e,Cd.arguments=xd,ld&&(Cd.optional=fd),e=this.finishNode(Cd,"CallExpression")}else if(this.type===types$1.backQuote){(fd||Nt)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var Dd=this.startNodeAt(r,o);Dd.tag=e,Dd.quasi=this.parseTemplate({isTagged:!0}),e=this.finishNode(Dd,"TaggedTemplateExpression")}return e},pp$5.parseExprAtom=function(e,r,o){this.type===types$1.slash&&this.readRegexp();var qe,bt=this.potentialArrowAt===this.start;switch(this.type){case types$1._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),qe=this.startNode(),this.next(),this.type===types$1.parenL&&!this.allowDirectSuper&&this.raise(qe.start,"super() call outside constructor of a subclass"),this.type!==types$1.dot&&this.type!==types$1.bracketL&&this.type!==types$1.parenL&&this.unexpected(),this.finishNode(qe,"Super");case types$1._this:return qe=this.startNode(),this.next(),this.finishNode(qe,"ThisExpression");case types$1.name:var Nt=this.start,Na=this.startLoc,ld=this.containsEsc,fd=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!ld&&fd.name==="async"&&!this.canInsertSemicolon()&&this.eat(types$1._function))return this.overrideContext(types.f_expr),this.parseFunction(this.startNodeAt(Nt,Na),0,!1,!0,r);if(bt&&!this.canInsertSemicolon()){if(this.eat(types$1.arrow))return this.parseArrowExpression(this.startNodeAt(Nt,Na),[fd],!1,r);if(this.options.ecmaVersion>=8&&fd.name==="async"&&this.type===types$1.name&&!ld&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return fd=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(types$1.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(Nt,Na),[fd],!0,r)}return fd;case types$1.regexp:var hd=this.value;return qe=this.parseLiteral(hd.value),qe.regex={pattern:hd.pattern,flags:hd.flags},qe;case types$1.num:case types$1.string:return this.parseLiteral(this.value);case types$1._null:case types$1._true:case types$1._false:return qe=this.startNode(),qe.value=this.type===types$1._null?null:this.type===types$1._true,qe.raw=this.type.keyword,this.next(),this.finishNode(qe,"Literal");case types$1.parenL:var dd=this.start,gd=this.parseParenAndDistinguishExpression(bt,r);return e&&(e.parenthesizedAssign<0&&!this.isSimpleAssignTarget(gd)&&(e.parenthesizedAssign=dd),e.parenthesizedBind<0&&(e.parenthesizedBind=dd)),gd;case types$1.bracketL:return qe=this.startNode(),this.next(),qe.elements=this.parseExprList(types$1.bracketR,!0,!0,e),this.finishNode(qe,"ArrayExpression");case types$1.braceL:return this.overrideContext(types.b_expr),this.parseObj(!1,e);case types$1._function:return qe=this.startNode(),this.next(),this.parseFunction(qe,0);case types$1._class:return this.parseClass(this.startNode(),!1);case types$1._new:return this.parseNew();case types$1.backQuote:return this.parseTemplate();case types$1._import:return this.options.ecmaVersion>=11?this.parseExprImport(o):this.unexpected();default:return this.parseExprAtomDefault()}},pp$5.parseExprAtomDefault=function(){this.unexpected()},pp$5.parseExprImport=function(e){var r=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===types$1.parenL&&!e)return this.parseDynamicImport(r);if(this.type===types$1.dot){var o=this.startNodeAt(r.start,r.loc&&r.loc.start);return o.name="import",r.meta=this.finishNode(o,"Identifier"),this.parseImportMeta(r)}else this.unexpected()},pp$5.parseDynamicImport=function(e){if(this.next(),e.source=this.parseMaybeAssign(),this.options.ecmaVersion>=16)this.eat(types$1.parenR)?e.options=null:(this.expect(types$1.comma),this.afterTrailingComma(types$1.parenR)?e.options=null:(e.options=this.parseMaybeAssign(),this.eat(types$1.parenR)||(this.expect(types$1.comma),this.afterTrailingComma(types$1.parenR)||this.unexpected())));else if(!this.eat(types$1.parenR)){var r=this.start;this.eat(types$1.comma)&&this.eat(types$1.parenR)?this.raiseRecoverable(r,"Trailing comma is not allowed in import()"):this.unexpected(r)}return this.finishNode(e,"ImportExpression")},pp$5.parseImportMeta=function(e){this.next();var r=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="meta"&&this.raiseRecoverable(e.property.start,"The only valid meta property for import is 'import.meta'"),r&&this.raiseRecoverable(e.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(e.start,"Cannot use 'import.meta' outside a module"),this.finishNode(e,"MetaProperty")},pp$5.parseLiteral=function(e){var r=this.startNode();return r.value=e,r.raw=this.input.slice(this.start,this.end),r.raw.charCodeAt(r.raw.length-1)===110&&(r.bigint=r.value!=null?r.value.toString():r.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(r,"Literal")},pp$5.parseParenExpression=function(){this.expect(types$1.parenL);var e=this.parseExpression();return this.expect(types$1.parenR),e},pp$5.shouldParseArrow=function(e){return!this.canInsertSemicolon()},pp$5.parseParenAndDistinguishExpression=function(e,r){var o=this.start,qe=this.startLoc,bt,Nt=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var Na=this.start,ld=this.startLoc,fd=[],hd=!0,dd=!1,gd=new DestructuringErrors,yd=this.yieldPos,_d=this.awaitPos,Ad;for(this.yieldPos=0,this.awaitPos=0;this.type!==types$1.parenR;)if(hd?hd=!1:this.expect(types$1.comma),Nt&&this.afterTrailingComma(types$1.parenR,!0)){dd=!0;break}else if(this.type===types$1.ellipsis){Ad=this.start,fd.push(this.parseParenItem(this.parseRestBinding())),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else fd.push(this.parseMaybeAssign(!1,gd,this.parseParenItem));var xd=this.lastTokEnd,Cd=this.lastTokEndLoc;if(this.expect(types$1.parenR),e&&this.shouldParseArrow(fd)&&this.eat(types$1.arrow))return this.checkPatternErrors(gd,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=yd,this.awaitPos=_d,this.parseParenArrowList(o,qe,fd,r);(!fd.length||dd)&&this.unexpected(this.lastTokStart),Ad&&this.unexpected(Ad),this.checkExpressionErrors(gd,!0),this.yieldPos=yd||this.yieldPos,this.awaitPos=_d||this.awaitPos,fd.length>1?(bt=this.startNodeAt(Na,ld),bt.expressions=fd,this.finishNodeAt(bt,"SequenceExpression",xd,Cd)):bt=fd[0]}else bt=this.parseParenExpression();if(this.options.preserveParens){var Dd=this.startNodeAt(o,qe);return Dd.expression=bt,this.finishNode(Dd,"ParenthesizedExpression")}else return bt},pp$5.parseParenItem=function(e){return e},pp$5.parseParenArrowList=function(e,r,o,qe){return this.parseArrowExpression(this.startNodeAt(e,r),o,!1,qe)};var empty=[];pp$5.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var e=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===types$1.dot){var r=this.startNodeAt(e.start,e.loc&&e.loc.start);r.name="new",e.meta=this.finishNode(r,"Identifier"),this.next();var o=this.containsEsc;return e.property=this.parseIdent(!0),e.property.name!=="target"&&this.raiseRecoverable(e.property.start,"The only valid meta property for new is 'new.target'"),o&&this.raiseRecoverable(e.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(e.start,"'new.target' can only be used in functions and class static block"),this.finishNode(e,"MetaProperty")}var qe=this.start,bt=this.startLoc;return e.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),qe,bt,!0,!1),this.eat(types$1.parenL)?e.arguments=this.parseExprList(types$1.parenR,this.options.ecmaVersion>=8,!1):e.arguments=empty,this.finishNode(e,"NewExpression")},pp$5.parseTemplateElement=function(e){var r=e.isTagged,o=this.startNode();return this.type===types$1.invalidTemplate?(r||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),o.value={raw:this.value.replace(/\r\n?/g,`
`),cooked:null}):o.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),o.tail=this.type===types$1.backQuote,this.finishNode(o,"TemplateElement")},pp$5.parseTemplate=function(e){e===void 0&&(e={});var r=e.isTagged;r===void 0&&(r=!1);var o=this.startNode();this.next(),o.expressions=[];var qe=this.parseTemplateElement({isTagged:r});for(o.quasis=[qe];!qe.tail;)this.type===types$1.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(types$1.dollarBraceL),o.expressions.push(this.parseExpression()),this.expect(types$1.braceR),o.quasis.push(qe=this.parseTemplateElement({isTagged:r}));return this.next(),this.finishNode(o,"TemplateLiteral")},pp$5.isAsyncProp=function(e){return!e.computed&&e.key.type==="Identifier"&&e.key.name==="async"&&(this.type===types$1.name||this.type===types$1.num||this.type===types$1.string||this.type===types$1.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===types$1.star)&&!lineBreak.test(this.input.slice(this.lastTokEnd,this.start))},pp$5.parseObj=function(e,r){var o=this.startNode(),qe=!0,bt={};for(o.properties=[],this.next();!this.eat(types$1.braceR);){if(qe)qe=!1;else if(this.expect(types$1.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(types$1.braceR))break;var Nt=this.parseProperty(e,r);e||this.checkPropClash(Nt,bt,r),o.properties.push(Nt)}return this.finishNode(o,e?"ObjectPattern":"ObjectExpression")},pp$5.parseProperty=function(e,r){var o=this.startNode(),qe,bt,Nt,Na;if(this.options.ecmaVersion>=9&&this.eat(types$1.ellipsis))return e?(o.argument=this.parseIdent(!1),this.type===types$1.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(o,"RestElement")):(o.argument=this.parseMaybeAssign(!1,r),this.type===types$1.comma&&r&&r.trailingComma<0&&(r.trailingComma=this.start),this.finishNode(o,"SpreadElement"));this.options.ecmaVersion>=6&&(o.method=!1,o.shorthand=!1,(e||r)&&(Nt=this.start,Na=this.startLoc),e||(qe=this.eat(types$1.star)));var ld=this.containsEsc;return this.parsePropertyName(o),!e&&!ld&&this.options.ecmaVersion>=8&&!qe&&this.isAsyncProp(o)?(bt=!0,qe=this.options.ecmaVersion>=9&&this.eat(types$1.star),this.parsePropertyName(o)):bt=!1,this.parsePropertyValue(o,e,qe,bt,Nt,Na,r,ld),this.finishNode(o,"Property")},pp$5.parseGetterSetter=function(e){var r=e.key.name;this.parsePropertyName(e),e.value=this.parseMethod(!1),e.kind=r;var o=e.kind==="get"?0:1;if(e.value.params.length!==o){var qe=e.value.start;e.kind==="get"?this.raiseRecoverable(qe,"getter should have no params"):this.raiseRecoverable(qe,"setter should have exactly one param")}else e.kind==="set"&&e.value.params[0].type==="RestElement"&&this.raiseRecoverable(e.value.params[0].start,"Setter cannot use rest params")},pp$5.parsePropertyValue=function(e,r,o,qe,bt,Nt,Na,ld){(o||qe)&&this.type===types$1.colon&&this.unexpected(),this.eat(types$1.colon)?(e.value=r?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,Na),e.kind="init"):this.options.ecmaVersion>=6&&this.type===types$1.parenL?(r&&this.unexpected(),e.method=!0,e.value=this.parseMethod(o,qe),e.kind="init"):!r&&!ld&&this.options.ecmaVersion>=5&&!e.computed&&e.key.type==="Identifier"&&(e.key.name==="get"||e.key.name==="set")&&this.type!==types$1.comma&&this.type!==types$1.braceR&&this.type!==types$1.eq?((o||qe)&&this.unexpected(),this.parseGetterSetter(e)):this.options.ecmaVersion>=6&&!e.computed&&e.key.type==="Identifier"?((o||qe)&&this.unexpected(),this.checkUnreserved(e.key),e.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=bt),r?e.value=this.parseMaybeDefault(bt,Nt,this.copyNode(e.key)):this.type===types$1.eq&&Na?(Na.shorthandAssign<0&&(Na.shorthandAssign=this.start),e.value=this.parseMaybeDefault(bt,Nt,this.copyNode(e.key))):e.value=this.copyNode(e.key),e.kind="init",e.shorthand=!0):this.unexpected()},pp$5.parsePropertyName=function(e){if(this.options.ecmaVersion>=6){if(this.eat(types$1.bracketL))return e.computed=!0,e.key=this.parseMaybeAssign(),this.expect(types$1.bracketR),e.key;e.computed=!1}return e.key=this.type===types$1.num||this.type===types$1.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")},pp$5.initFunction=function(e){e.id=null,this.options.ecmaVersion>=6&&(e.generator=e.expression=!1),this.options.ecmaVersion>=8&&(e.async=!1)},pp$5.parseMethod=function(e,r,o){var qe=this.startNode(),bt=this.yieldPos,Nt=this.awaitPos,Na=this.awaitIdentPos;return this.initFunction(qe),this.options.ecmaVersion>=6&&(qe.generator=e),this.options.ecmaVersion>=8&&(qe.async=!!r),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(functionFlags(r,qe.generator)|SCOPE_SUPER|(o?SCOPE_DIRECT_SUPER:0)),this.expect(types$1.parenL),qe.params=this.parseBindingList(types$1.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(qe,!1,!0,!1),this.yieldPos=bt,this.awaitPos=Nt,this.awaitIdentPos=Na,this.finishNode(qe,"FunctionExpression")},pp$5.parseArrowExpression=function(e,r,o,qe){var bt=this.yieldPos,Nt=this.awaitPos,Na=this.awaitIdentPos;return this.enterScope(functionFlags(o,!1)|SCOPE_ARROW),this.initFunction(e),this.options.ecmaVersion>=8&&(e.async=!!o),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,e.params=this.toAssignableList(r,!0),this.parseFunctionBody(e,!0,!1,qe),this.yieldPos=bt,this.awaitPos=Nt,this.awaitIdentPos=Na,this.finishNode(e,"ArrowFunctionExpression")},pp$5.parseFunctionBody=function(e,r,o,qe){var bt=r&&this.type!==types$1.braceL,Nt=this.strict,Na=!1;if(bt)e.body=this.parseMaybeAssign(qe),e.expression=!0,this.checkParams(e,!1);else{var ld=this.options.ecmaVersion>=7&&!this.isSimpleParamList(e.params);(!Nt||ld)&&(Na=this.strictDirective(this.end),Na&&ld&&this.raiseRecoverable(e.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var fd=this.labels;this.labels=[],Na&&(this.strict=!0),this.checkParams(e,!Nt&&!Na&&!r&&!o&&this.isSimpleParamList(e.params)),this.strict&&e.id&&this.checkLValSimple(e.id,BIND_OUTSIDE),e.body=this.parseBlock(!1,void 0,Na&&!Nt),e.expression=!1,this.adaptDirectivePrologue(e.body.body),this.labels=fd}this.exitScope()},pp$5.isSimpleParamList=function(e){for(var r=0,o=e;r<o.length;r+=1){var qe=o[r];if(qe.type!=="Identifier")return!1}return!0},pp$5.checkParams=function(e,r){for(var o=Object.create(null),qe=0,bt=e.params;qe<bt.length;qe+=1){var Nt=bt[qe];this.checkLValInnerPattern(Nt,BIND_VAR,r?null:o)}},pp$5.parseExprList=function(e,r,o,qe){for(var bt=[],Nt=!0;!this.eat(e);){if(Nt)Nt=!1;else if(this.expect(types$1.comma),r&&this.afterTrailingComma(e))break;var Na=void 0;o&&this.type===types$1.comma?Na=null:this.type===types$1.ellipsis?(Na=this.parseSpread(qe),qe&&this.type===types$1.comma&&qe.trailingComma<0&&(qe.trailingComma=this.start)):Na=this.parseMaybeAssign(!1,qe),bt.push(Na)}return bt},pp$5.checkUnreserved=function(e){var r=e.start,o=e.end,qe=e.name;if(this.inGenerator&&qe==="yield"&&this.raiseRecoverable(r,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&qe==="await"&&this.raiseRecoverable(r,"Cannot use 'await' as identifier inside an async function"),!(this.currentThisScope().flags&SCOPE_VAR)&&qe==="arguments"&&this.raiseRecoverable(r,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(qe==="arguments"||qe==="await")&&this.raise(r,"Cannot use "+qe+" in class static initialization block"),this.keywords.test(qe)&&this.raise(r,"Unexpected keyword '"+qe+"'"),!(this.options.ecmaVersion<6&&this.input.slice(r,o).indexOf("\\")!==-1)){var bt=this.strict?this.reservedWordsStrict:this.reservedWords;bt.test(qe)&&(!this.inAsync&&qe==="await"&&this.raiseRecoverable(r,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(r,"The keyword '"+qe+"' is reserved"))}},pp$5.parseIdent=function(e){var r=this.parseIdentNode();return this.next(!!e),this.finishNode(r,"Identifier"),e||(this.checkUnreserved(r),r.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r.start)),r},pp$5.parseIdentNode=function(){var e=this.startNode();return this.type===types$1.name?e.name=this.value:this.type.keyword?(e.name=this.type.keyword,(e.name==="class"||e.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=types$1.name):this.unexpected(),e},pp$5.parsePrivateIdent=function(){var e=this.startNode();return this.type===types$1.privateId?e.name=this.value:this.unexpected(),this.next(),this.finishNode(e,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(e.start,"Private field '#"+e.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(e)),e},pp$5.parseYield=function(e){this.yieldPos||(this.yieldPos=this.start);var r=this.startNode();return this.next(),this.type===types$1.semi||this.canInsertSemicolon()||this.type!==types$1.star&&!this.type.startsExpr?(r.delegate=!1,r.argument=null):(r.delegate=this.eat(types$1.star),r.argument=this.parseMaybeAssign(e)),this.finishNode(r,"YieldExpression")},pp$5.parseAwait=function(e){this.awaitPos||(this.awaitPos=this.start);var r=this.startNode();return this.next(),r.argument=this.parseMaybeUnary(null,!0,!1,e),this.finishNode(r,"AwaitExpression")};var pp$4=Parser.prototype;pp$4.raise=function(e,r){var o=getLineInfo(this.input,e);r+=" ("+o.line+":"+o.column+")",this.sourceFile&&(r+=" in "+this.sourceFile);var qe=new SyntaxError(r);throw qe.pos=e,qe.loc=o,qe.raisedAt=this.pos,qe},pp$4.raiseRecoverable=pp$4.raise,pp$4.curPosition=function(){if(this.options.locations)return new Position(this.curLine,this.pos-this.lineStart)};var pp$3=Parser.prototype,Scope=function(r){this.flags=r,this.var=[],this.lexical=[],this.functions=[]};pp$3.enterScope=function(e){this.scopeStack.push(new Scope(e))},pp$3.exitScope=function(){this.scopeStack.pop()},pp$3.treatFunctionsAsVarInScope=function(e){return e.flags&SCOPE_FUNCTION||!this.inModule&&e.flags&SCOPE_TOP},pp$3.declareName=function(e,r,o){var qe=!1;if(r===BIND_LEXICAL){var bt=this.currentScope();qe=bt.lexical.indexOf(e)>-1||bt.functions.indexOf(e)>-1||bt.var.indexOf(e)>-1,bt.lexical.push(e),this.inModule&&bt.flags&SCOPE_TOP&&delete this.undefinedExports[e]}else if(r===BIND_SIMPLE_CATCH){var Nt=this.currentScope();Nt.lexical.push(e)}else if(r===BIND_FUNCTION){var Na=this.currentScope();this.treatFunctionsAsVar?qe=Na.lexical.indexOf(e)>-1:qe=Na.lexical.indexOf(e)>-1||Na.var.indexOf(e)>-1,Na.functions.push(e)}else for(var ld=this.scopeStack.length-1;ld>=0;--ld){var fd=this.scopeStack[ld];if(fd.lexical.indexOf(e)>-1&&!(fd.flags&SCOPE_SIMPLE_CATCH&&fd.lexical[0]===e)||!this.treatFunctionsAsVarInScope(fd)&&fd.functions.indexOf(e)>-1){qe=!0;break}if(fd.var.push(e),this.inModule&&fd.flags&SCOPE_TOP&&delete this.undefinedExports[e],fd.flags&SCOPE_VAR)break}qe&&this.raiseRecoverable(o,"Identifier '"+e+"' has already been declared")},pp$3.checkLocalExport=function(e){this.scopeStack[0].lexical.indexOf(e.name)===-1&&this.scopeStack[0].var.indexOf(e.name)===-1&&(this.undefinedExports[e.name]=e)},pp$3.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]},pp$3.currentVarScope=function(){for(var e=this.scopeStack.length-1;;e--){var r=this.scopeStack[e];if(r.flags&(SCOPE_VAR|SCOPE_CLASS_FIELD_INIT|SCOPE_CLASS_STATIC_BLOCK))return r}},pp$3.currentThisScope=function(){for(var e=this.scopeStack.length-1;;e--){var r=this.scopeStack[e];if(r.flags&(SCOPE_VAR|SCOPE_CLASS_FIELD_INIT|SCOPE_CLASS_STATIC_BLOCK)&&!(r.flags&SCOPE_ARROW))return r}};var Node=function(r,o,qe){this.type="",this.start=o,this.end=0,r.options.locations&&(this.loc=new SourceLocation(r,qe)),r.options.directSourceFile&&(this.sourceFile=r.options.directSourceFile),r.options.ranges&&(this.range=[o,0])},pp$2=Parser.prototype;pp$2.startNode=function(){return new Node(this,this.start,this.startLoc)},pp$2.startNodeAt=function(e,r){return new Node(this,e,r)};function finishNodeAt(e,r,o,qe){return e.type=r,e.end=o,this.options.locations&&(e.loc.end=qe),this.options.ranges&&(e.range[1]=o),e}pp$2.finishNode=function(e,r){return finishNodeAt.call(this,e,r,this.lastTokEnd,this.lastTokEndLoc)},pp$2.finishNodeAt=function(e,r,o,qe){return finishNodeAt.call(this,e,r,o,qe)},pp$2.copyNode=function(e){var r=new Node(this,e.start,this.startLoc);for(var o in e)r[o]=e[o];return r};var scriptValuesAddedInUnicode="Gara Garay Gukh Gurung_Khema Hrkt Katakana_Or_Hiragana Kawi Kirat_Rai Krai Nag_Mundari Nagm Ol_Onal Onao Sunu Sunuwar Todhri Todr Tulu_Tigalari Tutg Unknown Zzzz",ecma9BinaryProperties="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",ecma10BinaryProperties=ecma9BinaryProperties+" Extended_Pictographic",ecma11BinaryProperties=ecma10BinaryProperties,ecma12BinaryProperties=ecma11BinaryProperties+" EBase EComp EMod EPres ExtPict",ecma13BinaryProperties=ecma12BinaryProperties,ecma14BinaryProperties=ecma13BinaryProperties,unicodeBinaryProperties={9:ecma9BinaryProperties,10:ecma10BinaryProperties,11:ecma11BinaryProperties,12:ecma12BinaryProperties,13:ecma13BinaryProperties,14:ecma14BinaryProperties},ecma14BinaryPropertiesOfStrings="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",unicodeBinaryPropertiesOfStrings={9:"",10:"",11:"",12:"",13:"",14:ecma14BinaryPropertiesOfStrings},unicodeGeneralCategoryValues="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",ecma9ScriptValues="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",ecma10ScriptValues=ecma9ScriptValues+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",ecma11ScriptValues=ecma10ScriptValues+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",ecma12ScriptValues=ecma11ScriptValues+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",ecma13ScriptValues=ecma12ScriptValues+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",ecma14ScriptValues=ecma13ScriptValues+" "+scriptValuesAddedInUnicode,unicodeScriptValues={9:ecma9ScriptValues,10:ecma10ScriptValues,11:ecma11ScriptValues,12:ecma12ScriptValues,13:ecma13ScriptValues,14:ecma14ScriptValues},data={};function buildUnicodeData(e){var r=data[e]={binary:wordsRegexp(unicodeBinaryProperties[e]+" "+unicodeGeneralCategoryValues),binaryOfStrings:wordsRegexp(unicodeBinaryPropertiesOfStrings[e]),nonBinary:{General_Category:wordsRegexp(unicodeGeneralCategoryValues),Script:wordsRegexp(unicodeScriptValues[e])}};r.nonBinary.Script_Extensions=r.nonBinary.Script,r.nonBinary.gc=r.nonBinary.General_Category,r.nonBinary.sc=r.nonBinary.Script,r.nonBinary.scx=r.nonBinary.Script_Extensions}for(var i=0,list=[9,10,11,12,13,14];i<list.length;i+=1){var ecmaVersion=list[i];buildUnicodeData(ecmaVersion)}var pp$1=Parser.prototype,BranchID=function(r,o){this.parent=r,this.base=o||this};BranchID.prototype.separatedFrom=function(r){for(var o=this;o;o=o.parent)for(var qe=r;qe;qe=qe.parent)if(o.base===qe.base&&o!==qe)return!0;return!1},BranchID.prototype.sibling=function(){return new BranchID(this.parent,this.base)};var RegExpValidationState=function(r){this.parser=r,this.validFlags="gim"+(r.options.ecmaVersion>=6?"uy":"")+(r.options.ecmaVersion>=9?"s":"")+(r.options.ecmaVersion>=13?"d":"")+(r.options.ecmaVersion>=15?"v":""),this.unicodeProperties=data[r.options.ecmaVersion>=14?14:r.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=Object.create(null),this.backReferenceNames=[],this.branchID=null};RegExpValidationState.prototype.reset=function(r,o,qe){var bt=qe.indexOf("v")!==-1,Nt=qe.indexOf("u")!==-1;this.start=r|0,this.source=o+"",this.flags=qe,bt&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=Nt&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=Nt&&this.parser.options.ecmaVersion>=9)},RegExpValidationState.prototype.raise=function(r){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+r)},RegExpValidationState.prototype.at=function(r,o){o===void 0&&(o=!1);var qe=this.source,bt=qe.length;if(r>=bt)return-1;var Nt=qe.charCodeAt(r);if(!(o||this.switchU)||Nt<=55295||Nt>=57344||r+1>=bt)return Nt;var Na=qe.charCodeAt(r+1);return Na>=56320&&Na<=57343?(Nt<<10)+Na-56613888:Nt},RegExpValidationState.prototype.nextIndex=function(r,o){o===void 0&&(o=!1);var qe=this.source,bt=qe.length;if(r>=bt)return bt;var Nt=qe.charCodeAt(r),Na;return!(o||this.switchU)||Nt<=55295||Nt>=57344||r+1>=bt||(Na=qe.charCodeAt(r+1))<56320||Na>57343?r+1:r+2},RegExpValidationState.prototype.current=function(r){return r===void 0&&(r=!1),this.at(this.pos,r)},RegExpValidationState.prototype.lookahead=function(r){return r===void 0&&(r=!1),this.at(this.nextIndex(this.pos,r),r)},RegExpValidationState.prototype.advance=function(r){r===void 0&&(r=!1),this.pos=this.nextIndex(this.pos,r)},RegExpValidationState.prototype.eat=function(r,o){return o===void 0&&(o=!1),this.current(o)===r?(this.advance(o),!0):!1},RegExpValidationState.prototype.eatChars=function(r,o){o===void 0&&(o=!1);for(var qe=this.pos,bt=0,Nt=r;bt<Nt.length;bt+=1){var Na=Nt[bt],ld=this.at(qe,o);if(ld===-1||ld!==Na)return!1;qe=this.nextIndex(qe,o)}return this.pos=qe,!0},pp$1.validateRegExpFlags=function(e){for(var r=e.validFlags,o=e.flags,qe=!1,bt=!1,Nt=0;Nt<o.length;Nt++){var Na=o.charAt(Nt);r.indexOf(Na)===-1&&this.raise(e.start,"Invalid regular expression flag"),o.indexOf(Na,Nt+1)>-1&&this.raise(e.start,"Duplicate regular expression flag"),Na==="u"&&(qe=!0),Na==="v"&&(bt=!0)}this.options.ecmaVersion>=15&&qe&&bt&&this.raise(e.start,"Invalid regular expression flag")};function hasProp(e){for(var r in e)return!0;return!1}pp$1.validateRegExpPattern=function(e){this.regexp_pattern(e),!e.switchN&&this.options.ecmaVersion>=9&&hasProp(e.groupNames)&&(e.switchN=!0,this.regexp_pattern(e))},pp$1.regexp_pattern=function(e){e.pos=0,e.lastIntValue=0,e.lastStringValue="",e.lastAssertionIsQuantifiable=!1,e.numCapturingParens=0,e.maxBackReference=0,e.groupNames=Object.create(null),e.backReferenceNames.length=0,e.branchID=null,this.regexp_disjunction(e),e.pos!==e.source.length&&(e.eat(41)&&e.raise("Unmatched ')'"),(e.eat(93)||e.eat(125))&&e.raise("Lone quantifier brackets")),e.maxBackReference>e.numCapturingParens&&e.raise("Invalid escape");for(var r=0,o=e.backReferenceNames;r<o.length;r+=1){var qe=o[r];e.groupNames[qe]||e.raise("Invalid named capture referenced")}},pp$1.regexp_disjunction=function(e){var r=this.options.ecmaVersion>=16;for(r&&(e.branchID=new BranchID(e.branchID,null)),this.regexp_alternative(e);e.eat(124);)r&&(e.branchID=e.branchID.sibling()),this.regexp_alternative(e);r&&(e.branchID=e.branchID.parent),this.regexp_eatQuantifier(e,!0)&&e.raise("Nothing to repeat"),e.eat(123)&&e.raise("Lone quantifier brackets")},pp$1.regexp_alternative=function(e){for(;e.pos<e.source.length&&this.regexp_eatTerm(e););},pp$1.regexp_eatTerm=function(e){return this.regexp_eatAssertion(e)?(e.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(e)&&e.switchU&&e.raise("Invalid quantifier"),!0):(e.switchU?this.regexp_eatAtom(e):this.regexp_eatExtendedAtom(e))?(this.regexp_eatQuantifier(e),!0):!1},pp$1.regexp_eatAssertion=function(e){var r=e.pos;if(e.lastAssertionIsQuantifiable=!1,e.eat(94)||e.eat(36))return!0;if(e.eat(92)){if(e.eat(66)||e.eat(98))return!0;e.pos=r}if(e.eat(40)&&e.eat(63)){var o=!1;if(this.options.ecmaVersion>=9&&(o=e.eat(60)),e.eat(61)||e.eat(33))return this.regexp_disjunction(e),e.eat(41)||e.raise("Unterminated group"),e.lastAssertionIsQuantifiable=!o,!0}return e.pos=r,!1},pp$1.regexp_eatQuantifier=function(e,r){return r===void 0&&(r=!1),this.regexp_eatQuantifierPrefix(e,r)?(e.eat(63),!0):!1},pp$1.regexp_eatQuantifierPrefix=function(e,r){return e.eat(42)||e.eat(43)||e.eat(63)||this.regexp_eatBracedQuantifier(e,r)},pp$1.regexp_eatBracedQuantifier=function(e,r){var o=e.pos;if(e.eat(123)){var qe=0,bt=-1;if(this.regexp_eatDecimalDigits(e)&&(qe=e.lastIntValue,e.eat(44)&&this.regexp_eatDecimalDigits(e)&&(bt=e.lastIntValue),e.eat(125)))return bt!==-1&&bt<qe&&!r&&e.raise("numbers out of order in {} quantifier"),!0;e.switchU&&!r&&e.raise("Incomplete quantifier"),e.pos=o}return!1},pp$1.regexp_eatAtom=function(e){return this.regexp_eatPatternCharacters(e)||e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)},pp$1.regexp_eatReverseSolidusAtomEscape=function(e){var r=e.pos;if(e.eat(92)){if(this.regexp_eatAtomEscape(e))return!0;e.pos=r}return!1},pp$1.regexp_eatUncapturingGroup=function(e){var r=e.pos;if(e.eat(40)){if(e.eat(63)){if(this.options.ecmaVersion>=16){var o=this.regexp_eatModifiers(e),qe=e.eat(45);if(o||qe){for(var bt=0;bt<o.length;bt++){var Nt=o.charAt(bt);o.indexOf(Nt,bt+1)>-1&&e.raise("Duplicate regular expression modifiers")}if(qe){var Na=this.regexp_eatModifiers(e);!o&&!Na&&e.current()===58&&e.raise("Invalid regular expression modifiers");for(var ld=0;ld<Na.length;ld++){var fd=Na.charAt(ld);(Na.indexOf(fd,ld+1)>-1||o.indexOf(fd)>-1)&&e.raise("Duplicate regular expression modifiers")}}}}if(e.eat(58)){if(this.regexp_disjunction(e),e.eat(41))return!0;e.raise("Unterminated group")}}e.pos=r}return!1},pp$1.regexp_eatCapturingGroup=function(e){if(e.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(e):e.current()===63&&e.raise("Invalid group"),this.regexp_disjunction(e),e.eat(41))return e.numCapturingParens+=1,!0;e.raise("Unterminated group")}return!1},pp$1.regexp_eatModifiers=function(e){for(var r="",o=0;(o=e.current())!==-1&&isRegularExpressionModifier(o);)r+=codePointToString(o),e.advance();return r};function isRegularExpressionModifier(e){return e===105||e===109||e===115}pp$1.regexp_eatExtendedAtom=function(e){return e.eat(46)||this.regexp_eatReverseSolidusAtomEscape(e)||this.regexp_eatCharacterClass(e)||this.regexp_eatUncapturingGroup(e)||this.regexp_eatCapturingGroup(e)||this.regexp_eatInvalidBracedQuantifier(e)||this.regexp_eatExtendedPatternCharacter(e)},pp$1.regexp_eatInvalidBracedQuantifier=function(e){return this.regexp_eatBracedQuantifier(e,!0)&&e.raise("Nothing to repeat"),!1},pp$1.regexp_eatSyntaxCharacter=function(e){var r=e.current();return isSyntaxCharacter(r)?(e.lastIntValue=r,e.advance(),!0):!1};function isSyntaxCharacter(e){return e===36||e>=40&&e<=43||e===46||e===63||e>=91&&e<=94||e>=123&&e<=125}pp$1.regexp_eatPatternCharacters=function(e){for(var r=e.pos,o=0;(o=e.current())!==-1&&!isSyntaxCharacter(o);)e.advance();return e.pos!==r},pp$1.regexp_eatExtendedPatternCharacter=function(e){var r=e.current();return r!==-1&&r!==36&&!(r>=40&&r<=43)&&r!==46&&r!==63&&r!==91&&r!==94&&r!==124?(e.advance(),!0):!1},pp$1.regexp_groupSpecifier=function(e){if(e.eat(63)){this.regexp_eatGroupName(e)||e.raise("Invalid group");var r=this.options.ecmaVersion>=16,o=e.groupNames[e.lastStringValue];if(o)if(r)for(var qe=0,bt=o;qe<bt.length;qe+=1){var Nt=bt[qe];Nt.separatedFrom(e.branchID)||e.raise("Duplicate capture group name")}else e.raise("Duplicate capture group name");r?(o||(e.groupNames[e.lastStringValue]=[])).push(e.branchID):e.groupNames[e.lastStringValue]=!0}},pp$1.regexp_eatGroupName=function(e){if(e.lastStringValue="",e.eat(60)){if(this.regexp_eatRegExpIdentifierName(e)&&e.eat(62))return!0;e.raise("Invalid capture group name")}return!1},pp$1.regexp_eatRegExpIdentifierName=function(e){if(e.lastStringValue="",this.regexp_eatRegExpIdentifierStart(e)){for(e.lastStringValue+=codePointToString(e.lastIntValue);this.regexp_eatRegExpIdentifierPart(e);)e.lastStringValue+=codePointToString(e.lastIntValue);return!0}return!1},pp$1.regexp_eatRegExpIdentifierStart=function(e){var r=e.pos,o=this.options.ecmaVersion>=11,qe=e.current(o);return e.advance(o),qe===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,o)&&(qe=e.lastIntValue),isRegExpIdentifierStart(qe)?(e.lastIntValue=qe,!0):(e.pos=r,!1)};function isRegExpIdentifierStart(e){return isIdentifierStart(e,!0)||e===36||e===95}pp$1.regexp_eatRegExpIdentifierPart=function(e){var r=e.pos,o=this.options.ecmaVersion>=11,qe=e.current(o);return e.advance(o),qe===92&&this.regexp_eatRegExpUnicodeEscapeSequence(e,o)&&(qe=e.lastIntValue),isRegExpIdentifierPart(qe)?(e.lastIntValue=qe,!0):(e.pos=r,!1)};function isRegExpIdentifierPart(e){return isIdentifierChar(e,!0)||e===36||e===95||e===8204||e===8205}pp$1.regexp_eatAtomEscape=function(e){return this.regexp_eatBackReference(e)||this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)||e.switchN&&this.regexp_eatKGroupName(e)?!0:(e.switchU&&(e.current()===99&&e.raise("Invalid unicode escape"),e.raise("Invalid escape")),!1)},pp$1.regexp_eatBackReference=function(e){var r=e.pos;if(this.regexp_eatDecimalEscape(e)){var o=e.lastIntValue;if(e.switchU)return o>e.maxBackReference&&(e.maxBackReference=o),!0;if(o<=e.numCapturingParens)return!0;e.pos=r}return!1},pp$1.regexp_eatKGroupName=function(e){if(e.eat(107)){if(this.regexp_eatGroupName(e))return e.backReferenceNames.push(e.lastStringValue),!0;e.raise("Invalid named reference")}return!1},pp$1.regexp_eatCharacterEscape=function(e){return this.regexp_eatControlEscape(e)||this.regexp_eatCControlLetter(e)||this.regexp_eatZero(e)||this.regexp_eatHexEscapeSequence(e)||this.regexp_eatRegExpUnicodeEscapeSequence(e,!1)||!e.switchU&&this.regexp_eatLegacyOctalEscapeSequence(e)||this.regexp_eatIdentityEscape(e)},pp$1.regexp_eatCControlLetter=function(e){var r=e.pos;if(e.eat(99)){if(this.regexp_eatControlLetter(e))return!0;e.pos=r}return!1},pp$1.regexp_eatZero=function(e){return e.current()===48&&!isDecimalDigit(e.lookahead())?(e.lastIntValue=0,e.advance(),!0):!1},pp$1.regexp_eatControlEscape=function(e){var r=e.current();return r===116?(e.lastIntValue=9,e.advance(),!0):r===110?(e.lastIntValue=10,e.advance(),!0):r===118?(e.lastIntValue=11,e.advance(),!0):r===102?(e.lastIntValue=12,e.advance(),!0):r===114?(e.lastIntValue=13,e.advance(),!0):!1},pp$1.regexp_eatControlLetter=function(e){var r=e.current();return isControlLetter(r)?(e.lastIntValue=r%32,e.advance(),!0):!1};function isControlLetter(e){return e>=65&&e<=90||e>=97&&e<=122}pp$1.regexp_eatRegExpUnicodeEscapeSequence=function(e,r){r===void 0&&(r=!1);var o=e.pos,qe=r||e.switchU;if(e.eat(117)){if(this.regexp_eatFixedHexDigits(e,4)){var bt=e.lastIntValue;if(qe&&bt>=55296&&bt<=56319){var Nt=e.pos;if(e.eat(92)&&e.eat(117)&&this.regexp_eatFixedHexDigits(e,4)){var Na=e.lastIntValue;if(Na>=56320&&Na<=57343)return e.lastIntValue=(bt-55296)*1024+(Na-56320)+65536,!0}e.pos=Nt,e.lastIntValue=bt}return!0}if(qe&&e.eat(123)&&this.regexp_eatHexDigits(e)&&e.eat(125)&&isValidUnicode(e.lastIntValue))return!0;qe&&e.raise("Invalid unicode escape"),e.pos=o}return!1};function isValidUnicode(e){return e>=0&&e<=1114111}pp$1.regexp_eatIdentityEscape=function(e){if(e.switchU)return this.regexp_eatSyntaxCharacter(e)?!0:e.eat(47)?(e.lastIntValue=47,!0):!1;var r=e.current();return r!==99&&(!e.switchN||r!==107)?(e.lastIntValue=r,e.advance(),!0):!1},pp$1.regexp_eatDecimalEscape=function(e){e.lastIntValue=0;var r=e.current();if(r>=49&&r<=57){do e.lastIntValue=10*e.lastIntValue+(r-48),e.advance();while((r=e.current())>=48&&r<=57);return!0}return!1};var CharSetNone=0,CharSetOk=1,CharSetString=2;pp$1.regexp_eatCharacterClassEscape=function(e){var r=e.current();if(isCharacterClassEscape(r))return e.lastIntValue=-1,e.advance(),CharSetOk;var o=!1;if(e.switchU&&this.options.ecmaVersion>=9&&((o=r===80)||r===112)){e.lastIntValue=-1,e.advance();var qe;if(e.eat(123)&&(qe=this.regexp_eatUnicodePropertyValueExpression(e))&&e.eat(125))return o&&qe===CharSetString&&e.raise("Invalid property name"),qe;e.raise("Invalid property name")}return CharSetNone};function isCharacterClassEscape(e){return e===100||e===68||e===115||e===83||e===119||e===87}pp$1.regexp_eatUnicodePropertyValueExpression=function(e){var r=e.pos;if(this.regexp_eatUnicodePropertyName(e)&&e.eat(61)){var o=e.lastStringValue;if(this.regexp_eatUnicodePropertyValue(e)){var qe=e.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(e,o,qe),CharSetOk}}if(e.pos=r,this.regexp_eatLoneUnicodePropertyNameOrValue(e)){var bt=e.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(e,bt)}return CharSetNone},pp$1.regexp_validateUnicodePropertyNameAndValue=function(e,r,o){hasOwn(e.unicodeProperties.nonBinary,r)||e.raise("Invalid property name"),e.unicodeProperties.nonBinary[r].test(o)||e.raise("Invalid property value")},pp$1.regexp_validateUnicodePropertyNameOrValue=function(e,r){if(e.unicodeProperties.binary.test(r))return CharSetOk;if(e.switchV&&e.unicodeProperties.binaryOfStrings.test(r))return CharSetString;e.raise("Invalid property name")},pp$1.regexp_eatUnicodePropertyName=function(e){var r=0;for(e.lastStringValue="";isUnicodePropertyNameCharacter(r=e.current());)e.lastStringValue+=codePointToString(r),e.advance();return e.lastStringValue!==""};function isUnicodePropertyNameCharacter(e){return isControlLetter(e)||e===95}pp$1.regexp_eatUnicodePropertyValue=function(e){var r=0;for(e.lastStringValue="";isUnicodePropertyValueCharacter(r=e.current());)e.lastStringValue+=codePointToString(r),e.advance();return e.lastStringValue!==""};function isUnicodePropertyValueCharacter(e){return isUnicodePropertyNameCharacter(e)||isDecimalDigit(e)}pp$1.regexp_eatLoneUnicodePropertyNameOrValue=function(e){return this.regexp_eatUnicodePropertyValue(e)},pp$1.regexp_eatCharacterClass=function(e){if(e.eat(91)){var r=e.eat(94),o=this.regexp_classContents(e);return e.eat(93)||e.raise("Unterminated character class"),r&&o===CharSetString&&e.raise("Negated character class may contain strings"),!0}return!1},pp$1.regexp_classContents=function(e){return e.current()===93?CharSetOk:e.switchV?this.regexp_classSetExpression(e):(this.regexp_nonEmptyClassRanges(e),CharSetOk)},pp$1.regexp_nonEmptyClassRanges=function(e){for(;this.regexp_eatClassAtom(e);){var r=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassAtom(e)){var o=e.lastIntValue;e.switchU&&(r===-1||o===-1)&&e.raise("Invalid character class"),r!==-1&&o!==-1&&r>o&&e.raise("Range out of order in character class")}}},pp$1.regexp_eatClassAtom=function(e){var r=e.pos;if(e.eat(92)){if(this.regexp_eatClassEscape(e))return!0;if(e.switchU){var o=e.current();(o===99||isOctalDigit(o))&&e.raise("Invalid class escape"),e.raise("Invalid escape")}e.pos=r}var qe=e.current();return qe!==93?(e.lastIntValue=qe,e.advance(),!0):!1},pp$1.regexp_eatClassEscape=function(e){var r=e.pos;if(e.eat(98))return e.lastIntValue=8,!0;if(e.switchU&&e.eat(45))return e.lastIntValue=45,!0;if(!e.switchU&&e.eat(99)){if(this.regexp_eatClassControlLetter(e))return!0;e.pos=r}return this.regexp_eatCharacterClassEscape(e)||this.regexp_eatCharacterEscape(e)},pp$1.regexp_classSetExpression=function(e){var r=CharSetOk,o;if(!this.regexp_eatClassSetRange(e))if(o=this.regexp_eatClassSetOperand(e)){o===CharSetString&&(r=CharSetString);for(var qe=e.pos;e.eatChars([38,38]);){if(e.current()!==38&&(o=this.regexp_eatClassSetOperand(e))){o!==CharSetString&&(r=CharSetOk);continue}e.raise("Invalid character in character class")}if(qe!==e.pos)return r;for(;e.eatChars([45,45]);)this.regexp_eatClassSetOperand(e)||e.raise("Invalid character in character class");if(qe!==e.pos)return r}else e.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(e)){if(o=this.regexp_eatClassSetOperand(e),!o)return r;o===CharSetString&&(r=CharSetString)}},pp$1.regexp_eatClassSetRange=function(e){var r=e.pos;if(this.regexp_eatClassSetCharacter(e)){var o=e.lastIntValue;if(e.eat(45)&&this.regexp_eatClassSetCharacter(e)){var qe=e.lastIntValue;return o!==-1&&qe!==-1&&o>qe&&e.raise("Range out of order in character class"),!0}e.pos=r}return!1},pp$1.regexp_eatClassSetOperand=function(e){return this.regexp_eatClassSetCharacter(e)?CharSetOk:this.regexp_eatClassStringDisjunction(e)||this.regexp_eatNestedClass(e)},pp$1.regexp_eatNestedClass=function(e){var r=e.pos;if(e.eat(91)){var o=e.eat(94),qe=this.regexp_classContents(e);if(e.eat(93))return o&&qe===CharSetString&&e.raise("Negated character class may contain strings"),qe;e.pos=r}if(e.eat(92)){var bt=this.regexp_eatCharacterClassEscape(e);if(bt)return bt;e.pos=r}return null},pp$1.regexp_eatClassStringDisjunction=function(e){var r=e.pos;if(e.eatChars([92,113])){if(e.eat(123)){var o=this.regexp_classStringDisjunctionContents(e);if(e.eat(125))return o}else e.raise("Invalid escape");e.pos=r}return null},pp$1.regexp_classStringDisjunctionContents=function(e){for(var r=this.regexp_classString(e);e.eat(124);)this.regexp_classString(e)===CharSetString&&(r=CharSetString);return r},pp$1.regexp_classString=function(e){for(var r=0;this.regexp_eatClassSetCharacter(e);)r++;return r===1?CharSetOk:CharSetString},pp$1.regexp_eatClassSetCharacter=function(e){var r=e.pos;if(e.eat(92))return this.regexp_eatCharacterEscape(e)||this.regexp_eatClassSetReservedPunctuator(e)?!0:e.eat(98)?(e.lastIntValue=8,!0):(e.pos=r,!1);var o=e.current();return o<0||o===e.lookahead()&&isClassSetReservedDoublePunctuatorCharacter(o)||isClassSetSyntaxCharacter(o)?!1:(e.advance(),e.lastIntValue=o,!0)};function isClassSetReservedDoublePunctuatorCharacter(e){return e===33||e>=35&&e<=38||e>=42&&e<=44||e===46||e>=58&&e<=64||e===94||e===96||e===126}function isClassSetSyntaxCharacter(e){return e===40||e===41||e===45||e===47||e>=91&&e<=93||e>=123&&e<=125}pp$1.regexp_eatClassSetReservedPunctuator=function(e){var r=e.current();return isClassSetReservedPunctuator(r)?(e.lastIntValue=r,e.advance(),!0):!1};function isClassSetReservedPunctuator(e){return e===33||e===35||e===37||e===38||e===44||e===45||e>=58&&e<=62||e===64||e===96||e===126}pp$1.regexp_eatClassControlLetter=function(e){var r=e.current();return isDecimalDigit(r)||r===95?(e.lastIntValue=r%32,e.advance(),!0):!1},pp$1.regexp_eatHexEscapeSequence=function(e){var r=e.pos;if(e.eat(120)){if(this.regexp_eatFixedHexDigits(e,2))return!0;e.switchU&&e.raise("Invalid escape"),e.pos=r}return!1},pp$1.regexp_eatDecimalDigits=function(e){var r=e.pos,o=0;for(e.lastIntValue=0;isDecimalDigit(o=e.current());)e.lastIntValue=10*e.lastIntValue+(o-48),e.advance();return e.pos!==r};function isDecimalDigit(e){return e>=48&&e<=57}pp$1.regexp_eatHexDigits=function(e){var r=e.pos,o=0;for(e.lastIntValue=0;isHexDigit(o=e.current());)e.lastIntValue=16*e.lastIntValue+hexToInt(o),e.advance();return e.pos!==r};function isHexDigit(e){return e>=48&&e<=57||e>=65&&e<=70||e>=97&&e<=102}function hexToInt(e){return e>=65&&e<=70?10+(e-65):e>=97&&e<=102?10+(e-97):e-48}pp$1.regexp_eatLegacyOctalEscapeSequence=function(e){if(this.regexp_eatOctalDigit(e)){var r=e.lastIntValue;if(this.regexp_eatOctalDigit(e)){var o=e.lastIntValue;r<=3&&this.regexp_eatOctalDigit(e)?e.lastIntValue=r*64+o*8+e.lastIntValue:e.lastIntValue=r*8+o}else e.lastIntValue=r;return!0}return!1},pp$1.regexp_eatOctalDigit=function(e){var r=e.current();return isOctalDigit(r)?(e.lastIntValue=r-48,e.advance(),!0):(e.lastIntValue=0,!1)};function isOctalDigit(e){return e>=48&&e<=55}pp$1.regexp_eatFixedHexDigits=function(e,r){var o=e.pos;e.lastIntValue=0;for(var qe=0;qe<r;++qe){var bt=e.current();if(!isHexDigit(bt))return e.pos=o,!1;e.lastIntValue=16*e.lastIntValue+hexToInt(bt),e.advance()}return!0};var Token=function(r){this.type=r.type,this.value=r.value,this.start=r.start,this.end=r.end,r.options.locations&&(this.loc=new SourceLocation(r,r.startLoc,r.endLoc)),r.options.ranges&&(this.range=[r.start,r.end])},pp=Parser.prototype;pp.next=function(e){!e&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new Token(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()},pp.getToken=function(){return this.next(),new Token(this)},typeof Symbol<"u"&&(pp[Symbol.iterator]=function(){var e=this;return{next:function(){var r=e.getToken();return{done:r.type===types$1.eof,value:r}}}}),pp.nextToken=function(){var e=this.curContext();if((!e||!e.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(types$1.eof);if(e.override)return e.override(this);this.readToken(this.fullCharCodeAtPos())},pp.readToken=function(e){return isIdentifierStart(e,this.options.ecmaVersion>=6)||e===92?this.readWord():this.getTokenFromCode(e)},pp.fullCharCodeAtPos=function(){var e=this.input.charCodeAt(this.pos);if(e<=55295||e>=56320)return e;var r=this.input.charCodeAt(this.pos+1);return r<=56319||r>=57344?e:(e<<10)+r-56613888},pp.skipBlockComment=function(){var e=this.options.onComment&&this.curPosition(),r=this.pos,o=this.input.indexOf("*/",this.pos+=2);if(o===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=o+2,this.options.locations)for(var qe=void 0,bt=r;(qe=nextLineBreak(this.input,bt,this.pos))>-1;)++this.curLine,bt=this.lineStart=qe;this.options.onComment&&this.options.onComment(!0,this.input.slice(r+2,o),r,this.pos,e,this.curPosition())},pp.skipLineComment=function(e){for(var r=this.pos,o=this.options.onComment&&this.curPosition(),qe=this.input.charCodeAt(this.pos+=e);this.pos<this.input.length&&!isNewLine(qe);)qe=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(r+e,this.pos),r,this.pos,o,this.curPosition())},pp.skipSpace=function(){e:for(;this.pos<this.input.length;){var e=this.input.charCodeAt(this.pos);switch(e){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(e>8&&e<14||e>=5760&&nonASCIIwhitespace.test(String.fromCharCode(e)))++this.pos;else break e}}},pp.finishToken=function(e,r){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var o=this.type;this.type=e,this.value=r,this.updateContext(o)},pp.readToken_dot=function(){var e=this.input.charCodeAt(this.pos+1);if(e>=48&&e<=57)return this.readNumber(!0);var r=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&e===46&&r===46?(this.pos+=3,this.finishToken(types$1.ellipsis)):(++this.pos,this.finishToken(types$1.dot))},pp.readToken_slash=function(){var e=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.slash,1)},pp.readToken_mult_modulo_exp=function(e){var r=this.input.charCodeAt(this.pos+1),o=1,qe=e===42?types$1.star:types$1.modulo;return this.options.ecmaVersion>=7&&e===42&&r===42&&(++o,qe=types$1.starstar,r=this.input.charCodeAt(this.pos+2)),r===61?this.finishOp(types$1.assign,o+1):this.finishOp(qe,o)},pp.readToken_pipe_amp=function(e){var r=this.input.charCodeAt(this.pos+1);if(r===e){if(this.options.ecmaVersion>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(types$1.assign,3)}return this.finishOp(e===124?types$1.logicalOR:types$1.logicalAND,2)}return r===61?this.finishOp(types$1.assign,2):this.finishOp(e===124?types$1.bitwiseOR:types$1.bitwiseAND,1)},pp.readToken_caret=function(){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.bitwiseXOR,1)},pp.readToken_plus_min=function(e){var r=this.input.charCodeAt(this.pos+1);return r===e?r===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||lineBreak.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(types$1.incDec,2):r===61?this.finishOp(types$1.assign,2):this.finishOp(types$1.plusMin,1)},pp.readToken_lt_gt=function(e){var r=this.input.charCodeAt(this.pos+1),o=1;return r===e?(o=e===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+o)===61?this.finishOp(types$1.assign,o+1):this.finishOp(types$1.bitShift,o)):r===33&&e===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(r===61&&(o=2),this.finishOp(types$1.relational,o))},pp.readToken_eq_excl=function(e){var r=this.input.charCodeAt(this.pos+1);return r===61?this.finishOp(types$1.equality,this.input.charCodeAt(this.pos+2)===61?3:2):e===61&&r===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(types$1.arrow)):this.finishOp(e===61?types$1.eq:types$1.prefix,1)},pp.readToken_question=function(){var e=this.options.ecmaVersion;if(e>=11){var r=this.input.charCodeAt(this.pos+1);if(r===46){var o=this.input.charCodeAt(this.pos+2);if(o<48||o>57)return this.finishOp(types$1.questionDot,2)}if(r===63){if(e>=12){var qe=this.input.charCodeAt(this.pos+2);if(qe===61)return this.finishOp(types$1.assign,3)}return this.finishOp(types$1.coalesce,2)}}return this.finishOp(types$1.question,1)},pp.readToken_numberSign=function(){var e=this.options.ecmaVersion,r=35;if(e>=13&&(++this.pos,r=this.fullCharCodeAtPos(),isIdentifierStart(r,!0)||r===92))return this.finishToken(types$1.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+codePointToString(r)+"'")},pp.getTokenFromCode=function(e){switch(e){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(types$1.parenL);case 41:return++this.pos,this.finishToken(types$1.parenR);case 59:return++this.pos,this.finishToken(types$1.semi);case 44:return++this.pos,this.finishToken(types$1.comma);case 91:return++this.pos,this.finishToken(types$1.bracketL);case 93:return++this.pos,this.finishToken(types$1.bracketR);case 123:return++this.pos,this.finishToken(types$1.braceL);case 125:return++this.pos,this.finishToken(types$1.braceR);case 58:return++this.pos,this.finishToken(types$1.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(types$1.backQuote);case 48:var r=this.input.charCodeAt(this.pos+1);if(r===120||r===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(r===111||r===79)return this.readRadixNumber(8);if(r===98||r===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(e);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(e);case 124:case 38:return this.readToken_pipe_amp(e);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(e);case 60:case 62:return this.readToken_lt_gt(e);case 61:case 33:return this.readToken_eq_excl(e);case 63:return this.readToken_question();case 126:return this.finishOp(types$1.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+codePointToString(e)+"'")},pp.finishOp=function(e,r){var o=this.input.slice(this.pos,this.pos+r);return this.pos+=r,this.finishToken(e,o)},pp.readRegexp=function(){for(var e,r,o=this.pos;;){this.pos>=this.input.length&&this.raise(o,"Unterminated regular expression");var qe=this.input.charAt(this.pos);if(lineBreak.test(qe)&&this.raise(o,"Unterminated regular expression"),e)e=!1;else{if(qe==="[")r=!0;else if(qe==="]"&&r)r=!1;else if(qe==="/"&&!r)break;e=qe==="\\"}++this.pos}var bt=this.input.slice(o,this.pos);++this.pos;var Nt=this.pos,Na=this.readWord1();this.containsEsc&&this.unexpected(Nt);var ld=this.regexpState||(this.regexpState=new RegExpValidationState(this));ld.reset(o,bt,Na),this.validateRegExpFlags(ld),this.validateRegExpPattern(ld);var fd=null;try{fd=new RegExp(bt,Na)}catch{}return this.finishToken(types$1.regexp,{pattern:bt,flags:Na,value:fd})},pp.readInt=function(e,r,o){for(var qe=this.options.ecmaVersion>=12&&r===void 0,bt=o&&this.input.charCodeAt(this.pos)===48,Nt=this.pos,Na=0,ld=0,fd=0,hd=r??1/0;fd<hd;++fd,++this.pos){var dd=this.input.charCodeAt(this.pos),gd=void 0;if(qe&&dd===95){bt&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),ld===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),fd===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),ld=dd;continue}if(dd>=97?gd=dd-97+10:dd>=65?gd=dd-65+10:dd>=48&&dd<=57?gd=dd-48:gd=1/0,gd>=e)break;ld=dd,Na=Na*e+gd}return qe&&ld===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===Nt||r!=null&&this.pos-Nt!==r?null:Na};function stringToNumber(e,r){return r?parseInt(e,8):parseFloat(e.replace(/_/g,""))}function stringToBigInt(e){return typeof BigInt!="function"?null:BigInt(e.replace(/_/g,""))}pp.readRadixNumber=function(e){var r=this.pos;this.pos+=2;var o=this.readInt(e);return o==null&&this.raise(this.start+2,"Expected number in radix "+e),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(o=stringToBigInt(this.input.slice(r,this.pos)),++this.pos):isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,o)},pp.readNumber=function(e){var r=this.pos;!e&&this.readInt(10,void 0,!0)===null&&this.raise(r,"Invalid number");var o=this.pos-r>=2&&this.input.charCodeAt(r)===48;o&&this.strict&&this.raise(r,"Invalid number");var qe=this.input.charCodeAt(this.pos);if(!o&&!e&&this.options.ecmaVersion>=11&&qe===110){var bt=stringToBigInt(this.input.slice(r,this.pos));return++this.pos,isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(types$1.num,bt)}o&&/[89]/.test(this.input.slice(r,this.pos))&&(o=!1),qe===46&&!o&&(++this.pos,this.readInt(10),qe=this.input.charCodeAt(this.pos)),(qe===69||qe===101)&&!o&&(qe=this.input.charCodeAt(++this.pos),(qe===43||qe===45)&&++this.pos,this.readInt(10)===null&&this.raise(r,"Invalid number")),isIdentifierStart(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var Nt=stringToNumber(this.input.slice(r,this.pos),o);return this.finishToken(types$1.num,Nt)},pp.readCodePoint=function(){var e=this.input.charCodeAt(this.pos),r;if(e===123){this.options.ecmaVersion<6&&this.unexpected();var o=++this.pos;r=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,r>1114111&&this.invalidStringToken(o,"Code point out of bounds")}else r=this.readHexChar(4);return r},pp.readString=function(e){for(var r="",o=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var qe=this.input.charCodeAt(this.pos);if(qe===e)break;qe===92?(r+=this.input.slice(o,this.pos),r+=this.readEscapedChar(!1),o=this.pos):qe===8232||qe===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(isNewLine(qe)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return r+=this.input.slice(o,this.pos++),this.finishToken(types$1.string,r)};var INVALID_TEMPLATE_ESCAPE_ERROR={};pp.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(e){if(e===INVALID_TEMPLATE_ESCAPE_ERROR)this.readInvalidTemplateToken();else throw e}this.inTemplateElement=!1},pp.invalidStringToken=function(e,r){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw INVALID_TEMPLATE_ESCAPE_ERROR;this.raise(e,r)},pp.readTmplToken=function(){for(var e="",r=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var o=this.input.charCodeAt(this.pos);if(o===96||o===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===types$1.template||this.type===types$1.invalidTemplate)?o===36?(this.pos+=2,this.finishToken(types$1.dollarBraceL)):(++this.pos,this.finishToken(types$1.backQuote)):(e+=this.input.slice(r,this.pos),this.finishToken(types$1.template,e));if(o===92)e+=this.input.slice(r,this.pos),e+=this.readEscapedChar(!0),r=this.pos;else if(isNewLine(o)){switch(e+=this.input.slice(r,this.pos),++this.pos,o){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:e+=`
`;break;default:e+=String.fromCharCode(o);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),r=this.pos}else++this.pos}},pp.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(types$1.invalidTemplate,this.input.slice(this.start,this.pos));case"\r":this.input[this.pos+1]===`
`&&++this.pos;case`
`:case"\u2028":case"\u2029":++this.curLine,this.lineStart=this.pos+1;break}this.raise(this.start,"Unterminated template")},pp.readEscapedChar=function(e){var r=this.input.charCodeAt(++this.pos);switch(++this.pos,r){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return codePointToString(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),e){var o=this.pos-1;this.invalidStringToken(o,"Invalid escape sequence in template string")}default:if(r>=48&&r<=55){var qe=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],bt=parseInt(qe,8);return bt>255&&(qe=qe.slice(0,-1),bt=parseInt(qe,8)),this.pos+=qe.length-1,r=this.input.charCodeAt(this.pos),(qe!=="0"||r===56||r===57)&&(this.strict||e)&&this.invalidStringToken(this.pos-1-qe.length,e?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(bt)}return isNewLine(r)?(this.options.locations&&(this.lineStart=this.pos,++this.curLine),""):String.fromCharCode(r)}},pp.readHexChar=function(e){var r=this.pos,o=this.readInt(16,e);return o===null&&this.invalidStringToken(r,"Bad character escape sequence"),o},pp.readWord1=function(){this.containsEsc=!1;for(var e="",r=!0,o=this.pos,qe=this.options.ecmaVersion>=6;this.pos<this.input.length;){var bt=this.fullCharCodeAtPos();if(isIdentifierChar(bt,qe))this.pos+=bt<=65535?1:2;else if(bt===92){this.containsEsc=!0,e+=this.input.slice(o,this.pos);var Nt=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var Na=this.readCodePoint();(r?isIdentifierStart:isIdentifierChar)(Na,qe)||this.invalidStringToken(Nt,"Invalid Unicode escape"),e+=codePointToString(Na),o=this.pos}else break;r=!1}return e+this.input.slice(o,this.pos)},pp.readWord=function(){var e=this.readWord1(),r=types$1.name;return this.keywords.test(e)&&(r=keywords[e]),this.finishToken(r,e)};var version$1="8.15.0";Parser.acorn={Parser,version:version$1,defaultOptions,Position,SourceLocation,getLineInfo,Node,TokenType,tokTypes:types$1,keywordTypes:keywords,TokContext,tokContexts:types,isIdentifierChar,isIdentifierStart,Token,isNewLine,lineBreak,lineBreakG,nonASCIIwhitespace};function parse(e,r){return Parser.parse(e,r)}var escodegen={},estraverse={},hasRequiredEstraverse;function requireEstraverse(){return hasRequiredEstraverse||(hasRequiredEstraverse=1,(function(e){(function r(o){var qe,bt,Nt,Na,ld,fd;function hd(Ed){var Gd={},Qd,zd;for(Qd in Ed)Ed.hasOwnProperty(Qd)&&(zd=Ed[Qd],typeof zd=="object"&&zd!==null?Gd[Qd]=hd(zd):Gd[Qd]=zd);return Gd}function dd(Ed,Gd){var Qd,zd,nm,qd;for(zd=Ed.length,nm=0;zd;)Qd=zd>>>1,qd=nm+Qd,Gd(Ed[qd])?zd=Qd:(nm=qd+1,zd-=Qd+1);return nm}qe={AssignmentExpression:"AssignmentExpression",AssignmentPattern:"AssignmentPattern",ArrayExpression:"ArrayExpression",ArrayPattern:"ArrayPattern",ArrowFunctionExpression:"ArrowFunctionExpression",AwaitExpression:"AwaitExpression",BlockStatement:"BlockStatement",BinaryExpression:"BinaryExpression",BreakStatement:"BreakStatement",CallExpression:"CallExpression",CatchClause:"CatchClause",ChainExpression:"ChainExpression",ClassBody:"ClassBody",ClassDeclaration:"ClassDeclaration",ClassExpression:"ClassExpression",ComprehensionBlock:"ComprehensionBlock",ComprehensionExpression:"ComprehensionExpression",ConditionalExpression:"ConditionalExpression",ContinueStatement:"ContinueStatement",DebuggerStatement:"DebuggerStatement",DirectiveStatement:"DirectiveStatement",DoWhileStatement:"DoWhileStatement",EmptyStatement:"EmptyStatement",ExportAllDeclaration:"ExportAllDeclaration",ExportDefaultDeclaration:"ExportDefaultDeclaration",ExportNamedDeclaration:"ExportNamedDeclaration",ExportSpecifier:"ExportSpecifier",ExpressionStatement:"ExpressionStatement",ForStatement:"ForStatement",ForInStatement:"ForInStatement",ForOfStatement:"ForOfStatement",FunctionDeclaration:"FunctionDeclaration",FunctionExpression:"FunctionExpression",GeneratorExpression:"GeneratorExpression",Identifier:"Identifier",IfStatement:"IfStatement",ImportExpression:"ImportExpression",ImportDeclaration:"ImportDeclaration",ImportDefaultSpecifier:"ImportDefaultSpecifier",ImportNamespaceSpecifier:"ImportNamespaceSpecifier",ImportSpecifier:"ImportSpecifier",Literal:"Literal",LabeledStatement:"LabeledStatement",LogicalExpression:"LogicalExpression",MemberExpression:"MemberExpression",MetaProperty:"MetaProperty",MethodDefinition:"MethodDefinition",ModuleSpecifier:"ModuleSpecifier",NewExpression:"NewExpression",ObjectExpression:"ObjectExpression",ObjectPattern:"ObjectPattern",PrivateIdentifier:"PrivateIdentifier",Program:"Program",Property:"Property",PropertyDefinition:"PropertyDefinition",RestElement:"RestElement",ReturnStatement:"ReturnStatement",SequenceExpression:"SequenceExpression",SpreadElement:"SpreadElement",Super:"Super",SwitchStatement:"SwitchStatement",SwitchCase:"SwitchCase",TaggedTemplateExpression:"TaggedTemplateExpression",TemplateElement:"TemplateElement",TemplateLiteral:"TemplateLiteral",ThisExpression:"ThisExpression",ThrowStatement:"ThrowStatement",TryStatement:"TryStatement",UnaryExpression:"UnaryExpression",UpdateExpression:"UpdateExpression",VariableDeclaration:"VariableDeclaration",VariableDeclarator:"VariableDeclarator",WhileStatement:"WhileStatement",WithStatement:"WithStatement",YieldExpression:"YieldExpression"},Nt={AssignmentExpression:["left","right"],AssignmentPattern:["left","right"],ArrayExpression:["elements"],ArrayPattern:["elements"],ArrowFunctionExpression:["params","body"],AwaitExpression:["argument"],BlockStatement:["body"],BinaryExpression:["left","right"],BreakStatement:["label"],CallExpression:["callee","arguments"],CatchClause:["param","body"],ChainExpression:["expression"],ClassBody:["body"],ClassDeclaration:["id","superClass","body"],ClassExpression:["id","superClass","body"],ComprehensionBlock:["left","right"],ComprehensionExpression:["blocks","filter","body"],ConditionalExpression:["test","consequent","alternate"],ContinueStatement:["label"],DebuggerStatement:[],DirectiveStatement:[],DoWhileStatement:["body","test"],EmptyStatement:[],ExportAllDeclaration:["source"],ExportDefaultDeclaration:["declaration"],ExportNamedDeclaration:["declaration","specifiers","source"],ExportSpecifier:["exported","local"],ExpressionStatement:["expression"],ForStatement:["init","test","update","body"],ForInStatement:["left","right","body"],ForOfStatement:["left","right","body"],FunctionDeclaration:["id","params","body"],FunctionExpression:["id","params","body"],GeneratorExpression:["blocks","filter","body"],Identifier:[],IfStatement:["test","consequent","alternate"],ImportExpression:["source"],ImportDeclaration:["specifiers","source"],ImportDefaultSpecifier:["local"],ImportNamespaceSpecifier:["local"],ImportSpecifier:["imported","local"],Literal:[],LabeledStatement:["label","body"],LogicalExpression:["left","right"],MemberExpression:["object","property"],MetaProperty:["meta","property"],MethodDefinition:["key","value"],ModuleSpecifier:[],NewExpression:["callee","arguments"],ObjectExpression:["properties"],ObjectPattern:["properties"],PrivateIdentifier:[],Program:["body"],Property:["key","value"],PropertyDefinition:["key","value"],RestElement:["argument"],ReturnStatement:["argument"],SequenceExpression:["expressions"],SpreadElement:["argument"],Super:[],SwitchStatement:["discriminant","cases"],SwitchCase:["test","consequent"],TaggedTemplateExpression:["tag","quasi"],TemplateElement:[],TemplateLiteral:["quasis","expressions"],ThisExpression:[],ThrowStatement:["argument"],TryStatement:["block","handler","finalizer"],UnaryExpression:["argument"],UpdateExpression:["argument"],VariableDeclaration:["declarations"],VariableDeclarator:["id","init"],WhileStatement:["test","body"],WithStatement:["object","body"],YieldExpression:["argument"]},Na={},ld={},fd={},bt={Break:Na,Skip:ld,Remove:fd};function gd(Ed,Gd){this.parent=Ed,this.key=Gd}gd.prototype.replace=function(Gd){this.parent[this.key]=Gd},gd.prototype.remove=function(){return Array.isArray(this.parent)?(this.parent.splice(this.key,1),!0):(this.replace(null),!1)};function yd(Ed,Gd,Qd,zd){this.node=Ed,this.path=Gd,this.wrap=Qd,this.ref=zd}function _d(){}_d.prototype.path=function(){var Gd,Qd,zd,nm,qd,dm;function im(sm,mm){if(Array.isArray(mm))for(zd=0,nm=mm.length;zd<nm;++zd)sm.push(mm[zd]);else sm.push(mm)}if(!this.__current.path)return null;for(qd=[],Gd=2,Qd=this.__leavelist.length;Gd<Qd;++Gd)dm=this.__leavelist[Gd],im(qd,dm.path);return im(qd,this.__current.path),qd},_d.prototype.type=function(){var Ed=this.current();return Ed.type||this.__current.wrap},_d.prototype.parents=function(){var Gd,Qd,zd;for(zd=[],Gd=1,Qd=this.__leavelist.length;Gd<Qd;++Gd)zd.push(this.__leavelist[Gd].node);return zd},_d.prototype.current=function(){return this.__current.node},_d.prototype.__execute=function(Gd,Qd){var zd,nm;return nm=void 0,zd=this.__current,this.__current=Qd,this.__state=null,Gd&&(nm=Gd.call(this,Qd.node,this.__leavelist[this.__leavelist.length-1].node)),this.__current=zd,nm},_d.prototype.notify=function(Gd){this.__state=Gd},_d.prototype.skip=function(){this.notify(ld)},_d.prototype.break=function(){this.notify(Na)},_d.prototype.remove=function(){this.notify(fd)},_d.prototype.__initialize=function(Ed,Gd){this.visitor=Gd,this.root=Ed,this.__worklist=[],this.__leavelist=[],this.__current=null,this.__state=null,this.__fallback=null,Gd.fallback==="iteration"?this.__fallback=Object.keys:typeof Gd.fallback=="function"&&(this.__fallback=Gd.fallback),this.__keys=Nt,Gd.keys&&(this.__keys=Object.assign(Object.create(this.__keys),Gd.keys))};function Ad(Ed){return Ed==null?!1:typeof Ed=="object"&&typeof Ed.type=="string"}function xd(Ed,Gd){return(Ed===qe.ObjectExpression||Ed===qe.ObjectPattern)&&Gd==="properties"}function Cd(Ed,Gd){for(var Qd=Ed.length-1;Qd>=0;--Qd)if(Ed[Qd].node===Gd)return!0;return!1}_d.prototype.traverse=function(Gd,Qd){var zd,nm,qd,dm,im,sm,mm,Mm,Om,km,vm,t0;for(this.__initialize(Gd,Qd),t0={},zd=this.__worklist,nm=this.__leavelist,zd.push(new yd(Gd,null,null,null)),nm.push(new yd(null,null,null,null));zd.length;){if(qd=zd.pop(),qd===t0){if(qd=nm.pop(),sm=this.__execute(Qd.leave,qd),this.__state===Na||sm===Na)return;continue}if(qd.node){if(sm=this.__execute(Qd.enter,qd),this.__state===Na||sm===Na)return;if(zd.push(t0),nm.push(qd),this.__state===ld||sm===ld)continue;if(dm=qd.node,im=dm.type||qd.wrap,km=this.__keys[im],!km)if(this.__fallback)km=this.__fallback(dm);else throw new Error("Unknown node type "+im+".");for(Mm=km.length;(Mm-=1)>=0;)if(mm=km[Mm],vm=dm[mm],!!vm){if(Array.isArray(vm)){for(Om=vm.length;(Om-=1)>=0;)if(vm[Om]&&!Cd(nm,vm[Om])){if(xd(im,km[Mm]))qd=new yd(vm[Om],[mm,Om],"Property",null);else if(Ad(vm[Om]))qd=new yd(vm[Om],[mm,Om],null,null);else continue;zd.push(qd)}}else if(Ad(vm)){if(Cd(nm,vm))continue;zd.push(new yd(vm,mm,null,null))}}}}},_d.prototype.replace=function(Gd,Qd){var zd,nm,qd,dm,im,sm,mm,Mm,Om,km,vm,t0,Cm;function Zm(cm){var Xm,Hd,r0,jm;if(cm.ref.remove()){for(Hd=cm.ref.key,jm=cm.ref.parent,Xm=zd.length;Xm--;)if(r0=zd[Xm],r0.ref&&r0.ref.parent===jm){if(r0.ref.key<Hd)break;--r0.ref.key}}}for(this.__initialize(Gd,Qd),vm={},zd=this.__worklist,nm=this.__leavelist,t0={root:Gd},sm=new yd(Gd,null,null,new gd(t0,"root")),zd.push(sm),nm.push(sm);zd.length;){if(sm=zd.pop(),sm===vm){if(sm=nm.pop(),im=this.__execute(Qd.leave,sm),im!==void 0&&im!==Na&&im!==ld&&im!==fd&&sm.ref.replace(im),(this.__state===fd||im===fd)&&Zm(sm),this.__state===Na||im===Na)return t0.root;continue}if(im=this.__execute(Qd.enter,sm),im!==void 0&&im!==Na&&im!==ld&&im!==fd&&(sm.ref.replace(im),sm.node=im),(this.__state===fd||im===fd)&&(Zm(sm),sm.node=null),this.__state===Na||im===Na)return t0.root;if(qd=sm.node,!!qd&&(zd.push(vm),nm.push(sm),!(this.__state===ld||im===ld))){if(dm=qd.type||sm.wrap,Om=this.__keys[dm],!Om)if(this.__fallback)Om=this.__fallback(qd);else throw new Error("Unknown node type "+dm+".");for(mm=Om.length;(mm-=1)>=0;)if(Cm=Om[mm],km=qd[Cm],!!km)if(Array.isArray(km)){for(Mm=km.length;(Mm-=1)>=0;)if(km[Mm]){if(xd(dm,Om[mm]))sm=new yd(km[Mm],[Cm,Mm],"Property",new gd(km,Mm));else if(Ad(km[Mm]))sm=new yd(km[Mm],[Cm,Mm],null,new gd(km,Mm));else continue;zd.push(sm)}}else Ad(km)&&zd.push(new yd(km,Cm,null,new gd(qd,Cm)))}}return t0.root};function Dd(Ed,Gd){var Qd=new _d;return Qd.traverse(Ed,Gd)}function Td(Ed,Gd){var Qd=new _d;return Qd.replace(Ed,Gd)}function Bd(Ed,Gd){var Qd;return Qd=dd(Gd,function(nm){return nm.range[0]>Ed.range[0]}),Ed.extendedRange=[Ed.range[0],Ed.range[1]],Qd!==Gd.length&&(Ed.extendedRange[1]=Gd[Qd].range[0]),Qd-=1,Qd>=0&&(Ed.extendedRange[0]=Gd[Qd].range[1]),Ed}function Md(Ed,Gd,Qd){var zd=[],nm,qd,dm,im;if(!Ed.range)throw new Error("attachComments needs range information");if(!Qd.length){if(Gd.length){for(dm=0,qd=Gd.length;dm<qd;dm+=1)nm=hd(Gd[dm]),nm.extendedRange=[0,Ed.range[0]],zd.push(nm);Ed.leadingComments=zd}return Ed}for(dm=0,qd=Gd.length;dm<qd;dm+=1)zd.push(Bd(hd(Gd[dm]),Qd));return im=0,Dd(Ed,{enter:function(sm){for(var mm;im<zd.length&&(mm=zd[im],!(mm.extendedRange[1]>sm.range[0]));)mm.extendedRange[1]===sm.range[0]?(sm.leadingComments||(sm.leadingComments=[]),sm.leadingComments.push(mm),zd.splice(im,1)):im+=1;if(im===zd.length)return bt.Break;if(zd[im].extendedRange[0]>sm.range[1])return bt.Skip}}),im=0,Dd(Ed,{leave:function(sm){for(var mm;im<zd.length&&(mm=zd[im],!(sm.range[1]<mm.extendedRange[0]));)sm.range[1]===mm.extendedRange[0]?(sm.trailingComments||(sm.trailingComments=[]),sm.trailingComments.push(mm),zd.splice(im,1)):im+=1;if(im===zd.length)return bt.Break;if(zd[im].extendedRange[0]>sm.range[1])return bt.Skip}}),Ed}return o.Syntax=qe,o.traverse=Dd,o.replace=Td,o.attachComments=Md,o.VisitorKeys=Nt,o.VisitorOption=bt,o.Controller=_d,o.cloneEnvironment=function(){return r({})},o})(e)})(estraverse)),estraverse}var utils={},ast={exports:{}},hasRequiredAst;function requireAst(){return hasRequiredAst||(hasRequiredAst=1,(function(){function e(Na){if(Na==null)return!1;switch(Na.type){case"ArrayExpression":case"AssignmentExpression":case"BinaryExpression":case"CallExpression":case"ConditionalExpression":case"FunctionExpression":case"Identifier":case"Literal":case"LogicalExpression":case"MemberExpression":case"NewExpression":case"ObjectExpression":case"SequenceExpression":case"ThisExpression":case"UnaryExpression":case"UpdateExpression":return!0}return!1}function r(Na){if(Na==null)return!1;switch(Na.type){case"DoWhileStatement":case"ForInStatement":case"ForStatement":case"WhileStatement":return!0}return!1}function o(Na){if(Na==null)return!1;switch(Na.type){case"BlockStatement":case"BreakStatement":case"ContinueStatement":case"DebuggerStatement":case"DoWhileStatement":case"EmptyStatement":case"ExpressionStatement":case"ForInStatement":case"ForStatement":case"IfStatement":case"LabeledStatement":case"ReturnStatement":case"SwitchStatement":case"ThrowStatement":case"TryStatement":case"VariableDeclaration":case"WhileStatement":case"WithStatement":return!0}return!1}function qe(Na){return o(Na)||Na!=null&&Na.type==="FunctionDeclaration"}function bt(Na){switch(Na.type){case"IfStatement":return Na.alternate!=null?Na.alternate:Na.consequent;case"LabeledStatement":case"ForStatement":case"ForInStatement":case"WhileStatement":case"WithStatement":return Na.body}return null}function Nt(Na){var ld;if(Na.type!=="IfStatement"||Na.alternate==null)return!1;ld=Na.consequent;do{if(ld.type==="IfStatement"&&ld.alternate==null)return!0;ld=bt(ld)}while(ld);return!1}ast.exports={isExpression:e,isStatement:o,isIterationStatement:r,isSourceElement:qe,isProblematicIfStatement:Nt,trailingStatement:bt}})()),ast.exports}var code={exports:{}},hasRequiredCode;function requireCode(){return hasRequiredCode||(hasRequiredCode=1,(function(){var e,r,o,qe,bt,Nt;r={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/,NonAsciiIdentifierPart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19D9\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u2E2F\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099\u309A\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]/},e={NonAsciiIdentifierStart:/[\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]/,NonAsciiIdentifierPart:/[\xAA\xB5\xB7\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0300-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u0483-\u0487\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u05D0-\u05EA\u05F0-\u05F2\u0610-\u061A\u0620-\u0669\u066E-\u06D3\u06D5-\u06DC\u06DF-\u06E8\u06EA-\u06FC\u06FF\u0710-\u074A\u074D-\u07B1\u07C0-\u07F5\u07FA\u0800-\u082D\u0840-\u085B\u08A0-\u08B4\u08B6-\u08BD\u08D4-\u08E1\u08E3-\u0963\u0966-\u096F\u0971-\u0983\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BC-\u09C4\u09C7\u09C8\u09CB-\u09CE\u09D7\u09DC\u09DD\u09DF-\u09E3\u09E6-\u09F1\u0A01-\u0A03\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A59-\u0A5C\u0A5E\u0A66-\u0A75\u0A81-\u0A83\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABC-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AD0\u0AE0-\u0AE3\u0AE6-\u0AEF\u0AF9\u0B01-\u0B03\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3C-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B5C\u0B5D\u0B5F-\u0B63\u0B66-\u0B6F\u0B71\u0B82\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD0\u0BD7\u0BE6-\u0BEF\u0C00-\u0C03\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C58-\u0C5A\u0C60-\u0C63\u0C66-\u0C6F\u0C80-\u0C83\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBC-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CDE\u0CE0-\u0CE3\u0CE6-\u0CEF\u0CF1\u0CF2\u0D01-\u0D03\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D-\u0D44\u0D46-\u0D48\u0D4A-\u0D4E\u0D54-\u0D57\u0D5F-\u0D63\u0D66-\u0D6F\u0D7A-\u0D7F\u0D82\u0D83\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E01-\u0E3A\u0E40-\u0E4E\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB9\u0EBB-\u0EBD\u0EC0-\u0EC4\u0EC6\u0EC8-\u0ECD\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E-\u0F47\u0F49-\u0F6C\u0F71-\u0F84\u0F86-\u0F97\u0F99-\u0FBC\u0FC6\u1000-\u1049\u1050-\u109D\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u135D-\u135F\u1369-\u1371\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u170C\u170E-\u1714\u1720-\u1734\u1740-\u1753\u1760-\u176C\u176E-\u1770\u1772\u1773\u1780-\u17D3\u17D7\u17DC\u17DD\u17E0-\u17E9\u180B-\u180D\u1810-\u1819\u1820-\u1877\u1880-\u18AA\u18B0-\u18F5\u1900-\u191E\u1920-\u192B\u1930-\u193B\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A1B\u1A20-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AA7\u1AB0-\u1ABD\u1B00-\u1B4B\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1BF3\u1C00-\u1C37\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1CD0-\u1CD2\u1CD4-\u1CF6\u1CF8\u1CF9\u1D00-\u1DF5\u1DFB-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u200C\u200D\u203F\u2040\u2054\u2071\u207F\u2090-\u209C\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D7F-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2DE0-\u2DFF\u3005-\u3007\u3021-\u302F\u3031-\u3035\u3038-\u303C\u3041-\u3096\u3099-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312D\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FD5\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66F\uA674-\uA67D\uA67F-\uA6F1\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA827\uA840-\uA873\uA880-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F7\uA8FB\uA8FD\uA900-\uA92D\uA930-\uA953\uA960-\uA97C\uA980-\uA9C0\uA9CF-\uA9D9\uA9E0-\uA9FE\uAA00-\uAA36\uAA40-\uAA4D\uAA50-\uAA59\uAA60-\uAA76\uAA7A-\uAAC2\uAADB-\uAADD\uAAE0-\uAAEF\uAAF2-\uAAF6\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABEA\uABEC\uABED\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF3F\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD40-\uDD74\uDDFD\uDE80-\uDE9C\uDEA0-\uDED0\uDEE0\uDF00-\uDF1F\uDF30-\uDF4A\uDF50-\uDF7A\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00-\uDE03\uDE05\uDE06\uDE0C-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE38-\uDE3A\uDE3F\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE6\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC00-\uDC46\uDC66-\uDC6F\uDC7F-\uDCBA\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD00-\uDD34\uDD36-\uDD3F\uDD50-\uDD73\uDD76\uDD80-\uDDC4\uDDCA-\uDDCC\uDDD0-\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE37\uDE3E\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEEA\uDEF0-\uDEF9\uDF00-\uDF03\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3C-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF50\uDF57\uDF5D-\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDC00-\uDC4A\uDC50-\uDC59\uDC80-\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDB5\uDDB8-\uDDC0\uDDD8-\uDDDD\uDE00-\uDE40\uDE44\uDE50-\uDE59\uDE80-\uDEB7\uDEC0-\uDEC9\uDF00-\uDF19\uDF1D-\uDF2B\uDF30-\uDF39]|\uD806[\uDCA0-\uDCE9\uDCFF\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC36\uDC38-\uDC40\uDC50-\uDC59\uDC72-\uDC8F\uDC92-\uDCA7\uDCA9-\uDCB6]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDED0-\uDEED\uDEF0-\uDEF4\uDF00-\uDF36\uDF40-\uDF43\uDF50-\uDF59\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50-\uDF7E\uDF8F-\uDF9F\uDFE0]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00\uDC01]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD836[\uDE00-\uDE36\uDE3B-\uDE6C\uDE75\uDE84\uDE9B-\uDE9F\uDEA1-\uDEAF]|\uD838[\uDC00-\uDC06\uDC08-\uDC18\uDC1B-\uDC21\uDC23\uDC24\uDC26-\uDC2A]|\uD83A[\uDC00-\uDCC4\uDCD0-\uDCD6\uDD00-\uDD4A\uDD50-\uDD59]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1]|\uD87E[\uDC00-\uDE1D]|\uDB40[\uDD00-\uDDEF]/};function Na(Cd){return 48<=Cd&&Cd<=57}function ld(Cd){return 48<=Cd&&Cd<=57||97<=Cd&&Cd<=102||65<=Cd&&Cd<=70}function fd(Cd){return Cd>=48&&Cd<=55}o=[5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function hd(Cd){return Cd===32||Cd===9||Cd===11||Cd===12||Cd===160||Cd>=5760&&o.indexOf(Cd)>=0}function dd(Cd){return Cd===10||Cd===13||Cd===8232||Cd===8233}function gd(Cd){if(Cd<=65535)return String.fromCharCode(Cd);var Dd=String.fromCharCode(Math.floor((Cd-65536)/1024)+55296),Td=String.fromCharCode((Cd-65536)%1024+56320);return Dd+Td}for(qe=new Array(128),Nt=0;Nt<128;++Nt)qe[Nt]=Nt>=97&&Nt<=122||Nt>=65&&Nt<=90||Nt===36||Nt===95;for(bt=new Array(128),Nt=0;Nt<128;++Nt)bt[Nt]=Nt>=97&&Nt<=122||Nt>=65&&Nt<=90||Nt>=48&&Nt<=57||Nt===36||Nt===95;function yd(Cd){return Cd<128?qe[Cd]:r.NonAsciiIdentifierStart.test(gd(Cd))}function _d(Cd){return Cd<128?bt[Cd]:r.NonAsciiIdentifierPart.test(gd(Cd))}function Ad(Cd){return Cd<128?qe[Cd]:e.NonAsciiIdentifierStart.test(gd(Cd))}function xd(Cd){return Cd<128?bt[Cd]:e.NonAsciiIdentifierPart.test(gd(Cd))}code.exports={isDecimalDigit:Na,isHexDigit:ld,isOctalDigit:fd,isWhiteSpace:hd,isLineTerminator:dd,isIdentifierStartES5:yd,isIdentifierPartES5:_d,isIdentifierStartES6:Ad,isIdentifierPartES6:xd}})()),code.exports}var keyword={exports:{}},hasRequiredKeyword;function requireKeyword(){return hasRequiredKeyword||(hasRequiredKeyword=1,(function(){var e=requireCode();function r(yd){switch(yd){case"implements":case"interface":case"package":case"private":case"protected":case"public":case"static":case"let":return!0;default:return!1}}function o(yd,_d){return!_d&&yd==="yield"?!1:qe(yd,_d)}function qe(yd,_d){if(_d&&r(yd))return!0;switch(yd.length){case 2:return yd==="if"||yd==="in"||yd==="do";case 3:return yd==="var"||yd==="for"||yd==="new"||yd==="try";case 4:return yd==="this"||yd==="else"||yd==="case"||yd==="void"||yd==="with"||yd==="enum";case 5:return yd==="while"||yd==="break"||yd==="catch"||yd==="throw"||yd==="const"||yd==="yield"||yd==="class"||yd==="super";case 6:return yd==="return"||yd==="typeof"||yd==="delete"||yd==="switch"||yd==="export"||yd==="import";case 7:return yd==="default"||yd==="finally"||yd==="extends";case 8:return yd==="function"||yd==="continue"||yd==="debugger";case 10:return yd==="instanceof";default:return!1}}function bt(yd,_d){return yd==="null"||yd==="true"||yd==="false"||o(yd,_d)}function Nt(yd,_d){return yd==="null"||yd==="true"||yd==="false"||qe(yd,_d)}function Na(yd){return yd==="eval"||yd==="arguments"}function ld(yd){var _d,Ad,xd;if(yd.length===0||(xd=yd.charCodeAt(0),!e.isIdentifierStartES5(xd)))return!1;for(_d=1,Ad=yd.length;_d<Ad;++_d)if(xd=yd.charCodeAt(_d),!e.isIdentifierPartES5(xd))return!1;return!0}function fd(yd,_d){return(yd-55296)*1024+(_d-56320)+65536}function hd(yd){var _d,Ad,xd,Cd,Dd;if(yd.length===0)return!1;for(Dd=e.isIdentifierStartES6,_d=0,Ad=yd.length;_d<Ad;++_d){if(xd=yd.charCodeAt(_d),55296<=xd&&xd<=56319){if(++_d,_d>=Ad||(Cd=yd.charCodeAt(_d),!(56320<=Cd&&Cd<=57343)))return!1;xd=fd(xd,Cd)}if(!Dd(xd))return!1;Dd=e.isIdentifierPartES6}return!0}function dd(yd,_d){return ld(yd)&&!bt(yd,_d)}function gd(yd,_d){return hd(yd)&&!Nt(yd,_d)}keyword.exports={isKeywordES5:o,isKeywordES6:qe,isReservedWordES5:bt,isReservedWordES6:Nt,isRestrictedWord:Na,isIdentifierNameES5:ld,isIdentifierNameES6:hd,isIdentifierES5:dd,isIdentifierES6:gd}})()),keyword.exports}var hasRequiredUtils;function requireUtils(){return hasRequiredUtils||(hasRequiredUtils=1,(function(){utils.ast=requireAst(),utils.code=requireCode(),utils.keyword=requireKeyword()})()),utils}var sourceMap={},sourceMapGenerator={},base64Vlq={},base64={},hasRequiredBase64;function requireBase64(){if(hasRequiredBase64)return base64;hasRequiredBase64=1;var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return base64.encode=function(r){if(0<=r&&r<e.length)return e[r];throw new TypeError("Must be between 0 and 63: "+r)},base64.decode=function(r){var o=65,qe=90,bt=97,Nt=122,Na=48,ld=57,fd=43,hd=47,dd=26,gd=52;return o<=r&&r<=qe?r-o:bt<=r&&r<=Nt?r-bt+dd:Na<=r&&r<=ld?r-Na+gd:r==fd?62:r==hd?63:-1},base64}var hasRequiredBase64Vlq;function requireBase64Vlq(){if(hasRequiredBase64Vlq)return base64Vlq;hasRequiredBase64Vlq=1;var e=requireBase64(),r=5,o=1<<r,qe=o-1,bt=o;function Nt(ld){return ld<0?(-ld<<1)+1:(ld<<1)+0}function Na(ld){var fd=(ld&1)===1,hd=ld>>1;return fd?-hd:hd}return base64Vlq.encode=function(fd){var hd="",dd,gd=Nt(fd);do dd=gd&qe,gd>>>=r,gd>0&&(dd|=bt),hd+=e.encode(dd);while(gd>0);return hd},base64Vlq.decode=function(fd,hd,dd){var gd=fd.length,yd=0,_d=0,Ad,xd;do{if(hd>=gd)throw new Error("Expected more digits in base 64 VLQ value.");if(xd=e.decode(fd.charCodeAt(hd++)),xd===-1)throw new Error("Invalid base64 digit: "+fd.charAt(hd-1));Ad=!!(xd&bt),xd&=qe,yd=yd+(xd<<_d),_d+=r}while(Ad);dd.value=Na(yd),dd.rest=hd},base64Vlq}var util={},hasRequiredUtil;function requireUtil(){return hasRequiredUtil||(hasRequiredUtil=1,(function(e){function r(Md,Ed,Gd){if(Ed in Md)return Md[Ed];if(arguments.length===3)return Gd;throw new Error('"'+Ed+'" is a required argument.')}e.getArg=r;var o=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,qe=/^data:.+\,.+$/;function bt(Md){var Ed=Md.match(o);return Ed?{scheme:Ed[1],auth:Ed[2],host:Ed[3],port:Ed[4],path:Ed[5]}:null}e.urlParse=bt;function Nt(Md){var Ed="";return Md.scheme&&(Ed+=Md.scheme+":"),Ed+="//",Md.auth&&(Ed+=Md.auth+"@"),Md.host&&(Ed+=Md.host),Md.port&&(Ed+=":"+Md.port),Md.path&&(Ed+=Md.path),Ed}e.urlGenerate=Nt;function Na(Md){var Ed=Md,Gd=bt(Md);if(Gd){if(!Gd.path)return Md;Ed=Gd.path}for(var Qd=e.isAbsolute(Ed),zd=Ed.split(/\/+/),nm,qd=0,dm=zd.length-1;dm>=0;dm--)nm=zd[dm],nm==="."?zd.splice(dm,1):nm===".."?qd++:qd>0&&(nm===""?(zd.splice(dm+1,qd),qd=0):(zd.splice(dm,2),qd--));return Ed=zd.join("/"),Ed===""&&(Ed=Qd?"/":"."),Gd?(Gd.path=Ed,Nt(Gd)):Ed}e.normalize=Na;function ld(Md,Ed){Md===""&&(Md="."),Ed===""&&(Ed=".");var Gd=bt(Ed),Qd=bt(Md);if(Qd&&(Md=Qd.path||"/"),Gd&&!Gd.scheme)return Qd&&(Gd.scheme=Qd.scheme),Nt(Gd);if(Gd||Ed.match(qe))return Ed;if(Qd&&!Qd.host&&!Qd.path)return Qd.host=Ed,Nt(Qd);var zd=Ed.charAt(0)==="/"?Ed:Na(Md.replace(/\/+$/,"")+"/"+Ed);return Qd?(Qd.path=zd,Nt(Qd)):zd}e.join=ld,e.isAbsolute=function(Md){return Md.charAt(0)==="/"||o.test(Md)};function fd(Md,Ed){Md===""&&(Md="."),Md=Md.replace(/\/$/,"");for(var Gd=0;Ed.indexOf(Md+"/")!==0;){var Qd=Md.lastIndexOf("/");if(Qd<0||(Md=Md.slice(0,Qd),Md.match(/^([^\/]+:\/)?\/*$/)))return Ed;++Gd}return Array(Gd+1).join("../")+Ed.substr(Md.length+1)}e.relative=fd;var hd=(function(){var Md=Object.create(null);return!("__proto__"in Md)})();function dd(Md){return Md}function gd(Md){return _d(Md)?"$"+Md:Md}e.toSetString=hd?dd:gd;function yd(Md){return _d(Md)?Md.slice(1):Md}e.fromSetString=hd?dd:yd;function _d(Md){if(!Md)return!1;var Ed=Md.length;if(Ed<9||Md.charCodeAt(Ed-1)!==95||Md.charCodeAt(Ed-2)!==95||Md.charCodeAt(Ed-3)!==111||Md.charCodeAt(Ed-4)!==116||Md.charCodeAt(Ed-5)!==111||Md.charCodeAt(Ed-6)!==114||Md.charCodeAt(Ed-7)!==112||Md.charCodeAt(Ed-8)!==95||Md.charCodeAt(Ed-9)!==95)return!1;for(var Gd=Ed-10;Gd>=0;Gd--)if(Md.charCodeAt(Gd)!==36)return!1;return!0}function Ad(Md,Ed,Gd){var Qd=Cd(Md.source,Ed.source);return Qd!==0||(Qd=Md.originalLine-Ed.originalLine,Qd!==0)||(Qd=Md.originalColumn-Ed.originalColumn,Qd!==0||Gd)||(Qd=Md.generatedColumn-Ed.generatedColumn,Qd!==0)||(Qd=Md.generatedLine-Ed.generatedLine,Qd!==0)?Qd:Cd(Md.name,Ed.name)}e.compareByOriginalPositions=Ad;function xd(Md,Ed,Gd){var Qd=Md.generatedLine-Ed.generatedLine;return Qd!==0||(Qd=Md.generatedColumn-Ed.generatedColumn,Qd!==0||Gd)||(Qd=Cd(Md.source,Ed.source),Qd!==0)||(Qd=Md.originalLine-Ed.originalLine,Qd!==0)||(Qd=Md.originalColumn-Ed.originalColumn,Qd!==0)?Qd:Cd(Md.name,Ed.name)}e.compareByGeneratedPositionsDeflated=xd;function Cd(Md,Ed){return Md===Ed?0:Md===null?1:Ed===null?-1:Md>Ed?1:-1}function Dd(Md,Ed){var Gd=Md.generatedLine-Ed.generatedLine;return Gd!==0||(Gd=Md.generatedColumn-Ed.generatedColumn,Gd!==0)||(Gd=Cd(Md.source,Ed.source),Gd!==0)||(Gd=Md.originalLine-Ed.originalLine,Gd!==0)||(Gd=Md.originalColumn-Ed.originalColumn,Gd!==0)?Gd:Cd(Md.name,Ed.name)}e.compareByGeneratedPositionsInflated=Dd;function Td(Md){return JSON.parse(Md.replace(/^\)]}'[^\n]*\n/,""))}e.parseSourceMapInput=Td;function Bd(Md,Ed,Gd){if(Ed=Ed||"",Md&&(Md[Md.length-1]!=="/"&&Ed[0]!=="/"&&(Md+="/"),Ed=Md+Ed),Gd){var Qd=bt(Gd);if(!Qd)throw new Error("sourceMapURL could not be parsed");if(Qd.path){var zd=Qd.path.lastIndexOf("/");zd>=0&&(Qd.path=Qd.path.substring(0,zd+1))}Ed=ld(Nt(Qd),Ed)}return Na(Ed)}e.computeSourceURL=Bd})(util)),util}var arraySet={},hasRequiredArraySet;function requireArraySet(){if(hasRequiredArraySet)return arraySet;hasRequiredArraySet=1;var e=requireUtil(),r=Object.prototype.hasOwnProperty,o=typeof Map<"u";function qe(){this._array=[],this._set=o?new Map:Object.create(null)}return qe.fromArray=function(Nt,Na){for(var ld=new qe,fd=0,hd=Nt.length;fd<hd;fd++)ld.add(Nt[fd],Na);return ld},qe.prototype.size=function(){return o?this._set.size:Object.getOwnPropertyNames(this._set).length},qe.prototype.add=function(Nt,Na){var ld=o?Nt:e.toSetString(Nt),fd=o?this.has(Nt):r.call(this._set,ld),hd=this._array.length;(!fd||Na)&&this._array.push(Nt),fd||(o?this._set.set(Nt,hd):this._set[ld]=hd)},qe.prototype.has=function(Nt){if(o)return this._set.has(Nt);var Na=e.toSetString(Nt);return r.call(this._set,Na)},qe.prototype.indexOf=function(Nt){if(o){var Na=this._set.get(Nt);if(Na>=0)return Na}else{var ld=e.toSetString(Nt);if(r.call(this._set,ld))return this._set[ld]}throw new Error('"'+Nt+'" is not in the set.')},qe.prototype.at=function(Nt){if(Nt>=0&&Nt<this._array.length)return this._array[Nt];throw new Error("No element indexed by "+Nt)},qe.prototype.toArray=function(){return this._array.slice()},arraySet.ArraySet=qe,arraySet}var mappingList={},hasRequiredMappingList;function requireMappingList(){if(hasRequiredMappingList)return mappingList;hasRequiredMappingList=1;var e=requireUtil();function r(qe,bt){var Nt=qe.generatedLine,Na=bt.generatedLine,ld=qe.generatedColumn,fd=bt.generatedColumn;return Na>Nt||Na==Nt&&fd>=ld||e.compareByGeneratedPositionsInflated(qe,bt)<=0}function o(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return o.prototype.unsortedForEach=function(bt,Nt){this._array.forEach(bt,Nt)},o.prototype.add=function(bt){r(this._last,bt)?(this._last=bt,this._array.push(bt)):(this._sorted=!1,this._array.push(bt))},o.prototype.toArray=function(){return this._sorted||(this._array.sort(e.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},mappingList.MappingList=o,mappingList}var hasRequiredSourceMapGenerator;function requireSourceMapGenerator(){if(hasRequiredSourceMapGenerator)return sourceMapGenerator;hasRequiredSourceMapGenerator=1;var e=requireBase64Vlq(),r=requireUtil(),o=requireArraySet().ArraySet,qe=requireMappingList().MappingList;function bt(Nt){Nt||(Nt={}),this._file=r.getArg(Nt,"file",null),this._sourceRoot=r.getArg(Nt,"sourceRoot",null),this._skipValidation=r.getArg(Nt,"skipValidation",!1),this._sources=new o,this._names=new o,this._mappings=new qe,this._sourcesContents=null}return bt.prototype._version=3,bt.fromSourceMap=function(Na){var ld=Na.sourceRoot,fd=new bt({file:Na.file,sourceRoot:ld});return Na.eachMapping(function(hd){var dd={generated:{line:hd.generatedLine,column:hd.generatedColumn}};hd.source!=null&&(dd.source=hd.source,ld!=null&&(dd.source=r.relative(ld,dd.source)),dd.original={line:hd.originalLine,column:hd.originalColumn},hd.name!=null&&(dd.name=hd.name)),fd.addMapping(dd)}),Na.sources.forEach(function(hd){var dd=hd;ld!==null&&(dd=r.relative(ld,hd)),fd._sources.has(dd)||fd._sources.add(dd);var gd=Na.sourceContentFor(hd);gd!=null&&fd.setSourceContent(hd,gd)}),fd},bt.prototype.addMapping=function(Na){var ld=r.getArg(Na,"generated"),fd=r.getArg(Na,"original",null),hd=r.getArg(Na,"source",null),dd=r.getArg(Na,"name",null);this._skipValidation||this._validateMapping(ld,fd,hd,dd),hd!=null&&(hd=String(hd),this._sources.has(hd)||this._sources.add(hd)),dd!=null&&(dd=String(dd),this._names.has(dd)||this._names.add(dd)),this._mappings.add({generatedLine:ld.line,generatedColumn:ld.column,originalLine:fd!=null&&fd.line,originalColumn:fd!=null&&fd.column,source:hd,name:dd})},bt.prototype.setSourceContent=function(Na,ld){var fd=Na;this._sourceRoot!=null&&(fd=r.relative(this._sourceRoot,fd)),ld!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(fd)]=ld):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(fd)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))},bt.prototype.applySourceMap=function(Na,ld,fd){var hd=ld;if(ld==null){if(Na.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);hd=Na.file}var dd=this._sourceRoot;dd!=null&&(hd=r.relative(dd,hd));var gd=new o,yd=new o;this._mappings.unsortedForEach(function(_d){if(_d.source===hd&&_d.originalLine!=null){var Ad=Na.originalPositionFor({line:_d.originalLine,column:_d.originalColumn});Ad.source!=null&&(_d.source=Ad.source,fd!=null&&(_d.source=r.join(fd,_d.source)),dd!=null&&(_d.source=r.relative(dd,_d.source)),_d.originalLine=Ad.line,_d.originalColumn=Ad.column,Ad.name!=null&&(_d.name=Ad.name))}var xd=_d.source;xd!=null&&!gd.has(xd)&&gd.add(xd);var Cd=_d.name;Cd!=null&&!yd.has(Cd)&&yd.add(Cd)},this),this._sources=gd,this._names=yd,Na.sources.forEach(function(_d){var Ad=Na.sourceContentFor(_d);Ad!=null&&(fd!=null&&(_d=r.join(fd,_d)),dd!=null&&(_d=r.relative(dd,_d)),this.setSourceContent(_d,Ad))},this)},bt.prototype._validateMapping=function(Na,ld,fd,hd){if(ld&&typeof ld.line!="number"&&typeof ld.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(Na&&"line"in Na&&"column"in Na&&Na.line>0&&Na.column>=0&&!ld&&!fd&&!hd)){if(Na&&"line"in Na&&"column"in Na&&ld&&"line"in ld&&"column"in ld&&Na.line>0&&Na.column>=0&&ld.line>0&&ld.column>=0&&fd)return;throw new Error("Invalid mapping: "+JSON.stringify({generated:Na,source:fd,original:ld,name:hd}))}},bt.prototype._serializeMappings=function(){for(var Na=0,ld=1,fd=0,hd=0,dd=0,gd=0,yd="",_d,Ad,xd,Cd,Dd=this._mappings.toArray(),Td=0,Bd=Dd.length;Td<Bd;Td++){if(Ad=Dd[Td],_d="",Ad.generatedLine!==ld)for(Na=0;Ad.generatedLine!==ld;)_d+=";",ld++;else if(Td>0){if(!r.compareByGeneratedPositionsInflated(Ad,Dd[Td-1]))continue;_d+=","}_d+=e.encode(Ad.generatedColumn-Na),Na=Ad.generatedColumn,Ad.source!=null&&(Cd=this._sources.indexOf(Ad.source),_d+=e.encode(Cd-gd),gd=Cd,_d+=e.encode(Ad.originalLine-1-hd),hd=Ad.originalLine-1,_d+=e.encode(Ad.originalColumn-fd),fd=Ad.originalColumn,Ad.name!=null&&(xd=this._names.indexOf(Ad.name),_d+=e.encode(xd-dd),dd=xd)),yd+=_d}return yd},bt.prototype._generateSourcesContent=function(Na,ld){return Na.map(function(fd){if(!this._sourcesContents)return null;ld!=null&&(fd=r.relative(ld,fd));var hd=r.toSetString(fd);return Object.prototype.hasOwnProperty.call(this._sourcesContents,hd)?this._sourcesContents[hd]:null},this)},bt.prototype.toJSON=function(){var Na={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(Na.file=this._file),this._sourceRoot!=null&&(Na.sourceRoot=this._sourceRoot),this._sourcesContents&&(Na.sourcesContent=this._generateSourcesContent(Na.sources,Na.sourceRoot)),Na},bt.prototype.toString=function(){return JSON.stringify(this.toJSON())},sourceMapGenerator.SourceMapGenerator=bt,sourceMapGenerator}var sourceMapConsumer={},binarySearch={},hasRequiredBinarySearch;function requireBinarySearch(){return hasRequiredBinarySearch||(hasRequiredBinarySearch=1,(function(e){e.GREATEST_LOWER_BOUND=1,e.LEAST_UPPER_BOUND=2;function r(o,qe,bt,Nt,Na,ld){var fd=Math.floor((qe-o)/2)+o,hd=Na(bt,Nt[fd],!0);return hd===0?fd:hd>0?qe-fd>1?r(fd,qe,bt,Nt,Na,ld):ld==e.LEAST_UPPER_BOUND?qe<Nt.length?qe:-1:fd:fd-o>1?r(o,fd,bt,Nt,Na,ld):ld==e.LEAST_UPPER_BOUND?fd:o<0?-1:o}e.search=function(qe,bt,Nt,Na){if(bt.length===0)return-1;var ld=r(-1,bt.length,qe,bt,Nt,Na||e.GREATEST_LOWER_BOUND);if(ld<0)return-1;for(;ld-1>=0&&Nt(bt[ld],bt[ld-1],!0)===0;)--ld;return ld}})(binarySearch)),binarySearch}var quickSort={},hasRequiredQuickSort;function requireQuickSort(){if(hasRequiredQuickSort)return quickSort;hasRequiredQuickSort=1;function e(qe,bt,Nt){var Na=qe[bt];qe[bt]=qe[Nt],qe[Nt]=Na}function r(qe,bt){return Math.round(qe+Math.random()*(bt-qe))}function o(qe,bt,Nt,Na){if(Nt<Na){var ld=r(Nt,Na),fd=Nt-1;e(qe,ld,Na);for(var hd=qe[Na],dd=Nt;dd<Na;dd++)bt(qe[dd],hd)<=0&&(fd+=1,e(qe,fd,dd));e(qe,fd+1,dd);var gd=fd+1;o(qe,bt,Nt,gd-1),o(qe,bt,gd+1,Na)}}return quickSort.quickSort=function(qe,bt){o(qe,bt,0,qe.length-1)},quickSort}var hasRequiredSourceMapConsumer;function requireSourceMapConsumer(){if(hasRequiredSourceMapConsumer)return sourceMapConsumer;hasRequiredSourceMapConsumer=1;var e=requireUtil(),r=requireBinarySearch(),o=requireArraySet().ArraySet,qe=requireBase64Vlq(),bt=requireQuickSort().quickSort;function Nt(hd,dd){var gd=hd;return typeof hd=="string"&&(gd=e.parseSourceMapInput(hd)),gd.sections!=null?new fd(gd,dd):new Na(gd,dd)}Nt.fromSourceMap=function(hd,dd){return Na.fromSourceMap(hd,dd)},Nt.prototype._version=3,Nt.prototype.__generatedMappings=null,Object.defineProperty(Nt.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),Nt.prototype.__originalMappings=null,Object.defineProperty(Nt.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),Nt.prototype._charIsMappingSeparator=function(dd,gd){var yd=dd.charAt(gd);return yd===";"||yd===","},Nt.prototype._parseMappings=function(dd,gd){throw new Error("Subclasses must implement _parseMappings")},Nt.GENERATED_ORDER=1,Nt.ORIGINAL_ORDER=2,Nt.GREATEST_LOWER_BOUND=1,Nt.LEAST_UPPER_BOUND=2,Nt.prototype.eachMapping=function(dd,gd,yd){var _d=gd||null,Ad=yd||Nt.GENERATED_ORDER,xd;switch(Ad){case Nt.GENERATED_ORDER:xd=this._generatedMappings;break;case Nt.ORIGINAL_ORDER:xd=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var Cd=this.sourceRoot;xd.map(function(Dd){var Td=Dd.source===null?null:this._sources.at(Dd.source);return Td=e.computeSourceURL(Cd,Td,this._sourceMapURL),{source:Td,generatedLine:Dd.generatedLine,generatedColumn:Dd.generatedColumn,originalLine:Dd.originalLine,originalColumn:Dd.originalColumn,name:Dd.name===null?null:this._names.at(Dd.name)}},this).forEach(dd,_d)},Nt.prototype.allGeneratedPositionsFor=function(dd){var gd=e.getArg(dd,"line"),yd={source:e.getArg(dd,"source"),originalLine:gd,originalColumn:e.getArg(dd,"column",0)};if(yd.source=this._findSourceIndex(yd.source),yd.source<0)return[];var _d=[],Ad=this._findMapping(yd,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,r.LEAST_UPPER_BOUND);if(Ad>=0){var xd=this._originalMappings[Ad];if(dd.column===void 0)for(var Cd=xd.originalLine;xd&&xd.originalLine===Cd;)_d.push({line:e.getArg(xd,"generatedLine",null),column:e.getArg(xd,"generatedColumn",null),lastColumn:e.getArg(xd,"lastGeneratedColumn",null)}),xd=this._originalMappings[++Ad];else for(var Dd=xd.originalColumn;xd&&xd.originalLine===gd&&xd.originalColumn==Dd;)_d.push({line:e.getArg(xd,"generatedLine",null),column:e.getArg(xd,"generatedColumn",null),lastColumn:e.getArg(xd,"lastGeneratedColumn",null)}),xd=this._originalMappings[++Ad]}return _d},sourceMapConsumer.SourceMapConsumer=Nt;function Na(hd,dd){var gd=hd;typeof hd=="string"&&(gd=e.parseSourceMapInput(hd));var yd=e.getArg(gd,"version"),_d=e.getArg(gd,"sources"),Ad=e.getArg(gd,"names",[]),xd=e.getArg(gd,"sourceRoot",null),Cd=e.getArg(gd,"sourcesContent",null),Dd=e.getArg(gd,"mappings"),Td=e.getArg(gd,"file",null);if(yd!=this._version)throw new Error("Unsupported version: "+yd);xd&&(xd=e.normalize(xd)),_d=_d.map(String).map(e.normalize).map(function(Bd){return xd&&e.isAbsolute(xd)&&e.isAbsolute(Bd)?e.relative(xd,Bd):Bd}),this._names=o.fromArray(Ad.map(String),!0),this._sources=o.fromArray(_d,!0),this._absoluteSources=this._sources.toArray().map(function(Bd){return e.computeSourceURL(xd,Bd,dd)}),this.sourceRoot=xd,this.sourcesContent=Cd,this._mappings=Dd,this._sourceMapURL=dd,this.file=Td}Na.prototype=Object.create(Nt.prototype),Na.prototype.consumer=Nt,Na.prototype._findSourceIndex=function(hd){var dd=hd;if(this.sourceRoot!=null&&(dd=e.relative(this.sourceRoot,dd)),this._sources.has(dd))return this._sources.indexOf(dd);var gd;for(gd=0;gd<this._absoluteSources.length;++gd)if(this._absoluteSources[gd]==hd)return gd;return-1},Na.fromSourceMap=function(dd,gd){var yd=Object.create(Na.prototype),_d=yd._names=o.fromArray(dd._names.toArray(),!0),Ad=yd._sources=o.fromArray(dd._sources.toArray(),!0);yd.sourceRoot=dd._sourceRoot,yd.sourcesContent=dd._generateSourcesContent(yd._sources.toArray(),yd.sourceRoot),yd.file=dd._file,yd._sourceMapURL=gd,yd._absoluteSources=yd._sources.toArray().map(function(Gd){return e.computeSourceURL(yd.sourceRoot,Gd,gd)});for(var xd=dd._mappings.toArray().slice(),Cd=yd.__generatedMappings=[],Dd=yd.__originalMappings=[],Td=0,Bd=xd.length;Td<Bd;Td++){var Md=xd[Td],Ed=new ld;Ed.generatedLine=Md.generatedLine,Ed.generatedColumn=Md.generatedColumn,Md.source&&(Ed.source=Ad.indexOf(Md.source),Ed.originalLine=Md.originalLine,Ed.originalColumn=Md.originalColumn,Md.name&&(Ed.name=_d.indexOf(Md.name)),Dd.push(Ed)),Cd.push(Ed)}return bt(yd.__originalMappings,e.compareByOriginalPositions),yd},Na.prototype._version=3,Object.defineProperty(Na.prototype,"sources",{get:function(){return this._absoluteSources.slice()}});function ld(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}Na.prototype._parseMappings=function(dd,gd){for(var yd=1,_d=0,Ad=0,xd=0,Cd=0,Dd=0,Td=dd.length,Bd=0,Md={},Ed={},Gd=[],Qd=[],zd,nm,qd,dm,im;Bd<Td;)if(dd.charAt(Bd)===";")yd++,Bd++,_d=0;else if(dd.charAt(Bd)===",")Bd++;else{for(zd=new ld,zd.generatedLine=yd,dm=Bd;dm<Td&&!this._charIsMappingSeparator(dd,dm);dm++);if(nm=dd.slice(Bd,dm),qd=Md[nm],qd)Bd+=nm.length;else{for(qd=[];Bd<dm;)qe.decode(dd,Bd,Ed),im=Ed.value,Bd=Ed.rest,qd.push(im);if(qd.length===2)throw new Error("Found a source, but no line and column");if(qd.length===3)throw new Error("Found a source and line, but no column");Md[nm]=qd}zd.generatedColumn=_d+qd[0],_d=zd.generatedColumn,qd.length>1&&(zd.source=Cd+qd[1],Cd+=qd[1],zd.originalLine=Ad+qd[2],Ad=zd.originalLine,zd.originalLine+=1,zd.originalColumn=xd+qd[3],xd=zd.originalColumn,qd.length>4&&(zd.name=Dd+qd[4],Dd+=qd[4])),Qd.push(zd),typeof zd.originalLine=="number"&&Gd.push(zd)}bt(Qd,e.compareByGeneratedPositionsDeflated),this.__generatedMappings=Qd,bt(Gd,e.compareByOriginalPositions),this.__originalMappings=Gd},Na.prototype._findMapping=function(dd,gd,yd,_d,Ad,xd){if(dd[yd]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+dd[yd]);if(dd[_d]<0)throw new TypeError("Column must be greater than or equal to 0, got "+dd[_d]);return r.search(dd,gd,Ad,xd)},Na.prototype.computeColumnSpans=function(){for(var dd=0;dd<this._generatedMappings.length;++dd){var gd=this._generatedMappings[dd];if(dd+1<this._generatedMappings.length){var yd=this._generatedMappings[dd+1];if(gd.generatedLine===yd.generatedLine){gd.lastGeneratedColumn=yd.generatedColumn-1;continue}}gd.lastGeneratedColumn=1/0}},Na.prototype.originalPositionFor=function(dd){var gd={generatedLine:e.getArg(dd,"line"),generatedColumn:e.getArg(dd,"column")},yd=this._findMapping(gd,this._generatedMappings,"generatedLine","generatedColumn",e.compareByGeneratedPositionsDeflated,e.getArg(dd,"bias",Nt.GREATEST_LOWER_BOUND));if(yd>=0){var _d=this._generatedMappings[yd];if(_d.generatedLine===gd.generatedLine){var Ad=e.getArg(_d,"source",null);Ad!==null&&(Ad=this._sources.at(Ad),Ad=e.computeSourceURL(this.sourceRoot,Ad,this._sourceMapURL));var xd=e.getArg(_d,"name",null);return xd!==null&&(xd=this._names.at(xd)),{source:Ad,line:e.getArg(_d,"originalLine",null),column:e.getArg(_d,"originalColumn",null),name:xd}}}return{source:null,line:null,column:null,name:null}},Na.prototype.hasContentsOfAllSources=function(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(dd){return dd==null}):!1},Na.prototype.sourceContentFor=function(dd,gd){if(!this.sourcesContent)return null;var yd=this._findSourceIndex(dd);if(yd>=0)return this.sourcesContent[yd];var _d=dd;this.sourceRoot!=null&&(_d=e.relative(this.sourceRoot,_d));var Ad;if(this.sourceRoot!=null&&(Ad=e.urlParse(this.sourceRoot))){var xd=_d.replace(/^file:\/\//,"");if(Ad.scheme=="file"&&this._sources.has(xd))return this.sourcesContent[this._sources.indexOf(xd)];if((!Ad.path||Ad.path=="/")&&this._sources.has("/"+_d))return this.sourcesContent[this._sources.indexOf("/"+_d)]}if(gd)return null;throw new Error('"'+_d+'" is not in the SourceMap.')},Na.prototype.generatedPositionFor=function(dd){var gd=e.getArg(dd,"source");if(gd=this._findSourceIndex(gd),gd<0)return{line:null,column:null,lastColumn:null};var yd={source:gd,originalLine:e.getArg(dd,"line"),originalColumn:e.getArg(dd,"column")},_d=this._findMapping(yd,this._originalMappings,"originalLine","originalColumn",e.compareByOriginalPositions,e.getArg(dd,"bias",Nt.GREATEST_LOWER_BOUND));if(_d>=0){var Ad=this._originalMappings[_d];if(Ad.source===yd.source)return{line:e.getArg(Ad,"generatedLine",null),column:e.getArg(Ad,"generatedColumn",null),lastColumn:e.getArg(Ad,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},sourceMapConsumer.BasicSourceMapConsumer=Na;function fd(hd,dd){var gd=hd;typeof hd=="string"&&(gd=e.parseSourceMapInput(hd));var yd=e.getArg(gd,"version"),_d=e.getArg(gd,"sections");if(yd!=this._version)throw new Error("Unsupported version: "+yd);this._sources=new o,this._names=new o;var Ad={line:-1,column:0};this._sections=_d.map(function(xd){if(xd.url)throw new Error("Support for url field in sections not implemented.");var Cd=e.getArg(xd,"offset"),Dd=e.getArg(Cd,"line"),Td=e.getArg(Cd,"column");if(Dd<Ad.line||Dd===Ad.line&&Td<Ad.column)throw new Error("Section offsets must be ordered and non-overlapping.");return Ad=Cd,{generatedOffset:{generatedLine:Dd+1,generatedColumn:Td+1},consumer:new Nt(e.getArg(xd,"map"),dd)}})}return fd.prototype=Object.create(Nt.prototype),fd.prototype.constructor=Nt,fd.prototype._version=3,Object.defineProperty(fd.prototype,"sources",{get:function(){for(var hd=[],dd=0;dd<this._sections.length;dd++)for(var gd=0;gd<this._sections[dd].consumer.sources.length;gd++)hd.push(this._sections[dd].consumer.sources[gd]);return hd}}),fd.prototype.originalPositionFor=function(dd){var gd={generatedLine:e.getArg(dd,"line"),generatedColumn:e.getArg(dd,"column")},yd=r.search(gd,this._sections,function(Ad,xd){var Cd=Ad.generatedLine-xd.generatedOffset.generatedLine;return Cd||Ad.generatedColumn-xd.generatedOffset.generatedColumn}),_d=this._sections[yd];return _d?_d.consumer.originalPositionFor({line:gd.generatedLine-(_d.generatedOffset.generatedLine-1),column:gd.generatedColumn-(_d.generatedOffset.generatedLine===gd.generatedLine?_d.generatedOffset.generatedColumn-1:0),bias:dd.bias}):{source:null,line:null,column:null,name:null}},fd.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(dd){return dd.consumer.hasContentsOfAllSources()})},fd.prototype.sourceContentFor=function(dd,gd){for(var yd=0;yd<this._sections.length;yd++){var _d=this._sections[yd],Ad=_d.consumer.sourceContentFor(dd,!0);if(Ad)return Ad}if(gd)return null;throw new Error('"'+dd+'" is not in the SourceMap.')},fd.prototype.generatedPositionFor=function(dd){for(var gd=0;gd<this._sections.length;gd++){var yd=this._sections[gd];if(yd.consumer._findSourceIndex(e.getArg(dd,"source"))!==-1){var _d=yd.consumer.generatedPositionFor(dd);if(_d){var Ad={line:_d.line+(yd.generatedOffset.generatedLine-1),column:_d.column+(yd.generatedOffset.generatedLine===_d.line?yd.generatedOffset.generatedColumn-1:0)};return Ad}}}return{line:null,column:null}},fd.prototype._parseMappings=function(dd,gd){this.__generatedMappings=[],this.__originalMappings=[];for(var yd=0;yd<this._sections.length;yd++)for(var _d=this._sections[yd],Ad=_d.consumer._generatedMappings,xd=0;xd<Ad.length;xd++){var Cd=Ad[xd],Dd=_d.consumer._sources.at(Cd.source);Dd=e.computeSourceURL(_d.consumer.sourceRoot,Dd,this._sourceMapURL),this._sources.add(Dd),Dd=this._sources.indexOf(Dd);var Td=null;Cd.name&&(Td=_d.consumer._names.at(Cd.name),this._names.add(Td),Td=this._names.indexOf(Td));var Bd={source:Dd,generatedLine:Cd.generatedLine+(_d.generatedOffset.generatedLine-1),generatedColumn:Cd.generatedColumn+(_d.generatedOffset.generatedLine===Cd.generatedLine?_d.generatedOffset.generatedColumn-1:0),originalLine:Cd.originalLine,originalColumn:Cd.originalColumn,name:Td};this.__generatedMappings.push(Bd),typeof Bd.originalLine=="number"&&this.__originalMappings.push(Bd)}bt(this.__generatedMappings,e.compareByGeneratedPositionsDeflated),bt(this.__originalMappings,e.compareByOriginalPositions)},sourceMapConsumer.IndexedSourceMapConsumer=fd,sourceMapConsumer}var sourceNode={},hasRequiredSourceNode;function requireSourceNode(){if(hasRequiredSourceNode)return sourceNode;hasRequiredSourceNode=1;var e=requireSourceMapGenerator().SourceMapGenerator,r=requireUtil(),o=/(\r?\n)/,qe=10,bt="$$$isSourceNode$$$";function Nt(Na,ld,fd,hd,dd){this.children=[],this.sourceContents={},this.line=Na??null,this.column=ld??null,this.source=fd??null,this.name=dd??null,this[bt]=!0,hd!=null&&this.add(hd)}return Nt.fromStringWithSourceMap=function(ld,fd,hd){var dd=new Nt,gd=ld.split(o),yd=0,_d=function(){var Td=Md(),Bd=Md()||"";return Td+Bd;function Md(){return yd<gd.length?gd[yd++]:void 0}},Ad=1,xd=0,Cd=null;return fd.eachMapping(function(Td){if(Cd!==null)if(Ad<Td.generatedLine)Dd(Cd,_d()),Ad++,xd=0;else{var Bd=gd[yd]||"",Md=Bd.substr(0,Td.generatedColumn-xd);gd[yd]=Bd.substr(Td.generatedColumn-xd),xd=Td.generatedColumn,Dd(Cd,Md),Cd=Td;return}for(;Ad<Td.generatedLine;)dd.add(_d()),Ad++;if(xd<Td.generatedColumn){var Bd=gd[yd]||"";dd.add(Bd.substr(0,Td.generatedColumn)),gd[yd]=Bd.substr(Td.generatedColumn),xd=Td.generatedColumn}Cd=Td},this),yd<gd.length&&(Cd&&Dd(Cd,_d()),dd.add(gd.splice(yd).join(""))),fd.sources.forEach(function(Td){var Bd=fd.sourceContentFor(Td);Bd!=null&&(hd!=null&&(Td=r.join(hd,Td)),dd.setSourceContent(Td,Bd))}),dd;function Dd(Td,Bd){if(Td===null||Td.source===void 0)dd.add(Bd);else{var Md=hd?r.join(hd,Td.source):Td.source;dd.add(new Nt(Td.originalLine,Td.originalColumn,Md,Bd,Td.name))}}},Nt.prototype.add=function(ld){if(Array.isArray(ld))ld.forEach(function(fd){this.add(fd)},this);else if(ld[bt]||typeof ld=="string")ld&&this.children.push(ld);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+ld);return this},Nt.prototype.prepend=function(ld){if(Array.isArray(ld))for(var fd=ld.length-1;fd>=0;fd--)this.prepend(ld[fd]);else if(ld[bt]||typeof ld=="string")this.children.unshift(ld);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+ld);return this},Nt.prototype.walk=function(ld){for(var fd,hd=0,dd=this.children.length;hd<dd;hd++)fd=this.children[hd],fd[bt]?fd.walk(ld):fd!==""&&ld(fd,{source:this.source,line:this.line,column:this.column,name:this.name})},Nt.prototype.join=function(ld){var fd,hd,dd=this.children.length;if(dd>0){for(fd=[],hd=0;hd<dd-1;hd++)fd.push(this.children[hd]),fd.push(ld);fd.push(this.children[hd]),this.children=fd}return this},Nt.prototype.replaceRight=function(ld,fd){var hd=this.children[this.children.length-1];return hd[bt]?hd.replaceRight(ld,fd):typeof hd=="string"?this.children[this.children.length-1]=hd.replace(ld,fd):this.children.push("".replace(ld,fd)),this},Nt.prototype.setSourceContent=function(ld,fd){this.sourceContents[r.toSetString(ld)]=fd},Nt.prototype.walkSourceContents=function(ld){for(var fd=0,hd=this.children.length;fd<hd;fd++)this.children[fd][bt]&&this.children[fd].walkSourceContents(ld);for(var dd=Object.keys(this.sourceContents),fd=0,hd=dd.length;fd<hd;fd++)ld(r.fromSetString(dd[fd]),this.sourceContents[dd[fd]])},Nt.prototype.toString=function(){var ld="";return this.walk(function(fd){ld+=fd}),ld},Nt.prototype.toStringWithSourceMap=function(ld){var fd={code:"",line:1,column:0},hd=new e(ld),dd=!1,gd=null,yd=null,_d=null,Ad=null;return this.walk(function(xd,Cd){fd.code+=xd,Cd.source!==null&&Cd.line!==null&&Cd.column!==null?((gd!==Cd.source||yd!==Cd.line||_d!==Cd.column||Ad!==Cd.name)&&hd.addMapping({source:Cd.source,original:{line:Cd.line,column:Cd.column},generated:{line:fd.line,column:fd.column},name:Cd.name}),gd=Cd.source,yd=Cd.line,_d=Cd.column,Ad=Cd.name,dd=!0):dd&&(hd.addMapping({generated:{line:fd.line,column:fd.column}}),gd=null,dd=!1);for(var Dd=0,Td=xd.length;Dd<Td;Dd++)xd.charCodeAt(Dd)===qe?(fd.line++,fd.column=0,Dd+1===Td?(gd=null,dd=!1):dd&&hd.addMapping({source:Cd.source,original:{line:Cd.line,column:Cd.column},generated:{line:fd.line,column:fd.column},name:Cd.name})):fd.column++}),this.walkSourceContents(function(xd,Cd){hd.setSourceContent(xd,Cd)}),{code:fd.code,map:hd}},sourceNode.SourceNode=Nt,sourceNode}var hasRequiredSourceMap;function requireSourceMap(){return hasRequiredSourceMap||(hasRequiredSourceMap=1,sourceMap.SourceMapGenerator=requireSourceMapGenerator().SourceMapGenerator,sourceMap.SourceMapConsumer=requireSourceMapConsumer().SourceMapConsumer,sourceMap.SourceNode=requireSourceNode().SourceNode),sourceMap}const version="2.1.0",require$$3={version};var hasRequiredEscodegen;function requireEscodegen(){return hasRequiredEscodegen||(hasRequiredEscodegen=1,(function(e){(function(){var r,o,qe,bt,Nt,Na,ld,fd,hd,dd,gd,yd,_d,Ad,xd,Cd,Dd,Td,Bd,Md,Ed,Gd,Qd,zd,nm,qd;Nt=requireEstraverse(),Na=requireUtils(),r=Nt.Syntax;function dm(Od){return o0.Expression.hasOwnProperty(Od.type)}function im(Od){return o0.Statement.hasOwnProperty(Od.type)}o={Sequence:0,Yield:1,Assignment:1,Conditional:2,ArrowFunction:2,Coalesce:3,LogicalOR:4,LogicalAND:5,BitwiseOR:6,BitwiseXOR:7,BitwiseAND:8,Equality:9,Relational:10,BitwiseSHIFT:11,Additive:12,Multiplicative:13,Exponentiation:14,Await:15,Unary:15,Postfix:16,OptionalChaining:17,Call:18,New:19,TaggedTemplate:20,Member:21,Primary:22},qe={"??":o.Coalesce,"||":o.LogicalOR,"&&":o.LogicalAND,"|":o.BitwiseOR,"^":o.BitwiseXOR,"&":o.BitwiseAND,"==":o.Equality,"!=":o.Equality,"===":o.Equality,"!==":o.Equality,is:o.Equality,isnt:o.Equality,"<":o.Relational,">":o.Relational,"<=":o.Relational,">=":o.Relational,in:o.Relational,instanceof:o.Relational,"<<":o.BitwiseSHIFT,">>":o.BitwiseSHIFT,">>>":o.BitwiseSHIFT,"+":o.Additive,"-":o.Additive,"*":o.Multiplicative,"%":o.Multiplicative,"/":o.Multiplicative,"**":o.Exponentiation};var sm=1,mm=2,Mm=4,Om=8,km=16,vm=32,t0=64,Cm=mm|Mm,Zm=sm|mm,cm=sm|mm|Mm,Xm=sm,Hd=Mm,r0=sm|Mm,jm=sm,am=sm|vm,Hm=0,_0=sm|km,X0=sm|Om;function P0(){return{indent:null,base:null,parse:null,comment:!1,format:{indent:{style:"    ",base:0,adjustMultilineComment:!1},newline:`
`,space:" ",json:!1,renumber:!1,hexadecimal:!1,quotes:"single",escapeless:!1,compact:!1,parentheses:!0,semicolons:!0,safeConcatenation:!1,preserveBlankLines:!1},moz:{comprehensionExpressionStartsWithAssignment:!1,starlessGenerator:!1},sourceMap:null,sourceMapRoot:null,sourceMapWithCode:!1,directive:!1,raw:!0,verbatim:null,sourceCode:null}}function c0(Od,Pd){var Sd="";for(Pd|=0;Pd>0;Pd>>>=1,Od+=Od)Pd&1&&(Sd+=Od);return Sd}function C0(Od){return/[\r\n]/g.test(Od)}function Vm(Od){var Pd=Od.length;return Pd&&Na.code.isLineTerminator(Od.charCodeAt(Pd-1))}function w0(Od,Pd){var Sd;for(Sd in Pd)Pd.hasOwnProperty(Sd)&&(Od[Sd]=Pd[Sd]);return Od}function p0(Od,Pd){var Sd,wd;function Rd(Yd){return typeof Yd=="object"&&Yd instanceof Object&&!(Yd instanceof RegExp)}for(Sd in Pd)Pd.hasOwnProperty(Sd)&&(wd=Pd[Sd],Rd(wd)?Rd(Od[Sd])?p0(Od[Sd],wd):Od[Sd]=p0({},wd):Od[Sd]=wd);return Od}function x0(Od){var Pd,Sd,wd,Rd,Yd;if(Od!==Od)throw new Error("Numeric literal whose value is NaN");if(Od<0||Od===0&&1/Od<0)throw new Error("Numeric literal whose value is negative");if(Od===1/0)return hd?"null":dd?"1e400":"1e+400";if(Pd=""+Od,!dd||Pd.length<3)return Pd;for(Sd=Pd.indexOf("."),!hd&&Pd.charCodeAt(0)===48&&Sd===1&&(Sd=0,Pd=Pd.slice(1)),wd=Pd,Pd=Pd.replace("e+","e"),Rd=0,(Yd=wd.indexOf("e"))>0&&(Rd=+wd.slice(Yd+1),wd=wd.slice(0,Yd)),Sd>=0&&(Rd-=wd.length-Sd-1,wd=+(wd.slice(0,Sd)+wd.slice(Sd+1))+""),Yd=0;wd.charCodeAt(wd.length+Yd-1)===48;)--Yd;return Yd!==0&&(Rd-=Yd,wd=wd.slice(0,Yd)),Rd!==0&&(wd+="e"+Rd),(wd.length<Pd.length||gd&&Od>1e12&&Math.floor(Od)===Od&&(wd="0x"+Od.toString(16)).length<Pd.length)&&+wd===Od&&(Pd=wd),Pd}function U0(Od,Pd){return(Od&-2)===8232?(Pd?"u":"\\u")+(Od===8232?"2028":"2029"):Od===10||Od===13?(Pd?"":"\\")+(Od===10?"n":"r"):String.fromCharCode(Od)}function Vd(Od){var Pd,Sd,wd,Rd,Yd,Kd,rm,Sm;if(Sd=Od.toString(),Od.source){if(Pd=Sd.match(/\/([^/]*)$/),!Pd)return Sd;for(wd=Pd[1],Sd="",rm=!1,Sm=!1,Rd=0,Yd=Od.source.length;Rd<Yd;++Rd)Kd=Od.source.charCodeAt(Rd),Sm?(Sd+=U0(Kd,Sm),Sm=!1):(rm?Kd===93&&(rm=!1):Kd===47?Sd+="\\":Kd===91&&(rm=!0),Sd+=U0(Kd,Sm),Sm=Kd===92);return"/"+Sd+"/"+wd}return Sd}function Wd(Od,Pd){var Sd;return Od===8?"\\b":Od===12?"\\f":Od===9?"\\t":(Sd=Od.toString(16).toUpperCase(),hd||Od>255?"\\u"+"0000".slice(Sd.length)+Sd:Od===0&&!Na.code.isDecimalDigit(Pd)?"\\0":Od===11?"\\x0B":"\\x"+"00".slice(Sd.length)+Sd)}function Xd(Od){if(Od===92)return"\\\\";if(Od===10)return"\\n";if(Od===13)return"\\r";if(Od===8232)return"\\u2028";if(Od===8233)return"\\u2029";throw new Error("Incorrectly classified character")}function Jd(Od){var Pd,Sd,wd,Rd;for(Rd=yd==="double"?'"':"'",Pd=0,Sd=Od.length;Pd<Sd;++Pd)if(wd=Od.charCodeAt(Pd),wd===39){Rd='"';break}else if(wd===34){Rd="'";break}else wd===92&&++Pd;return Rd+Od+Rd}function lm(Od){var Pd="",Sd,wd,Rd,Yd=0,Kd=0,rm,Sm;for(Sd=0,wd=Od.length;Sd<wd;++Sd){if(Rd=Od.charCodeAt(Sd),Rd===39)++Yd;else if(Rd===34)++Kd;else if(Rd===47&&hd)Pd+="\\";else if(Na.code.isLineTerminator(Rd)||Rd===92){Pd+=Xd(Rd);continue}else if(!Na.code.isIdentifierPartES5(Rd)&&(hd&&Rd<32||!hd&&!_d&&(Rd<32||Rd>126))){Pd+=Wd(Rd,Od.charCodeAt(Sd+1));continue}Pd+=String.fromCharCode(Rd)}if(rm=!(yd==="double"||yd==="auto"&&Kd<Yd),Sm=rm?"'":'"',!(rm?Yd:Kd))return Sm+Pd+Sm;for(Od=Pd,Pd=Sm,Sd=0,wd=Od.length;Sd<wd;++Sd)Rd=Od.charCodeAt(Sd),(Rd===39&&rm||Rd===34&&!rm)&&(Pd+="\\"),Pd+=String.fromCharCode(Rd);return Pd+Sm}function _m(Od){var Pd,Sd,wd,Rd="";for(Pd=0,Sd=Od.length;Pd<Sd;++Pd)wd=Od[Pd],Rd+=Array.isArray(wd)?_m(wd):wd;return Rd}function um(Od,Pd){if(!Gd)return Array.isArray(Od)?_m(Od):Od;if(Pd==null){if(Od instanceof bt)return Od;Pd={}}return Pd.loc==null?new bt(null,null,Gd,Od,Pd.name||null):new bt(Pd.loc.start.line,Pd.loc.start.column,Gd===!0?Pd.loc.source||null:Gd,Od,Pd.name||null)}function Tm(){return xd||" "}function om(Od,Pd){var Sd,wd,Rd,Yd;return Sd=um(Od).toString(),Sd.length===0?[Pd]:(wd=um(Pd).toString(),wd.length===0?[Od]:(Rd=Sd.charCodeAt(Sd.length-1),Yd=wd.charCodeAt(0),(Rd===43||Rd===45)&&Rd===Yd||Na.code.isIdentifierPartES5(Rd)&&Na.code.isIdentifierPartES5(Yd)||Rd===47&&Yd===105?[Od,Tm(),Pd]:Na.code.isWhiteSpace(Rd)||Na.code.isLineTerminator(Rd)||Na.code.isWhiteSpace(Yd)||Na.code.isLineTerminator(Yd)?[Od,Pd]:[Od,xd,Pd]))}function Dm(Od){return[ld,Od]}function Lm(Od){var Pd;Pd=ld,ld+=fd,Od(ld),ld=Pd}function h0(Od){var Pd;for(Pd=Od.length-1;Pd>=0&&!Na.code.isLineTerminator(Od.charCodeAt(Pd));--Pd);return Od.length-1-Pd}function s0(Od,Pd){var Sd,wd,Rd,Yd,Kd,rm,Sm,Ym;for(Sd=Od.split(/\r\n|[\r\n]/),rm=Number.MAX_VALUE,wd=1,Rd=Sd.length;wd<Rd;++wd){for(Yd=Sd[wd],Kd=0;Kd<Yd.length&&Na.code.isWhiteSpace(Yd.charCodeAt(Kd));)++Kd;rm>Kd&&(rm=Kd)}for(typeof Pd<"u"?(Sm=ld,Sd[1][rm]==="*"&&(Pd+=" "),ld=Pd):(rm&1&&--rm,Sm=ld),wd=1,Rd=Sd.length;wd<Rd;++wd)Ym=um(Dm(Sd[wd].slice(rm))),Sd[wd]=Gd?Ym.join(""):Ym;return ld=Sm,Sd.join(`
`)}function zm(Od,Pd){if(Od.type==="Line"){if(Vm(Od.value))return"//"+Od.value;var Sd="//"+Od.value;return zd||(Sd+=`
`),Sd}return Md.format.indent.adjustMultilineComment&&/[\n\r]/.test(Od.value)?s0("/*"+Od.value+"*/",Pd):"/*"+Od.value+"*/"}function a0(Od,Pd){var Sd,wd,Rd,Yd,Kd,rm,Sm,Ym,l0,Qm,n0,N0,V1,Im;if(Od.leadingComments&&Od.leadingComments.length>0){if(Yd=Pd,zd){for(Rd=Od.leadingComments[0],Pd=[],Ym=Rd.extendedRange,l0=Rd.range,n0=Qd.substring(Ym[0],l0[0]),Im=(n0.match(/\n/g)||[]).length,Im>0?(Pd.push(c0(`
`,Im)),Pd.push(Dm(zm(Rd)))):(Pd.push(n0),Pd.push(zm(Rd))),Qm=l0,Sd=1,wd=Od.leadingComments.length;Sd<wd;Sd++)Rd=Od.leadingComments[Sd],l0=Rd.range,N0=Qd.substring(Qm[1],l0[0]),Im=(N0.match(/\n/g)||[]).length,Pd.push(c0(`
`,Im)),Pd.push(Dm(zm(Rd))),Qm=l0;V1=Qd.substring(l0[1],Ym[1]),Im=(V1.match(/\n/g)||[]).length,Pd.push(c0(`
`,Im))}else for(Rd=Od.leadingComments[0],Pd=[],Td&&Od.type===r.Program&&Od.body.length===0&&Pd.push(`
`),Pd.push(zm(Rd)),Vm(um(Pd).toString())||Pd.push(`
`),Sd=1,wd=Od.leadingComments.length;Sd<wd;++Sd)Rd=Od.leadingComments[Sd],Sm=[zm(Rd)],Vm(um(Sm).toString())||Sm.push(`
`),Pd.push(Dm(Sm));Pd.push(Dm(Yd))}if(Od.trailingComments)if(zd)Rd=Od.trailingComments[0],Ym=Rd.extendedRange,l0=Rd.range,n0=Qd.substring(Ym[0],l0[0]),Im=(n0.match(/\n/g)||[]).length,Im>0?(Pd.push(c0(`
`,Im)),Pd.push(Dm(zm(Rd)))):(Pd.push(n0),Pd.push(zm(Rd)));else for(Kd=!Vm(um(Pd).toString()),rm=c0(" ",h0(um([ld,Pd,fd]).toString())),Sd=0,wd=Od.trailingComments.length;Sd<wd;++Sd)Rd=Od.trailingComments[Sd],Kd?(Sd===0?Pd=[Pd,fd]:Pd=[Pd,rm],Pd.push(zm(Rd,rm))):Pd=[Pd,Dm(zm(Rd))],Sd!==wd-1&&!Vm(um(Pd).toString())&&(Pd=[Pd,`
`]);return Pd}function k0(Od,Pd,Sd){var wd,Rd=0;for(wd=Od;wd<Pd;wd++)Qd[wd]===`
`&&Rd++;for(wd=1;wd<Rd;wd++)Sd.push(Ad)}function xm(Od,Pd,Sd){return Pd<Sd?["(",Od,")"]:Od}function Jm(Od){var Pd,Sd,wd;for(wd=Od.split(/\r\n|\n/),Pd=1,Sd=wd.length;Pd<Sd;Pd++)wd[Pd]=Ad+ld+wd[Pd];return wd}function Z0(Od,Pd){var Sd,wd,Rd;return Sd=Od[Md.verbatim],typeof Sd=="string"?wd=xm(Jm(Sd),o.Sequence,Pd):(wd=Jm(Sd.content),Rd=Sd.precedence!=null?Sd.precedence:o.Sequence,wd=xm(wd,Rd,Pd)),um(wd,Od)}function o0(){}o0.prototype.maybeBlock=function(Od,Pd){var Sd,wd,Rd=this;return wd=!Md.comment||!Od.leadingComments,Od.type===r.BlockStatement&&wd?[xd,this.generateStatement(Od,Pd)]:Od.type===r.EmptyStatement&&wd?";":(Lm(function(){Sd=[Ad,Dm(Rd.generateStatement(Od,Pd))]}),Sd)},o0.prototype.maybeBlockSuffix=function(Od,Pd){var Sd=Vm(um(Pd).toString());return Od.type===r.BlockStatement&&(!Md.comment||!Od.leadingComments)&&!Sd?[Pd,xd]:Sd?[Pd,ld]:[Pd,Ad,ld]};function $0(Od){return um(Od.name,Od)}function I0(Od,Pd){return Od.async?"async"+(Pd?Tm():xd):""}function J0(Od){var Pd=Od.generator&&!Md.moz.starlessGenerator;return Pd?"*"+xd:""}function fg(Od){var Pd=Od.value,Sd="";return Pd.async&&(Sd+=I0(Pd,!Od.computed)),Pd.generator&&(Sd+=J0(Pd)?"*":""),Sd}o0.prototype.generatePattern=function(Od,Pd,Sd){return Od.type===r.Identifier?$0(Od):this.generateExpression(Od,Pd,Sd)},o0.prototype.generateFunctionParams=function(Od){var Pd,Sd,wd,Rd;if(Rd=!1,Od.type===r.ArrowFunctionExpression&&!Od.rest&&(!Od.defaults||Od.defaults.length===0)&&Od.params.length===1&&Od.params[0].type===r.Identifier)wd=[I0(Od,!0),$0(Od.params[0])];else{for(wd=Od.type===r.ArrowFunctionExpression?[I0(Od,!1)]:[],wd.push("("),Od.defaults&&(Rd=!0),Pd=0,Sd=Od.params.length;Pd<Sd;++Pd)Rd&&Od.defaults[Pd]?wd.push(this.generateAssignment(Od.params[Pd],Od.defaults[Pd],"=",o.Assignment,cm)):wd.push(this.generatePattern(Od.params[Pd],o.Assignment,cm)),Pd+1<Sd&&wd.push(","+xd);Od.rest&&(Od.params.length&&wd.push(","+xd),wd.push("..."),wd.push($0(Od.rest))),wd.push(")")}return wd},o0.prototype.generateFunctionBody=function(Od){var Pd,Sd;return Pd=this.generateFunctionParams(Od),Od.type===r.ArrowFunctionExpression&&(Pd.push(xd),Pd.push("=>")),Od.expression?(Pd.push(xd),Sd=this.generateExpression(Od.body,o.Assignment,cm),Sd.toString().charAt(0)==="{"&&(Sd=["(",Sd,")"]),Pd.push(Sd)):Pd.push(this.maybeBlock(Od.body,X0)),Pd},o0.prototype.generateIterationForStatement=function(Od,Pd,Sd){var wd=["for"+(Pd.await?Tm()+"await":"")+xd+"("],Rd=this;return Lm(function(){Pd.left.type===r.VariableDeclaration?Lm(function(){wd.push(Pd.left.kind+Tm()),wd.push(Rd.generateStatement(Pd.left.declarations[0],Hm))}):wd.push(Rd.generateExpression(Pd.left,o.Call,cm)),wd=om(wd,Od),wd=[om(wd,Rd.generateExpression(Pd.right,o.Assignment,cm)),")"]}),wd.push(this.maybeBlock(Pd.body,Sd)),wd},o0.prototype.generatePropertyKey=function(Od,Pd){var Sd=[];return Pd&&Sd.push("["),Sd.push(this.generateExpression(Od,o.Assignment,cm)),Pd&&Sd.push("]"),Sd},o0.prototype.generateAssignment=function(Od,Pd,Sd,wd,Rd){return o.Assignment<wd&&(Rd|=sm),xm([this.generateExpression(Od,o.Call,Rd),xd+Sd+xd,this.generateExpression(Pd,o.Assignment,Rd)],o.Assignment,wd)},o0.prototype.semicolon=function(Od){return!Dd&&Od&vm?"":";"},o0.Statement={BlockStatement:function(Od,Pd){var Sd,wd,Rd=["{",Ad],Yd=this;return Lm(function(){Od.body.length===0&&zd&&(Sd=Od.range,Sd[1]-Sd[0]>2&&(wd=Qd.substring(Sd[0]+1,Sd[1]-1),wd[0]===`
`&&(Rd=["{"]),Rd.push(wd)));var Kd,rm,Sm,Ym;for(Ym=jm,Pd&Om&&(Ym|=km),Kd=0,rm=Od.body.length;Kd<rm;++Kd)zd&&(Kd===0&&(Od.body[0].leadingComments&&(Sd=Od.body[0].leadingComments[0].extendedRange,wd=Qd.substring(Sd[0],Sd[1]),wd[0]===`
`&&(Rd=["{"])),Od.body[0].leadingComments||k0(Od.range[0],Od.body[0].range[0],Rd)),Kd>0&&!Od.body[Kd-1].trailingComments&&!Od.body[Kd].leadingComments&&k0(Od.body[Kd-1].range[1],Od.body[Kd].range[0],Rd)),Kd===rm-1&&(Ym|=vm),Od.body[Kd].leadingComments&&zd?Sm=Yd.generateStatement(Od.body[Kd],Ym):Sm=Dm(Yd.generateStatement(Od.body[Kd],Ym)),Rd.push(Sm),Vm(um(Sm).toString())||zd&&Kd<rm-1&&Od.body[Kd+1].leadingComments||Rd.push(Ad),zd&&Kd===rm-1&&(Od.body[Kd].trailingComments||k0(Od.body[Kd].range[1],Od.range[1],Rd))}),Rd.push(Dm("}")),Rd},BreakStatement:function(Od,Pd){return Od.label?"break "+Od.label.name+this.semicolon(Pd):"break"+this.semicolon(Pd)},ContinueStatement:function(Od,Pd){return Od.label?"continue "+Od.label.name+this.semicolon(Pd):"continue"+this.semicolon(Pd)},ClassBody:function(Od,Pd){var Sd=["{",Ad],wd=this;return Lm(function(Rd){var Yd,Kd;for(Yd=0,Kd=Od.body.length;Yd<Kd;++Yd)Sd.push(Rd),Sd.push(wd.generateExpression(Od.body[Yd],o.Sequence,cm)),Yd+1<Kd&&Sd.push(Ad)}),Vm(um(Sd).toString())||Sd.push(Ad),Sd.push(ld),Sd.push("}"),Sd},ClassDeclaration:function(Od,Pd){var Sd,wd;return Sd=["class"],Od.id&&(Sd=om(Sd,this.generateExpression(Od.id,o.Sequence,cm))),Od.superClass&&(wd=om("extends",this.generateExpression(Od.superClass,o.Unary,cm)),Sd=om(Sd,wd)),Sd.push(xd),Sd.push(this.generateStatement(Od.body,am)),Sd},DirectiveStatement:function(Od,Pd){return Md.raw&&Od.raw?Od.raw+this.semicolon(Pd):Jd(Od.directive)+this.semicolon(Pd)},DoWhileStatement:function(Od,Pd){var Sd=om("do",this.maybeBlock(Od.body,jm));return Sd=this.maybeBlockSuffix(Od.body,Sd),om(Sd,["while"+xd+"(",this.generateExpression(Od.test,o.Sequence,cm),")"+this.semicolon(Pd)])},CatchClause:function(Od,Pd){var Sd,wd=this;return Lm(function(){var Rd;Od.param?(Sd=["catch"+xd+"(",wd.generateExpression(Od.param,o.Sequence,cm),")"],Od.guard&&(Rd=wd.generateExpression(Od.guard,o.Sequence,cm),Sd.splice(2,0," if ",Rd))):Sd=["catch"]}),Sd.push(this.maybeBlock(Od.body,jm)),Sd},DebuggerStatement:function(Od,Pd){return"debugger"+this.semicolon(Pd)},EmptyStatement:function(Od,Pd){return";"},ExportDefaultDeclaration:function(Od,Pd){var Sd=["export"],wd;return wd=Pd&vm?am:jm,Sd=om(Sd,"default"),im(Od.declaration)?Sd=om(Sd,this.generateStatement(Od.declaration,wd)):Sd=om(Sd,this.generateExpression(Od.declaration,o.Assignment,cm)+this.semicolon(Pd)),Sd},ExportNamedDeclaration:function(Od,Pd){var Sd=["export"],wd,Rd=this;return wd=Pd&vm?am:jm,Od.declaration?om(Sd,this.generateStatement(Od.declaration,wd)):(Od.specifiers&&(Od.specifiers.length===0?Sd=om(Sd,"{"+xd+"}"):Od.specifiers[0].type===r.ExportBatchSpecifier?Sd=om(Sd,this.generateExpression(Od.specifiers[0],o.Sequence,cm)):(Sd=om(Sd,"{"),Lm(function(Yd){var Kd,rm;for(Sd.push(Ad),Kd=0,rm=Od.specifiers.length;Kd<rm;++Kd)Sd.push(Yd),Sd.push(Rd.generateExpression(Od.specifiers[Kd],o.Sequence,cm)),Kd+1<rm&&Sd.push(","+Ad)}),Vm(um(Sd).toString())||Sd.push(Ad),Sd.push(ld+"}")),Od.source?Sd=om(Sd,["from"+xd,this.generateExpression(Od.source,o.Sequence,cm),this.semicolon(Pd)]):Sd.push(this.semicolon(Pd))),Sd)},ExportAllDeclaration:function(Od,Pd){return["export"+xd,"*"+xd,"from"+xd,this.generateExpression(Od.source,o.Sequence,cm),this.semicolon(Pd)]},ExpressionStatement:function(Od,Pd){var Sd,wd;function Rd(rm){var Sm;return rm.slice(0,5)!=="class"?!1:(Sm=rm.charCodeAt(5),Sm===123||Na.code.isWhiteSpace(Sm)||Na.code.isLineTerminator(Sm))}function Yd(rm){var Sm;return rm.slice(0,8)!=="function"?!1:(Sm=rm.charCodeAt(8),Sm===40||Na.code.isWhiteSpace(Sm)||Sm===42||Na.code.isLineTerminator(Sm))}function Kd(rm){var Sm,Ym,l0;if(rm.slice(0,5)!=="async"||!Na.code.isWhiteSpace(rm.charCodeAt(5)))return!1;for(Ym=6,l0=rm.length;Ym<l0&&Na.code.isWhiteSpace(rm.charCodeAt(Ym));++Ym);return Ym===l0||rm.slice(Ym,Ym+8)!=="function"?!1:(Sm=rm.charCodeAt(Ym+8),Sm===40||Na.code.isWhiteSpace(Sm)||Sm===42||Na.code.isLineTerminator(Sm))}return Sd=[this.generateExpression(Od.expression,o.Sequence,cm)],wd=um(Sd).toString(),wd.charCodeAt(0)===123||Rd(wd)||Yd(wd)||Kd(wd)||Bd&&Pd&km&&Od.expression.type===r.Literal&&typeof Od.expression.value=="string"?Sd=["(",Sd,")"+this.semicolon(Pd)]:Sd.push(this.semicolon(Pd)),Sd},ImportDeclaration:function(Od,Pd){var Sd,wd,Rd=this;return Od.specifiers.length===0?["import",xd,this.generateExpression(Od.source,o.Sequence,cm),this.semicolon(Pd)]:(Sd=["import"],wd=0,Od.specifiers[wd].type===r.ImportDefaultSpecifier&&(Sd=om(Sd,[this.generateExpression(Od.specifiers[wd],o.Sequence,cm)]),++wd),Od.specifiers[wd]&&(wd!==0&&Sd.push(","),Od.specifiers[wd].type===r.ImportNamespaceSpecifier?Sd=om(Sd,[xd,this.generateExpression(Od.specifiers[wd],o.Sequence,cm)]):(Sd.push(xd+"{"),Od.specifiers.length-wd===1?(Sd.push(xd),Sd.push(this.generateExpression(Od.specifiers[wd],o.Sequence,cm)),Sd.push(xd+"}"+xd)):(Lm(function(Yd){var Kd,rm;for(Sd.push(Ad),Kd=wd,rm=Od.specifiers.length;Kd<rm;++Kd)Sd.push(Yd),Sd.push(Rd.generateExpression(Od.specifiers[Kd],o.Sequence,cm)),Kd+1<rm&&Sd.push(","+Ad)}),Vm(um(Sd).toString())||Sd.push(Ad),Sd.push(ld+"}"+xd)))),Sd=om(Sd,["from"+xd,this.generateExpression(Od.source,o.Sequence,cm),this.semicolon(Pd)]),Sd)},VariableDeclarator:function(Od,Pd){var Sd=Pd&sm?cm:Cm;return Od.init?[this.generateExpression(Od.id,o.Assignment,Sd),xd,"=",xd,this.generateExpression(Od.init,o.Assignment,Sd)]:this.generatePattern(Od.id,o.Assignment,Sd)},VariableDeclaration:function(Od,Pd){var Sd,wd,Rd,Yd,Kd,rm=this;Sd=[Od.kind],Kd=Pd&sm?jm:Hm;function Sm(){for(Yd=Od.declarations[0],Md.comment&&Yd.leadingComments?(Sd.push(`
`),Sd.push(Dm(rm.generateStatement(Yd,Kd)))):(Sd.push(Tm()),Sd.push(rm.generateStatement(Yd,Kd))),wd=1,Rd=Od.declarations.length;wd<Rd;++wd)Yd=Od.declarations[wd],Md.comment&&Yd.leadingComments?(Sd.push(","+Ad),Sd.push(Dm(rm.generateStatement(Yd,Kd)))):(Sd.push(","+xd),Sd.push(rm.generateStatement(Yd,Kd)))}return Od.declarations.length>1?Lm(Sm):Sm(),Sd.push(this.semicolon(Pd)),Sd},ThrowStatement:function(Od,Pd){return[om("throw",this.generateExpression(Od.argument,o.Sequence,cm)),this.semicolon(Pd)]},TryStatement:function(Od,Pd){var Sd,wd,Rd,Yd;if(Sd=["try",this.maybeBlock(Od.block,jm)],Sd=this.maybeBlockSuffix(Od.block,Sd),Od.handlers)for(wd=0,Rd=Od.handlers.length;wd<Rd;++wd)Sd=om(Sd,this.generateStatement(Od.handlers[wd],jm)),(Od.finalizer||wd+1!==Rd)&&(Sd=this.maybeBlockSuffix(Od.handlers[wd].body,Sd));else{for(Yd=Od.guardedHandlers||[],wd=0,Rd=Yd.length;wd<Rd;++wd)Sd=om(Sd,this.generateStatement(Yd[wd],jm)),(Od.finalizer||wd+1!==Rd)&&(Sd=this.maybeBlockSuffix(Yd[wd].body,Sd));if(Od.handler)if(Array.isArray(Od.handler))for(wd=0,Rd=Od.handler.length;wd<Rd;++wd)Sd=om(Sd,this.generateStatement(Od.handler[wd],jm)),(Od.finalizer||wd+1!==Rd)&&(Sd=this.maybeBlockSuffix(Od.handler[wd].body,Sd));else Sd=om(Sd,this.generateStatement(Od.handler,jm)),Od.finalizer&&(Sd=this.maybeBlockSuffix(Od.handler.body,Sd))}return Od.finalizer&&(Sd=om(Sd,["finally",this.maybeBlock(Od.finalizer,jm)])),Sd},SwitchStatement:function(Od,Pd){var Sd,wd,Rd,Yd,Kd,rm=this;if(Lm(function(){Sd=["switch"+xd+"(",rm.generateExpression(Od.discriminant,o.Sequence,cm),")"+xd+"{"+Ad]}),Od.cases)for(Kd=jm,Rd=0,Yd=Od.cases.length;Rd<Yd;++Rd)Rd===Yd-1&&(Kd|=vm),wd=Dm(this.generateStatement(Od.cases[Rd],Kd)),Sd.push(wd),Vm(um(wd).toString())||Sd.push(Ad);return Sd.push(Dm("}")),Sd},SwitchCase:function(Od,Pd){var Sd,wd,Rd,Yd,Kd,rm=this;return Lm(function(){for(Od.test?Sd=[om("case",rm.generateExpression(Od.test,o.Sequence,cm)),":"]:Sd=["default:"],Rd=0,Yd=Od.consequent.length,Yd&&Od.consequent[0].type===r.BlockStatement&&(wd=rm.maybeBlock(Od.consequent[0],jm),Sd.push(wd),Rd=1),Rd!==Yd&&!Vm(um(Sd).toString())&&Sd.push(Ad),Kd=jm;Rd<Yd;++Rd)Rd===Yd-1&&Pd&vm&&(Kd|=vm),wd=Dm(rm.generateStatement(Od.consequent[Rd],Kd)),Sd.push(wd),Rd+1!==Yd&&!Vm(um(wd).toString())&&Sd.push(Ad)}),Sd},IfStatement:function(Od,Pd){var Sd,wd,Rd,Yd=this;return Lm(function(){Sd=["if"+xd+"(",Yd.generateExpression(Od.test,o.Sequence,cm),")"]}),Rd=Pd&vm,wd=jm,Rd&&(wd|=vm),Od.alternate?(Sd.push(this.maybeBlock(Od.consequent,jm)),Sd=this.maybeBlockSuffix(Od.consequent,Sd),Od.alternate.type===r.IfStatement?Sd=om(Sd,["else ",this.generateStatement(Od.alternate,wd)]):Sd=om(Sd,om("else",this.maybeBlock(Od.alternate,wd)))):Sd.push(this.maybeBlock(Od.consequent,wd)),Sd},ForStatement:function(Od,Pd){var Sd,wd=this;return Lm(function(){Sd=["for"+xd+"("],Od.init?Od.init.type===r.VariableDeclaration?Sd.push(wd.generateStatement(Od.init,Hm)):(Sd.push(wd.generateExpression(Od.init,o.Sequence,Cm)),Sd.push(";")):Sd.push(";"),Od.test&&(Sd.push(xd),Sd.push(wd.generateExpression(Od.test,o.Sequence,cm))),Sd.push(";"),Od.update&&(Sd.push(xd),Sd.push(wd.generateExpression(Od.update,o.Sequence,cm))),Sd.push(")")}),Sd.push(this.maybeBlock(Od.body,Pd&vm?am:jm)),Sd},ForInStatement:function(Od,Pd){return this.generateIterationForStatement("in",Od,Pd&vm?am:jm)},ForOfStatement:function(Od,Pd){return this.generateIterationForStatement("of",Od,Pd&vm?am:jm)},LabeledStatement:function(Od,Pd){return[Od.label.name+":",this.maybeBlock(Od.body,Pd&vm?am:jm)]},Program:function(Od,Pd){var Sd,wd,Rd,Yd,Kd;for(Yd=Od.body.length,Sd=[Td&&Yd>0?`
`:""],Kd=_0,Rd=0;Rd<Yd;++Rd)!Td&&Rd===Yd-1&&(Kd|=vm),zd&&(Rd===0&&(Od.body[0].leadingComments||k0(Od.range[0],Od.body[Rd].range[0],Sd)),Rd>0&&!Od.body[Rd-1].trailingComments&&!Od.body[Rd].leadingComments&&k0(Od.body[Rd-1].range[1],Od.body[Rd].range[0],Sd)),wd=Dm(this.generateStatement(Od.body[Rd],Kd)),Sd.push(wd),Rd+1<Yd&&!Vm(um(wd).toString())&&(zd&&Od.body[Rd+1].leadingComments||Sd.push(Ad)),zd&&Rd===Yd-1&&(Od.body[Rd].trailingComments||k0(Od.body[Rd].range[1],Od.range[1],Sd));return Sd},FunctionDeclaration:function(Od,Pd){return[I0(Od,!0),"function",J0(Od)||Tm(),Od.id?$0(Od.id):"",this.generateFunctionBody(Od)]},ReturnStatement:function(Od,Pd){return Od.argument?[om("return",this.generateExpression(Od.argument,o.Sequence,cm)),this.semicolon(Pd)]:["return"+this.semicolon(Pd)]},WhileStatement:function(Od,Pd){var Sd,wd=this;return Lm(function(){Sd=["while"+xd+"(",wd.generateExpression(Od.test,o.Sequence,cm),")"]}),Sd.push(this.maybeBlock(Od.body,Pd&vm?am:jm)),Sd},WithStatement:function(Od,Pd){var Sd,wd=this;return Lm(function(){Sd=["with"+xd+"(",wd.generateExpression(Od.object,o.Sequence,cm),")"]}),Sd.push(this.maybeBlock(Od.body,Pd&vm?am:jm)),Sd}},w0(o0.prototype,o0.Statement),o0.Expression={SequenceExpression:function(Od,Pd,Sd){var wd,Rd,Yd;for(o.Sequence<Pd&&(Sd|=sm),wd=[],Rd=0,Yd=Od.expressions.length;Rd<Yd;++Rd)wd.push(this.generateExpression(Od.expressions[Rd],o.Assignment,Sd)),Rd+1<Yd&&wd.push(","+xd);return xm(wd,o.Sequence,Pd)},AssignmentExpression:function(Od,Pd,Sd){return this.generateAssignment(Od.left,Od.right,Od.operator,Pd,Sd)},ArrowFunctionExpression:function(Od,Pd,Sd){return xm(this.generateFunctionBody(Od),o.ArrowFunction,Pd)},ConditionalExpression:function(Od,Pd,Sd){return o.Conditional<Pd&&(Sd|=sm),xm([this.generateExpression(Od.test,o.Coalesce,Sd),xd+"?"+xd,this.generateExpression(Od.consequent,o.Assignment,Sd),xd+":"+xd,this.generateExpression(Od.alternate,o.Assignment,Sd)],o.Conditional,Pd)},LogicalExpression:function(Od,Pd,Sd){return Od.operator==="??"&&(Sd|=t0),this.BinaryExpression(Od,Pd,Sd)},BinaryExpression:function(Od,Pd,Sd){var wd,Rd,Yd,Kd,rm,Sm;return Kd=qe[Od.operator],Rd=Od.operator==="**"?o.Postfix:Kd,Yd=Od.operator==="**"?Kd:Kd+1,Kd<Pd&&(Sd|=sm),rm=this.generateExpression(Od.left,Rd,Sd),Sm=rm.toString(),Sm.charCodeAt(Sm.length-1)===47&&Na.code.isIdentifierPartES5(Od.operator.charCodeAt(0))?wd=[rm,Tm(),Od.operator]:wd=om(rm,Od.operator),rm=this.generateExpression(Od.right,Yd,Sd),Od.operator==="/"&&rm.toString().charAt(0)==="/"||Od.operator.slice(-1)==="<"&&rm.toString().slice(0,3)==="!--"?(wd.push(Tm()),wd.push(rm)):wd=om(wd,rm),Od.operator==="in"&&!(Sd&sm)?["(",wd,")"]:(Od.operator==="||"||Od.operator==="&&")&&Sd&t0?["(",wd,")"]:xm(wd,Kd,Pd)},CallExpression:function(Od,Pd,Sd){var wd,Rd,Yd;for(wd=[this.generateExpression(Od.callee,o.Call,Zm)],Od.optional&&wd.push("?."),wd.push("("),Rd=0,Yd=Od.arguments.length;Rd<Yd;++Rd)wd.push(this.generateExpression(Od.arguments[Rd],o.Assignment,cm)),Rd+1<Yd&&wd.push(","+xd);return wd.push(")"),Sd&mm?xm(wd,o.Call,Pd):["(",wd,")"]},ChainExpression:function(Od,Pd,Sd){o.OptionalChaining<Pd&&(Sd|=mm);var wd=this.generateExpression(Od.expression,o.OptionalChaining,Sd);return xm(wd,o.OptionalChaining,Pd)},NewExpression:function(Od,Pd,Sd){var wd,Rd,Yd,Kd,rm;if(Rd=Od.arguments.length,rm=Sd&Mm&&!Cd&&Rd===0?r0:Xm,wd=om("new",this.generateExpression(Od.callee,o.New,rm)),!(Sd&Mm)||Cd||Rd>0){for(wd.push("("),Yd=0,Kd=Rd;Yd<Kd;++Yd)wd.push(this.generateExpression(Od.arguments[Yd],o.Assignment,cm)),Yd+1<Kd&&wd.push(","+xd);wd.push(")")}return xm(wd,o.New,Pd)},MemberExpression:function(Od,Pd,Sd){var wd,Rd;return wd=[this.generateExpression(Od.object,o.Call,Sd&mm?Zm:Xm)],Od.computed?(Od.optional&&wd.push("?."),wd.push("["),wd.push(this.generateExpression(Od.property,o.Sequence,Sd&mm?cm:r0)),wd.push("]")):(!Od.optional&&Od.object.type===r.Literal&&typeof Od.object.value=="number"&&(Rd=um(wd).toString(),Rd.indexOf(".")<0&&!/[eExX]/.test(Rd)&&Na.code.isDecimalDigit(Rd.charCodeAt(Rd.length-1))&&!(Rd.length>=2&&Rd.charCodeAt(0)===48)&&wd.push(" ")),wd.push(Od.optional?"?.":"."),wd.push($0(Od.property))),xm(wd,o.Member,Pd)},MetaProperty:function(Od,Pd,Sd){var wd;return wd=[],wd.push(typeof Od.meta=="string"?Od.meta:$0(Od.meta)),wd.push("."),wd.push(typeof Od.property=="string"?Od.property:$0(Od.property)),xm(wd,o.Member,Pd)},UnaryExpression:function(Od,Pd,Sd){var wd,Rd,Yd,Kd,rm;return Rd=this.generateExpression(Od.argument,o.Unary,cm),xd===""?wd=om(Od.operator,Rd):(wd=[Od.operator],Od.operator.length>2?wd=om(wd,Rd):(Kd=um(wd).toString(),rm=Kd.charCodeAt(Kd.length-1),Yd=Rd.toString().charCodeAt(0),((rm===43||rm===45)&&rm===Yd||Na.code.isIdentifierPartES5(rm)&&Na.code.isIdentifierPartES5(Yd))&&wd.push(Tm()),wd.push(Rd))),xm(wd,o.Unary,Pd)},YieldExpression:function(Od,Pd,Sd){var wd;return Od.delegate?wd="yield*":wd="yield",Od.argument&&(wd=om(wd,this.generateExpression(Od.argument,o.Yield,cm))),xm(wd,o.Yield,Pd)},AwaitExpression:function(Od,Pd,Sd){var wd=om(Od.all?"await*":"await",this.generateExpression(Od.argument,o.Await,cm));return xm(wd,o.Await,Pd)},UpdateExpression:function(Od,Pd,Sd){return Od.prefix?xm([Od.operator,this.generateExpression(Od.argument,o.Unary,cm)],o.Unary,Pd):xm([this.generateExpression(Od.argument,o.Postfix,cm),Od.operator],o.Postfix,Pd)},FunctionExpression:function(Od,Pd,Sd){var wd=[I0(Od,!0),"function"];return Od.id?(wd.push(J0(Od)||Tm()),wd.push($0(Od.id))):wd.push(J0(Od)||xd),wd.push(this.generateFunctionBody(Od)),wd},ArrayPattern:function(Od,Pd,Sd){return this.ArrayExpression(Od,Pd,Sd,!0)},ArrayExpression:function(Od,Pd,Sd,wd){var Rd,Yd,Kd=this;return Od.elements.length?(Yd=wd?!1:Od.elements.length>1,Rd=["[",Yd?Ad:""],Lm(function(rm){var Sm,Ym;for(Sm=0,Ym=Od.elements.length;Sm<Ym;++Sm)Od.elements[Sm]?(Rd.push(Yd?rm:""),Rd.push(Kd.generateExpression(Od.elements[Sm],o.Assignment,cm))):(Yd&&Rd.push(rm),Sm+1===Ym&&Rd.push(",")),Sm+1<Ym&&Rd.push(","+(Yd?Ad:xd))}),Yd&&!Vm(um(Rd).toString())&&Rd.push(Ad),Rd.push(Yd?ld:""),Rd.push("]"),Rd):"[]"},RestElement:function(Od,Pd,Sd){return"..."+this.generatePattern(Od.argument)},ClassExpression:function(Od,Pd,Sd){var wd,Rd;return wd=["class"],Od.id&&(wd=om(wd,this.generateExpression(Od.id,o.Sequence,cm))),Od.superClass&&(Rd=om("extends",this.generateExpression(Od.superClass,o.Unary,cm)),wd=om(wd,Rd)),wd.push(xd),wd.push(this.generateStatement(Od.body,am)),wd},MethodDefinition:function(Od,Pd,Sd){var wd,Rd;return Od.static?wd=["static"+xd]:wd=[],Od.kind==="get"||Od.kind==="set"?Rd=[om(Od.kind,this.generatePropertyKey(Od.key,Od.computed)),this.generateFunctionBody(Od.value)]:Rd=[fg(Od),this.generatePropertyKey(Od.key,Od.computed),this.generateFunctionBody(Od.value)],om(wd,Rd)},Property:function(Od,Pd,Sd){return Od.kind==="get"||Od.kind==="set"?[Od.kind,Tm(),this.generatePropertyKey(Od.key,Od.computed),this.generateFunctionBody(Od.value)]:Od.shorthand?Od.value.type==="AssignmentPattern"?this.AssignmentPattern(Od.value,o.Sequence,cm):this.generatePropertyKey(Od.key,Od.computed):Od.method?[fg(Od),this.generatePropertyKey(Od.key,Od.computed),this.generateFunctionBody(Od.value)]:[this.generatePropertyKey(Od.key,Od.computed),":"+xd,this.generateExpression(Od.value,o.Assignment,cm)]},ObjectExpression:function(Od,Pd,Sd){var wd,Rd,Yd,Kd=this;return Od.properties.length?(wd=Od.properties.length>1,Lm(function(){Yd=Kd.generateExpression(Od.properties[0],o.Sequence,cm)}),!wd&&!C0(um(Yd).toString())?["{",xd,Yd,xd,"}"]:(Lm(function(rm){var Sm,Ym;if(Rd=["{",Ad,rm,Yd],wd)for(Rd.push(","+Ad),Sm=1,Ym=Od.properties.length;Sm<Ym;++Sm)Rd.push(rm),Rd.push(Kd.generateExpression(Od.properties[Sm],o.Sequence,cm)),Sm+1<Ym&&Rd.push(","+Ad)}),Vm(um(Rd).toString())||Rd.push(Ad),Rd.push(ld),Rd.push("}"),Rd)):"{}"},AssignmentPattern:function(Od,Pd,Sd){return this.generateAssignment(Od.left,Od.right,"=",Pd,Sd)},ObjectPattern:function(Od,Pd,Sd){var wd,Rd,Yd,Kd,rm,Sm=this;if(!Od.properties.length)return"{}";if(Kd=!1,Od.properties.length===1)rm=Od.properties[0],rm.type===r.Property&&rm.value.type!==r.Identifier&&(Kd=!0);else for(Rd=0,Yd=Od.properties.length;Rd<Yd;++Rd)if(rm=Od.properties[Rd],rm.type===r.Property&&!rm.shorthand){Kd=!0;break}return wd=["{",Kd?Ad:""],Lm(function(Ym){var l0,Qm;for(l0=0,Qm=Od.properties.length;l0<Qm;++l0)wd.push(Kd?Ym:""),wd.push(Sm.generateExpression(Od.properties[l0],o.Sequence,cm)),l0+1<Qm&&wd.push(","+(Kd?Ad:xd))}),Kd&&!Vm(um(wd).toString())&&wd.push(Ad),wd.push(Kd?ld:""),wd.push("}"),wd},ThisExpression:function(Od,Pd,Sd){return"this"},Super:function(Od,Pd,Sd){return"super"},Identifier:function(Od,Pd,Sd){return $0(Od)},ImportDefaultSpecifier:function(Od,Pd,Sd){return $0(Od.id||Od.local)},ImportNamespaceSpecifier:function(Od,Pd,Sd){var wd=["*"],Rd=Od.id||Od.local;return Rd&&wd.push(xd+"as"+Tm()+$0(Rd)),wd},ImportSpecifier:function(Od,Pd,Sd){var wd=Od.imported,Rd=[wd.name],Yd=Od.local;return Yd&&Yd.name!==wd.name&&Rd.push(Tm()+"as"+Tm()+$0(Yd)),Rd},ExportSpecifier:function(Od,Pd,Sd){var wd=Od.local,Rd=[wd.name],Yd=Od.exported;return Yd&&Yd.name!==wd.name&&Rd.push(Tm()+"as"+Tm()+$0(Yd)),Rd},Literal:function(Od,Pd,Sd){var wd;if(Od.hasOwnProperty("raw")&&Ed&&Md.raw)try{if(wd=Ed(Od.raw).body[0].expression,wd.type===r.Literal&&wd.value===Od.value)return Od.raw}catch{}return Od.regex?"/"+Od.regex.pattern+"/"+Od.regex.flags:typeof Od.value=="bigint"?Od.value.toString()+"n":Od.bigint?Od.bigint+"n":Od.value===null?"null":typeof Od.value=="string"?lm(Od.value):typeof Od.value=="number"?x0(Od.value):typeof Od.value=="boolean"?Od.value?"true":"false":Vd(Od.value)},GeneratorExpression:function(Od,Pd,Sd){return this.ComprehensionExpression(Od,Pd,Sd)},ComprehensionExpression:function(Od,Pd,Sd){var wd,Rd,Yd,Kd,rm=this;return wd=Od.type===r.GeneratorExpression?["("]:["["],Md.moz.comprehensionExpressionStartsWithAssignment&&(Kd=this.generateExpression(Od.body,o.Assignment,cm),wd.push(Kd)),Od.blocks&&Lm(function(){for(Rd=0,Yd=Od.blocks.length;Rd<Yd;++Rd)Kd=rm.generateExpression(Od.blocks[Rd],o.Sequence,cm),Rd>0||Md.moz.comprehensionExpressionStartsWithAssignment?wd=om(wd,Kd):wd.push(Kd)}),Od.filter&&(wd=om(wd,"if"+xd),Kd=this.generateExpression(Od.filter,o.Sequence,cm),wd=om(wd,["(",Kd,")"])),Md.moz.comprehensionExpressionStartsWithAssignment||(Kd=this.generateExpression(Od.body,o.Assignment,cm),wd=om(wd,Kd)),wd.push(Od.type===r.GeneratorExpression?")":"]"),wd},ComprehensionBlock:function(Od,Pd,Sd){var wd;return Od.left.type===r.VariableDeclaration?wd=[Od.left.kind,Tm(),this.generateStatement(Od.left.declarations[0],Hm)]:wd=this.generateExpression(Od.left,o.Call,cm),wd=om(wd,Od.of?"of":"in"),wd=om(wd,this.generateExpression(Od.right,o.Sequence,cm)),["for"+xd+"(",wd,")"]},SpreadElement:function(Od,Pd,Sd){return["...",this.generateExpression(Od.argument,o.Assignment,cm)]},TaggedTemplateExpression:function(Od,Pd,Sd){var wd=Zm;Sd&mm||(wd=Xm);var Rd=[this.generateExpression(Od.tag,o.Call,wd),this.generateExpression(Od.quasi,o.Primary,Hd)];return xm(Rd,o.TaggedTemplate,Pd)},TemplateElement:function(Od,Pd,Sd){return Od.value.raw},TemplateLiteral:function(Od,Pd,Sd){var wd,Rd,Yd;for(wd=["`"],Rd=0,Yd=Od.quasis.length;Rd<Yd;++Rd)wd.push(this.generateExpression(Od.quasis[Rd],o.Primary,cm)),Rd+1<Yd&&(wd.push("${"+xd),wd.push(this.generateExpression(Od.expressions[Rd],o.Sequence,cm)),wd.push(xd+"}"));return wd.push("`"),wd},ModuleSpecifier:function(Od,Pd,Sd){return this.Literal(Od,Pd,Sd)},ImportExpression:function(Od,Pd,Sd){return xm(["import(",this.generateExpression(Od.source,o.Assignment,cm),")"],o.Call,Pd)}},w0(o0.prototype,o0.Expression),o0.prototype.generateExpression=function(Od,Pd,Sd){var wd,Rd;return Rd=Od.type||r.Property,Md.verbatim&&Od.hasOwnProperty(Md.verbatim)?Z0(Od,Pd):(wd=this[Rd](Od,Pd,Sd),Md.comment&&(wd=a0(Od,wd)),um(wd,Od))},o0.prototype.generateStatement=function(Od,Pd){var Sd,wd;return Sd=this[Od.type](Od,Pd),Md.comment&&(Sd=a0(Od,Sd)),wd=um(Sd).toString(),Od.type===r.Program&&!Td&&Ad===""&&wd.charAt(wd.length-1)===`
`&&(Sd=Gd?um(Sd).replaceRight(/\s+$/,""):wd.replace(/\s+$/,"")),um(Sd,Od)};function Q1(Od){var Pd;if(Pd=new o0,im(Od))return Pd.generateStatement(Od,jm);if(dm(Od))return Pd.generateExpression(Od,o.Sequence,cm);throw new Error("Unknown node type: "+Od.type)}function X1(Od,Pd){var Sd=P0(),wd,Rd;return Pd!=null?(typeof Pd.indent=="string"&&(Sd.format.indent.style=Pd.indent),typeof Pd.base=="number"&&(Sd.format.indent.base=Pd.base),Pd=p0(Sd,Pd),fd=Pd.format.indent.style,typeof Pd.base=="string"?ld=Pd.base:ld=c0(fd,Pd.format.indent.base)):(Pd=Sd,fd=Pd.format.indent.style,ld=c0(fd,Pd.format.indent.base)),hd=Pd.format.json,dd=Pd.format.renumber,gd=hd?!1:Pd.format.hexadecimal,yd=hd?"double":Pd.format.quotes,_d=Pd.format.escapeless,Ad=Pd.format.newline,xd=Pd.format.space,Pd.format.compact&&(Ad=xd=fd=ld=""),Cd=Pd.format.parentheses,Dd=Pd.format.semicolons,Td=Pd.format.safeConcatenation,Bd=Pd.directive,Ed=hd?null:Pd.parse,Gd=Pd.sourceMap,Qd=Pd.sourceCode,zd=Pd.format.preserveBlankLines&&Qd!==null,Md=Pd,Gd&&(e.browser?bt=commonjsGlobal.sourceMap.SourceNode:bt=requireSourceMap().SourceNode),wd=Q1(Od),Gd?(Rd=wd.toStringWithSourceMap({file:Pd.file,sourceRoot:Pd.sourceMapRoot}),Pd.sourceContent&&Rd.map.setSourceContent(Pd.sourceMap,Pd.sourceContent),Pd.sourceMapWithCode?Rd:Rd.map.toString()):(Rd={code:wd.toString(),map:null},Pd.sourceMapWithCode?Rd:Rd.code)}nm={indent:{style:"",base:0},renumber:!0,hexadecimal:!0,quotes:"auto",escapeless:!0,compact:!0,parentheses:!1,semicolons:!1},qd=P0().format,e.version=require$$3.version,e.generate=X1,e.attachComments=Nt.attachComments,e.Precedence=p0({},o),e.browser=!1,e.FORMAT_MINIFY=nm,e.FORMAT_DEFAULTS=qd})()})(escodegen)),escodegen}var escodegenExports=requireEscodegen();const S=getDefaultExportFromCjs(escodegenExports);class WalkerBase{constructor(){this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:r=>this.replacement=r}}replace(r,o,qe,bt){r&&o&&(qe!=null?r[o][qe]=bt:r[o]=bt)}remove(r,o,qe){r&&o&&(qe!=null?r[o].splice(qe,1):delete r[o])}}class SyncWalker extends WalkerBase{constructor(r,o){super(),this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.context={skip:()=>this.should_skip=!0,remove:()=>this.should_remove=!0,replace:qe=>this.replacement=qe},this.enter=r,this.leave=o}visit(r,o,qe,bt){if(r){if(this.enter){const Na=this.should_skip,ld=this.should_remove,fd=this.replacement;this.should_skip=!1,this.should_remove=!1,this.replacement=null,this.enter.call(this.context,r,o,qe,bt),this.replacement&&(r=this.replacement,this.replace(o,qe,bt,r)),this.should_remove&&this.remove(o,qe,bt);const hd=this.should_skip,dd=this.should_remove;if(this.should_skip=Na,this.should_remove=ld,this.replacement=fd,hd)return r;if(dd)return null}let Nt;for(Nt in r){const Na=r[Nt];if(Na&&typeof Na=="object")if(Array.isArray(Na)){const ld=Na;for(let fd=0;fd<ld.length;fd+=1){const hd=ld[fd];isNode(hd)&&(this.visit(hd,r,Nt,fd)||fd--)}}else isNode(Na)&&this.visit(Na,r,Nt,null)}if(this.leave){const Na=this.replacement,ld=this.should_remove;this.replacement=null,this.should_remove=!1,this.leave.call(this.context,r,o,qe,bt),this.replacement&&(r=this.replacement,this.replace(o,qe,bt,r)),this.should_remove&&this.remove(o,qe,bt);const fd=this.should_remove;if(this.replacement=Na,this.should_remove=ld,fd)return null}}return r}}function isNode(e){return e!==null&&typeof e=="object"&&"type"in e&&typeof e.type=="string"}function walk(e,{enter:r,leave:o}){return new SyncWalker(r,o).visit(e,null)}let E=[],m$1=new Map;function d(e,r={}){const{wrapAsync:o=!1,addReturn:qe=!0,emitMiniLocations:bt=!0,emitWidgets:Nt=!0}=r;let Na=parse(e,{ecmaVersion:2022,allowAwaitOutsideFunction:!0,locations:!0}),ld=[];const fd=(yd,_d)=>{const Ad=m$1.get("minilang");if(Ad){const xd=`[${yd}]`,Cd=Ad.getLocations(xd,_d.start);ld=ld.concat(Cd)}else{const xd=Yr(`"${yd}"`,_d.start,e);ld=ld.concat(xd)}};let hd=[];walk(Na,{enter(yd,_d){if(R(yd)){const{name:Ad}=yd.tag,xd=m$1.get(Ad),Cd=yd.quasi.quasis[0].value.raw,Dd=yd.quasi.start+1;if(bt){const Td=xd.getLocations(Cd,Dd);ld=ld.concat(Td)}return this.skip(),this.replace(Q$1(Ad,Cd,Dd))}if(j(yd,"tidal")){const Ad=yd.quasi.quasis[0].value.raw,xd=yd.quasi.start+1;if(bt){const Cd=H(Ad,xd);ld=ld.concat(Cd)}return this.skip(),this.replace(P(Ad,xd))}if(q(yd,_d)){const{quasis:Ad}=yd,{raw:xd}=Ad[0].value;return this.skip(),bt&&fd(xd,yd),this.replace(w(xd,yd))}if(k(yd)){const{value:Ad}=yd;return this.skip(),bt&&fd(Ad,yd),this.replace(w(Ad,yd))}if(I(yd))return Nt&&hd.push({from:yd.arguments[0].start,to:yd.arguments[0].end,value:yd.arguments[0].raw,min:yd.arguments[1]?.value??0,max:yd.arguments[2]?.value??1,step:yd.arguments[3]?.value,type:"slider"}),this.replace(C$1(yd));if(M(yd)){const Ad=yd.callee.property.name,xd=hd.filter(Dd=>Dd.type===Ad).length,Cd={to:yd.end,index:xd,type:Ad,id:r.id};return Nt&&hd.push(Cd),this.replace(_(yd,Cd))}if(D$1(yd,_d))return this.replace(B(yd));if(F(yd))return this.replace(O(yd))},leave(yd,_d,Ad,xd){}});let{body:dd}=Na;if(!dd.length)console.warn("empty body -> fallback to silence"),dd.push({type:"ExpressionStatement",expression:{type:"Identifier",name:"silence"}});else if(!dd?.[dd.length-1]?.expression)throw new Error("unexpected ast format without body expression");if(qe){const{expression:yd}=dd[dd.length-1];dd[dd.length-1]={type:"ReturnStatement",argument:yd}}let gd=S.generate(Na);return o&&(gd=`(async ()=>{${gd}})()`),bt?{output:gd,miniLocations:ld,widgets:hd}:{output:gd}}function k(e,r,o){return e.type!=="Literal"?!1:e.raw[0]==='"'}function q(e,r){return e.type==="TemplateLiteral"&&r.type!=="TaggedTemplateExpression"}function w(e,r){const{start:o}=r,qe=m$1.get("minilang");let bt="m";return qe&&qe.name&&(bt=qe.name),{type:"CallExpression",callee:{type:"Identifier",name:bt},arguments:[{type:"Literal",value:e},{type:"Literal",value:o}],optional:!1}}function I(e){return e.type==="CallExpression"&&e.callee.name==="slider"}function M(e){return e.type==="CallExpression"&&E.includes(e.callee.property?.name)}function C$1(e){const r="slider_"+e.arguments[0].start;return e.arguments.unshift({type:"Literal",value:r,raw:r}),e.callee.name="sliderWithID",e}function A(e){return`${e.id||""}_widget_${e.type}_${e.index}`}function _(e,r){const o=A(r);return e.arguments.unshift({type:"Literal",value:o,raw:o}),e}function D$1(e,r){return e.type==="CallExpression"&&e.callee.name==="samples"&&r.type!=="AwaitExpression"}function B(e){return{type:"AwaitExpression",argument:e}}function F(e){return e.type==="LabeledStatement"}function O(e){return{type:"ExpressionStatement",expression:{type:"CallExpression",callee:{type:"MemberExpression",object:e.body.expression,property:{type:"Identifier",name:"p"}},arguments:[{type:"Literal",value:e.label.name,raw:`'${e.label.name}'`}]}}}function R(e){return e.type==="TaggedTemplateExpression"&&m$1.has(e.tag.name)}function j(e,r){return e.type==="TaggedTemplateExpression"&&e.tag.name===r}function H(e,r){return e.split("").reduce((o,qe,bt)=>(qe!=='"'||(!o.length||o[o.length-1].length>1?o.push([bt+1]):o[o.length-1].push(bt)),o),[]).map(([o,qe])=>{const bt=e.slice(o,qe);return Yr(`"${bt}"`,r+o-1)}).flat()}function P(e,r){return{type:"CallExpression",callee:{type:"Identifier",name:"tidal"},arguments:[{type:"Literal",value:e},{type:"Literal",value:r}],optional:!1}}function Q$1(e,r,o){return{type:"CallExpression",callee:{type:"Identifier",name:e},arguments:[{type:"Literal",value:r},{type:"Literal",value:o}],optional:!1}}var SoundFont2={exports:{}},hasRequiredSoundFont2;function requireSoundFont2(){return hasRequiredSoundFont2||(hasRequiredSoundFont2=1,(function(e,r){(function(o,qe){e.exports=qe()})(window,function(){return(function(o){var qe={};function bt(Nt){if(qe[Nt])return qe[Nt].exports;var Na=qe[Nt]={i:Nt,l:!1,exports:{}};return o[Nt].call(Na.exports,Na,Na.exports,bt),Na.l=!0,Na.exports}return bt.m=o,bt.c=qe,bt.d=function(Nt,Na,ld){bt.o(Nt,Na)||Object.defineProperty(Nt,Na,{enumerable:!0,get:ld})},bt.r=function(Nt){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Nt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Nt,"__esModule",{value:!0})},bt.t=function(Nt,Na){if(1&Na&&(Nt=bt(Nt)),8&Na||4&Na&&typeof Nt=="object"&&Nt&&Nt.__esModule)return Nt;var ld=Object.create(null);if(bt.r(ld),Object.defineProperty(ld,"default",{enumerable:!0,value:Nt}),2&Na&&typeof Nt!="string")for(var fd in Nt)bt.d(ld,fd,function(hd){return Nt[hd]}.bind(null,fd));return ld},bt.n=function(Nt){var Na=Nt&&Nt.__esModule?function(){return Nt.default}:function(){return Nt};return bt.d(Na,"a",Na),Na},bt.o=function(Nt,Na){return Object.prototype.hasOwnProperty.call(Nt,Na)},bt.p="",bt(bt.s="./src/index.ts")})({"./src/chunk.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"SF2Chunk",function(){return _d});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=bt("./src/chunks/index.ts");function fd(Ad){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(xd){return typeof xd}:function(xd){return xd&&typeof Symbol=="function"&&xd.constructor===Symbol&&xd!==Symbol.prototype?"symbol":typeof xd})(Ad)}function hd(Ad,xd){for(var Cd=0;Cd<xd.length;Cd++){var Dd=xd[Cd];Dd.enumerable=Dd.enumerable||!1,Dd.configurable=!0,"value"in Dd&&(Dd.writable=!0),Object.defineProperty(Ad,Dd.key,Dd)}}function dd(Ad){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(xd){return xd.__proto__||Object.getPrototypeOf(xd)})(Ad)}function gd(Ad,xd){return(gd=Object.setPrototypeOf||function(Cd,Dd){return Cd.__proto__=Dd,Cd})(Ad,xd)}function yd(Ad){if(Ad===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ad}var _d=(function(Ad){function xd(Td){var Bd,Md,Ed,Gd,Qd,zd;return(function(nm,qd){if(!(nm instanceof qd))throw new TypeError("Cannot call a class as a function")})(this,xd),Md=this,Bd=!(Ed=dd(xd).call(this,Td.id,Td.length,Td.buffer,Td.subChunks))||fd(Ed)!=="object"&&typeof Ed!="function"?yd(Md):Ed,Gd=yd(yd(Bd)),zd=void 0,(Qd="subChunks")in Gd?Object.defineProperty(Gd,Qd,{value:zd,enumerable:!0,configurable:!0,writable:!0}):Gd[Qd]=zd,Bd.subChunks=Td.subChunks.map(function(nm){return new xd(nm)}),Bd}var Cd,Dd;return(function(Td,Bd){if(typeof Bd!="function"&&Bd!==null)throw new TypeError("Super expression must either be null or a function");Td.prototype=Object.create(Bd&&Bd.prototype,{constructor:{value:Td,writable:!0,configurable:!0}}),Bd&&gd(Td,Bd)})(xd,Nt.RIFFChunk),Cd=xd,(Dd=[{key:"getMetaData",value:function(){if(this.id!=="LIST")throw new Nt.ParseError("Unexpected chunk ID","'LIST'","'".concat(this.id,"'"));var Td=this.subChunks.reduce(function(Bd,Md){if(Md.id==="ifil"||Md.id==="iver"){if(Md.length!==Na.SF_VERSION_LENGTH)throw new Nt.ParseError("Invalid size for the '".concat(Md.id,"' sub-chunk"));Bd[Md.id]="".concat(Md.getInt16(),".").concat(Md.getInt16(2))}else Bd[Md.id]=Md.getString();return Bd},{});if(!Td.ifil)throw new Nt.ParseError("Missing required 'ifil' sub-chunk");if(!Td.INAM)throw new Nt.ParseError("Missing required 'INAM' sub-chunk");return{version:Td.ifil,soundEngine:Td.isng||"EMU8000",name:Td.INAM,rom:Td.irom,romVersion:Td.iver,creationDate:Td.ICRD,author:Td.IENG,product:Td.IPRD,copyright:Td.ICOP,comments:Td.ICMT,createdBy:Td.ISFT}}},{key:"getSampleData",value:function(){if(this.id!=="LIST")throw new Nt.ParseError("Unexpected chunk ID","'LIST'","'".concat(this.id,"'"));var Td=this.subChunks[0];if(Td.id!=="smpl")throw new Nt.ParseError("Invalid chunk signature","'smpl'","'".concat(Td.id,"'"));return Td.buffer}},{key:"getPresetData",value:function(){if(this.id!=="LIST")throw new Nt.ParseError("Unexpected chunk ID","'LIST'","'".concat(this.id,"'"));return{presetHeaders:Object(ld.getPresetHeaders)(this.subChunks[0]),presetZones:Object(ld.getZones)(this.subChunks[1],"pbag"),presetModulators:Object(ld.getModulators)(this.subChunks[2],"pmod"),presetGenerators:Object(ld.getGenerators)(this.subChunks[3],"pgen"),instrumentHeaders:Object(ld.getInstrumentHeaders)(this.subChunks[4]),instrumentZones:Object(ld.getZones)(this.subChunks[5],"ibag"),instrumentModulators:Object(ld.getModulators)(this.subChunks[6],"imod"),instrumentGenerators:Object(ld.getGenerators)(this.subChunks[7],"igen"),sampleHeaders:Object(ld.getSampleHeaders)(this.subChunks[8])}}}])&&hd(Cd.prototype,Dd),xd})()},"./src/chunks/generators.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getGenerators",function(){return gd});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/types/index.ts"),ld=bt("./src/constants.ts"),fd=[Na.GeneratorType.StartAddrsOffset,Na.GeneratorType.EndAddrsOffset,Na.GeneratorType.StartLoopAddrsOffset,Na.GeneratorType.EndLoopAddrsOffset,Na.GeneratorType.StartAddrsCoarseOffset,Na.GeneratorType.EndAddrsCoarseOffset,Na.GeneratorType.StartLoopAddrsCoarseOffset,Na.GeneratorType.KeyNum,Na.GeneratorType.Velocity,Na.GeneratorType.EndLoopAddrsCoarseOffset,Na.GeneratorType.SampleModes,Na.GeneratorType.ExclusiveClass,Na.GeneratorType.OverridingRootKey],hd=[Na.GeneratorType.Unused1,Na.GeneratorType.Unused2,Na.GeneratorType.Unused3,Na.GeneratorType.Unused4,Na.GeneratorType.Reserved1,Na.GeneratorType.Reserved2,Na.GeneratorType.Reserved3],dd=[Na.GeneratorType.KeyRange,Na.GeneratorType.VelRange],gd=function(yd,_d){if(yd.id!==_d)throw new Nt.ParseError("Unexpected chunk ID","'".concat(_d,"'"),"'".concat(yd.id,"'"));if(yd.length%ld.SF_GENERATOR_SIZE)throw new Nt.ParseError("Invalid size for the '".concat(_d,"' sub-chunk"));return yd.iterate(function(Ad){var xd=Ad.getInt16();return Na.GeneratorType[xd]?_d==="pgen"&&fd.includes(xd)||_d==="igen"&&hd.includes(xd)?null:dd.includes(xd)?{id:xd,range:{lo:Ad.getByte(),hi:Ad.getByte()}}:{id:xd,value:Ad.getInt16BE()}:null})}},"./src/chunks/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/chunks/instruments/index.ts");bt.d(qe,"getInstrumentHeaders",function(){return Nt.getInstrumentHeaders});var Na=bt("./src/chunks/presets/index.ts");bt.d(qe,"getPresetHeaders",function(){return Na.getPresetHeaders});var ld=bt("./src/chunks/samples/index.ts");bt.d(qe,"getSampleHeaders",function(){return ld.getSampleHeaders});var fd=bt("./src/chunks/generators.ts");bt.d(qe,"getGenerators",function(){return fd.getGenerators});var hd=bt("./src/chunks/modulators.ts");bt.d(qe,"getModulators",function(){return hd.getModulators});var dd=bt("./src/chunks/zones.ts");bt.d(qe,"getZones",function(){return dd.getZones}),bt.d(qe,"getItemsInZone",function(){return dd.getItemsInZone})},"./src/chunks/instruments/headers.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getInstrumentHeaders",function(){return ld});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=function(fd){if(fd.id!=="inst")throw new Nt.ParseError("Unexpected chunk ID","'inst'","'".concat(fd.id,"'"));if(fd.length%Na.SF_INSTRUMENT_HEADER_SIZE)throw new Nt.ParseError("Invalid size for the 'inst' sub-chunk");return fd.iterate(function(hd){return{name:hd.getString(),bagIndex:hd.getInt16()}})}},"./src/chunks/instruments/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/chunks/instruments/headers.ts");bt.d(qe,"getInstrumentHeaders",function(){return Nt.getInstrumentHeaders})},"./src/chunks/modulators.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getModulators",function(){return fd});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=function(hd){return{type:hd>>10&63,polarity:hd>>9&1,direction:hd>>8&1,palette:hd>>7&1,index:127&hd}},fd=function(hd,dd){if(hd.id!==dd)throw new Nt.ParseError("Unexpected chunk ID","'".concat(dd,"'"),"'".concat(hd.id,"'"));if(hd.length%Na.SF_MODULATOR_SIZE)throw new Nt.ParseError("Invalid size for the '".concat(dd,"' sub-chunk"));return hd.iterate(function(gd){return{source:ld(gd.getInt16BE()),id:gd.getInt16BE(),value:gd.getInt16BE(),valueSource:ld(gd.getInt16BE()),transform:gd.getInt16BE()}})}},"./src/chunks/presets/headers.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getPresetHeaders",function(){return ld});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=function(fd){if(fd.id!=="phdr")throw new Nt.ParseError("Invalid chunk ID","'phdr'","'".concat(fd.id,"'"));if(fd.length%Na.SF_PRESET_HEADER_SIZE)throw new Nt.ParseError("Invalid size for the 'phdr' sub-chunk");return fd.iterate(function(hd){return{name:hd.getString(),preset:hd.getInt16(),bank:hd.getInt16(),bagIndex:hd.getInt16(),library:hd.getUInt32(),genre:hd.getUInt32(),morphology:hd.getUInt32()}})}},"./src/chunks/presets/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/chunks/presets/headers.ts");bt.d(qe,"getPresetHeaders",function(){return Nt.getPresetHeaders})},"./src/chunks/samples/headers.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getSampleHeaders",function(){return ld});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=function(fd){if(fd.id!=="shdr")throw new Nt.ParseError("Unexpected chunk ID","'shdr'","'".concat(fd.id,"'"));if(fd.length%Na.SF_SAMPLE_HEADER_SIZE)throw new Nt.ParseError("Invalid size for the 'shdr' sub-chunk");return fd.iterate(function(hd){return{name:hd.getString(),start:hd.getUInt32(),end:hd.getUInt32(),startLoop:hd.getUInt32(),endLoop:hd.getUInt32(),sampleRate:hd.getUInt32(),originalPitch:hd.getByte(),pitchCorrection:hd.getChar(),link:hd.getInt16(),type:hd.getInt16()}})}},"./src/chunks/samples/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/chunks/samples/headers.ts");bt.d(qe,"getSampleHeaders",function(){return Nt.getSampleHeaders})},"./src/chunks/zones.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getZones",function(){return fd}),bt.d(qe,"getItemsInZone",function(){return hd});var Nt=bt("./src/riff/index.ts"),Na=bt("./src/constants.ts"),ld=bt("./src/types/index.ts"),fd=function(_d,Ad){if(_d.id!==Ad)throw new Nt.ParseError("Unexpected chunk ID","'".concat(Ad,"'"),"'".concat(_d.id,"'"));if(_d.length%Na.SF_BAG_SIZE)throw new Nt.ParseError("Invalid size for the '".concat(Ad,"' sub-chunk"));return _d.iterate(function(xd){return{generatorIndex:xd.getInt16(),modulatorIndex:xd.getInt16()}})},hd=function(_d,Ad,xd,Cd,Dd,Td){for(var Bd=[],Md=0;Md<_d.length;Md++){for(var Ed=_d[Md],Gd=_d[Md+1],Qd=Ed.bagIndex,zd=Gd?Gd.bagIndex:Ad.length,nm=[],qd=void 0,dm=Qd;dm<zd;dm++){var im=dd(dm,Ad,xd),sm=gd(dm,Ad,Cd),mm=sm[ld.GeneratorType.KeyRange]&&sm[ld.GeneratorType.KeyRange].range,Mm=sm[Td];if(Mm){var Om=Dd[Mm.value];Om&&nm.push({keyRange:mm,modulators:im,generators:sm,reference:Om})}else dm-Qd==0&&(qd={keyRange:mm,modulators:im,generators:sm})}Bd.push({header:Ed,globalZone:qd,zones:nm})}return Bd},dd=function(_d,Ad,xd){var Cd=Ad[_d],Dd=Ad[_d+1],Td=Cd.modulatorIndex,Bd=Dd?Dd.modulatorIndex:Ad.length;return yd(Td,Bd,xd)},gd=function(_d,Ad,xd){var Cd=Ad[_d],Dd=Ad[_d+1],Td=Cd.generatorIndex,Bd=Dd?Dd.generatorIndex:Ad.length;return yd(Td,Bd,xd)},yd=function(_d,Ad,xd){for(var Cd={},Dd=_d;Dd<Ad;Dd++){var Td=xd[Dd];Td&&(Cd[Td.id]=Td)}return Cd}},"./src/constants.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"SF_VERSION_LENGTH",function(){return Nt}),bt.d(qe,"SF_PRESET_HEADER_SIZE",function(){return Na}),bt.d(qe,"SF_BAG_SIZE",function(){return ld}),bt.d(qe,"SF_MODULATOR_SIZE",function(){return fd}),bt.d(qe,"SF_GENERATOR_SIZE",function(){return hd}),bt.d(qe,"SF_INSTRUMENT_HEADER_SIZE",function(){return dd}),bt.d(qe,"SF_SAMPLE_HEADER_SIZE",function(){return gd}),bt.d(qe,"DEFAULT_SAMPLE_RATE",function(){return yd});var Nt=4,Na=38,ld=4,fd=10,hd=4,dd=22,gd=46,yd=22050},"./src/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/types/index.ts");for(var Na in Nt)Na!=="default"&&(function(dd){bt.d(qe,dd,function(){return Nt[dd]})})(Na);var ld=bt("./src/chunk.ts");bt.d(qe,"SF2Chunk",function(){return ld.SF2Chunk});var fd=bt("./src/constants.ts");bt.d(qe,"SF_VERSION_LENGTH",function(){return fd.SF_VERSION_LENGTH}),bt.d(qe,"SF_PRESET_HEADER_SIZE",function(){return fd.SF_PRESET_HEADER_SIZE}),bt.d(qe,"SF_BAG_SIZE",function(){return fd.SF_BAG_SIZE}),bt.d(qe,"SF_MODULATOR_SIZE",function(){return fd.SF_MODULATOR_SIZE}),bt.d(qe,"SF_GENERATOR_SIZE",function(){return fd.SF_GENERATOR_SIZE}),bt.d(qe,"SF_INSTRUMENT_HEADER_SIZE",function(){return fd.SF_INSTRUMENT_HEADER_SIZE}),bt.d(qe,"SF_SAMPLE_HEADER_SIZE",function(){return fd.SF_SAMPLE_HEADER_SIZE}),bt.d(qe,"DEFAULT_SAMPLE_RATE",function(){return fd.DEFAULT_SAMPLE_RATE});var hd=bt("./src/soundFont2.ts");bt.d(qe,"SoundFont2",function(){return hd.SoundFont2})},"./src/riff/chunkIterator.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"ChunkIterator",function(){return fd});var Nt=bt("./src/utils/index.ts");function Na(hd,dd){for(var gd=0;gd<dd.length;gd++){var yd=dd[gd];yd.enumerable=yd.enumerable||!1,yd.configurable=!0,"value"in yd&&(yd.writable=!0),Object.defineProperty(hd,yd.key,yd)}}function ld(hd,dd,gd){return dd in hd?Object.defineProperty(hd,dd,{value:gd,enumerable:!0,configurable:!0,writable:!0}):hd[dd]=gd,hd}var fd=(function(){function hd(yd){var _d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;(function(Ad,xd){if(!(Ad instanceof xd))throw new TypeError("Cannot call a class as a function")})(this,hd),ld(this,"target",[]),ld(this,"chunk",void 0),ld(this,"position",0),this.chunk=yd,this.position=_d}var dd,gd;return dd=hd,(gd=[{key:"iterate",value:function(yd){for(;this.position<this.chunk.length;){var _d=yd(this);_d&&this.target.push(_d)}}},{key:"getString",value:function(){var yd=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,_d=Object(Nt.getStringFromBuffer)(this.getBuffer(this.position,yd));return this.position+=yd,_d}},{key:"getInt16",value:function(){return this.chunk.buffer[this.position++]|this.chunk.buffer[this.position++]<<8}},{key:"getInt16BE",value:function(){return this.getInt16()<<16>>16}},{key:"getUInt32",value:function(){return(this.chunk.buffer[this.position++]|this.chunk.buffer[this.position++]<<8|this.chunk.buffer[this.position++]<<16|this.chunk.buffer[this.position++]<<24)>>>0}},{key:"getByte",value:function(){return this.chunk.buffer[this.position++]}},{key:"getChar",value:function(){return this.chunk.buffer[this.position++]<<24>>24}},{key:"skip",value:function(yd){this.position+=yd}},{key:"getBuffer",value:function(yd,_d){return this.chunk.buffer.subarray(yd,yd+_d)}},{key:"currentPosition",get:function(){return this.position}}])&&Na(dd.prototype,gd),hd})()},"./src/riff/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/riff/chunkIterator.ts");bt.d(qe,"ChunkIterator",function(){return Nt.ChunkIterator});var Na=bt("./src/riff/parseError.ts");bt.d(qe,"ParseError",function(){return Na.ParseError});var ld=bt("./src/riff/parser.ts");bt.d(qe,"parseBuffer",function(){return ld.parseBuffer}),bt.d(qe,"getChunk",function(){return ld.getChunk}),bt.d(qe,"getChunkLength",function(){return ld.getChunkLength}),bt.d(qe,"getSubChunks",function(){return ld.getSubChunks}),bt.d(qe,"getChunkId",function(){return ld.getChunkId});var fd=bt("./src/riff/riffChunk.ts");bt.d(qe,"RIFFChunk",function(){return fd.RIFFChunk})},"./src/riff/parseError.ts":function(o,qe,bt){function Nt(yd){return(Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_d){return typeof _d}:function(_d){return _d&&typeof Symbol=="function"&&_d.constructor===Symbol&&_d!==Symbol.prototype?"symbol":typeof _d})(yd)}function Na(yd,_d){return!_d||Nt(_d)!=="object"&&typeof _d!="function"?(function(Ad){if(Ad===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ad})(yd):_d}function ld(yd){var _d=typeof Map=="function"?new Map:void 0;return(ld=function(Ad){if(Ad===null||(xd=Ad,Function.toString.call(xd).indexOf("[native code]")===-1))return Ad;var xd;if(typeof Ad!="function")throw new TypeError("Super expression must either be null or a function");if(_d!==void 0){if(_d.has(Ad))return _d.get(Ad);_d.set(Ad,Cd)}function Cd(){return fd(Ad,arguments,dd(this).constructor)}return Cd.prototype=Object.create(Ad.prototype,{constructor:{value:Cd,enumerable:!1,writable:!0,configurable:!0}}),hd(Cd,Ad)})(yd)}function fd(yd,_d,Ad){return(fd=(function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}})()?Reflect.construct:function(xd,Cd,Dd){var Td=[null];Td.push.apply(Td,Cd);var Bd=new(Function.bind.apply(xd,Td));return Dd&&hd(Bd,Dd.prototype),Bd}).apply(null,arguments)}function hd(yd,_d){return(hd=Object.setPrototypeOf||function(Ad,xd){return Ad.__proto__=xd,Ad})(yd,_d)}function dd(yd){return(dd=Object.setPrototypeOf?Object.getPrototypeOf:function(_d){return _d.__proto__||Object.getPrototypeOf(_d)})(yd)}bt.r(qe),bt.d(qe,"ParseError",function(){return gd});var gd=(function(yd){function _d(Ad,xd,Cd){return(function(Dd,Td){if(!(Dd instanceof Td))throw new TypeError("Cannot call a class as a function")})(this,_d),Na(this,dd(_d).call(this,"".concat(Ad).concat(xd&&Cd?", expected ".concat(xd,", received ").concat(Cd):"")))}return(function(Ad,xd){if(typeof xd!="function"&&xd!==null)throw new TypeError("Super expression must either be null or a function");Ad.prototype=Object.create(xd&&xd.prototype,{constructor:{value:Ad,writable:!0,configurable:!0}}),xd&&hd(Ad,xd)})(_d,ld(Error)),_d})()},"./src/riff/parser.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"parseBuffer",function(){return fd}),bt.d(qe,"getChunk",function(){return hd}),bt.d(qe,"getChunkLength",function(){return dd}),bt.d(qe,"getSubChunks",function(){return gd}),bt.d(qe,"getChunkId",function(){return yd});var Nt=bt("./src/riff/parseError.ts"),Na=bt("./src/utils/buffer.ts"),ld=bt("./src/riff/riffChunk.ts"),fd=function(_d){var Ad=yd(_d);if(Ad!=="RIFF")throw new Nt.ParseError("Invalid file format","RIFF",Ad);var xd=yd(_d,8);if(xd!=="sfbk")throw new Nt.ParseError("Invalid signature","sfbk",xd);var Cd=_d.subarray(8),Dd=gd(Cd.subarray(4));return new ld.RIFFChunk(Ad,Cd.length,Cd,Dd)},hd=function(_d,Ad){var xd=yd(_d,Ad),Cd=dd(_d,Ad+4),Dd=[];return xd!=="RIFF"&&xd!=="LIST"||(Dd=gd(_d.subarray(Ad+12))),new ld.RIFFChunk(xd,Cd,_d.subarray(Ad+8),Dd)},dd=function(_d,Ad){return((_d=_d.subarray(Ad,Ad+4))[0]|_d[1]<<8|_d[2]<<16|_d[3]<<24)>>>0},gd=function(_d){for(var Ad=[],xd=0;xd<=_d.length-8;){var Cd=hd(_d,xd);Ad.push(Cd),xd=(xd+=8+Cd.length)%2?xd+1:xd}return Ad},yd=function(_d){var Ad=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return Object(Na.getStringFromBuffer)(_d.subarray(Ad,Ad+4))}},"./src/riff/riffChunk.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"RIFFChunk",function(){return hd});var Nt=bt("./src/riff/chunkIterator.ts"),Na=bt("./src/utils/index.ts");function ld(dd,gd){for(var yd=0;yd<gd.length;yd++){var _d=gd[yd];_d.enumerable=_d.enumerable||!1,_d.configurable=!0,"value"in _d&&(_d.writable=!0),Object.defineProperty(dd,_d.key,_d)}}function fd(dd,gd,yd){return gd in dd?Object.defineProperty(dd,gd,{value:yd,enumerable:!0,configurable:!0,writable:!0}):dd[gd]=yd,dd}var hd=(function(){function dd(_d,Ad,xd,Cd){(function(Dd,Td){if(!(Dd instanceof Td))throw new TypeError("Cannot call a class as a function")})(this,dd),fd(this,"id",void 0),fd(this,"length",void 0),fd(this,"buffer",void 0),fd(this,"subChunks",void 0),this.id=_d,this.length=Ad,this.buffer=xd,this.subChunks=Cd}var gd,yd;return gd=dd,(yd=[{key:"getString",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ad=arguments.length>1?arguments[1]:void 0;return Object(Na.getStringFromBuffer)(this.getBuffer(_d,Ad||this.length-_d))}},{key:"getInt16",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.buffer[_d++]|this.buffer[_d]<<8}},{key:"getUInt32",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return(this.buffer[_d++]|this.buffer[_d++]<<8|this.buffer[_d++]<<16|this.buffer[_d]<<24)>>>0}},{key:"getByte",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.buffer[_d]}},{key:"getChar",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return this.buffer[_d]<<24>>24}},{key:"iterator",value:function(){var _d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return new Nt.ChunkIterator(this,_d)}},{key:"iterate",value:function(_d){var Ad=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,xd=new Nt.ChunkIterator(this,Ad);return xd.iterate(_d),xd.target}},{key:"getBuffer",value:function(_d,Ad){return this.buffer.subarray(_d,_d+Ad)}}])&&ld(gd.prototype,yd),dd})()},"./src/soundFont2.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"SoundFont2",function(){return Ad});var Nt=bt("./src/types/index.ts"),Na=bt("./src/chunk.ts"),ld=bt("./src/riff/index.ts"),fd=bt("./src/chunks/index.ts"),hd=bt("./src/utils/index.ts");function dd(xd){for(var Cd=1;Cd<arguments.length;Cd++){var Dd=arguments[Cd]!=null?arguments[Cd]:{},Td=Object.keys(Dd);typeof Object.getOwnPropertySymbols=="function"&&(Td=Td.concat(Object.getOwnPropertySymbols(Dd).filter(function(Bd){return Object.getOwnPropertyDescriptor(Dd,Bd).enumerable}))),Td.forEach(function(Bd){_d(xd,Bd,Dd[Bd])})}return xd}function gd(xd,Cd){for(var Dd=0;Dd<Cd.length;Dd++){var Td=Cd[Dd];Td.enumerable=Td.enumerable||!1,Td.configurable=!0,"value"in Td&&(Td.writable=!0),Object.defineProperty(xd,Td.key,Td)}}function yd(xd,Cd,Dd){return Cd&&gd(xd.prototype,Cd),Dd&&gd(xd,Dd),xd}function _d(xd,Cd,Dd){return Cd in xd?Object.defineProperty(xd,Cd,{value:Dd,enumerable:!0,configurable:!0,writable:!0}):xd[Cd]=Dd,xd}var Ad=(function(){function xd(Cd){if((function(Td,Bd){if(!(Td instanceof Bd))throw new TypeError("Cannot call a class as a function")})(this,xd),_d(this,"chunk",void 0),_d(this,"metaData",void 0),_d(this,"sampleData",void 0),_d(this,"samples",void 0),_d(this,"presetData",void 0),_d(this,"instruments",void 0),_d(this,"presets",void 0),_d(this,"banks",void 0),!(Cd instanceof Na.SF2Chunk)){var Dd=Object(ld.parseBuffer)(Cd);Cd=new Na.SF2Chunk(Dd)}if(Cd.subChunks.length!==3)throw new ld.ParseError("Invalid sfbk structure","3 chunks","".concat(Cd.subChunks.length," chunks"));this.chunk=Cd,this.metaData=Cd.subChunks[0].getMetaData(),this.sampleData=Cd.subChunks[1].getSampleData(),this.presetData=Cd.subChunks[2].getPresetData(),this.samples=this.getSamples(),this.instruments=this.getInstruments(),this.presets=this.getPresets(),this.banks=this.getBanks()}return yd(xd,null,[{key:"from",value:function(Cd){return new xd(Cd)}}]),yd(xd,[{key:"getKeyData",value:function(Cd){var Dd=this,Td=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Bd=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return Object(hd.memoize)(function(Md,Ed,Gd){var Qd=Dd.banks[Ed];if(Qd){var zd=Qd.presets[Gd];if(zd){var nm=zd.zones.find(function(Mm){return Dd.isKeyInRange(Mm,Md)});if(nm){var qd=nm.instrument,dm=qd.zones.find(function(Mm){return Dd.isKeyInRange(Mm,Md)});if(dm){var im=dm.sample,sm=dd({},nm.generators,dm.generators),mm=dd({},nm.modulators,dm.modulators);return{keyNumber:Md,preset:zd,instrument:qd,sample:im,generators:sm,modulators:mm}}}}}return null})(Cd,Td,Bd)}},{key:"isKeyInRange",value:function(Cd,Dd){return Cd.keyRange===void 0||Cd.keyRange.lo<=Dd&&Cd.keyRange.hi>=Dd}},{key:"getBanks",value:function(){return this.presets.reduce(function(Cd,Dd){var Td=Dd.header.bank;return Cd[Td]||(Cd[Td]={presets:[]}),Cd[Td].presets[Dd.header.preset]=Dd,Cd},[])}},{key:"getPresets",value:function(){var Cd=this.presetData,Dd=Cd.presetHeaders,Td=Cd.presetZones,Bd=Cd.presetGenerators,Md=Cd.presetModulators;return Object(fd.getItemsInZone)(Dd,Td,Md,Bd,this.instruments,Nt.GeneratorType.Instrument).filter(function(Ed){return Ed.header.name!=="EOP"}).map(function(Ed){return{header:Ed.header,globalZone:Ed.globalZone,zones:Ed.zones.map(function(Gd){return{keyRange:Gd.keyRange,generators:Gd.generators,modulators:Gd.modulators,instrument:Gd.reference}})}})}},{key:"getInstruments",value:function(){var Cd=this.presetData,Dd=Cd.instrumentHeaders,Td=Cd.instrumentZones,Bd=Cd.instrumentModulators,Md=Cd.instrumentGenerators;return Object(fd.getItemsInZone)(Dd,Td,Bd,Md,this.samples,Nt.GeneratorType.SampleId).filter(function(Ed){return Ed.header.name!=="EOI"}).map(function(Ed){return{header:Ed.header,globalZone:Ed.globalZone,zones:Ed.zones.map(function(Gd){return{keyRange:Gd.keyRange,generators:Gd.generators,modulators:Gd.modulators,sample:Gd.reference}})}})}},{key:"getSamples",value:function(){var Cd=this;return this.presetData.sampleHeaders.filter(function(Dd){return Dd.name!=="EOS"}).map(function(Dd){if(Dd.name!=="EOS"&&Dd.sampleRate<=0)throw new Error("Illegal sample rate of ".concat(Dd.sampleRate," hz in sample '").concat(Dd.name,"'"));return Dd.originalPitch>=128&&Dd.originalPitch<=254&&(Dd.originalPitch=60),Dd.startLoop-=Dd.start,Dd.endLoop-=Dd.start,{header:Dd,data:new Int16Array(new Uint8Array(Cd.sampleData.subarray(2*Dd.start,2*Dd.end)).buffer)}})}}]),xd})()},"./src/types/bank.ts":function(o,qe){},"./src/types/generator.ts":function(o,qe,bt){var Nt,Na;function ld(hd,dd,gd){return dd in hd?Object.defineProperty(hd,dd,{value:gd,enumerable:!0,configurable:!0,writable:!0}):hd[dd]=gd,hd}bt.r(qe),bt.d(qe,"GeneratorType",function(){return Na}),bt.d(qe,"DEFAULT_GENERATOR_VALUES",function(){return fd}),(function(hd){hd[hd.StartAddrsOffset=0]="StartAddrsOffset",hd[hd.EndAddrsOffset=1]="EndAddrsOffset",hd[hd.StartLoopAddrsOffset=2]="StartLoopAddrsOffset",hd[hd.EndLoopAddrsOffset=3]="EndLoopAddrsOffset",hd[hd.StartAddrsCoarseOffset=4]="StartAddrsCoarseOffset",hd[hd.ModLFOToPitch=5]="ModLFOToPitch",hd[hd.VibLFOToPitch=6]="VibLFOToPitch",hd[hd.ModEnvToPitch=7]="ModEnvToPitch",hd[hd.InitialFilterFc=8]="InitialFilterFc",hd[hd.InitialFilterQ=9]="InitialFilterQ",hd[hd.ModLFOToFilterFc=10]="ModLFOToFilterFc",hd[hd.ModEnvToFilterFc=11]="ModEnvToFilterFc",hd[hd.EndAddrsCoarseOffset=12]="EndAddrsCoarseOffset",hd[hd.ModLFOToVolume=13]="ModLFOToVolume",hd[hd.Unused1=14]="Unused1",hd[hd.ChorusEffectsSend=15]="ChorusEffectsSend",hd[hd.ReverbEffectsSend=16]="ReverbEffectsSend",hd[hd.Pan=17]="Pan",hd[hd.Unused2=18]="Unused2",hd[hd.Unused3=19]="Unused3",hd[hd.Unused4=20]="Unused4",hd[hd.DelayModLFO=21]="DelayModLFO",hd[hd.FreqModLFO=22]="FreqModLFO",hd[hd.DelayVibLFO=23]="DelayVibLFO",hd[hd.FreqVibLFO=24]="FreqVibLFO",hd[hd.DelayModEnv=25]="DelayModEnv",hd[hd.AttackModEnv=26]="AttackModEnv",hd[hd.HoldModEnv=27]="HoldModEnv",hd[hd.DecayModEnv=28]="DecayModEnv",hd[hd.SustainModEnv=29]="SustainModEnv",hd[hd.ReleaseModEnv=30]="ReleaseModEnv",hd[hd.KeyNumToModEnvHold=31]="KeyNumToModEnvHold",hd[hd.KeyNumToModEnvDecay=32]="KeyNumToModEnvDecay",hd[hd.DelayVolEnv=33]="DelayVolEnv",hd[hd.AttackVolEnv=34]="AttackVolEnv",hd[hd.HoldVolEnv=35]="HoldVolEnv",hd[hd.DecayVolEnv=36]="DecayVolEnv",hd[hd.SustainVolEnv=37]="SustainVolEnv",hd[hd.ReleaseVolEnv=38]="ReleaseVolEnv",hd[hd.KeyNumToVolEnvHold=39]="KeyNumToVolEnvHold",hd[hd.KeyNumToVolEnvDecay=40]="KeyNumToVolEnvDecay",hd[hd.Instrument=41]="Instrument",hd[hd.Reserved1=42]="Reserved1",hd[hd.KeyRange=43]="KeyRange",hd[hd.VelRange=44]="VelRange",hd[hd.StartLoopAddrsCoarseOffset=45]="StartLoopAddrsCoarseOffset",hd[hd.KeyNum=46]="KeyNum",hd[hd.Velocity=47]="Velocity",hd[hd.InitialAttenuation=48]="InitialAttenuation",hd[hd.Reserved2=49]="Reserved2",hd[hd.EndLoopAddrsCoarseOffset=50]="EndLoopAddrsCoarseOffset",hd[hd.CoarseTune=51]="CoarseTune",hd[hd.FineTune=52]="FineTune",hd[hd.SampleId=53]="SampleId",hd[hd.SampleModes=54]="SampleModes",hd[hd.Reserved3=55]="Reserved3",hd[hd.ScaleTuning=56]="ScaleTuning",hd[hd.ExclusiveClass=57]="ExclusiveClass",hd[hd.OverridingRootKey=58]="OverridingRootKey",hd[hd.Unused5=59]="Unused5",hd[hd.EndOper=60]="EndOper"})(Na||(Na={}));var fd=(ld(Nt={},Na.StartAddrsOffset,0),ld(Nt,Na.EndAddrsOffset,0),ld(Nt,Na.StartLoopAddrsOffset,0),ld(Nt,Na.EndLoopAddrsOffset,0),ld(Nt,Na.StartAddrsCoarseOffset,0),ld(Nt,Na.ModLFOToPitch,0),ld(Nt,Na.VibLFOToPitch,0),ld(Nt,Na.ModEnvToPitch,0),ld(Nt,Na.InitialFilterFc,13500),ld(Nt,Na.InitialFilterQ,0),ld(Nt,Na.ModLFOToFilterFc,0),ld(Nt,Na.ModEnvToFilterFc,0),ld(Nt,Na.EndAddrsCoarseOffset,0),ld(Nt,Na.ModLFOToVolume,0),ld(Nt,Na.ChorusEffectsSend,0),ld(Nt,Na.ReverbEffectsSend,0),ld(Nt,Na.Pan,0),ld(Nt,Na.DelayModLFO,-12e3),ld(Nt,Na.FreqModLFO,0),ld(Nt,Na.DelayVibLFO,-12e3),ld(Nt,Na.FreqVibLFO,0),ld(Nt,Na.DelayModEnv,-12e3),ld(Nt,Na.AttackModEnv,-12e3),ld(Nt,Na.HoldModEnv,-12e3),ld(Nt,Na.DecayModEnv,-12e3),ld(Nt,Na.SustainModEnv,0),ld(Nt,Na.ReleaseModEnv,-12e3),ld(Nt,Na.KeyNumToModEnvHold,0),ld(Nt,Na.KeyNumToModEnvDecay,0),ld(Nt,Na.DelayVolEnv,-12e3),ld(Nt,Na.AttackVolEnv,-12e3),ld(Nt,Na.HoldVolEnv,-12e3),ld(Nt,Na.DecayVolEnv,-12e3),ld(Nt,Na.SustainVolEnv,0),ld(Nt,Na.ReleaseVolEnv,-12e3),ld(Nt,Na.KeyNumToVolEnvHold,0),ld(Nt,Na.KeyNumToVolEnvDecay,0),ld(Nt,Na.StartLoopAddrsCoarseOffset,0),ld(Nt,Na.KeyNum,-1),ld(Nt,Na.Velocity,-1),ld(Nt,Na.InitialAttenuation,0),ld(Nt,Na.EndLoopAddrsCoarseOffset,0),ld(Nt,Na.CoarseTune,0),ld(Nt,Na.FineTune,0),ld(Nt,Na.SampleModes,0),ld(Nt,Na.ScaleTuning,100),ld(Nt,Na.ExclusiveClass,0),ld(Nt,Na.OverridingRootKey,-1),Nt)},"./src/types/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/types/bank.ts");for(var Na in Nt)Na!=="default"&&(function(Cd){bt.d(qe,Cd,function(){return Nt[Cd]})})(Na);var ld=bt("./src/types/generator.ts");bt.d(qe,"GeneratorType",function(){return ld.GeneratorType}),bt.d(qe,"DEFAULT_GENERATOR_VALUES",function(){return ld.DEFAULT_GENERATOR_VALUES});var fd=bt("./src/types/instrument.ts");for(var Na in fd)["GeneratorType","DEFAULT_GENERATOR_VALUES","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return fd[Dd]})})(Na);var hd=bt("./src/types/key.ts");for(var Na in hd)["GeneratorType","DEFAULT_GENERATOR_VALUES","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return hd[Dd]})})(Na);var dd=bt("./src/types/metaData.ts");for(var Na in dd)["GeneratorType","DEFAULT_GENERATOR_VALUES","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return dd[Dd]})})(Na);var gd=bt("./src/types/modulator.ts");bt.d(qe,"ControllerType",function(){return gd.ControllerType}),bt.d(qe,"ControllerPolarity",function(){return gd.ControllerPolarity}),bt.d(qe,"ControllerDirection",function(){return gd.ControllerDirection}),bt.d(qe,"ControllerPalette",function(){return gd.ControllerPalette}),bt.d(qe,"Controller",function(){return gd.Controller}),bt.d(qe,"TransformType",function(){return gd.TransformType}),bt.d(qe,"DEFAULT_INSTRUMENT_MODULATORS",function(){return gd.DEFAULT_INSTRUMENT_MODULATORS});var yd=bt("./src/types/preset.ts");for(var Na in yd)["GeneratorType","DEFAULT_GENERATOR_VALUES","ControllerType","ControllerPolarity","ControllerDirection","ControllerPalette","Controller","TransformType","DEFAULT_INSTRUMENT_MODULATORS","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return yd[Dd]})})(Na);var _d=bt("./src/types/presetData.ts");for(var Na in _d)["GeneratorType","DEFAULT_GENERATOR_VALUES","ControllerType","ControllerPolarity","ControllerDirection","ControllerPalette","Controller","TransformType","DEFAULT_INSTRUMENT_MODULATORS","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return _d[Dd]})})(Na);var Ad=bt("./src/types/sample.ts");bt.d(qe,"SampleType",function(){return Ad.SampleType});var xd=bt("./src/types/zone.ts");for(var Na in xd)["GeneratorType","DEFAULT_GENERATOR_VALUES","ControllerType","ControllerPolarity","ControllerDirection","ControllerPalette","Controller","TransformType","DEFAULT_INSTRUMENT_MODULATORS","SampleType","default"].indexOf(Na)<0&&(function(Dd){bt.d(qe,Dd,function(){return xd[Dd]})})(Na)},"./src/types/instrument.ts":function(o,qe){},"./src/types/key.ts":function(o,qe){},"./src/types/metaData.ts":function(o,qe){},"./src/types/modulator.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"ControllerType",function(){return Nt}),bt.d(qe,"ControllerPolarity",function(){return Na}),bt.d(qe,"ControllerDirection",function(){return ld}),bt.d(qe,"ControllerPalette",function(){return fd}),bt.d(qe,"Controller",function(){return hd}),bt.d(qe,"TransformType",function(){return dd}),bt.d(qe,"DEFAULT_INSTRUMENT_MODULATORS",function(){return yd});var Nt,Na,ld,fd,hd,dd,gd=bt("./src/types/generator.ts");(function(_d){_d[_d.Linear=0]="Linear",_d[_d.Concave=1]="Concave",_d[_d.Convex=2]="Convex",_d[_d.Switch=3]="Switch"})(Nt||(Nt={})),(function(_d){_d[_d.Unipolar=0]="Unipolar",_d[_d.Bipolar=1]="Bipolar"})(Na||(Na={})),(function(_d){_d[_d.Increasing=0]="Increasing",_d[_d.Decreasing=1]="Decreasing"})(ld||(ld={})),(function(_d){_d[_d.GeneralController=0]="GeneralController",_d[_d.MidiController=1]="MidiController"})(fd||(fd={})),(function(_d){_d[_d.NoController=0]="NoController",_d[_d.NoteOnVelocity=2]="NoteOnVelocity",_d[_d.NoteOnKeyNumber=3]="NoteOnKeyNumber",_d[_d.PolyPressure=10]="PolyPressure",_d[_d.ChannelPressure=13]="ChannelPressure",_d[_d.PitchWheel=14]="PitchWheel",_d[_d.PitchWheelSensitivity=16]="PitchWheelSensitivity",_d[_d.Link=127]="Link"})(hd||(hd={})),(function(_d){_d[_d.Linear=0]="Linear",_d[_d.Absolute=2]="Absolute"})(dd||(dd={}));var yd=[{id:gd.GeneratorType.InitialAttenuation,source:{type:Nt.Concave,polarity:Na.Unipolar,direction:ld.Decreasing,palette:fd.GeneralController,index:hd.NoteOnVelocity},value:960,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.InitialFilterFc,source:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Decreasing,palette:fd.GeneralController,index:hd.NoteOnVelocity},value:-2400,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.VibLFOToPitch,source:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.ChannelPressure},value:50,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.VibLFOToPitch,source:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.MidiController,index:1},value:50,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.InitialAttenuation,source:{type:Nt.Concave,polarity:Na.Unipolar,direction:ld.Decreasing,palette:fd.MidiController,index:7},value:960,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.InitialAttenuation,source:{type:Nt.Linear,polarity:Na.Bipolar,direction:ld.Increasing,palette:fd.MidiController,index:10},value:1e3,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.InitialAttenuation,source:{type:Nt.Concave,polarity:Na.Unipolar,direction:ld.Decreasing,palette:fd.MidiController,index:11},value:960,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.ReverbEffectsSend,source:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.MidiController,index:91},value:200,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.ChorusEffectsSend,source:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.MidiController,index:93},value:200,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.NoController},transform:dd.Linear},{id:gd.GeneratorType.CoarseTune,source:{type:Nt.Linear,polarity:Na.Bipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.PitchWheel},value:12700,valueSource:{type:Nt.Linear,polarity:Na.Unipolar,direction:ld.Increasing,palette:fd.GeneralController,index:hd.PitchWheelSensitivity},transform:dd.Linear}]},"./src/types/preset.ts":function(o,qe){},"./src/types/presetData.ts":function(o,qe){},"./src/types/sample.ts":function(o,qe,bt){var Nt;bt.r(qe),bt.d(qe,"SampleType",function(){return Nt}),(function(Na){Na[Na.EOS=0]="EOS",Na[Na.Mono=1]="Mono",Na[Na.Right=2]="Right",Na[Na.Left=4]="Left",Na[Na.Linked=8]="Linked",Na[Na.RomMono=32769]="RomMono",Na[Na.RomRight=32770]="RomRight",Na[Na.RomLeft=32772]="RomLeft",Na[Na.RomLinked=32776]="RomLinked"})(Nt||(Nt={}))},"./src/types/zone.ts":function(o,qe){},"./src/utils/buffer.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"getStringFromBuffer",function(){return Nt});var Nt=function(Na){return new TextDecoder("utf8").decode(Na).split(/\0/)[0].trim()}},"./src/utils/index.ts":function(o,qe,bt){bt.r(qe);var Nt=bt("./src/utils/buffer.ts");bt.d(qe,"getStringFromBuffer",function(){return Nt.getStringFromBuffer});var Na=bt("./src/utils/memoize.ts");bt.d(qe,"memoize",function(){return Na.memoize})},"./src/utils/memoize.ts":function(o,qe,bt){bt.r(qe),bt.d(qe,"memoize",function(){return Nt});var Nt=function(Na){var ld={};return function(){for(var fd=arguments.length,hd=new Array(fd),dd=0;dd<fd;dd++)hd[dd]=arguments[dd];var gd=JSON.stringify(hd);if(gd in ld)return ld[gd];var yd=Na.apply(void 0,hd);return ld[gd]=yd,yd}}}})})})(SoundFont2)),SoundFont2.exports}var SoundFont2Exports=requireSoundFont2();const m=e=>Math.pow(2,e/1200),Q=e=>e/1e3,G=(e,r)=>{const o=Math.pow(10,r);return Math.round(e*o)/o};typeof AudioParam<"u"&&(AudioParam.prototype.dahdsr=function(e,r,o,qe,bt,Nt,Na,ld,fd){bt=Math.max(G(bt,4),.001),Na=Math.max(G(Na,4),.001),fd=G(fd,4),r=Math.max(r,.001);let hd=e;return this.setValueAtTime(r,hd),this.setValueAtTime(r,hd+=qe),this.exponentialRampToValueAtTime(o,hd+=bt),this.setValueAtTime(o,hd+=Nt),this.exponentialRampToValueAtTime(Math.max(ld*o,.001),hd+=Na),(dd,gd)=>{this.cancelAndHoldAtTime(dd);const yd=Math.max(gd??r,.001);this.exponentialRampToValueAtTime(yd,dd+fd)}});const T={0:"startAddrOffset",1:"endAddrOffset",2:"startloopAddrsOffset",3:"endloopAddrsOffset",4:"startAddrsCoarseOffset",5:"modLfoToPitch",6:"vibLfoToPitch",7:"modEnvToPitch",8:"initialFilterFc",9:"initialFilterQ",10:"modLfoToFilterFc",11:"modEnvToFilterFc",12:"endAddrsCoarseOffset",13:"modLfoToVolume",14:"unused1",15:"chorusEffectsSend",16:"reverbEffectsSend",17:"pan",18:"unused2",19:"unused3",20:"unused4",21:"delayModLFO",22:"freqModLFO",23:"delayVibLFO",24:"freqVibLFO",25:"delayModEnv",26:"attackModEnv",27:"holdModEnv",28:"decayModEnv",29:"sustainModEnv",30:"releaseModEnv",31:"keyNumToModEnvHold",32:"keyNumToModEnvDecay",33:"delayVolEnv",34:"attackVolEnv",35:"holdVolEnv",36:"decayVolEnv",37:"sustainVolEnv",38:"releaseVolEnv",39:"keyNumToVolEnvHold",40:"keyNumToVolEnvDecay",41:"instrument",42:"reserved1",43:"keyRange",44:"velRange",45:"startloopAddrsCoarseOffset",46:"keyNum",47:"velocity",48:"initialAttenuation",49:"reserved2",50:"endloopAddrsCoarseOffset",51:"coarseTune",52:"fineTune",53:"sampleID",54:"sampleModes",55:"reserved3",56:"scaleTuning",57:"exclusiveClass",58:"overridingRootKey",59:"unused5",60:"endOper"};Object.fromEntries(Object.entries(SoundFont2Exports.DEFAULT_GENERATOR_VALUES).map(([e,r])=>[T[e],r]));const D=(e,r,o,qe,bt)=>{var Nt,Na,ld,fd,hd,dd,gd;const yd=SoundFont2Exports.DEFAULT_GENERATOR_VALUES[e];if(typeof yd!="number")throw new Error(`no default value found for generator with index ${e}`);const _d=r.generators[e],Ad=(Na=(Nt=o.globalZone)==null?void 0:Nt.generators)==null?void 0:Na[e],xd=(ld=qe?.generators)==null?void 0:ld[e],Cd=(hd=(fd=bt.globalZone)==null?void 0:fd.generators)==null?void 0:hd[e],Dd=_d&&"value"in _d?_d.value:void 0,Td=Ad&&"value"in Ad?Ad.value:void 0,Bd=xd&&"value"in xd?xd.value:void 0,Md=Cd&&"value"in Cd?Cd.value:void 0,Ed=(dd=Dd??Td)!=null?dd:yd,Gd=(gd=Bd??Md)!=null?gd:0;return Ed+Gd},J=e=>SoundFont2Exports.DEFAULT_GENERATOR_VALUES[e]!==void 0,W=(e,r,o)=>{var qe,bt,Nt,Na;return Object.fromEntries(Array.from(new Set([Object.keys((bt=(qe=o.globalZone)==null?void 0:qe.generators)!=null?bt:{}),Object.keys(r.generators),Object.keys((Na=(Nt=r.instrument.globalZone)==null?void 0:Nt.generators)!=null?Na:{}),Object.keys(e.generators)].flat())).filter(J).map(ld=>[T[ld],D(parseInt(ld),e,r.instrument,r,o)]))};function X(e,r,o){let{time:qe=e.currentTime}=o;const{midi:bt,start:Nt,velocity:Na=.3,startLoop:ld,endLoop:fd,sampleRate:hd,originalPitch:dd,pitchCorrection:gd,type:yd,sampleModes:_d=0,overridingRootKey:Ad,fineTune:xd=0,startloopAddrsOffset:Cd=0,startloopAddrsCoarseOffset:Dd=0,endloopAddrsOffset:Td=0,endloopAddrsCoarseOffset:Bd=0,delayVolEnv:Md=-12e3,attackVolEnv:Ed=-12e3,holdVolEnv:Gd=-12e3,decayVolEnv:Qd=-12e3,sustainVolEnv:zd=0,releaseVolEnv:nm=-12e3,pan:qd=0,...dm}=o,im=100*(Ad!==void 0&&Ad!==-1?Ad:dd)+gd-xd,sm=bt*100-im,mm=1*Math.pow(2,sm/1200);r.playbackRate.value=mm;const Mm=ld+Cd+Dd*32768,Om=fd+Td+Bd*32768;Om>Mm&&_d===1?(r.loopStart=Mm/hd,r.loopEnd=Om/hd,r.loop=!0):_d===3&&console.warn("unimplemented sampleMode 3 (play till end on note off)"),Object.keys(dm).filter(Zm=>!["name","instrument","keyRange","sampleID","end"].includes(Zm)).length;const km=e.createGain(),vm=[qe,0,Na,m(Md),m(Ed),m(Gd),m(Qd),zd>=960?0:1-Q(zd),m(nm)],t0=km.gain.dahdsr(...vm),Cm=e.createStereoPanner();return Cm.pan.value=qd/1e3,km.connect(Cm),r.connect(km),Cm.connect(e.destination),r.start(qe),(Zm=e.currentTime)=>{r.stop(Zm+m(nm)),t0(Zm)}}function Y(e,r,o={}){const{header:qe,data:bt}=r,Nt=new Float32Array(bt.length);for(let fd=0;fd<bt.length;fd++)Nt[fd]=bt[fd]/32768;const Na=e.createBuffer(1,Nt.length,qe.sampleRate);Na.getChannelData(0).set(Nt);const ld=e.createBufferSource();return ld.buffer=Na,o={...qe,...o},X(e,ld,o)}const C=(e,r)=>!e.keyRange||e.keyRange.lo<=r&&r<=e.keyRange.hi,x=(e,r)=>e.zones.filter(o=>C(o,r)&&o.instrument).map(o=>o.instrument.zones.filter(qe=>C(qe,r)).map(qe=>{const bt=W(qe,o,e);return{...qe,mergedGenerators:bt}})).flat(),ce=(e,r,o,qe=e.currentTime)=>{const bt=x(r,o).map(Nt=>Y(e,Nt.sample,{...Nt.mergedGenerators,midi:o,time:qe}));return(Nt=e.currentTime)=>{bt.forEach(Na=>Na(Nt))}},gm={gm_piano:["0000_JCLive_sf2_file","0000_FluidR3_GM_sf2_file","0000_Aspirin_sf2_file","0000_Chaos_sf2_file","0000_GeneralUserGS_sf2_file","0001_FluidR3_GM_sf2_file","0001_GeneralUserGS_sf2_file","0010_Aspirin_sf2_file","0010_Chaos_sf2_file","0010_FluidR3_GM_sf2_file","0010_GeneralUserGS_sf2_file","0010_JCLive_sf2_file","0011_Aspirin_sf2_file","0011_FluidR3_GM_sf2_file","0011_GeneralUserGS_sf2_file","0012_GeneralUserGS_sf2_file","0020_Aspirin_sf2_file","0020_Chaos_sf2_file","0020_FluidR3_GM_sf2_file","0020_GeneralUserGS_sf2_file","0020_JCLive_sf2_file","0021_Aspirin_sf2_file","0021_GeneralUserGS_sf2_file","0022_Aspirin_sf2_file","0030_Aspirin_sf2_file","0030_Chaos_sf2_file","0030_FluidR3_GM_sf2_file","0030_GeneralUserGS_sf2_file","0030_JCLive_sf2_file","0031_Aspirin_sf2_file","0031_FluidR3_GM_sf2_file","0031_GeneralUserGS_sf2_file"],gm_epiano1:["0040_JCLive_sf2_file","0040_FluidR3_GM_sf2_file","0040_Aspirin_sf2_file","0040_Chaos_sf2_file","0040_GeneralUserGS_sf2_file","0041_FluidR3_GM_sf2_file","0041_GeneralUserGS_sf2_file","0042_GeneralUserGS_sf2_file","0043_GeneralUserGS_sf2_file","0044_GeneralUserGS_sf2_file","0046_GeneralUserGS_sf2_file"],gm_epiano2:["0050_JCLive_sf2_file","0050_FluidR3_GM_sf2_file","0050_Aspirin_sf2_file","0050_Chaos_sf2_file","0050_GeneralUserGS_sf2_file","0051_FluidR3_GM_sf2_file","0051_GeneralUserGS_sf2_file","0053_GeneralUserGS_sf2_file","0054_GeneralUserGS_sf2_file"],gm_harpsichord:["0060_JCLive_sf2_file","0060_FluidR3_GM_sf2_file","0060_Aspirin_sf2_file","0060_Chaos_sf2_file","0060_GeneralUserGS_sf2_file","0061_Aspirin_sf2_file","0061_GeneralUserGS_sf2_file","0062_GeneralUserGS_sf2_file"],gm_clavinet:["0070_JCLive_sf2_file","0070_FluidR3_GM_sf2_file","0070_Aspirin_sf2_file","0070_Chaos_sf2_file"],gm_celesta:["0080_JCLive_sf2_file","0080_Aspirin_sf2_file","0080_Chaos_sf2_file","0080_FluidR3_GM_sf2_file","0080_GeneralUserGS_sf2_file","0081_FluidR3_GM_sf2_file"],gm_glockenspiel:["0090_JCLive_sf2_file","0090_Aspirin_sf2_file","0090_Chaos_sf2_file","0090_FluidR3_GM_sf2_file","0090_GeneralUserGS_sf2_file"],gm_music_box:["0100_JCLive_sf2_file","0100_Aspirin_sf2_file","0100_Chaos_sf2_file","0100_FluidR3_GM_sf2_file","0100_GeneralUserGS_sf2_file"],gm_vibraphone:["0110_JCLive_sf2_file","0110_Aspirin_sf2_file","0110_Chaos_sf2_file","0110_FluidR3_GM_sf2_file","0110_GeneralUserGS_sf2_file","0111_FluidR3_GM_sf2_file"],gm_marimba:["0120_JCLive_sf2_file","0120_Aspirin_sf2_file","0120_Chaos_sf2_file","0120_FluidR3_GM_sf2_file","0120_GeneralUserGS_sf2_file","0121_FluidR3_GM_sf2_file","0121_GeneralUserGS_sf2_file"],gm_xylophone:["0130_JCLive_sf2_file","0130_Aspirin_sf2_file","0130_Chaos_sf2_file","0130_FluidR3_GM_sf2_file","0130_GeneralUserGS_sf2_file","0131_FluidR3_GM_sf2_file"],gm_tubular_bells:["0140_JCLive_sf2_file","0140_Aspirin_sf2_file","0140_FluidR3_GM_sf2_file","0140_GeneralUserGS_sf2_file","0141_FluidR3_GM_sf2_file","0142_GeneralUserGS_sf2_file"],gm_dulcimer:["0150_Aspirin_sf2_file","0150_Chaos_sf2_file","0150_FluidR3_GM_sf2_file","0150_GeneralUserGS_sf2_file","0151_FluidR3_GM_sf2_file"],gm_drawbar_organ:["0160_JCLive_sf2_file","0160_Aspirin_sf2_file","0160_Chaos_sf2_file","0160_FluidR3_GM_sf2_file","0160_GeneralUserGS_sf2_file","0161_Aspirin_sf2_file","0161_FluidR3_GM_sf2_file"],gm_percussive_organ:["0170_JCLive_sf2_file","0170_Aspirin_sf2_file","0170_Chaos_sf2_file","0170_FluidR3_GM_sf2_file","0171_FluidR3_GM_sf2_file","0172_FluidR3_GM_sf2_file"],gm_rock_organ:["0180_JCLive_sf2_file","0180_Aspirin_sf2_file","0180_Chaos_sf2_file","0180_FluidR3_GM_sf2_file","0180_GeneralUserGS_sf2_file"],gm_church_organ:["0190_JCLive_sf2_file","0190_Aspirin_sf2_file","0190_Chaos_sf2_file","0190_FluidR3_GM_sf2_file","0190_GeneralUserGS_sf2_file"],gm_reed_organ:["0200_JCLive_sf2_file","0200_Aspirin_sf2_file","0200_Chaos_sf2_file","0200_FluidR3_GM_sf2_file","0200_GeneralUserGS_sf2_file","0201_Aspirin_sf2_file","0201_FluidR3_GM_sf2_file","0201_GeneralUserGS_sf2_file"],gm_accordion:["0210_JCLive_sf2_file","0210_FluidR3_GM_sf2_file","0210_GeneralUserGS_sf2_file","0211_Aspirin_sf2_file","0211_FluidR3_GM_sf2_file","0211_GeneralUserGS_sf2_file","0212_GeneralUserGS_sf2_file"],gm_harmonica:["0220_FluidR3_GM_sf2_file","0220_JCLive_sf2_file","0220_Aspirin_sf2_file","0220_Chaos_sf2_file","0220_GeneralUserGS_sf2_file","0221_FluidR3_GM_sf2_file"],gm_bandoneon:["0230_Aspirin_sf2_file","0230_JCLive_sf2_file","0230_Chaos_sf2_file","0230_FluidR3_GM_sf2_file","0230_GeneralUserGS_sf2_file","0231_FluidR3_GM_sf2_file","0231_GeneralUserGS_sf2_file","0231_JCLive_sf2_file","0232_FluidR3_GM_sf2_file","0233_FluidR3_GM_sf2_file"],gm_acoustic_guitar_nylon:["0240_JCLive_sf2_file","0240_Aspirin_sf2_file","0240_Chaos_sf2_file","0240_FluidR3_GM_sf2_file","0240_GeneralUserGS_sf2_file","0240_LK_Godin_Nylon_SF2_file","0241_JCLive_sf2_file","0242_JCLive_sf2_file","0243_JCLive_sf2_file"],gm_acoustic_guitar_steel:["0253_Acoustic_Guitar_sf2_file","0250_Aspirin_sf2_file","0250_Chaos_sf2_file","0250_FluidR3_GM_sf2_file","0250_GeneralUserGS_sf2_file","0250_LK_AcousticSteel_SF2_file","0253_Acoustic_Guitar_sf2_file","0253_GeneralUserGS_sf2_file","0254_Acoustic_Guitar_sf2_file","0254_GeneralUserGS_sf2_file"],gm_electric_guitar_jazz:["0260_JCLive_sf2_file","0260_Aspirin_sf2_file","0260_Chaos_sf2_file","0260_FluidR3_GM_sf2_file","0260_GeneralUserGS_sf2_file","0260_Stratocaster_sf2_file","0261_GeneralUserGS_sf2_file","0261_Stratocaster_sf2_file","0262_Stratocaster_sf2_file"],gm_electric_guitar_clean:["0270_Aspirin_sf2_file","0270_Chaos_sf2_file","0270_FluidR3_GM_sf2_file","0270_GeneralUserGS_sf2_file","0270_SBAWE32_sf2_file","0270_Stratocaster_sf2_file","0271_GeneralUserGS_sf2_file","0271_Stratocaster_sf2_file","0272_Stratocaster_sf2_file"],gm_electric_guitar_muted:["0280_Aspirin_sf2_file","0280_Chaos_sf2_file","0280_GeneralUserGS_sf2_file","0280_JCLive_sf2_file","0280_LesPaul_sf2_file","0280_SBAWE32_sf2_file","0281_Aspirin_sf2_file","0281_FluidR3_GM_sf2_file","0281_GeneralUserGS_sf2_file","0282_FluidR3_GM_sf2_file"],gm_overdriven_guitar:["0290_FluidR3_GM_sf2_file","0290_Aspirin_sf2_file","0290_Chaos_sf2_file","0290_GeneralUserGS_sf2_file","0290_LesPaul_sf2_file","0290_SBAWE32_sf2_file","0291_LesPaul_sf2_file","0291_SBAWE32_sf2_file","0292_Aspirin_sf2_file","0292_LesPaul_sf2_file"],gm_distortion_guitar:["0300_FluidR3_GM_sf2_file","0300_Aspirin_sf2_file","0300_Chaos_sf2_file","0300_GeneralUserGS_sf2_file","0300_LesPaul_sf2_file","0302_Aspirin_sf2_file","0304_Aspirin_sf2_file"],gm_guitar_harmonics:["0310_Aspirin_sf2_file","0310_FluidR3_GM_sf2_file","0310_Chaos_sf2_file"],gm_acoustic_bass:["0320_JCLive_sf2_file","0320_FluidR3_GM_sf2_file","0320_Aspirin_sf2_file","0320_Chaos_sf2_file"],gm_electric_bass_finger:["0330_JCLive_sf2_file","0330_FluidR3_GM_sf2_fible","0330_Aspirin_sf2_file","0330_GeneralUserGS_sf2_file"],gm_electric_bass_pick:["0340_JCLive_sf2_file","0340_FluidR3_GM_sf2_file","0340_Aspirin_sf2_file","0340_GeneralUserGS_sf2_file","0341_Aspirin_sf2_file"],gm_fretless_bass:["0350_Aspirin_sf2_file","0350_JCLive_sf2_file"],gm_slap_bass_1:["0360_Aspirin_sf2_file","0360_JCLive_sf2_file","0360_FluidR3_GM_sf2_file","0360_Chaos_sf2_file"],gm_slap_bass_2:["0370_Aspirin_sf2_file","0370_FluidR3_GM_sf2_file","0370_GeneralUserGS_sf2_fil e","0370_JCLive_sf2_file"],gm_synth_bass_1:["0380_Chaos_sf2_file","0380_FluidR3_GM_sf2_file","0380_JCLive_sf2_file","0381_FluidR3_GM_sf2_file","0381_GeneralUserGS_sf2_file","0382_GeneralUserGS_sf2_file","0383_GeneralUserGS_sf2_file","0384_GeneralUserGS_sf2_file","0387_GeneralUserGS_sf2_file"],gm_synth_bass_2:["0390_Aspirin_sf2_file","0390_FluidR3_GM_sf2_file","0390_GeneralUserGS_sf2_file","0390_JCLive_sf2_file","0391_FluidR3_GM_sf2_file","0392_FluidR3_GM_sf2_file","0393_GeneralUserGS_sf2_file"],gm_violin:["0400_Aspirin_sf2_file","0400_Chaos_sf2_file","0400_JCLive_sf2_file","0400_FluidR3_GM_sf2_file","0400_GeneralUserGS_sf2_file","0401_Aspirin_sf2_file","0401_FluidR3_GM_sf2_file","0401_GeneralUserGS_sf2_file","0402_GeneralUserGS_sf2_file"],gm_viola:["0410_Aspirin_sf2_file","0410_FluidR3_GM_sf2_file","0410_GeneralUserGS_sf2_file","0410_JCLive_sf2_file","0411_FluidR3_GM_sf2_file"],gm_cello:["0420_Aspirin_sf2_file","0420_FluidR3_GM_sf2_file","0420_GeneralUserGS_sf2_file","0420_JCLive_sf2_file","0421_FluidR3_GM_sf2_file","0421_GeneralUserGS_sf2_file"],gm_contrabass:["0430_Aspirin_sf2_file","0430_Chaos_sf2_file","0430_GeneralUserGS_sf2_file"],gm_tremolo_strings:["0440_Aspirin_sf2_file","0440_Chaos_sf2_file","0440_GeneralUserGS_sf2_file","0440_JCLive_sf2_file","0441_GeneralUserGS_sf2_file","0442_GeneralUserGS_sf2_file"],gm_pizzicato_strings:["0450_Aspirin_sf2_file","0450_Chaos_sf2_file","0450_FluidR3_GM_sf2_file","0450_GeneralUserGS_sf2_file","0450_JCLive_sf2_file","0451_FluidR3_GM_sf2_file"],gm_orchestral_harp:["0460_Aspirin_sf2_file","0460_FluidR3_GM_sf2_file","0460_GeneralUserGS_sf2_file","0460_JCLive_sf2_file","0461_FluidR3_GM_sf2_file"],gm_timpani:["0470_Aspirin_sf2_file","0470_Chaos_sf2_file","0470_FluidR3_GM_sf2_file","0470_GeneralUserGS_sf2_file","0471_FluidR3_GM_sf2_file","0471_GeneralUserGS_sf2_file"],gm_string_ensemble_1:["0480_Aspirin_sf2_file","0480_Chaos_sf2_file","0480_FluidR3_GM_sf2_file","0480_GeneralUserGS_sf2_file","0480_JCLive_sf2_file","0481_Aspirin_sf2_file","0481_FluidR3_GM_sf2_file","0481_GeneralUserGS_sf2_file","0482_Aspirin_sf2_file","0482_GeneralUserGS_sf2_file","0483_GeneralUserGS_sf2_file"],gm_string_ensemble_2:["0490_Aspirin_sf2_file","0490_Chaos_sf2_file","0490_FluidR3_GM_sf2_file","0490_GeneralUserGS_sf2_file","0490_JCLive_sf2_file","0491_GeneralUserGS_sf2_file","0492_GeneralUserGS_sf2_file"],gm_synth_strings_1:["0500_Aspirin_sf2_file","0500_GeneralUserGS_sf2_file","0500_JCLive_sf2_file","0501_FluidR3_GM_sf2_file","0502_GeneralUserGS_sf2_file","0503_FluidR3_GM_sf2_file","0505_FluidR3_GM_sf2_file"],gm_synth_strings_2:["0510_Aspirin_sf2_file","0510_Chaos_sf2_file","0510_GeneralUserGS_sf2_file","0511_GeneralUserGS_sf2_file"],gm_choir_aahs:["0520_Aspirin_sf2_file","0520_Chaos_sf2_file","0520_FluidR3_GM_sf2_file","0520_GeneralUserGS_sf2_file","0520_JCLive_sf2_file","0520_Soul_Ahhs_sf2_file","0521_FluidR3_GM_sf2_file","0521_Soul_Ahhs_sf2_file","0522_Soul_Ahhs_sf2_file"],gm_voice_oohs:["0530_Aspirin_sf2_file","0530_Chaos_sf2_file","0530_FluidR3_GM_sf2_file","0530_GeneralUserGS_sf2_file","0531_FluidR3_GM_sf2_file","0531_JCLive_sf2_file"],gm_synth_choir:["0540_Aspirin_sf2_file","0540_Chaos_sf2_file","0540_FluidR3_GM_sf2_file","0540_GeneralUserGS_sf2_file","0541_FluidR3_GM_sf2_file"],gm_orchestra_hit:["0550_Aspirin_sf2_file","0550_Chaos_sf2_file","0550_FluidR3_GM_sf2_file","0550_GeneralUserGS_sf2_file","0551_FluidR3_GM_sf2_file"],gm_trumpet:["0560_FluidR3_GM_sf2_file","0560_JCLive_sf2_file","0560_Aspirin_sf2_file","0560_Chaos_sf2_file"],gm_trombone:["0570_Aspirin_sf2_file","0570_Chaos_sf2_file","0570_FluidR3_GM_sf2_file","0570_GeneralUserGS_sf2_file","0571_GeneralUserGS_sf2_file"],gm_tuba:["0580_FluidR3_GM_sf2_file","0580_Aspirin_sf2_file","0580_Chaos_sf2_file","0580_GeneralUserGS_sf2_file"],gm_muted_trumpet:["0590_JCLive_sf2_file","0590_Aspirin_sf2_file","0590_Chaos_sf2_file","0590_FluidR3_GM_sf2_file","0590_GeneralUserGS_sf2_file"],gm_french_horn:["0600_Aspirin_sf2_file","0600_FluidR3_GM_sf2_file","0600_GeneralUserGS_sf2_file","0600_JCLive_sf2_file","0601_FluidR3_GM_sf2_file"],gm_brass_section:["0610_JCLive_sf2_file","0610_Aspirin_sf2_file","0610_Chaos_sf2_file","0610_FluidR3_GM_sf2_file","0610_GeneralUserGS_sf2_file"],gm_synth_brass_1:["0620_Aspirin_sf2_file","0620_FluidR3_GM_sf2_file","0621_Aspirin_sf2_file","0621_FluidR3_GM_sf2_file"],gm_synth_brass_2:["0630_Aspirin_sf2_file","0630_Chaos_sf2_file","0630_FluidR3_GM_sf2_file","0630_JCLive_sf2_file","0631_FluidR3_GM_sf2_file","0632_FluidR3_GM_sf2_file","0633_FluidR3_GM_sf2_file"],gm_soprano_sax:["0640_JCLive_sf2_file","0640_Aspirin_sf2_file","0640_Chaos_sf2_file","0640_FluidR3_GM_sf2_file","0641_FluidR3_GM_sf2_file"],gm_alto_sax:["0650_JCLive_sf2_file","0650_Chaos_sf2_file","0650_FluidR3_GM_sf2_file","0650_GeneralUserGS_sf2_file","0651_Aspirin_sf2_file","0651_FluidR3_GM_sf2_file"],gm_tenor_sax:["0660_JCLive_sf2_file","0660_Aspirin_sf2_file","0660_Chaos_sf2_file","0660_GeneralUserGS_sf2_file"],gm_baritone_sax:["0670_JCLive_sf2_file","0670_Aspirin_sf2_file","0670_Chaos_sf2_file","0670_FluidR3_GM_sf2_file","0670_GeneralUserGS_sf2_file","0671_FluidR3_GM_sf2_file"],gm_oboe:["0680_JCLive_sf2_file","0680_Chaos_sf2_file","0680_FluidR3_GM_sf2_file","0680_GeneralUserGS_sf2_file","0681_FluidR3_GM_sf2_file"],gm_english_horn:["0690_JCLive_sf2_file","0690_Aspirin_sf2_file","0690_FluidR3_GM_sf2_file","0691_FluidR3_GM_sf2_file"],gm_bassoon:["0700_JCLive_sf2_file","0700_FluidR3_GM_sf2_file","0700_GeneralUserGS_sf2_file","0701_FluidR3_GM_sf2_file"],gm_clarinet:["0710_JCLive_sf2_file","0710_Aspirin_sf2_file","0710_Chaos_sf2_file","0710_FluidR3_GM_sf2_file","0710_GeneralUserGS_sf2_file","0711_FluidR3_GM_sf2_file"],gm_piccolo:["0720_JCLive_sf2_file","0720_Aspirin_sf2_file","0720_FluidR3_GM_sf2_file","0720_GeneralUserGS_sf2_file","0721_FluidR3_GM_sf2_file"],gm_flute:["0730_JCLive_sf2_file","0730_Aspirin_sf2_file","0730_FluidR3_GM_sf2_file","0730_GeneralUserGS_sf2_file","0731_FluidR3_GM_sf2_file"],gm_recorder:["0740_JCLive_sf2_file","0740_Aspirin_sf2_file","0740_Chaos_sf2_file","0740_FluidR3_GM_sf2_file","0740_GeneralUserGS_sf2_file"],gm_pan_flute:["0750_JCLive_sf2_file","0750_FluidR3_GM_sf2_file","0750_Aspirin_sf2_file","0750_Chaos_sf2_file","0750_GeneralUserGS_sf2_file","0751_Aspirin_sf2_file","0751_FluidR3_GM_sf2_file","0751_GeneralUserGS_sf2_file"],gm_blown_bottle:["0760_FluidR3_GM_sf2_file","0760_JCLive_sf2_file","0760_Chaos_sf2_file","0760_GeneralUserGS_sf2_file","0761_FluidR3_GM_sf2_file"],gm_shakuhachi:["0770_JCLive_sf2_file","0771_FluidR3_GM_sf2_file","0770_Aspirin_sf2_file","0770_FluidR3_GM_sf2_file","0770_GeneralUserGS_sf2_file"],gm_whistle:["0780_FluidR3_GM_sf2_file","0780_JCLive_sf2_file","0780_Aspirin_sf2_file","0780_Chaos_sf2_file"],gm_ocarina:["0790_FluidR3_GM_sf2_file","0790_JCLive_sf2_file","0790_Aspirin_sf2_file","0790_GeneralUserGS_sf2_file"],gm_lead_1_square:["0800_Aspirin_sf2_file","0800_Chaos_sf2_file","0800_FluidR3_GM_sf2_file"],gm_lead_2_sawtooth:["0810_JCLive_sf2_file","0810_Aspirin_sf2_file","0810_Chaos_sf2_file","0810_FluidR3_GM_sf2_file","0810_GeneralUserGS_sf2_file","0811_Aspirin_sf2_file","0811_GeneralUserGS_sf2_file"],gm_lead_3_calliope:["0820_JCLive_sf2_file","0820_Aspirin_sf2_file","0820_Chaos_sf2_file","0820_FluidR3_GM_sf2_file","0820_GeneralUserGS_sf2_file","0821_FluidR3_GM_sf2_file","0821_GeneralUserGS_sf2_file"],gm_lead_4_chiff:["0830_JCLive_sf2_file","0830_Aspirin_sf2_file","0830_FluidR3_GM_sf2_file","0830_GeneralUserGS_sf2_file","0831_FluidR3_GM_sf2_file","0831_GeneralUserGS_sf2_file"],gm_lead_5_charang:["0840_JCLive_sf2_file","0840_FluidR3_GM_sf2_file","0840_Aspirin_sf2_file","0840_Chaos_sf2_file","0840_GeneralUserGS_sf2_file","0841_Aspirin_sf2_file","0841_Chaos_sf2_file","0841_FluidR3_GM_sf2_file","0841_GeneralUserGS_sf2_file","0842_FluidR3_GM_sf2_file"],gm_lead_6_voice:["0850_JCLive_sf2_file","0850_Aspirin_sf2_file","0850_FluidR3_GM_sf2_file","0851_FluidR3_GM_sf2_file","0851_GeneralUserGS_sf2_file","0851_JCLive_sf2_file"],gm_lead_7_fifths:["0860_JCLive_sf2_file","0860_Aspirin_sf2_file","0860_Chaos_sf2_file","0860_GeneralUserGS_sf2_file","0861_Aspirin_sf2_file"],gm_lead_8_bass_lead:["0870_JCLive_sf2_file","0870_Aspirin_sf2_file","0870_Chaos_sf2_file","0870_FluidR3_GM_sf2_file","0870_GeneralUserGS_sf2_file"],gm_pad_new_age:["0880_JCLive_sf2_file","0880_Aspirin_sf2_file","0880_Chaos_sf2_file","0880_FluidR3_GM_sf2_file","0880_GeneralUserGS_sf2_file","0881_Aspirin_sf2_file","0881_FluidR3_GM_sf2_file","0881_GeneralUserGS_sf2_file","0882_Aspirin_sf2_file","0882_GeneralUserGS_sf2_file","0885_GeneralUserGS_sf2_file","0887_GeneralUserGS_sf2_file"],gm_pad_warm:["0890_JCLive_sf2_file","0890_Aspirin_sf2_file","0890_Chaos_sf2_file","0890_FluidR3_GM_sf2_file","0890_GeneralUserGS_sf2_file","0891_Aspirin_sf2_file","0891_FluidR3_GM_sf2_file"],gm_pad_poly:["0900_JCLive_sf2_file","0900_Chaos_sf2_file","0900_FluidR3_GM_sf2_file","0900_GeneralUserGS_sf2_file","0901_Aspirin_sf2_file","0901_FluidR3_GM_sf2_file","0901_GeneralUserGS_sf2_file"],gm_pad_choir:["0910_FluidR3_GM_sf2_file","0910_JCLive_sf2_file","0910_Aspirin_sf2_file","0910_GeneralUserGS_sf2_file","0911_GeneralUserGS_sf2_file","0911_JCLive_sf2_file"],gm_pad_bowed:["0920_JCLive_sf2_file","0920_Aspirin_sf2_file","0920_GeneralUserGS_sf2_file","0921_Aspirin_sf2_file","0921_GeneralUserGS_sf2_file"],gm_pad_metallic:["0930_Aspirin_sf2_file","0930_Chaos_sf2_file","0930_FluidR3_GM_sf2_file","0930_GeneralUserGS_sf2_file","0931_Aspirin_sf2_file","0931_FluidR3_GM_sf2_file","0931_GeneralUserGS_sf2_file"],gm_pad_halo:["0940_Chaos_sf2_file","0940_FluidR3_GM_sf2_file","0940_GeneralUserGS_sf2_file","0940_JCLive_sf2_file","0941_Aspirin_sf2_file","0941_FluidR3_GM_sf2_file","0941_GeneralUserGS_sf2_file","0941_JCLive_sf2_file"],gm_pad_sweep:["0950_Aspirin_sf2_file","0950_Chaos_sf2_file","0950_FluidR3_GM_sf2_file","0950_GeneralUserGS_sf2_file","0950_JCLive_sf2_file","0951_FluidR3_GM_sf2_file","0951_GeneralUserGS_sf2_file"],gm_fx_rain:["0960_FluidR3_GM_sf2_file","0960_Chaos_sf2_file","0960_GeneralUserGS_sf2_file","0961_Aspirin_sf2_file","0961_FluidR3_GM_sf2_file","0962_GeneralUserGS_sf2_file"],gm_fx_soundtrack:["0970_FluidR3_GM_sf2_file","0970_Aspirin_sf2_file","0970_GeneralUserGS_sf2_file","0971_FluidR3_GM_sf2_file","0971_GeneralUserGS_sf2_file"],gm_fx_crystal:["0980_Aspirin_sf2_file","0980_JCLive_sf2_file","0980_Chaos_sf2_file","0980_GeneralUserGS_sf2_file","0981_FluidR3_GM_sf2_file","0981_Aspirin_sf2_file","0981_GeneralUserGS_sf2_file","0982_GeneralUserGS_sf2_file","0983_GeneralUserGS_sf2_file","0984_GeneralUserGS_sf2_file"],gm_fx_atmosphere:["0990_JCLive_sf2_file","0990_Aspirin_sf2_file","0990_Chaos_sf2_file","0990_FluidR3_GM_sf2_file","0990_GeneralUserGS_sf2_file","0991_Aspirin_sf2_file","0991_FluidR3_GM_sf2_file","0991_GeneralUserGS_sf2_file","0991_JCLive_sf2_file","0992_FluidR3_GM_sf2_file","0992_JCLive_sf2_file","0993_JCLive_sf2_file","0994_JCLive_sf2_file"],gm_fx_brightness:["1000_JCLive_sf2_file","1000_Aspirin_sf2_file","1000_Chaos_sf2_file","1000_FluidR3_GM_sf2_file","1000_GeneralUserGS_sf2_file","1001_Aspirin_sf2_file","1001_FluidR3_GM_sf2_file","1001_GeneralUserGS_sf2_file","1001_JCLive_sf2_file","1002_Aspirin_sf2_file","1002_FluidR3_GM_sf2_file","1002_GeneralUserGS_sf2_file"],gm_fx_goblins:["1010_FluidR3_GM_sf2_file","1010_JCLive_sf2_file","1010_Aspirin_sf2_file","1010_Chaos_sf2_file","1010_GeneralUserGS_sf2_file","1011_Aspirin_sf2_file","1011_FluidR3_GM_sf2_file","1011_JCLive_sf2_file","1012_Aspirin_sf2_file"],gm_fx_echoes:["1020_FluidR3_GM_sf2_file","1020_JCLive_sf2_file","1020_Aspirin_sf2_file","1020_Chaos_sf2_file","1020_GeneralUserGS_sf2_file","1021_Aspirin_sf2_file","1021_FluidR3_GM_sf2_file","1021_GeneralUserGS_sf2_file","1021_JCLive_sf2_file","1022_GeneralUserGS_sf2_file"],gm_fx_sci_fi:["1030_FluidR3_GM_sf2_file","1030_Aspirin_sf2_file","1030_Chaos_sf2_file","1030_GeneralUserGS_sf2_file","1030_JCLive_sf2_file","1031_Aspirin_sf2_file","1031_FluidR3_GM_sf2_file","1031_GeneralUserGS_sf2_file","1032_FluidR3_GM_sf2_file"],gm_sitar:["1040_Aspirin_sf2_file","1040_FluidR3_GM_sf2_file","1040_JCLive_sf2_file","1040_Chaos_sf2_file","1040_GeneralUserGS_sf2_file","1041_FluidR3_GM_sf2_file","1041_GeneralUserGS_sf2_file"],gm_banjo:["1050_FluidR3_GM_sf2_file","1050_JCLive_sf2_file","1050_Aspirin_sf2_file","1050_Chaos_sf2_file","1050_GeneralUserGS_sf2_file","1051_GeneralUserGS_sf2_file"],gm_shamisen:["1060_JCLive_sf2_file","1060_FluidR3_GM_sf2_file","1060_Aspirin_sf2_file","1060_Chaos_sf2_file","1060_GeneralUserGS_sf2_file","1061_FluidR3_GM_sf2_file","1061_GeneralUserGS_sf2_file"],gm_koto:["1070_FluidR3_GM_sf2_file","1070_JCLive_sf2_file","1070_Aspirin_sf2_file","1070_Chaos_sf2_file","1070_GeneralUserGS_sf2_file","1071_FluidR3_GM_sf2_file","1071_GeneralUserGS_sf2_file","1072_GeneralUserGS_sf2_file","1073_GeneralUserGS_sf2_file"],gm_kalimba:["1080_JCLive_sf2_file","1080_FluidR3_GM_sf2_file","1080_Aspirin_sf2_file","1080_Chaos_sf2_file","1080_GeneralUserGS_sf2_file"],gm_bagpipe:["1090_Aspirin_sf2_file"],gm_fiddle:["1100_JCLive_sf2_file","1100_Aspirin_sf2_file","1100_Chaos_sf2_file","1100_FluidR3_GM_sf2_file","1100_GeneralUserGS_sf2_file","1101_Aspirin_sf2_file","1101_FluidR3_GM_sf2_file","1101_GeneralUserGS_sf2_file","1102_GeneralUserGS_sf2_file"],gm_shanai:["1110_Aspirin_sf2_file","1110_FluidR3_GM_sf2_file","1110_JCLive_sf2_file","1110_Chaos_sf2_file","1110_GeneralUserGS_sf2_file"],gm_tinkle_bell:["1120_Aspirin_sf2_file"],gm_agogo:["1130_JCLive_sf2_file","1130_Aspirin_sf2_file","1130_Chaos_sf2_file","1130_FluidR3_GM_sf2_file","1130_GeneralUserGS_sf2_file","1131_FluidR3_GM_sf2_file"],gm_steel_drums:["1140_FluidR3_GM_sf2_file","1140_Aspirin_sf2_file","1140_JCLive_sf2_file","1140_Chaos_sf2_file","1140_GeneralUserGS_sf2_file","1141_FluidR3_GM_sf2_file"],gm_woodblock:["1150_JCLive_sf2_file","1150_Aspirin_sf2_file","1150_Chaos_sf2_file","1150_FluidR3_GM_sf2_file","1150_GeneralUserGS_sf2_file","1151_FluidR3_GM_sf2_file","1151_GeneralUserGS_sf2_file","1152_FluidR3_GM_sf2_file","1152_GeneralUserGS_sf2_file"],gm_taiko_drum:["1160_JCLive_sf2_file","1160_FluidR3_GM_sf2_file","1160_Aspirin_sf2_file","1160_Chaos_sf2_file","1160_GeneralUserGS_sf2_file","1161_FluidR3_GM_sf2_file","1161_GeneralUserGS_sf2_file","1162_FluidR3_GM_sf2_file","1162_GeneralUserGS_sf2_file","1163_FluidR3_GM_sf2_file"],gm_melodic_tom:["1170_JCLive_sf2_file","1170_Aspirin_sf2_file","1170_Chaos_sf2_file","1170_FluidR3_GM_sf2_file","1170_GeneralUserGS_sf2_file","1171_FluidR3_GM_sf2_file","1171_GeneralUserGS_sf2_file","1172_FluidR3_GM_sf2_file","1173_FluidR3_GM_sf2_file"],gm_synth_drum:["1180_JCLive_sf2_file","1180_Aspirin_sf2_file","1180_Chaos_sf2_file","1180_FluidR3_GM_sf2_file","1180_GeneralUserGS_sf2_file","1181_FluidR3_GM_sf2_file","1181_GeneralUserGS_sf2_file"],gm_reverse_cymbal:["1190_JCLive_sf2_file","1190_Aspirin_sf2_file","1190_Chaos_sf2_file","1190_FluidR3_GM_sf2_file","1190_GeneralUserGS_sf2_file","1191_GeneralUserGS_sf2_file","1192_GeneralUserGS_sf2_file","1193_GeneralUserGS_sf2_file","1194_GeneralUserGS_sf2_file"],gm_guitar_fret_noise:["1200_JCLive_sf2_file","1200_Aspirin_sf2_file","1200_Chaos_sf2_file","1200_FluidR3_GM_sf2_file","1200_GeneralUserGS_sf2_file","1201_Aspirin_sf2_file","1201_GeneralUserGS_sf2_file","1202_GeneralUserGS_sf2_file"],gm_breath_noise:["1210_FluidR3_GM_sf2_file","1210_JCLive_sf2_file","1210_Aspirin_sf2_file","1210_Chaos_sf2_file","1210_GeneralUserGS_sf2_file","1211_Aspirin_sf2_file","1211_GeneralUserGS_sf2_file","1212_GeneralUserGS_sf2_file"],gm_seashore:["1220_JCLive_sf2_file","1220_Aspirin_sf2_file","1220_Chaos_sf2_file","1220_FluidR3_GM_sf2_file","1220_GeneralUserGS_sf2_file","1221_Aspirin_sf2_file","1221_GeneralUserGS_sf2_file","1221_JCLive_sf2_file","1222_Aspirin_sf2_file","1222_GeneralUserGS_sf2_file","1223_Aspirin_sf2_file","1223_GeneralUserGS_sf2_file","1224_Aspirin_sf2_file","1224_GeneralUserGS_sf2_file","1225_GeneralUserGS_sf2_file","1226_GeneralUserGS_sf2_file"],gm_bird_tweet:["1230_FluidR3_GM_sf2_file","1230_JCLive_sf2_file","1230_Aspirin_sf2_file","1230_GeneralUserGS_sf2_file","1231_GeneralUserGS_sf2_file","1232_GeneralUserGS_sf2_file","1234_GeneralUserGS_sf2_file"],gm_telephone:["1240_JCLive_sf2_file","1240_Aspirin_sf2_file","1240_Chaos_sf2_file","1240_FluidR3_GM_sf2_file","1241_Aspirin_sf2_file","1242_GeneralUserGS_sf2_file","1243_Aspirin_sf2_file","1243_GeneralUserGS_sf2_file","1244_Aspirin_sf2_file","1244_GeneralUserGS_sf2_file"],gm_helicopter:["1250_JCLive_sf2_file","1250_Aspirin_sf2_file","1250_FluidR3_GM_sf2_file","1250_GeneralUserGS_sf2_file","1251_FluidR3_GM_sf2_file","1251_GeneralUserGS_sf2_file","1252_Aspirin_sf2_file","1252_FluidR3_GM_sf2_file","1252_GeneralUserGS_sf2_file","1253_GeneralUserGS_sf2_file","1254_GeneralUserGS_sf2_file","1255_GeneralUserGS_sf2_file","1256_GeneralUserGS_sf2_file","1257_GeneralUserGS_sf2_file","1258_GeneralUserGS_sf2_file","1259_GeneralUserGS_sf2_file"],gm_applause:["1260_JCLive_sf2_file","1260_Aspirin_sf2_file","1260_Chaos_sf2_file","1260_FluidR3_GM_sf2_file","1260_GeneralUserGS_sf2_file","1261_Aspirin_sf2_file","1261_GeneralUserGS_sf2_file","1262_Aspirin_sf2_file","1262_GeneralUserGS_sf2_file","1263_Aspirin_sf2_file","1263_GeneralUserGS_sf2_file","1264_Aspirin_sf2_file","1264_GeneralUserGS_sf2_file","1265_Aspirin_sf2_file","1265_GeneralUserGS_sf2_file"],gm_gunshot:["1270_JCLive_sf2_file","1270_Aspirin_sf2_file","1270_Chaos_sf2_file","1270_FluidR3_GM_sf2_file","1270_GeneralUserGS_sf2_file","1271_Aspirin_sf2_file","1271_GeneralUserGS_sf2_file","1272_Aspirin_sf2_file","1272_GeneralUserGS_sf2_file","1273_GeneralUserGS_sf2_file","1274_GeneralUserGS_sf2_file",""]};let defaultSoundfontUrl="https://felixroos.github.io/webaudiofontdata/sound",soundfontUrl=defaultSoundfontUrl,loadCache={};async function loadFont(name){if(loadCache[name])return loadCache[name];const load=async()=>{const url=`${soundfontUrl}/${name}.js`,preset=await fetch(url).then(e=>e.text());let[_,data]=preset.split("={");return eval("{"+data)};return loadCache[name]=load(),loadCache[name]}async function getFontBufferSource(e,r,o){let{note:qe="c3",freq:bt}=r,Nt;if(bt)Nt=Pe(bt);else if(typeof qe=="string")Nt=pt(qe);else if(typeof qe=="number")Nt=qe;else throw new Error(`unexpected "note" type "${typeof qe}"`);const{buffer:Na,zone:ld}=await getFontPitch(e,Nt,o),fd=o.createBufferSource();fd.buffer=Na;const hd=ld.originalPitch-100*ld.coarseTune-ld.fineTune,dd=1*Math.pow(2,(100*Nt-hd)/1200);return fd.playbackRate.value=dd,ld.loopStart>1&&ld.loopStart<ld.loopEnd&&(fd.loop=!0,fd.loopStart=ld.loopStart/ld.sampleRate,fd.loopEnd=ld.loopEnd/ld.sampleRate),fd}let bufferCache={};async function getFontPitch(e,r,o){const qe=`${e}:::${r}`;if(bufferCache[qe])return bufferCache[qe];const bt=async()=>{const Nt=await loadFont(e);if(!Nt)throw new Error(`Could not load soundfont ${e}`);const Na=findZone(Nt,r);if(!Na)throw new Error("no soundfont zone found for preset ",e,"pitch",r);const ld=await getBuffer(Na,o);if(!ld)throw new Error(`no soundfont buffer found for preset ${e}, pitch: ${r}`);return{buffer:ld,zone:Na}};return bufferCache[qe]=bt(),bufferCache[qe]}function findZone(e,r){return e.find(o=>o.keyRangeLow<=r&&o.keyRangeHigh+1>=r)}async function getBuffer(e,r){if(e.sample){console.warn("zone.sample untested!");const qe=atob(e.sample);e.buffer=r.createBuffer(1,qe.length/2,e.sampleRate);const bt=e.buffer.getChannelData(0);let Nt,Na,ld;for(var o=0;o<qe.length/2;o++)Nt=qe.charCodeAt(o*2),Na=qe.charCodeAt(o*2+1),Nt<0&&(Nt=256+Nt),Na<0&&(Na=256+Na),ld=Na*256+Nt,ld>=65536/2&&(ld=ld-65536),bt[o]=ld/65536}else if(e.file){const qe=e.file.length,bt=new ArrayBuffer(qe),Nt=new Uint8Array(bt),Na=atob(e.file);let ld;for(let fd=0;fd<Na.length;fd++)ld=Na.charCodeAt(fd),Nt[fd]=ld;return new Promise(fd=>r.decodeAudioData(bt,fd))}}function registerSoundfonts$1(){Object.entries(gm).forEach(([e,r])=>{j$3(e,async(o,qe,bt)=>{const[Nt,Na,ld,fd]=Q$5([qe.attack,qe.decay,qe.sustain,qe.release]),{duration:hd}=qe,dd=Ha(qe.n,r.length),gd=r[dd],yd=x$3(),_d=await getFontBufferSource(gd,qe,yd);_d.start(o);const Ad=yd.createGain(),xd=_d.connect(Ad),Cd=o+hd;k$4(xd.gain,Nt,Na,ld,fd,0,.3,o,Cd,"linear");let Dd=Cd+fd+.01,Td=pt$1(_d.detune,qe,o);ht$1(_d.detune,qe,o,Cd),_d.stop(Dd);const Bd=Md=>{};return _d.onended=()=>{_d.disconnect(),Td?.stop(),xd.disconnect(),bt()},{node:xd,stop:Bd}},{type:"soundfont",prebake:!0,fonts:r})})}const instrumentNames=[];instrumentNames[0]="Acoustic Grand Piano: Piano",instrumentNames[1]="Bright Acoustic Piano: Piano",instrumentNames[2]="Electric Grand Piano: Piano",instrumentNames[3]="Honky-tonk Piano: Piano",instrumentNames[4]="Electric Piano 1: Piano",instrumentNames[5]="Electric Piano 2: Piano",instrumentNames[6]="Harpsichord: Piano",instrumentNames[7]="Clavinet: Piano",instrumentNames[8]="Celesta: Chromatic Percussion",instrumentNames[9]="Glockenspiel: Chromatic Percussion",instrumentNames[10]="Music Box: Chromatic Percussion",instrumentNames[11]="Vibraphone: Chromatic Percussion",instrumentNames[12]="Marimba: Chromatic Percussion",instrumentNames[13]="Xylophone: Chromatic Percussion",instrumentNames[14]="Tubular Bells: Chromatic Percussion",instrumentNames[15]="Dulcimer: Chromatic Percussion",instrumentNames[16]="Drawbar Organ: Organ",instrumentNames[17]="Percussive Organ: Organ",instrumentNames[18]="Rock Organ: Organ",instrumentNames[19]="Church Organ: Organ",instrumentNames[20]="Reed Organ: Organ",instrumentNames[21]="Accordion: Organ",instrumentNames[22]="Harmonica: Organ",instrumentNames[23]="Tango Accordion: Organ",instrumentNames[24]="Acoustic Guitar (nylon): Guitar",instrumentNames[25]="Acoustic Guitar (steel): Guitar",instrumentNames[26]="Electric Guitar (jazz): Guitar",instrumentNames[27]="Electric Guitar (clean): Guitar",instrumentNames[28]="Electric Guitar (muted): Guitar",instrumentNames[29]="Overdriven Guitar: Guitar",instrumentNames[30]="Distortion Guitar: Guitar",instrumentNames[31]="Guitar Harmonics: Guitar",instrumentNames[32]="Acoustic Bass: Bass",instrumentNames[33]="Electric Bass (finger): Bass",instrumentNames[34]="Electric Bass (pick): Bass",instrumentNames[35]="Fretless Bass: Bass",instrumentNames[36]="Slap Bass 1: Bass",instrumentNames[37]="Slap Bass 2: Bass",instrumentNames[38]="Synth Bass 1: Bass",instrumentNames[39]="Synth Bass 2: Bass",instrumentNames[40]="Violin: Strings",instrumentNames[41]="Viola: Strings",instrumentNames[42]="Cello: Strings",instrumentNames[43]="Contrabass: Strings",instrumentNames[44]="Tremolo Strings: Strings",instrumentNames[45]="Pizzicato Strings: Strings",instrumentNames[46]="Orchestral Harp: Strings",instrumentNames[47]="Timpani: Strings",instrumentNames[48]="String Ensemble 1: Ensemble",instrumentNames[49]="String Ensemble 2: Ensemble",instrumentNames[50]="Synth Strings 1: Ensemble",instrumentNames[51]="Synth Strings 2: Ensemble",instrumentNames[52]="Choir Aahs: Ensemble",instrumentNames[53]="Voice Oohs: Ensemble",instrumentNames[54]="Synth Choir: Ensemble",instrumentNames[55]="Orchestra Hit: Ensemble",instrumentNames[56]="Trumpet: Brass",instrumentNames[57]="Trombone: Brass",instrumentNames[58]="Tuba: Brass",instrumentNames[59]="Muted Trumpet: Brass",instrumentNames[60]="French Horn: Brass",instrumentNames[61]="Brass Section: Brass",instrumentNames[62]="Synth Brass 1: Brass",instrumentNames[63]="Synth Brass 2: Brass",instrumentNames[64]="Soprano Sax: Reed",instrumentNames[65]="Alto Sax: Reed",instrumentNames[66]="Tenor Sax: Reed",instrumentNames[67]="Baritone Sax: Reed",instrumentNames[68]="Oboe: Reed",instrumentNames[69]="English Horn: Reed",instrumentNames[70]="Bassoon: Reed",instrumentNames[71]="Clarinet: Reed",instrumentNames[72]="Piccolo: Pipe",instrumentNames[73]="Flute: Pipe",instrumentNames[74]="Recorder: Pipe",instrumentNames[75]="Pan Flute: Pipe",instrumentNames[76]="Blown bottle: Pipe",instrumentNames[77]="Shakuhachi: Pipe",instrumentNames[78]="Whistle: Pipe",instrumentNames[79]="Ocarina: Pipe",instrumentNames[80]="Lead 1 (square): Synth Lead",instrumentNames[81]="Lead 2 (sawtooth): Synth Lead",instrumentNames[82]="Lead 3 (calliope): Synth Lead",instrumentNames[83]="Lead 4 (chiff): Synth Lead",instrumentNames[84]="Lead 5 (charang): Synth Lead",instrumentNames[85]="Lead 6 (voice): Synth Lead",instrumentNames[86]="Lead 7 (fifths): Synth Lead",instrumentNames[87]="Lead 8 (bass + lead): Synth Lead",instrumentNames[88]="Pad 1 (new age): Synth Pad",instrumentNames[89]="Pad 2 (warm): Synth Pad",instrumentNames[90]="Pad 3 (polysynth): Synth Pad",instrumentNames[91]="Pad 4 (choir): Synth Pad",instrumentNames[92]="Pad 5 (bowed): Synth Pad",instrumentNames[93]="Pad 6 (metallic): Synth Pad",instrumentNames[94]="Pad 7 (halo): Synth Pad",instrumentNames[95]="Pad 8 (sweep): Synth Pad",instrumentNames[96]="FX 1 (rain): Synth Effects",instrumentNames[97]="FX 2 (soundtrack): Synth Effects",instrumentNames[98]="FX 3 (crystal): Synth Effects",instrumentNames[99]="FX 4 (atmosphere): Synth Effects",instrumentNames[100]="FX 5 (brightness): Synth Effects",instrumentNames[101]="FX 6 (goblins): Synth Effects",instrumentNames[102]="FX 7 (echoes): Synth Effects",instrumentNames[103]="FX 8 (sci-fi): Synth Effects",instrumentNames[104]="Sitar: Ethnic",instrumentNames[105]="Banjo: Ethnic",instrumentNames[106]="Shamisen: Ethnic",instrumentNames[107]="Koto: Ethnic",instrumentNames[108]="Kalimba: Ethnic",instrumentNames[109]="Bagpipe: Ethnic",instrumentNames[110]="Fiddle: Ethnic",instrumentNames[111]="Shanai: Ethnic",instrumentNames[112]="Tinkle Bell: Percussive",instrumentNames[113]="Agogo: Percussive",instrumentNames[114]="Steel Drums: Percussive",instrumentNames[115]="Woodblock: Percussive",instrumentNames[116]="Taiko Drum: Percussive",instrumentNames[117]="Melodic Tom: Percussive",instrumentNames[118]="Synth Drum: Percussive",instrumentNames[119]="Reverse Cymbal: Percussive",instrumentNames[120]="Guitar Fret Noise: Sound effects",instrumentNames[121]="Breath Noise: Sound effects",instrumentNames[122]="Seashore: Sound effects",instrumentNames[123]="Bird Tweet: Sound effects",instrumentNames[124]="Telephone Ring: Sound effects",instrumentNames[125]="Helicopter: Sound effects",instrumentNames[126]="Applause: Sound effects",instrumentNames[127]="Gunshot: Sound effects",f.prototype.soundfont=function(e,r=0){return this.onTrigger((o,qe,bt,Nt)=>{const Na=x$3(),ld=Va(o),fd=e.presets[r%e.presets.length],hd=Nt,dd=[Na,fd,pt(ld),hd];ce(...dd)(hd+o.duration)})},App.last_eval_error="",App.handle_eval_error=e=>{App.has_error=!0,App.last_eval_error=e?.message||`${e}`,App.set_status(App.last_eval_error)};const{evaluate,scheduler}=ne({transpiler:d,onEvalError:e=>{App.handle_eval_error(e)}});App.evaluate=evaluate,App.scheduler=scheduler,App.app_name="Slide",App.current_song="",App.events_started=!1,App.audio_started=!1,App.fetch_in_flight=!1,App.status_watch_cancelled=!1,App.default_cpm=60,App.tempo=App.default_cpm,App.tempo_debounce_timer=void 0,App.color_index=0,App.color_cycle_timer=void 0,App.do_partial_updates=!1,App.fetch_delay_seconds=5,App.code_url_max=1920,App.border_color="#444",App.default_cpm=30,App.cycle_colors=["#94dd94","rgb(197, 187, 106)","rgb(222, 143, 143)","rgb(127, 155, 210)"],App.on_load=()=>{App.start_events()},App.get_config=async()=>{let e=await fetch("config/config.json");try{App.config=await e.json()}catch(r){console.error("Failed to parse config.json",r),App.config={}}},App.clear_draw_context=()=>{try{Ke(!0)}catch(e){console.warn("Failed to clear draw context",e)}},App.reset_eval_state=()=>{App.has_error=!1},App.report_eval_failure=e=>{let r=e?.message||App.last_eval_error||"Failed to evaluate Strudel code";App.last_eval_error=r,App.set_status(r)},App.normalize_code=(e="")=>e.replace(/\r\n/g,`
`).trim(),App.strip_set_cpm=e=>e.split(`
`).filter(r=>!r.trim().match(/^setCpm\s*\(/)).join(`
`),App.split_by_newlines=e=>{let r="",o=null,qe=0,bt=0,Nt=0,Na=[],ld=()=>{let fd=r.trim();fd&&Na.push(fd),r=""};for(let fd=0;fd<e.length;fd+=1){let hd=e[fd],dd=e[fd-1];if(r+=hd,o){hd===o&&dd!=="\\"&&(o=null);continue}if(hd==='"'||hd==="'"||hd==="`"){o=hd;continue}if(hd==="("?qe+=1:hd===")"?qe=Math.max(0,qe-1):hd==="["?bt+=1:hd==="]"?bt=Math.max(0,bt-1):hd==="{"?Nt+=1:hd==="}"&&(Nt=Math.max(0,Nt-1)),hd!==`
`)continue;let gd=e[fd+1];qe===0&&bt===0&&Nt===0&&!(gd===" "||gd==="	")&&!(gd===`
`)&&ld()}return ld(),Na},App.segment_code=e=>{let r=App.normalize_code(e);if(!r)return[];let o=r.split(/\n{2,}/g).map(bt=>bt.trim()).filter(Boolean),qe=[];for(let bt of o){if(!bt.includes(`
`)){qe.push(bt);continue}let Nt=App.split_by_newlines(bt);Nt.length?qe.push(...Nt):qe.push(bt)}if(qe.length<=1&&r.includes(`
`)){let bt=r.split(/\n+/g).map(Nt=>Nt.trim()).filter(Boolean);if(bt.length>1)return bt}return qe},App.apply_partial_update=async e=>{let r=App.segment_code(e);if(!r.length)return!1;let o=[],qe=0;for(let Nt of r){let Na=await App.run_eval(Nt);if(Na.ok){o.push(Nt);continue}qe+=1,console.warn("Skipping segment due to error",Na.error)}if(!o.length)return!1;let bt=o.join(`

`);return App.set_input(bt),qe>0?App.playing(`Skipped ${qe} segment(s)`):App.playing(),!0},App.start_events=async()=>{if(App.events_started)return;App.events_started=!0,await App.get_config(),App.load_all_storage(),App.create_modals(),App.start_visual(),DOM.ev("#btn-play","click",()=>{let o=App.get_input_value();App.play_action(o,!0)}),DOM.ev("#btn-url","click",()=>{App.get_beat_url()}),DOM.ev("#btn-auto","click",()=>{App.open_auto_modal()}),DOM.ev("#btn-stop","click",()=>{App.stop_action()}),DOM.ev("#btn-new","click",()=>{App.new_beat()}),DOM.ev("#btn-songs","click",()=>{App.open_songs_modal()}),App.remove_context("#controls");let e=DOM.el("#image");e&&DOM.ev(e,"click",()=>{App.open_settings_modal()});let r=DOM.el("#title");r&&DOM.ev(r,"click",()=>{App.open_about_modal()}),App.setup_player(),App.setup_status(),App.setup_volume(),App.setup_auto(),App.setup_input(),App.setup_scope(),App.init_volume_controls(),App.init_tempo_controls(),App.init_code_input_controls(),App.start_keyboard(),App.start_resize_observer(),App.make_main_visible(),App.set_beat_title_from_query(),App.max_input(),await App.load_song_from_query()||App.load_url_from_query()||App.load_code_from_query()||App.load_last_code(),App.playing()},App.get_main=()=>DOM.el("#main"),App.make_main_visible=()=>{App.get_main().classList.remove("invisible")},App.set_title=e=>{if(e){document.title=`${App.app_name} - ${e}`;return}document.title=App.app_name},App.get_query_params=()=>new URLSearchParams(window.location.search),App.update_title=()=>{let e=App.app_name,r=App.get_song_name(!0);r?e=`${e} - ${r}`:App.beat_title&&(e=`${e} - ${App.beat_title}`),document.title=e},App.get_top_height=()=>{let e=DOM.el("#top");return App.get_el_height(e)},App.get_bottom_height=()=>{let e=DOM.el("#bottom");return App.get_el_height(e)},App.loading=()=>{App.set_status("Loading...")},App.new_beat=()=>{confirm("Start a new beat?")&&(App.last_code="",App.current_song="",App.set_input(""),App.stop_action(),App.focus_input())},App.start_resize_observer=()=>{new ResizeObserver(r=>{App.max_debouncer.call()}).observe(App.get_main()),DOM.ev(window,"resize",()=>{App.max_debouncer.call()})},App.setup_eval=async()=>{try{await Oa(strudelCore,strudelMini,strudelWebAudio,strudelTonal,strudelDraw,strudelHydra,d),console.log("Setup Eval done.")}catch(e){console.error("Strudel scope failed to load",e)}},window.H=x$1,window.initHydra=u,window.clearHydra=v,window.lz=m$3,window.Drawer=Qe,window.strudelMini=strudelMini,window.registerSoundfonts=registerSoundfonts$1,window.registerSynthSounds=ec$1,window.initAudio=bo$1,window.samples=to$1,window.getAudioContext=x$3,App.mirror_enabled=!0,App.setup_drawer=()=>{let e=1e3;App.drawer=new Drawer(r=>{if(!App.mirror_enabled||r.length>e)return;let o=[];for(let qe of r)qe.context&&qe.context.locations?o.push(...qe.context.locations):qe.context&&qe.context.location&&o.push(qe.context.location);App.editor&&App.editor.dispatch({effects:App.set_highlight.of(o)})},[0,0])},App.setup_strudel_mirror=()=>{let{EditorView:e,Decoration:r,StateField:o,StateEffect:qe}=window.CM;App.set_highlight=qe.define(),App.highlight_extension=o.define({create(){return r.none},update(bt,Nt){bt=bt.map(Nt.changes);for(let Na of Nt.effects)if(Na.is(App.set_highlight)){let ld=Na.value.map(fd=>r.mark({class:"sh-executing"}).range(fd.start,fd.end));return r.set(ld,!0)}return bt},provide:bt=>e.decorations.from(bt)})},App.clean_mirror=()=>{App.editor.dispatch({effects:App.set_highlight.of([])})},App.toggle_mirror=()=>{App.mirror_enabled=!App.mirror_enabled,App.mirror_enabled?App.is_playing&&App.start_drawer():(App.stop_drawer(),App.clean_mirror()),App.stor_save_mirror()},App.start_drawer=()=>{App.draw_started||(App.drawer.start(App.scheduler),App.draw_started=!0)},App.stop_drawer=()=>{App.drawer.stop(),App.draw_started=!1},(function(){let e=window.AudioContext||window.webkitAudioContext;function r(qe,bt=3,Nt=2){let Na=qe.sampleRate,ld=Na*bt,fd=qe.createBuffer(2,ld,Na),hd=fd.getChannelData(0),dd=fd.getChannelData(1);for(let gd=0;gd<ld;gd++){let yd=gd/ld,_d=Math.pow(1-yd,Nt);hd[gd]=(Math.random()*2-1)*_d,dd[gd]=(Math.random()*2-1)*_d}return fd}class o extends e{constructor(...bt){super(...bt);let Nt=this;const Na=!window.master_fx;console.log(Na?"Intercepted MAIN AudioContext (Seamless Reverb + LFO Mode + Metering)":"Intercepted SECONDARY AudioContext");let ld=Nt.createBiquadFilter();ld.type="lowshelf",ld.frequency.value=320,ld.gain.value=0;let fd=Nt.createBiquadFilter();fd.type="peaking",fd.frequency.value=1e3,fd.Q.value=1,fd.gain.value=0;let hd=Nt.createBiquadFilter();hd.type="highshelf",hd.frequency.value=4e3,hd.gain.value=0,App.panning=Nt.createStereoPanner(),App.panning.pan.value=0;let dd=Nt.createOscillator();dd.type="sine",dd.frequency.value=0;let gd=Nt.createGain();gd.gain.value=0,dd.connect(gd),gd.connect(App.panning.pan),dd.start();let yd=Nt.createConvolver();yd.buffer=r(Nt);let _d=Nt.createGain();_d.gain.value=0;let Ad=Nt.createGain();Ad.gain.value=1;let xd=Nt.createAnalyser();xd.fftSize=256;let Cd=xd.frequencyBinCount,Dd=new Uint8Array(Cd);if(ld.connect(fd),fd.connect(hd),hd.connect(App.panning),App.panning.connect(Ad),Ad.connect(xd),xd.connect(super.destination),Object.defineProperty(ld,"maxChannelCount",{get:()=>super.destination.maxChannelCount}),Object.defineProperty(Nt,"destination",{get:()=>ld,configurable:!0}),Na){let Td={timer:null,is_connected:!1};window.master_fx={context:Nt,nodes:{eq_low:ld,eq_mid:fd,eq_high:hd,panner:App.panning,reverb_gain:_d,master_gain:Ad,lfo:dd,lfo_gain:gd,analyser:xd},get_volume:()=>{xd.getByteTimeDomainData(Dd);let Bd=0;for(let Md=0;Md<Cd;Md++){let Ed=(Dd[Md]-128)/128;Bd+=Ed*Ed}return Math.sqrt(Bd/Cd)},set_eq:(Bd,Md,Ed)=>{let Gd=Nt.currentTime,Qd=.1;Bd!==void 0&&ld.gain.setTargetAtTime(Bd,Gd,Qd),Md!==void 0&&fd.gain.setTargetAtTime(Md,Gd,Qd),Ed!==void 0&&hd.gain.setTargetAtTime(Ed,Gd,Qd)},set_volume:Bd=>{Ad.gain.setTargetAtTime(Bd,Nt.currentTime,.1)},set_panning:Bd=>{App.panning.pan.setTargetAtTime(Bd,Nt.currentTime+.02,.1)},set_auto_pan:(Bd,Md)=>{let Ed=Nt.currentTime;dd.frequency.setTargetAtTime(Bd,Ed,.1),gd.gain.setTargetAtTime(Md,Ed,.1)},splash_reverb:(Bd=3)=>{let Md=Nt.currentTime,Ed=.1,Gd=.5,Qd=.5;Td.timer&&(clearTimeout(Td.timer),Td.timer=null),_d.gain.cancelScheduledValues(Md),Td.is_connected||(App.panning.connect(yd),yd.connect(_d),_d.connect(Ad),_d.gain.setValueAtTime(0,Md),Td.is_connected=!0),_d.gain.linearRampToValueAtTime(Qd,Md+Ed);let zd=Md+Bd;_d.gain.setValueAtTime(Qd,zd),_d.gain.linearRampToValueAtTime(0,zd+Gd),Td.timer=setTimeout(()=>{_d.disconnect(),yd.disconnect(),Td.is_connected=!1},(Bd+Gd)*1e3+100)}}}}}window.AudioContext=o,window.webkitAudioContext&&(window.webkitAudioContext=o)})(),App.modal_factory=(e,r)=>{let o=DOM.el(`#${r}`),qe=DOM.create("div");qe.innerHTML=o.innerHTML,DOM.el("#modals").appendChild(qe);let bt=DOM.el(".modal",qe);return bt.id=`${e}-modal`,bt},App.create_modal=e=>App.modal_factory(e,"template-modal"),App.create_list_modal=e=>{let r=App.modal_factory(e,"template-list-modal"),o=DOM.el(".modal-filter",r);return o.id=`${e}-modal-filter`,r},App.create_modals=()=>{App.create_about_modal(),App.create_songs_modal(),App.create_auto_modal(),App.create_visual_modal(),App.create_settings_modal(),DOM.ev("#main","click",e=>{let r=e.target.closest(".modal-close");if(r){let o=r.closest(".modal");o&&App.do_close_modal(o)}}),DOM.ev("#modal-overlay","click",e=>{App.close_all_modals()})},App.show_items_modal=async(e,r={})=>{let o={loaded:!1,active:-1,capitalize:!0,icons:!0};App.def_args(o,r);let qe=r.loaded||!1,bt=DOM.el(`#${e}-modal`),Nt=DOM.el(".modal-body",bt),Na=DOM.el(".modal-filter",bt);if(qe&&(Nt.innerHTML='<div class="loading">Loading items...</div>'),Na&&(Na.value="",Na.disabled=!0,Na.oninput=null,Na.onkeydown=null),!r.items.length){Nt.innerHTML='<div class="loading">Nothing found</div>';return}let ld=hd=>{if(Nt.innerHTML="",!hd.length){Nt.innerHTML='<div class="loading">No results</div>';return}for(let[dd,gd]of hd.entries()){let yd=DOM.create("div"),_d=DOM.create("div");yd.className="modal-item";let Ad=gd.alt_text||gd.text;if(r.icons){let xd=DOM.create("canvas","modal-icon");xd.width=25,xd.height=25,yd.appendChild(xd),jdenticon.update(xd,Ad)}r.capitalize&&(Ad=App.capitalize(Ad)),_d.textContent=App.underspace(Ad),yd.title=gd.title,DOM.ev(yd,"click",()=>r.action(gd)),r.active===dd&&yd.classList.add("modal-active-item"),yd.appendChild(_d),Nt.appendChild(yd)}};if(ld(r.items),!Na)return;let fd=()=>{let hd=Na.value.trim().toLowerCase();if(!hd){ld(r.items);return}let dd=r.items.filter(gd=>(gd.alt_text||gd.text).toLowerCase().includes(hd));ld(dd)};Na.disabled=!1,Na.focus(),Na.oninput=fd,Na.onkeydown=hd=>{if(hd.key!=="Enter")return;hd.preventDefault();let dd=DOM.els(".modal-item",Nt);for(let gd of dd){gd.click();break}},App.do_open_modal(bt),App.focus_modal_filter(e)},App.open_modal=e=>{let r=DOM.el(`#${e}-modal`);r&&App.do_open_modal(r)},App.do_open_modal=e=>{let r=DOM.el(".modal-body",e);App.show_overlay(),e.classList.add("active"),r.scrollTop=0},App.close_modal=e=>{let r=DOM.el(`#${e}-modal`);r&&App.do_close_modal(r)},App.do_close_modal=e=>{e.classList.remove("active"),DOM.els(".modal.active").length===0&&App.hide_overlay()},App.close_all_modals=()=>{let e=DOM.els(".modal");for(let r of e)App.do_close_modal(r)},App.close_current_modal=()=>{let e=DOM.els(".modal.active");if(e.length>0){let r=e[e.length-1];App.do_close_modal(r)}},App.modal_open=()=>DOM.els(".modal.active").length>0,App.show_overlay=()=>{DOM.show("#modal-overlay")},App.hide_overlay=()=>{DOM.hide("#modal-overlay")},App.focus_modal_filter=e=>{let r=DOM.el(`#${e}-modal-filter`);r&&r.focus()},App.strudel_notes=["c4","e4","g4","a4","f4","d4","b4","c3","e3","g3","a3","f3","d3","b3","f#4","bb4","c#4","eb4","g#4","f#3","bb3","c#3","eb3","g#3","c5","e5","g5","a5","f5","d5","b5","c2","e2","g2","a2","f2","d2","b2","f#5","bb5","c#5","eb5","g#5","f#2","bb2","c#2","eb2","g#2","c6","e6","g6","a6","f6","d6","b6","c1","e1","g1","a1","f1","d1","b1","f#6","bb6","c#6","eb6","g#6","f#1","bb1","c#1","eb1","g#1","c7","e7","g7","c0","e0","g0"],App.is_playing=!1,App.play_running=!1,App.setup_player=()=>{App.setup_drawer(),App.setup_time_controls()},App.reset_playing=()=>{App.play_running=!1},App.play_action=async(e="",r=!1)=>{if(console.info("ðŸ”® Play Action"),!App.play_running){if(App.play_running=!0,App.update_url(),e||(e=App.get_input_value()),!e){App.last_code="",App.current_song="",App.reset_playing(),App.stop_action();return}if(!r&&e===App.last_code){App.reset_playing();return}App.is_playing=!0,App.restart_code_scroll(!1),App.stor_save_code(),App.clear_draw_context(),App.start_color_cycle(),App.clean_canvas(),App.update_title();try{await App.strudel_update(e)}catch(o){App.set_status(`Error: ${o.message}`)}App.reset_playing()}},App.stop_action=()=>{console.info("ðŸ”® Stop Action"),App.is_playing=!1,App.stop_strudel(),App.stop_code_scroll(),App.clear_draw_context(),App.set_song_context(""),App.playing()},App.stop_strudel=()=>{App.stop_color_cycle(),App.clear_draw_context(),App.scheduler.stop(),App.stop_drawer(),App.clean_mirror(),App.clean_canvas()},App.strudel_update=async e=>{if(await App.init_audio(),!App.audio_started){console.warn("Audio not started yet. Call init_audio() first.");return}console.info("Updating ðŸ’¨"),App.set_song_tempo(e),App.update_url();let r=await App.run_eval(e);if(r.ok){App.playing();return}App.do_partial_updates&&await App.apply_partial_update(e)||App.report_eval_failure(r.error)},App.playing=e=>{App.is_playing?App.set_play_status(e):App.set_stop_status(e)},App.set_play_status=e=>{let r="",o=App.get_song_name(!0);o&&(r=`Playing: ${o}`),r||(App.fetch_timer?r="Playing ðŸ¤–":App.beat_title?r=`Playing: ${App.beat_title}`:App.is_url_beat()?r="Playing ðŸŒ":r="Playing ðŸ¥"),e&&(r=`${r} - ${e}`.trim()),App.set_status(r)},App.set_stop_status=()=>{let e=App.get_song_name(!0);e?App.set_status(`Stopped: ${e}`):App.beat_title?App.set_status(`Stopped: ${App.beat_title}`):App.is_url_beat()?App.set_status("Stopped ðŸŒ"):App.set_status("Stopped")},App.load_last_code=()=>{App.last_code&&App.set_input(App.last_code)},App.restart_code_scroll=(e=!0)=>{e&&App.scroll_input_to_top(),App.code_scroll_active&&(App.defer_code_scroll(App.code_scroll_song_pause_ms),App.reset_code_scroll_for_content(App.code_scroll_song_pause_ms))},App.init_audio=async()=>{if(App.audio_started){console.info("Audio already initialized");return}console.info("Initializing Audio...");try{console.info("Initializing audio context..."),await App.setup_eval(),await initAudio(),Qr();let e="https://raw.githubusercontent.com/felixroos/dough-samples/main";console.info("Loading samples and soundfonts..."),await registerSynthSounds(),await registerSoundfonts(),await samples(`${e}/tidal-drum-machines.json`),await samples(`${e}/piano.json`),await samples(`${e}/Dirt-Samples.json`),await samples(`${e}/vcsl.json`),await samples(`${e}/mridangam.json`),App.audio_started=!0,App.apply_volume(),console.info("Audio Ready."),App.code_to_play&&(App.play_action(App.code_to_play),App.code_to_play=""),App.playing()}catch(e){throw console.error("Audio Failed:",e),e}},App.run_eval=async e=>{App.reset_eval_state(),e=App.filter_code(e),App.last_code=e,App.set_input(e),App.seek_offset=0;try{if(App.pattern=await App.evaluate(e),App.pattern){let r=App.scheduler.now(),o=App.scheduler.cps||1;App.seek_offset=r*o,App.start_drawer()}}catch(r){return{ok:!1,error:r}}return App.has_error?{ok:!1,error:new Error(App.last_eval_error||"Evaluation error")}:{ok:!0}},App.rewind_player=(e=1)=>{let r=App.scheduler.cps||1,o=e*r;App.seek_offset+=o,App.update_playback()},App.forward_player=(e=1)=>{let r=App.scheduler.cps||1,o=e*r;App.seek_offset-=o,App.update_playback()},App.update_playback=()=>{App.pattern&&App.scheduler.setPattern(App.pattern.late(App.seek_offset))},App.setup_time_controls=()=>{let e=DOM.el("#time-rewind"),r=DOM.el("#time-forward");DOM.ev(e,"click",()=>{App.rewind_player()}),DOM.ev(r,"click",()=>{App.forward_player()}),App.remove_context(e),App.remove_context(r)},App.scope_container_el=void 0,App.scope_canvas_el=void 0,App.scope_canvas_ctx=void 0,App.scope_analyser=void 0,App.scope_waveform=void 0,App.scope_animation_id=void 0,App.scope_connected=!1,App.scope_pixel_ratio=1,App.scope_enabled=!0,App.scope_max_y=-1,App.scope_min_y=-1,App.scope_background="#111111da",App.scope_color="rgba(204, 198, 239, 1)",App.scope_click_color_1="rgba(162, 171, 234, 0.5)",App.scope_click_color_2="rgba(255, 137, 204, 1)",App.scope_click_color_3="rgba(222, 242, 92, 1)",App.scope_click_color_4="rgba(91, 163, 240, 1)",App.scope_click_color_5="rgba(255, 255, 255, 1)",App.scope_click_level=1,App.scope_sine_time=0,App.scope_clicks=[],App.scope_click_time=3*1e3,App.scope_click_size=18,App.scope_is_drawing=!1,App.scope_click_distance=120,App.scope_mousedown_date=0,App.scope_beep_delay=300,App.scope_enable_date=0,App.scope_click_lock=250,App.scope_click_level_time=3*1e3,App.scope_clicks_min=5,App.scope_click_rotation_speed=.001,App.setup_scope=()=>{App.stor_load_scope(),App.init_scope_checkbox(),App.setup_scope_canvas(),App.scope_enabled?App.enable_scope_visualizer():App.disable_scope_visualizer()},App.get_scope_wrapper=()=>(App.scope_wrapper_el||(App.scope_wrapper_el=DOM.el("#scope-wrapper")),App.scope_wrapper_el),App.get_scope_container=()=>(App.scope_container_el||(App.scope_container_el=DOM.el("#scope-container")),App.scope_container_el),App.get_scope_canvas=()=>(App.scope_canvas_el||(App.scope_canvas_el=DOM.el("#scope-canvas")),App.scope_canvas_el),App.get_scope_dimensions=()=>{if(!App.scope_canvas_el)return{width:0,height:0};let e=App.scope_canvas_el.clientWidth,r=App.scope_canvas_el.clientHeight;return e||(e=App.scope_canvas_el.width/App.scope_pixel_ratio),r||(r=App.scope_canvas_el.height/App.scope_pixel_ratio),{width:Math.max(0,e||0),height:Math.max(0,r||0)}},App.setup_scope_canvas=()=>{let e=App.get_scope_canvas();if(e){if(!App.scope_canvas_ctx){let r=e.getContext("2d");if(!r){console.warn("Scope canvas context unavailable");return}App.scope_canvas_ctx=r}return e}},App.clear_scope_canvas=()=>{if(!App.scope_canvas_ctx)return;let{width:e,height:r}=App.get_scope_dimensions();!e||!r||(App.scope_canvas_ctx.fillStyle=App.scope_background,App.scope_canvas_ctx.fillRect(0,0,e,r))},App.ensure_scope_waveform=()=>{if(App.scope_analyser)return(!App.scope_waveform||App.scope_waveform.length!==App.scope_analyser.fftSize)&&(App.scope_waveform=new Uint8Array(App.scope_analyser.fftSize)),App.scope_waveform},App.ensure_scope_analyser=()=>{if(App.scope_analyser)return App.scope_analyser;try{let r=window.getAudioContext().createAnalyser();r.fftSize=2048,r.minDecibels=-90,r.maxDecibels=-10,r.smoothingTimeConstant=.85,App.scope_analyser=r,App.ensure_scope_waveform()}catch(e){console.error("Failed to create scope analyser",e),App.scope_analyser=void 0,App.scope_waveform=void 0}return App.scope_analyser},App.connect_scope_analyser=()=>{if(App.scope_connected)return!0;let e=App.ensure_scope_analyser();if(!e)return!1;if(window.master_fx&&window.master_fx.nodes&&window.master_fx.nodes.master_gain)try{return window.master_fx.nodes.master_gain.connect(e),console.log("Connected Scope to Hijacked Master Gain"),App.scope_connected=!0,!0}catch(r){console.warn("Failed to connect to master_fx:",r)}return!1},App.stop_scope_loop=()=>{App.scope_animation_id&&(cancelAnimationFrame(App.scope_animation_id),App.scope_animation_id=void 0)},App.handle_scope_click=e=>{let r=App.get_scope_canvas();if(!r)return;let o=r.getBoundingClientRect(),qe=e.clientX-o.left,bt=e.clientY-o.top;App.scope_clicks.push({x:qe,y:bt,timestamp:Date.now()})},App.handle_scope_mouse_down=e=>{App.mouse_down_coords=App.get_scope_coords(e),App.scope_mousedown_date=Date.now(),App.scope_is_drawing=!0,App.scope_clicks.length<=App.scope_clicks_min&&(App.scope_gestures_enabled=!0),App.handle_scope_click(e)},App.handle_scope_mouse_move=e=>{if(App.scope_is_drawing){let r=App.get_scope_canvas();if(!r)return;let o=r.getBoundingClientRect(),qe=e.clientX-o.left,bt=e.clientY-o.top;if((App.scope_max_y===-1||bt>App.scope_max_y)&&(App.scope_max_y=bt),(App.scope_min_y===-1||bt<App.scope_min_y)&&(App.scope_min_y=bt),App.scope_last_point){let Nt=App.scope_last_point.x,Na=App.scope_last_point.y,ld=qe-Nt,fd=bt-Na,hd=Math.sqrt(ld*ld+fd*fd),dd=Math.ceil(hd/App.scope_click_distance);for(let gd=1;gd<=dd;gd++){let yd=Nt+ld*gd/dd,_d=Na+fd*gd/dd;App.scope_clicks.push({x:yd,y:_d,timestamp:Date.now()})}}App.scope_clicks.push({x:qe,y:bt,timestamp:Date.now()}),App.scope_last_point={x:qe,y:bt}}},App.handle_scope_mouse_up=e=>{App.mouse_up_coords=App.get_scope_coords(e),App.check_gestures()},App.increase_scope_click_level=e=>{App.scope_click_level=e,clearTimeout(App.scope_click_level_timeout),App.color_interface(e),App.scope_click_level_timeout=setTimeout(()=>{App.scope_click_level=1,App.restore_interface_colors()},App.scope_click_level_time)},App.draw_star=(e,r,o,qe,bt,Nt,Na=0)=>{let ld=Math.PI/2*3+Na,fd=Math.PI/bt,hd=r+Math.cos(ld)*Nt,dd=o+Math.sin(ld)*Nt;e.beginPath(),e.moveTo(hd,dd);for(let gd=0;gd<bt;gd++){let yd=r+Math.cos(ld)*Nt,_d=o+Math.sin(ld)*Nt;e.lineTo(yd,_d),ld+=fd;let Ad=r+Math.cos(ld)*qe,xd=o+Math.sin(ld)*qe;e.lineTo(Ad,xd),ld+=fd}e.lineTo(hd,dd),e.closePath()},App.draw_scope_frame=()=>{if(!App.scope_enabled||!App.scope_canvas_ctx){App.stop_scope_loop();return}let e=App.scope_pixel_ratio||1,r=App.scope_canvas_el.width/e,o=App.scope_canvas_el.height/e;if(!r||!o){App.scope_animation_id=requestAnimationFrame(App.draw_scope_frame);return}let qe=App.scope_canvas_ctx,bt=10;qe.clearRect(-bt,-bt,r+bt*2,o+bt*2),qe.fillStyle=App.scope_background,qe.fillRect(-bt,-bt,r+bt*2,o+bt*2);let Nt=App.ensure_scope_waveform(),Na=App.scope_analyser;if(qe.strokeStyle=App.scope_color,qe.lineWidth=2/e,qe.beginPath(),App.is_playing&&Na&&Nt){Na.getByteTimeDomainData(Nt);let fd=r/Nt.length,hd=0;for(let dd=0;dd<Nt.length;dd++){let yd=Nt[dd]/128*o/2;dd===0?qe.moveTo(hd,yd):qe.lineTo(hd,yd),hd+=fd}}else{App.scope_sine_time+=.012;let fd=2048,hd=r/fd,dd=0;for(let gd=0;gd<fd;gd++){let yd=gd/fd*Math.PI*12,_d=o/2+Math.sin(yd+App.scope_sine_time)*(o*.15);gd===0?qe.moveTo(dd,_d):qe.lineTo(dd,_d),dd+=hd}}if(qe.stroke(),App.scheduler&&App.is_playing){let fd=4,hd=App.scheduler.now(),dd=App.scheduler.cps||1,_d=((hd*dd-App.seek_offset)%fd+fd)%fd/fd*r;if(isNaN(_d))return;let Ad=qe.createLinearGradient(_d,0,_d,o);Ad.addColorStop(0,"rgba(255, 255, 255, 0)"),Ad.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),Ad.addColorStop(1,"rgba(255, 255, 255, 0)"),qe.strokeStyle=Ad,qe.lineWidth=4/e,qe.beginPath(),qe.moveTo(_d,0),qe.lineTo(_d,o),qe.stroke()}let ld=Date.now();App.scope_clicks=App.scope_clicks.filter(fd=>ld-fd.timestamp<App.scope_click_time);for(let fd of App.scope_clicks){let hd=ld-fd.timestamp,dd=App.scope_click_level>1?hd*App.scope_click_rotation_speed:0;qe.fillStyle=App[`scope_click_color_${App.scope_click_level}`],App.draw_star(qe,fd.x,fd.y,3,5,App.scope_click_size,dd),qe.fill()}App.scope_animation_id=requestAnimationFrame(App.draw_scope_frame)},App.start_scope_loop=()=>{App.scope_animation_id||(App.scope_animation_id=requestAnimationFrame(App.draw_scope_frame))},App.set_scope_visibility=e=>{let r=App.get_scope_wrapper();r&&(e?DOM.show(r):DOM.hide(r))},App.stop_scope_visualizer=()=>{App.stop_scope_loop(),App.set_scope_visibility(!1),App.clear_scope_canvas()},App.start_scope_visualizer=()=>{App.setup_scope_canvas()&&(App.scope_connected||App.connect_scope_analyser())},App.scope_mouse_enabled=()=>Date.now()-App.scope_enable_date>=App.scope_click_lock,App.init_scope_click_handler=()=>{let e=App.get_scope_canvas();e&&(DOM.ev(e,"mousedown",r=>{App.scope_max_y=-1,App.scope_min_y=-1,App.scope_mouse_enabled()&&App.handle_scope_mouse_down(r)}),DOM.ev(e,"mousemove",r=>{App.scope_mouse_enabled()&&App.handle_scope_mouse_move(r)}),DOM.ev(e,"click",r=>{App.scope_mouse_enabled()&&App.handle_scope_click(r)}),DOM.ev(document,"mouseup",r=>{App.scope_mouse_enabled()&&App.handle_scope_mouse_up(r),App.scope_is_drawing=!1,App.scope_last_point=null}),DOM.ev(e,"contextmenu",r=>{r.preventDefault()}))},App.toggle_scope=()=>{App.scope_enabled?App.disable_scope_visualizer():App.enable_scope_visualizer()},App.enable_scope_visualizer=()=>{App.scope_enabled=!0,App.set_scope_visibility(!0),App.setup_scope_canvas()&&!App.scope_animation_id&&App.start_scope_loop(),App.scope_enable_date=Date.now(),App.start_scope_visualizer(),App.init_scope_click_handler(),App.resize_scope(),App.stor_save_scope()},App.disable_scope_visualizer=()=>{App.scope_enabled=!1,App.stop_scope_visualizer(),App.stor_save_scope()},App.init_scope_checkbox=()=>{let e=DOM.el("#scope-checkbox");e&&(e.checked=App.scope_enabled,App.scope_enabled?App.enable_scope_visualizer():App.set_scope_visibility(!1),DOM.ev(e,"change",r=>{r.target.checked?App.enable_scope_visualizer():App.disable_scope_visualizer()}))},App.get_scope_coords=e=>{let r=App.get_scope_canvas();if(r){let o=r.getBoundingClientRect(),qe=e.clientX-o.left,bt=e.clientY-o.top;return{x:qe,y:bt}}},App.clear_clicks=()=>{setTimeout(()=>{App.scope_clicks=[]},100)},App.resize_scope=()=>{let e=App.get_input_wrapper(),r=App.get_scope_wrapper(),o=App.scope_canvas_el,qe=App.scope_canvas_ctx;if(!e||!r||!o||!qe)return;let bt=e.getBoundingClientRect();r.style.width=`${bt.width}px`;let Nt=o.clientWidth,Na=o.clientHeight||120,ld=window.devicePixelRatio||1;App.scope_pixel_ratio=ld;let fd=Math.round(Nt*ld),hd=Math.round(Na*ld);(o.width!==fd||o.height!==hd)&&(o.width=fd,o.height=hd,qe.setTransform(1,0,0,1,0,0),qe.scale(ld,ld))},App.get_scope_height=()=>{if(App.scope_enabled){let e=App.get_scope_wrapper();return App.get_el_height(e)}return 0},App.code_scroll_frame=void 0,App.code_scroll_last_ts=0,App.code_scroll_direction=1,App.code_scroll_active=!1,App.code_scroll_speed_px_per_second=80,App.code_scroll_pause_until=0,App.code_scroll_wheel_pause_ms=1e3,App.code_scroll_song_pause_ms=1.2*1e3,App.code_scroll_pending_delay_ms=0,App.defer_code_scroll=e=>{if(!Number.isFinite(e)||e<=0){App.code_scroll_pending_delay_ms=0;return}App.code_scroll_pending_delay_ms=e},App.reset_code_scroll_for_content=(e={})=>{let r=0,o=e.scroll_delay_ms??App.code_scroll_song_pause_ms,qe=e.direction??1;if(App.code_scroll_active&&(Number.isFinite(App.code_scroll_pending_delay_ms)&&App.code_scroll_pending_delay_ms>0?r=App.code_scroll_pending_delay_ms:Number.isFinite(o)&&o>0&&(r=o)),App.code_scroll_pending_delay_ms=0,App.code_scroll_direction=qe,App.code_scroll_last_ts=0,r<=0||typeof window>"u"){App.code_scroll_pause_until=0;return}window.performance?.now?App.code_scroll_pause_until=window.performance.now()+r:App.code_scroll_pause_until=r},App.set_code_scroll_button_active=e=>{let r=DOM.el("#code-input-scroll");if(r){if(e){r.classList.add("active");return}r.classList.remove("active")}},App.code_scroll_tick=e=>{if(!App.code_scroll_active){App.code_scroll_frame=void 0;return}if(!App.editor){App.stop_code_scroll();return}if(App.code_scroll_last_ts||(App.code_scroll_last_ts=e),App.code_scroll_pause_until&&e<App.code_scroll_pause_until){App.code_scroll_last_ts=e,App.code_scroll_frame=window.requestAnimationFrame(App.code_scroll_tick);return}App.code_scroll_pause_until=0;let r=e-App.code_scroll_last_ts;App.code_scroll_last_ts=e;let o=App.code_scroll_speed_px_per_second*r/1e3,qe=App.get_input_scroll()+o*App.code_scroll_direction,bt=Math.max(0,App.get_input_height()-App.get_input_client_height());if(App.set_input_scroll(qe),bt<=0){App.stop_code_scroll();return}App.code_scroll_direction>0&&Math.ceil(App.get_input_scroll())+1>=bt?(App.set_input_scroll(bt),App.reset_code_scroll_for_content({direction:-1})):App.code_scroll_direction<0&&App.get_input_scroll()<=0&&(App.scroll_input_to_top(),App.reset_code_scroll_for_content({direction:1})),App.code_scroll_frame=window.requestAnimationFrame(App.code_scroll_tick)},App.start_code_scroll=()=>{App.code_scroll_active||Math.max(0,App.get_input_height()-App.get_input_client_height())<=0||(App.code_scroll_active=!0,App.code_scroll_direction=1,App.code_scroll_last_ts=window.performance.now()-16,App.code_scroll_pause_until=0,App.set_code_scroll_button_active(!0),App.code_scroll_frame=window.requestAnimationFrame(App.code_scroll_tick))},App.stop_code_scroll=()=>{!App.code_scroll_active&&!App.code_scroll_frame||(App.code_scroll_active=!1,App.code_scroll_direction=1,App.code_scroll_last_ts=0,App.code_scroll_pause_until=0,App.code_scroll_frame&&(window.cancelAnimationFrame(App.code_scroll_frame),App.code_scroll_frame=void 0),App.set_code_scroll_button_active(!1))},App.restart_code_scroll=()=>{App.scroll_input_to_top(),App.code_scroll_active&&(App.defer_code_scroll(App.code_scroll_song_pause_ms),App.reset_code_scroll_for_content(App.code_scroll_song_pause_ms))},App.scroll_input_to_top=()=>{App.set_input_scroll(0)},App.scroll_input_to_bottom=()=>{let e=App.editor.scrollDOM.scrollHeight;App.editor.scrollDOM.scrollTop=e},App.get_input_scroll=()=>App.editor.scrollDOM.scrollTop,App.set_input_scroll=e=>{App.editor.scrollDOM.scrollTop=e,App.editor.requestMeasure()},App.create_settings_modal=()=>{let e=App.create_modal("settings"),r=DOM.el(".modal-title",e);r.textContent="Settings";let o=DOM.el(".modal-body",e),qe=App.register_setting("Select Visual","Change the background animation",()=>{App.open_visual_modal()}),bt=App.register_setting("Toggle Scope","Show or hide the scope visualizer",()=>{App.toggle_scope()}),Nt=App.register_setting("Toggle Colors","Enable or disable the color animation",()=>{App.toggle_colors()}),Na=App.register_setting("Toggle Lines","Enable or disable the line numbers",()=>{App.toggle_lines()}),ld=App.register_setting("Toggle Mirror","Enable or disable the code execution reflection on the code",()=>{App.toggle_mirror()});o.appendChild(qe),o.appendChild(bt),o.appendChild(Nt),o.appendChild(Na),o.appendChild(ld)},App.register_setting=(e,r,o)=>{let qe=DOM.create("button");return qe.textContent=e,qe.title=r,DOM.ev(qe,"click",()=>{o(),App.close_modal("settings")}),qe},App.open_settings_modal=()=>{App.open_modal("settings")},App.song_cache={},App.fetched_songs_date=0,App.fetched_songs=[],App.song_fetch_delay=60*1e3,App.fetch_songs_list=async()=>{try{if(Date.now()-App.fetched_songs_date<App.song_fetch_delay)return App.fetched_songs;App.loading();let e=await fetch("/songs/list");if(!e.ok)throw new Error("Failed to fetch songs list");let r=await e.json();return Array.isArray(r)?(App.fetched_songs=r,App.fetched_songs_date=Date.now(),App.playing(),r):(console.error("Songs list payload was not an array"),App.playing(),[])}catch(e){return console.error("Error fetching songs",e),App.playing(),[]}},App.fetch_song_code=async e=>{try{let r=await fetch(`/songs/${e}.js`);if(!r.ok)throw new Error(`Failed to fetch song ${e}`);let o=await r.text(),qe=App.clean_song_name(e),bt={};return bt.name=e,bt.clean_name=qe,bt.raw=o,bt.filtered=App.filter_code(o),App.song_cache[e]=bt,App.last_code=o,o}catch(r){throw console.error("Error fetching song content",r),r}},App.create_songs_modal=()=>{let e=App.create_list_modal("songs"),r=DOM.el(".modal-title",e);r.textContent="Select Song"},App.open_songs_modal=async()=>{let e=await App.fetch_songs_list(),r=[];for(let o of e)r.push({text:o,title:"Click to load and play this song"});App.show_items_modal("songs",{items:r,action:o=>{App.load_song(o.text)}})},App.load_song=async e=>{App.close_all_modals();try{App.loading();let r=await App.fetch_song_code(e);App.stop_status_watch(),App.stop_color_cycle(),App.clear_draw_context(),App.code_scroll_active&&App.defer_code_scroll(App.code_scroll_song_pause_ms),await App.play_action(r,!0),App.set_song_context(e)}catch(r){App.set_status(`Failed to load song: ${r.message}`),console.error("Failed to load song:",r)}},App.set_song_context=(e="")=>{App.current_song=e||"",App.set_title(App.underspace(App.current_song)),App.update_url(App.current_song),App.update_title()},App.random_song=async()=>{try{let e=await App.fetch_songs_list();if(!e.length){console.error("No songs available to pick from");return}let r=e.filter(bt=>bt!==App.current_song);if(!r.length){console.error("No songs available after filtering out the current song");return}let o=App.random_int({min:0,max:r.length-1}),qe=r[o];await App.load_song(qe)}catch(e){console.error("Error selecting a random song",e)}},App.get_matched_song=()=>{for(let e in App.song_cache){let r=App.song_cache[e];if(r.filtered===App.last_code)return r;if(r.raw===App.last_code)return r}},App.get_song_name=(e=!1)=>{let r=App.get_matched_song(),o="";return r&&(e?o=r.clean_name:o=r.name),o},App.clean_song_name=e=>App.capitalize(App.underspace(e)),App.strudel_sounds=["sawtooth","square","triangle","sine","sax","gtr","moog","white","pink","brown","bd","sd","rim","hh","oh","lt","mt","ht","rd","cr"],App.beat_title="",App.setup_status=()=>{App.status_debouncer=App.create_debouncer(r=>{App.do_set_status(r)},200);let e=App.get_status();DOM.ev(e,"click",()=>{App.ask_for_title()}),DOM.ev(e,"wheel",r=>{r.deltaY<0?e.scrollLeft-=20:r.deltaY>0&&(e.scrollLeft+=20)})},App.get_status=()=>DOM.el("#status"),App.set_status=e=>{App.status_debouncer&&App.status_debouncer.call(e)},App.do_set_status=e=>{let r=App.get_status();r.scrollTop=0,r.scrollLeft=0,r.innerText=e},App.ask_for_title=()=>{if(App.get_matched_song())return;let r=prompt("Title of this beat",App.beat_title||"");r||(r=""),App.beat_title=r.trim(),App.update_url(),App.update_title(),App.playing()},App.tempo_storage_key="slide.tempo",App.auto_endpoint_storage_key="slide.auto_endpoint",App.auto_delay_storage_key="slide.auto_delay",App.volume_storage_key="slide.volume",App.visual_storage_key="slide.visual",App.scope_storage_key="slide.scope",App.colors_storage_key="slide.colors",App.code_storage_key="slide.code",App.lines_storage_key="slide.lines",App.mirror_storage_key="slide.mirror",App.load_storage=(e,r)=>{let o=localStorage.getItem(App[`${e}_storage_key`]);[null,void 0].includes(o)||r(o)},App.save_storage=(e,r)=>{localStorage.setItem(App[`${e}_storage_key`],r)},App.load_all_storage=()=>{App.stor_load_auto_endpoint(),App.stor_load_auto_delay(),App.stor_load_tempo(),App.stor_load_volume(),App.stor_load_visual(),App.stor_load_scope(),App.stor_load_colors(),App.stor_load_code(),App.stor_load_lines(),App.stor_load_mirror()},App.stor_load_auto_endpoint=()=>{App.load_storage("auto_endpoint",e=>{App.auto_endpoint=e})},App.stor_load_auto_delay=()=>{App.load_storage("auto_delay",e=>{App.auto_delay=parseInt(e)})},App.stor_load_tempo=()=>{App.load_storage("tempo",e=>{App.tempo=parseInt(e)})},App.stor_load_volume=()=>{App.load_storage("volume",e=>{App.volume=parseInt(e)})},App.stor_load_visual=()=>{App.load_storage("visual",e=>{App.visual=e})},App.stor_load_scope=()=>{App.load_storage("scope",e=>{App.scope_enabled=App.boolstring(e)})},App.stor_load_colors=()=>{App.load_storage("colors",e=>{App.colors_enabled=App.boolstring(e)})},App.stor_load_lines=()=>{App.load_storage("lines",e=>{App.lines_enabled=App.boolstring(e)})},App.stor_load_mirror=()=>{App.load_storage("mirror",e=>{App.mirror_enabled=App.boolstring(e)})},App.stor_load_code=()=>{App.load_storage("code",e=>{App.last_code=e})},App.stor_save_auto_delay=()=>{App.save_storage("auto_delay",App.auto_delay)},App.stor_save_auto_endpoint=()=>{App.save_storage("auto_endpoint",App.auto_endpoint)},App.stor_save_tempo=()=>{App.save_storage("tempo",App.tempo)},App.stor_save_volume=()=>{App.save_storage("volume",App.volume)},App.stor_save_visual=()=>{App.save_storage("visual",App.visual)},App.stor_save_scope=()=>{App.save_storage("scope",App.scope_enabled)},App.stor_save_colors=()=>{App.save_storage("colors",App.colors_enabled)},App.stor_save_lines=()=>{App.save_storage("lines",App.lines_enabled)},App.stor_save_mirror=()=>{App.save_storage("mirror",App.mirror_enabled)},App.stor_save_code=()=>{App.save_storage("code",App.last_code)},App.tempo=App.default_cpm,App.tempo_debounce_timer=void 0,App.tempo_commit_delay_ms=500,App.min_tempo=20,App.max_tempo=120,App.tempo_step=5,App.tempo_wheel_commit_timer=void 0,App.tempo_wheel_commit_delay_ms=150,App.schedule_tempo_commit=e=>{if(typeof window>"u"){e();return}App.tempo_debounce_timer&&window.clearTimeout(App.tempo_debounce_timer),App.tempo_debounce_timer=window.setTimeout(()=>{App.tempo_debounce_timer=void 0,e()},App.tempo_commit_delay_ms)},App.schedule_tempo_wheel_commit=()=>{if(typeof window>"u"){App.on_tempo_change(!0,App.tempo);return}App.tempo_wheel_commit_timer&&window.clearTimeout(App.tempo_wheel_commit_timer),App.tempo_wheel_commit_timer=window.setTimeout(()=>{App.tempo_wheel_commit_timer=void 0,App.on_tempo_change(!0,App.tempo)},App.tempo_wheel_commit_delay_ms)},App.get_tempo_slider=()=>DOM.el("#tempo-slider"),App.get_tempo_value=()=>DOM.el("#tempo-value"),App.refresh_tempo_ui=()=>{let e=App.get_tempo_slider(),r=App.get_tempo_value();e&&(e.value=`${App.tempo}`),r&&(r.textContent=`${App.tempo} cpm`)},App.persist_tempo=()=>{if(!(typeof window>"u"))try{App.stor_save_tempo()}catch(e){console.warn("Failed to persist tempo",e)}},App.update_tempo=e=>{let r=parseInt(e,10);Number.isFinite(r)||(r=App.tempo),r=Math.round(r/App.tempo_step)*App.tempo_step,r=Math.min(App.max_tempo,Math.max(App.min_tempo,r)),App.tempo=r,App.refresh_tempo_ui()},App.on_tempo_change=(e=!1,r=void 0)=>{let o=r;o===null&&(o=App.get_tempo_slider()?.value),App.update_tempo(o),e&&App.schedule_tempo_commit(()=>{App.persist_tempo(),App.set_tempo()})},App.init_tempo_controls=()=>{let e=App.get_tempo_slider(),r=DOM.el("#tempo-control"),o=DOM.el("#tempo-decrement"),qe=DOM.el("#tempo-increment"),bt=DOM.el("#tempo-intended");if(!e)return;App.refresh_tempo_ui(),App.persist_tempo(),DOM.ev(e,"input",Na=>{App.update_tempo(Na.target.value)}),App.setup_slider(r,Na=>{Na.value=App.default_cpm,App.update_tempo(App.default_cpm),App.set_tempo()},Na=>{App.on_tempo_change(!1,Na),App.schedule_tempo_wheel_commit()}),DOM.ev(r,"change",()=>{App.on_tempo_change(!0)});let Nt=Na=>{let ld=App.tempo+Na*App.tempo_step;App.on_tempo_change(!0,ld)};App.make_control_button(o,()=>{Nt(-1)}),App.make_control_button(qe,()=>{Nt(1)}),bt&&DOM.ev(bt,"click",()=>{App.set_song_tempo(App.last_code)}),App.remove_context(bt,()=>{App.set_intended_tempo()})},App.set_tempo=()=>{try{App.scheduler.setCps(App.tempo/60)}catch(e){console.debug("Tempo will be applied when audio starts",e)}},App.intended_cpm=e=>{let r=Na=>{try{return Function(`"use strict"; return (${Na})`)()}catch{return null}},o=App.default_cpm,qe=e.match(/setcpm\(\s*([\d./*+ -]+)\s*\)/),bt=e.match(/setcps\(\s*([\d./*+ -]+)\s*\)/),Nt=e.match(/setbpm\(\s*([\d./*+ -]+)\s*\)/);if(qe){let Na=r(qe[1]);Na!==null&&(o=Na)}else if(bt){let Na=r(bt[1]);Na!==null&&(o=Na*60)}else if(Nt){let Na=r(Nt[1]);Na!==null&&(o=Na/4)}return o},App.set_song_tempo=e=>{App.tempo=App.intended_cpm(e),App.set_tempo(),App.refresh_tempo_ui()},App.set_intended_tempo=()=>{App.set_song_tempo(App.last_code)},App.editor_theme={"& .cm-activeLine":{backgroundColor:"transparent !important"},"& .cm-activeLineGutter":{backgroundColor:"transparent !important"},"& .cm-gutters":{backgroundColor:"#202020 !important",borderRight:"1px solid #4C566A",paddingRight:"0.66rem"},"& .cm-lineNumbers .cm-gutterElement":{paddingLeft:"8px",color:"#aaa"},"& .cm-matchingBracket":{backgroundColor:"rgba(136, 192, 208, 0.2) !important",color:"#ECEFF4 !important"},"& .cm-nonmatchingBracket":{backgroundColor:"rgba(191, 97, 106, 0.3) !important"},"& .cm-selectionMatch":{backgroundColor:"rgba(136, 192, 208, 0.25) !important",outline:"1px solid rgba(136, 192, 208, 0.4)"},"& .cm-selectionBackground, &.cm-focused .cm-selectionBackground":{backgroundColor:"rgba(67, 76, 94, 0.8) !important"},".cm-panels":{backgroundColor:"#2E3440",color:"#D8DEE9",borderTop:"1px solid #4C566A",borderBottom:"1px solid #4C566A"},".cm-panels-top":{borderBottom:"2px solid #3B4252"},".cm-panels-bottom":{borderTop:"2px solid #3B4252"},".cm-search":{display:"block",alignItems:"center",gap:"8px",padding:"8px 12px",fontFamily:"inherit"},".cm-search .cm-textfield":{backgroundColor:"#3B4252",color:"#ECEFF4",border:"1px solid #4C566A",borderRadius:"4px",padding:"4px 8px",outline:"none",minWidth:"200px"},".cm-search .cm-textfield:focus":{border:"1px solid #88C0D0"},".cm-button":{backgroundImage:"none",backgroundColor:"#434C5E",color:"#ECEFF4",border:"none",borderRadius:"4px",padding:"4px 10px",cursor:"pointer",textTransform:"capitalize",fontSize:"0.9em"},".cm-button:hover":{backgroundColor:"#5E81AC"},".cm-button:active":{transform:"translateY(1px)"},".cm-search label":{display:"inline-flex",alignItems:"center",gap:"4px",fontSize:"0.85em",cursor:"pointer"},".cm-search input[type='checkbox']":{cursor:"pointer",accentColor:"#88C0D0"},".cm-panel.cm-search [name='close']":{marginLeft:"auto",padding:"2px 6px",fontSize:"1.2em",background:"transparent"},".cm-panel.cm-search [name='close']:hover":{color:"#C3C3C3"},".cm-searchMatch":{backgroundColor:"rgba(235, 203, 139, 0.4)",outline:"1px solid #EBCB8B"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#EBCB8B",color:"#2E3440"}},App.code_query_key="code",App.song_query_key="song",App.beat_query_key="beat",App.url_query_key="url",App.update_url=(e="")=>{let r=new URL(window.location.href),o=App.get_input_value().trim();if(e||(e=App.get_song_name()),e?r.searchParams.set(App.song_query_key,e):r.searchParams.delete(App.song_query_key),!e&&App.beat_url?r.searchParams.set(App.url_query_key,App.beat_url):r.searchParams.delete(App.url_query_key),o&&!e&&!App.beat_url&&o.length<=App.code_url_max){let qe=App.compress_string(o);r.searchParams.set(App.code_query_key,qe)}else r.searchParams.delete(App.code_query_key);!e&&App.beat_title?r.searchParams.set(App.beat_query_key,App.beat_title):r.searchParams.delete(App.beat_query_key),window.history.replaceState({},document.title,`${r.pathname}${r.search}${r.hash}`)},App.load_code_from_query=()=>{let r=new URLSearchParams(window.location.search).get(App.code_query_key);if(!r)return!1;try{let o=App.uncompress_string(r);return App.last_code=o,App.load_last_code(),!0}catch(o){App.set_status(`Failed to load song: ${o.message}`),console.error("Failed to load song:",o)}return!1},App.load_url_from_query=()=>{let r=new URLSearchParams(window.location.search).get(App.url_query_key);if(!r)return!1;try{return App.beat_url=r,App.load_beat_url(),!0}catch(o){App.set_status(`Failed to load song: ${o.message}`),console.error("Failed to load song:",o)}return!1},App.load_song_from_query=async()=>{let r=App.get_query_params().get(App.song_query_key);if(!r)return!1;try{App.loading();let o=await App.fetch_song_code(r);return App.set_input(o),App.set_song_tempo(o),App.set_song_context(r),!0}catch(o){App.set_status(`Failed to load song: ${o.message}`),console.error("Failed to load song:",o)}return!1},App.set_beat_title_from_query=()=>{let r=App.get_query_params().get(App.beat_query_key);r&&(App.beat_title=r)},App.get_beat_url=()=>{let e=prompt("URL of the beat (javascript/text file)",App.beat_url||"");e&&(App.beat_url=e.trim(),App.load_beat_url())},App.load_beat_url=async()=>{if(App.update_url(),!!App.beat_url)try{App.loading();let e=await fetch(App.beat_url);if(!e.ok)throw new Error(`Failed to fetch the beat at ${App.beat_url}`);let r=await e.text();if(!r){App.playing();return}let o=r.trim();if(!o){App.playing();return}App.stop_action(),App.stop_status_watch(),App.last_code=o;let qe=App.filter_code(o);App.url_code=qe,App.set_input(o),App.set_song_tempo(o),App.update_url(),App.playing()}catch(e){console.error(e),App.playing()}},App.is_url_beat=()=>App.url_code===App.last_code,App.control_button_throttle=100,App.control_button_delay=250,App.def_args=(e,r)=>{for(let o in e)r[o]===void 0&&e[o]!==void 0&&(r[o]=e[o])},App.escape_regex=e=>e.replace(/[\^$*+?.()|[\]{}-]/g,"\\$&"),App.underspace=e=>e.replace(/_+/g," ").trim(),App.clean_canvas=()=>{let e=document.body,r=DOM.els("canvas");for(let o of r)["scope-canvas","background-canvas"].includes(o.id)||Array.from(o.classList).some(bt=>["modal-icon"].includes(bt))||e.removeChild(o)},App.truncate_path=(e,r=20)=>e.length<=r?e:e.substring(0,r)+"...",App.random_int=(e={})=>{let r={exclude:[]};if(App.def_args(r,e),e.exclude.length>0){let o=[];for(let bt=e.min;bt<=e.max;bt++)e.exclude.includes(bt)||o.push(bt);if(o.length===0)return;let qe;return e.rand?qe=Math.floor(e.rand()*o.length):qe=Math.floor(Math.random()*o.length),o[qe]}return e.rand?Math.floor(e.rand()*(e.max-e.min+1)+e.min):Math.floor(Math.random()*(e.max-e.min+1)+e.min)},App.create_debouncer=(e,r)=>{if(typeof e!="function"){App.error("Invalid debouncer function");return}if(typeof r!="number"||r<1){App.error("Invalid debouncer delay");return}let o,qe={};function bt(){clearTimeout(o),o=void 0}function Nt(...Na){e(...Na)}return qe.call=(...Na)=>{bt(),o=setTimeout(()=>{Nt(...Na)},r)},qe.call_2=(...Na)=>{o||qe.call(Na)},qe.now=(...Na)=>{bt(),Nt(...Na)},qe.cancel=()=>{bt()},qe},App.boolstring=e=>e&&e==="true",App.capitalize=e=>e.split(" ").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(" "),App.get_el_height=e=>{if(!e)return 0;let r=window.getComputedStyle(e),o=e.clientHeight,qe=parseFloat(r.paddingTop)||0,bt=parseFloat(r.paddingBottom)||0,Nt=parseFloat(r.marginTop)||0,Na=parseFloat(r.marginBottom)||0;return o-qe-bt+qe+bt+Nt+Na},App.viewport_height=()=>window.innerHeight||document.documentElement.clientHeight,App.compress_string=e=>{try{return lz.compressToEncodedURIComponent(e)}catch{return""}},App.uncompress_string=e=>{try{return lz.decompressFromEncodedURIComponent(e)}catch{return""}},App.make_control_button=(e,r)=>{DOM.ev(e,"click",()=>{r()}),App.remove_context(e,()=>{r()}),DOM.ev(e,"mousedown",()=>{App.ctrl_btn_interval_delay=setTimeout(()=>{App.ctrl_btn_interval=setInterval(()=>{r()},App.control_button_throttle)},App.control_button_delay)}),DOM.ev(e,"mouseup",()=>{clearInterval(App.ctrl_btn_interval),clearInterval(App.ctrl_btn_interval_delay)})},App.setup_slider=(e,r,o)=>{let qe=DOM.el("input",e);DOM.ev(e,"auxclick",bt=>{bt.button===1&&r(qe)}),App.remove_context(e),DOM.ev(e,"wheel",bt=>{bt.preventDefault();let Nt=parseInt(qe.step,10),Na=parseInt(qe.value,10),ld;bt.deltaY<0?ld=Na+Nt:ld=Na-Nt,qe.value=ld,o(ld)},{passive:!1})},App.remove_context=(e,r)=>{DOM.ev(e,"contextmenu",o=>{o.preventDefault(),r&&r()})},App.canvas_effect_time=3*1e3,App.animation_frames=0,App.visual_items=[{text:"auto",alt_text:"Auto - The code sets it",title:"Let the code decide. If the code contains animation calls they will be visible, else it will be a solid background"},{text:"none",alt_text:"None - Solid background",title:"Use a solid background. Most performant option"},{text:"flux surface",title:"A shimmering, flowing horizon where colors swirl like a sunset blending into dawn, a landscape in constant motion that feels alive and mysterious, like walking through a translucent, rippling lake of light"},{text:"hyper rose",title:"A surreal garden of glowing petals that pulse with vibrant energy, blossoms blooming in impossible hues, evoking a sense of wonder and infinite growth in a dreamlike meadow"},{text:"bio tunnel",title:"A lush, organic corridor woven with twisting vines and luminous flora, evoking the feeling of wandering through an underground rainforest alive with whispers of natureâ€™s secret life"},{text:"liquid aether",title:"A flowing, translucent river of ethereal substance, shimmering with iridescent waves that pulse softly, inviting you to drift through an otherworldly sea of pure energy and serenity"},{text:"aurora borealis",title:"A celestial dance of shimmering lights in the night sky, ribbons of green, pink, and purple swirling gracefully over icy mountains, evoking awe and the mysterious beauty of the polar skies"},{text:"orb balloons",title:"A whimsical cluster of floating orbs, each glowing softly like lanterns drifting lazily in a gentle breeze, creating a playful, dreamlike atmosphere of floating serenity and joyful levity"}],App.get_bg_canvas=()=>DOM.el("#background-canvas"),App.get_bg_context=()=>App.background_canvas.getContext("2d"),App.start_visual=()=>{App.visual=App.visual||"auto",App.background_canvas=App.get_bg_canvas(),App.background_canvas_ctx=App.get_bg_context(),App.visual_animations=[App.anim_neon_waves],DOM.ev(window,"resize",()=>{App.background_canvas&&(App.background_canvas.width=window.innerWidth,App.background_canvas.height=window.innerHeight)}),App.resize_listener||(App.resize_listener=()=>{App.background_canvas&&(App.background_canvas.width=window.innerWidth,App.background_canvas.height=window.innerHeight)},DOM.ev(window,"resize",App.resize_listener)),App.background_canvas.width=window.innerWidth,App.background_canvas.height=window.innerHeight,App.apply_visual(App.visual)},App.create_visual_modal=()=>{let e=App.create_list_modal("visual"),r=DOM.el(".modal-title",e);r.textContent="Select Visual"},App.open_visual_modal=async()=>{let e=App.visual_items;App.show_items_modal("visual",{items:e,action:r=>{let o=r.text.toLowerCase();App.apply_visual(o),App.close_modal("visual")},active:App.get_active_visual_index()})},App.apply_visual=e=>{App.animation_id&&(cancelAnimationFrame(App.animation_id),App.animation_id=null),App.flow_particles=null,App.bg_orbs=null,App.visual=e,App.stor_save_visual(),["auto"].includes(e)?(App.clear_visual(),App.background_canvas.classList.add("under")):["none"].includes(e)?(App.clear_visual(),App.background_canvas.classList.remove("under")):(App.background_canvas.classList.remove("under"),App.render_animation())},App.anim_bio_tunnel=(e,r,o,qe)=>{let bt=r/2,Nt=o/2,Na=qe*.02;for(let ld=0;ld<40;ld++){let fd=(ld*20+qe*5)%1e3,hd=1e3/(fd+10);if(hd>20)continue;e.beginPath(),e.lineWidth=2*hd;let dd=(Na*50+fd*.5)%360;e.strokeStyle=`hsla(${dd}, 80%, 60%, ${fd/1e3})`;for(let gd=0;gd<=6;gd++){let yd=gd/6*Math.PI*2,Ad=(200+Math.sin(Na*3+yd*4)*50)*hd,xd=Na*.5,Cd=bt+Math.cos(yd+xd)*Ad,Dd=Nt+Math.sin(yd+xd)*Ad;gd===0?e.moveTo(Cd,Dd):e.lineTo(Cd,Dd)}e.closePath(),e.stroke()}},App.anim_flux_surface=(e,r,o,qe)=>{let bt=30,Nt=40,Na=qe*.03,ld=Na*2,fd=65;e.lineWidth=2;let hd=[];for(let dd=0;dd<=r;dd+=Nt)hd.push(Math.sin(dd*.005+Na)*50);for(let dd=-fd;dd<o+fd;dd+=bt){let gd=dd*.01,yd=(dd*.2+qe*.5)%360;e.strokeStyle=`hsla(${yd}, 60%, 60%, 0.8)`,e.beginPath();let _d=0;for(let Ad=0;Ad<=r;Ad+=Nt){let xd=hd[_d],Cd=Math.sin(Ad*.02-ld+gd)*15;e.lineTo(Ad,dd+xd+Cd),_d++}e.stroke()}},App.anim_hyper_rose=(e,r,o,qe)=>{let bt=r/2,Nt=o/2,Na=Math.max(r,o)*.8,ld=qe*.002,fd=Math.PI*2,hd=.01;e.lineWidth=2,e.lineJoin="round",e.globalCompositeOperation="lighter";for(let dd=0;dd<8;dd++){let gd=dd/8,yd=Na*(1-gd),_d=(qe*.2+dd*15)%360;e.strokeStyle=`hsla(${_d}, 80%, 50%, 0.6)`,e.beginPath();for(let Ad=0;Ad<fd;Ad+=hd){let xd=Math.sin(Ad*7+ld*5)*Math.cos(Ad*3-ld),Cd=yd*(.5+.5*xd),Dd=Ad+ld*(dd+1),Td=bt+Math.cos(Dd)*Cd,Bd=Nt+Math.sin(Dd)*Cd;e.lineTo(Td,Bd)}e.closePath(),e.stroke()}e.globalCompositeOperation="source-over"},App.anim_liquid_aether=(e,r,o,qe)=>{let bt=80,Nt=.6,Na=4;(!App.flow_particles||App.flow_particles.length!==bt)&&(App.flow_particles=Array(bt).fill().map(()=>{let hd=Math.random()*100;return{x:Math.random()*r,y:Math.random()*o,speed:Nt,life:hd,max_life:hd,angle_offset:Math.random()*Math.PI*2,size:Math.random()*4+2}})),(!App.bg_orbs||App.bg_orbs.length!==Na)&&(App.bg_orbs=Array(Na).fill().map((hd,dd)=>({x:Math.random()*r,y:Math.random()*o,vx:(Math.random()-.5)*1,vy:(Math.random()-.5)*1,radius:Math.random()*500+400,hue:dd*50}))),e.globalCompositeOperation="source-over",e.fillStyle="rgba(15, 10, 30, 0.1)",e.fillRect(0,0,r,o);let ld=qe*.002;e.globalCompositeOperation="lighter",App.bg_orbs.forEach(hd=>{hd.x+=hd.vx+Math.sin(ld)*1,hd.y+=hd.vy+Math.cos(ld)*1,hd.x<-hd.radius&&(hd.x=r+hd.radius),hd.x>r+hd.radius&&(hd.x=-hd.radius),hd.y<-hd.radius&&(hd.y=o+hd.radius),hd.y>o+hd.radius&&(hd.y=-hd.radius);let dd=e.createRadialGradient(hd.x,hd.y,0,hd.x,hd.y,hd.radius),gd=.4+Math.sin(ld*2+hd.hue)*.2;dd.addColorStop(0,`hsla(${hd.hue+qe*.1}, 80%, 60%, ${gd})`),dd.addColorStop(1,"rgba(0,0,0,0)"),e.fillStyle=dd,e.beginPath(),e.arc(hd.x,hd.y,hd.radius,0,Math.PI*2),e.fill()}),e.globalCompositeOperation="source-over";let fd=5e-4;App.flow_particles.forEach(hd=>{hd.life--,hd.life<=0&&(hd.x=Math.random()*r,hd.y=Math.random()*o,hd.life=100+Math.random()*100,hd.max_life=hd.life,hd.size=Math.random()*4+2),e.beginPath();let dd=(qe*.1+hd.x*.02+hd.y*.02)%360,gd=(hd.max_life-hd.life)/50,yd=hd.life/50,_d=Math.min(gd,yd,.8);_d=Math.max(0,_d),e.fillStyle=`hsla(${dd}, 90%, 80%, ${_d})`,e.arc(hd.x,hd.y,hd.size,0,Math.PI*2),e.fill();let Ad=Math.cos(hd.x*fd+ld)+Math.sin(hd.y*fd+ld)+hd.angle_offset;hd.x+=Math.cos(Ad)*hd.speed,hd.y+=Math.sin(Ad)*hd.speed,hd.x<-10&&(hd.x=r+10),hd.x>r+10&&(hd.x=-10),hd.y<-10&&(hd.y=o+10),hd.y>o+10&&(hd.y=-10)})},App.anim_orb_balloons=(e,r,o,qe)=>{let bt=8;(!App.bg_orbs||App.bg_orbs.length!==bt)&&(App.bg_orbs=Array(bt).fill().map((Na,ld)=>({x:Math.random()*r,y:Math.random()*o,vx:(Math.random()-.5)*3,vy:(Math.random()-.5)*3,base_radius:Math.random()*150+100,hue:Math.random()*360,phase:Math.random()*Math.PI*2}))),e.globalCompositeOperation="source-over",e.fillStyle="rgba(15, 5, 25, 0.2)",e.fillRect(0,0,r,o);let Nt=qe*.01;e.globalCompositeOperation="lighter",App.bg_orbs.forEach(Na=>{Na.x+=Na.vx,Na.y+=Na.vy,Na.x<-Na.base_radius&&(Na.vx*=-1),Na.x>r+Na.base_radius&&(Na.vx*=-1),Na.y<-Na.base_radius&&(Na.vy*=-1),Na.y>o+Na.base_radius&&(Na.vy*=-1);let ld=Na.base_radius+Math.sin(Nt+Na.phase)*50,fd=e.createRadialGradient(Na.x,Na.y,0,Na.x,Na.y,ld),hd=(Na.hue+qe*.5)%360;fd.addColorStop(0,`hsla(${hd}, 80%, 60%, 0.6)`),fd.addColorStop(1,`hsla(${hd}, 80%, 40%, 0)`),e.fillStyle=fd,e.beginPath(),e.arc(Na.x,Na.y,ld,0,Math.PI*2),e.fill()}),e.globalCompositeOperation="source-over"},App.anim_aurora_borealis=(e,r,o,qe)=>{let bt=qe*.02;e.lineWidth=2,e.globalCompositeOperation="lighter";for(let Nt=0;Nt<5;Nt++){e.beginPath();let Na=o*.8,ld=(qe*.5+Nt*50)%360;e.fillStyle=`hsla(${ld}, 60%, 50%, 0.3)`,e.moveTo(0,o);for(let fd=0;fd<=r;fd+=20){let hd=Math.sin(fd*.002+bt+Nt)*100+Math.sin(fd*.01-bt*2)*50;e.lineTo(fd,Na+hd-Nt*100)}e.lineTo(r,o),e.closePath(),e.fill()}e.globalCompositeOperation="source-over"},App.render_animation=()=>{if(["auto","none"].includes(App.visual))return;let e=window.innerWidth,r=window.innerHeight,o="rgba(0, 0, 0, 0.12)";App.background_canvas_ctx.fillStyle=o,App.background_canvas_ctx.fillRect(0,0,e,r),App.visual==="bio tunnel"?App.anim_bio_tunnel(App.background_canvas_ctx,e,r,App.animation_frames):App.visual==="flux surface"?App.anim_flux_surface(App.background_canvas_ctx,e,r,App.animation_frames):App.visual==="hyper rose"?App.anim_hyper_rose(App.background_canvas_ctx,e,r,App.animation_frames):App.visual==="liquid aether"?App.anim_liquid_aether(App.background_canvas_ctx,e,r,App.animation_frames):App.visual==="aurora borealis"?App.anim_aurora_borealis(App.background_canvas_ctx,e,r,App.animation_frames):App.visual==="orb balloons"&&App.anim_orb_balloons(App.background_canvas_ctx,e,r,App.animation_frames),App.animation_frames++,App.animation_id=requestAnimationFrame(App.render_animation)},App.clear_visual=()=>{let e=window.innerWidth,r=window.innerHeight;App.background_canvas_ctx.clearRect(0,0,e,r)},App.get_active_visual_index=()=>App.visual_items.map(e=>e.text).indexOf(App.visual),App.next_visual=()=>{let e=App.get_active_visual_index();e+=1,e>=App.visual_items.length&&(e=0),e<=1&&(e=2);let r=App.visual_items[e];App.apply_visual(r.text)},App.canvas_effect_1=()=>{let o="brightness(200%) contrast(200%)",qe=App.get_bg_canvas();qe.style.filter=o,App.start_canvas_effect_timeout()},App.start_canvas_effect_timeout=()=>{App.canvas_effect_timeout=setTimeout(()=>{App.clear_canvas_effects()},App.canvas_effect_time)},App.clear_canvas_effects=()=>{let e=App.get_bg_canvas();e.style.filter=""},App.volume=100,App.volume_step=1,App.setup_volume=()=>{App.update_volume(App.volume)},App.get_volume_slider=()=>DOM.el("#volume-slider"),App.get_volume_value=()=>DOM.el("#volume-value"),App.read_volume_value=e=>{if(!e)return App.volume;let r=e.valueAsNumber;if(Number.isFinite(r))return r;let o=parseInt(e.value,10);return Number.isFinite(o)?o:App.volume},App.refresh_volume_ui=()=>{let e=App.get_volume_slider(),r=App.get_volume_value();e&&(e.value=`${App.volume}`),r&&(r.innerText=`${App.volume}%`)},App.apply_volume=()=>{if(App.audio_started)try{let e=App.volume/100;App.set_gain(e)}catch(e){console.error("Failed to apply volume",e)}},App.update_volume=e=>{let r=Number(e);Number.isFinite(r)||(r=App.volume),r=Math.min(100,Math.max(0,r)),App.volume!==r&&(App.volume=r,App.refresh_volume_ui(),App.stor_save_volume(),App.apply_volume())},App.init_volume_controls=()=>{let e=App.get_volume_slider(),r=DOM.el("#volume-control"),o=DOM.el("#volume-decrement"),qe=DOM.el("#volume-increment");if(!e)return;App.refresh_volume_ui(),App.stor_save_volume(),DOM.ev(e,"input",Nt=>{App.update_volume(App.read_volume_value(Nt.target))});let bt=Nt=>{App.update_volume(App.volume+Nt*App.volume_step)};App.make_control_button(o,()=>{bt(-1)}),App.make_control_button(qe,()=>{bt(1)}),App.setup_slider(r,()=>{App.update_volume(50)},()=>{App.update_volume(App.read_volume_value(e))})}})();
